{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablebgcolor="#f1f1ed" tablewidth="35%" tablestyle="margin:0pt 0pt 1em 1em;float:right;font-size:0.9em; "style="padding:0.5em;">
|}

== Rationale ==

There are a number of <nowiki>[[DownloadService-SpecialUsesCases|special use cases]]</nowiki> that use the <nowiki>[[DownloadService| ubuntu download service]]</nowiki> whose requirements are different to those of the normal confined applications. The metadata dictionary allows these  <nowiki>[[DownloadService-SpecialUsesCases|special use cases]]</nowiki> to provide information to perform certain actions.

== Post download execution ==

* '''Use case:''' click-scope
* '''Metadata key:''' post-download-command

The click scope requires from the download manager executes a command line for each download performed. The command executed by the download manager can be passed via the '''post-download-command''' metadata key. If the command is correctly executed the <nowiki>[[https://wiki.ubuntu.com/DownloadService/Download#Signals| finish]]</nowiki> signal is executed else the <nowiki>[[https://wiki.ubuntu.com/DownloadService/Download#Signals|error]]</nowiki> signal will be used. 

== Object path ==

* '''Use case:''' click-scope
* '''Metadata key:''' objectpath

Ir order to reduce the number of dbus calls that the click-scope has to performed it was agreed that if a download contains an uuid in the '''objectpath''' metadata key this uuid will be used. This allows the click-scope to be able to anticipate the object path to be used by such a download and increases its speed.

== Local file ==

* '''Use case:''' ubuntu-image-updates
* '''Metadata key:''' local-path

The ubuntu-image-updates can provide the local paths of a download either via the <nowiki>[[DownloadService-DownloadManager#Methods| createDownloadGroup]]</nowiki> method or using the '''local-path''' key in the metadata. When that data is provided the download manager will download each download to the designated path else it will generate a secure path as the one used in AppArmor confined applications.

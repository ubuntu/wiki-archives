{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Goal: improve the user-experience for network roaming
Requires: NetworkManager 0.7

This document reviews applications supposed to honor network manager online/offline state and state changes.

=== GNOME ===

Identified bugs summary:
* firefox-3.0 <nowiki>[[https://bugs.launchpad.net/bugs/323109|323109]]</nowiki>
* empathy <nowiki>[[https://bugs.launchpad.net/bugs/261541|Bug 261541 - does not always reconnect]]</nowiki>
* liferea <nowiki>[[https://bugs.launchpad.net/bugs/321473|321473]]</nowiki>
* ekiga <nowiki>[[https://bugs.launchpad.net/bugs/321509 | 321509]]</nowiki>
* update-manager <nowiki>[[https://bugs.launchpad.net/bugs/323108|LP 323108]]</nowiki>
* gnome-applets <nowiki>[[https://bugs.launchpad.net/bugs/323113|323113]]</nowiki>
* gvfs <nowiki>[[http://bugzilla.gnome.org/show_bug.cgi?id=563793 |GNOME bug #563793]]</nowiki>
* network-manager - infrastructure <nowiki>[[https://bugs.launchpad.net/bugs/323115|323115]]</nowiki>

==== Firefox ====
* web pages: show offline page when NetworkManager signals offline; and get webpage from internet when NetworkManager identifies the system as being online
** Test: disable networking (right click on networkmanager applet) and check that loading a url displays the offline page or a cached page without waiting for a timeout
* downloads 1: firefox should resume connections previously halted due to a disconnect
** test: start a long running download; disconnect (right click on applet); check that download is paused; reconnect (right click on applet); check that download is auto resumed.
* downloads 2: firefox should auto halt and resume if network-manager changes primary route.
** Test: 1. unplug wire and ensure that you are connected to wireless; 2. start a long running download; 3. plug the wire and ensure that network-manager auto connected to that device; check that primary route is going over wired interface (check default route priority); 4. ensure that firefox is continuing the download

===== Status =====
* <nowiki>[[323109|https:--bugs.launchpad.net-bugs-323109]]</nowiki>
** Reconnect / General: general online/offline state is working as expected; still disabled by default in ffox 3.1 and afterwards.
** Reconnect / Resume Download: code exists that would allow auto resume on offline/online transition; however its not working: 
** Primary Route Change: Downloads properly need to be re-resumed; current behaviour doesn't recognize this: same bug.

==== Pidgin ====
* auto disconnect/connect when network is downed/upped
** Test: 1. connect to internet and ensure pidgin is connected; 2. disable networking and check that pidgin instantly disconnects (e.g. not through network timeout); 3. enable networking and check that pidgin instantly tries to connect
* seemless connection when primary route changes
** Test: 1. unplug wired; 2. connect to wifi; 3. ensure that pidgin is connected; 4. plug in wired cable; 5. ensure that NetworkManager upped the wired interface and default route is now going through it (check route priority/metric using the route command); 6. ensure that pidgin has properly reconnected and/or network service are still functional (e.g. try to chat with yourself)

Comments:
* Fixed in HEAD, will release as part of next release (probably 2.5.3, might be 2.6.0).
* Issues have been reported with NM 0.7 when one of multiple connections disconnects.

===== Status =====
* works as expected

==== Empathy ====
* Similar to pidgin/firefox: ensure it does the right thing for reconnect case as well as changed primary route case.

===== Status =====
* Reconnect: <nowiki>[[https://bugs.launchpad.net/bugs/261541|Bug 261541 - does not always reconnect]]</nowiki>
* Primary Route Changing: <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/empathy/+filebug|REPORT - does not reconnect when primary route changes]]</nowiki>

==== Evolution ====
* Similar to pidgin/firefox: ensure it does the right thing for reconnect case as well as changed primary route case.

===== Status =====
* works as expected
* Primary Route Change: not tested yet.

==== Liferea ====
* Similar to pidgin/firefox: ensure it does the right thing for reconnect case as well as changed primary route case.

===== Status =====
* liferea doesn't go offline when NM changes to a non-connected state: <nowiki>[[https://bugs.launchpad.net/bugs/321473|321473]]</nowiki>

==== Ekiga ====
* Similar to pidgin/firefox: ensure it does the right thing for reconnect case as well as changed primary route case.

===== Status =====
* doesn't react on NM state changes <nowiki>[[https://bugs.launchpad.net/bugs/321509 | 321509]]</nowiki>

==== update-manager ====
Jaunty:
* auto update only when connected. If update didn't happen for at least X (e.g. once a day, a week etc.); run an update as soon as network-manager signals a change to networking state and the new state is "online".
* update indexes only when connected. If update didnt happen for at least X (e.g. once a day, a week etc.); run an update as soon as network-manager signals a change to networking state and the new state is "online"
Future:
* need to consider the network connection in use, you don't want to update your packages list over an expensive 3g internet access for example
* perhaps not download the indexes if you are connected to 3g

===== Status =====
* <nowiki>[[https://bugs.launchpad.net/bugs/323108|LP 323108]]</nowiki>

==== gnome-panel ====
* (weather applet)
** already connected
* stock ticker
** seb to log bug upstream (LP: <nowiki>[[https://bugs.launchpad.net/bugs/323113|323113]]</nowiki>)
* Clock: 
* ntpdate
** Runs ntpdate-debian once on each interface up to update the clock.

==== GVFS ====
** automatically unmount network shares when network is lost
** mostly an upstream 
** Awalton to write patches and send them upstream (1-2 days)
** <nowiki>[[http://bugzilla.gnome.org/show_bug.cgi?id=563793 |GNOME bug #563793]]</nowiki>
** C. Kellner to review the patch

=== Open Questions ===
* what should happen when one of multiple connections go down?

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


== Introduction ==

Help on debugging removable device issues.

== Things to try first ==

Run fsck (dosfsck?) on the disk to make sure it does not have any configuration errors.  Sometimes a misconfigured drive will work fine in Windows but not in Linux.

In Hardy or later, remove the "usefree" option with gconf-editor (Applications --> System Tools --> Configuration Editor).  This can prevent drives from auto-mounting.<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/gnome-mount/+bug/151025]]</nowiki>  The "usefree" option should be removed from system --> storage --> default_options --> vfat --> mount_options

== How to report ==

When reporting a problem with removable devices, such as USB storage devices ("keys", hard drives, card readers, music players, digital cameras, etc.), please do the following steps:

# disconnect the device
# in a terminal, start "udevadm"  in monitor mode and capture output <<BR>> <pre>
sudo udevadm monitor -e | tee udev.log
</pre>
# connect the device
# open a second Terminal and capture lshal, dmesg and ls <<BR>> <pre>
lshal > lshal.txt
dmesg > dmesg.txt
ls -l /dev/sd* > devices.txt
</pre>
# press Control-C in the first terminal with the "udevadm".
# attach `lshal.txt`, `devices.txt`, `dmesg.txt` and `udev.log` to the bug report
# copy/paste into the report the output of <<BR>> <pre>
ck-list-sessions </pre>
0. copy/paste into the report the output of <<BR>> <pre>
id haldaemon </pre>
0. copy/paste into the report the output of <<BR>> <pre>
uname -a </pre>

In easy cases this is everything that is needed. However, you might be asked for a "hal debug output"; please do the following steps to get it:

# disconnect the device
# stop hald <<BR>> <pre>
sudo killall hald </pre>
0. start hald while capturing its output <<BR>> <pre>
sudo hald --daemon=no --verbose=yes 2>&1 | tee hal.log </pre>
# wait until the flood of messages settled
# connect the device
# wait again until no more messages appear
# press Control-C to stop the foreground hal
# restore the background hal <<BR>> <pre>
sudo /etc/init.d/hal restart </pre>
# attach `hal.log` to the bug report
# restart your desktop session

== Debugging procedure ==
TBD.

== Known bugs ==

Description of known issues, how to recognise them and stock responses/actions.

'''Open'''
{| class="wikitable"
|-
| <rowbgcolor="#eeeeee"> '''Bug#'''
| '''Description'''
| '''Action'''
|-
| TBD.
| TBD.
| TBD.
|}

'''Closed'''
{| class="wikitable"
|-
| <rowbgcolor="#eeeeee"> '''Bug#'''
| '''Description'''
| '''Action'''
|-
| TBD.
| TBD.
| TBD.
|}

== Non-bugs ==

TBD.

----
CategoryBugSquad CategoryDebugging

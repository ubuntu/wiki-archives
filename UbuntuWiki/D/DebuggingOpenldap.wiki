{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:30%; background:#F1F1ED; background-image: url('https://librarian.launchpad.net/1812570/bugsquad.png'); background-repeat: no-repeat; background-position:  98% 0.5ex; margin: 0 0 1em 1em; padding: 0.5em;">'''Contents'''<<BR>>
|}

== Introduction ==

Bugs relating to openldap typically fall into 1 category:
1. SSL connections not working (it is most probably a good idea to read the OpenLDAP FAQ about <nowiki>[[http://www.openldap.org/faq/data/cache/185.html|using TLS/SSL]]</nowiki>).

A good reference for common errors is <nowiki>[[http://www.openldap.org/faq/data/cache/53.html|here]]</nowiki>.
== How to file ==

==== SSL connections failure ====
If the system is unable to connect to an ldap server via an SSL connection:

Add the content of the following files (if they exists): 
<pre>
 /etc/ldap/ldap.conf
 ~/.ldaprc
 ~/ldaprc
</pre>

Add the content of <code>TLS_CACERT file</code> (set in one of the files above).

Install the following packages: ldap-utils and gnutls-bin.

* Attach the output of the following command line:
<pre>
$ ldapsearch -d 7 ...other options to connect to ldap-server-hostname...
</pre>

Example:
<pre>
$ ldapsearch -d 7 -b "dc=example,dc=com" -D "cn=admin,dc=example,dc=com" -x -w adminpassword -H ldaps://ldap.example.com/
</pre>

''''''Obfuscate all relevant information (such as password, dn)''''''

* output of the following command line:
<pre>
gnutls-cli --x509cafile TLS_CACERT -p 636 ldap-server-hostname
</pre>

Example:
<pre>
gnutls-cli --x509cafile /etc/ssl/certs/ca-certificates.crt -p 636 ldap.example.com
</pre>

Relevant package versions

Provide the output of the following command:

<pre>
$ dpkg-query -W -f='${Package} ${Version} ${Source} ${Status}\n' | egrep 'slapd|ldap|gnutls'
</pre>

== Debugging procedure ==

== How to Triage ==

=== Stock Reply ===

===== SSL connections failure =====

<pre>
Thank you for taking the time to report this bug and helping to make Ubuntu better. Unfortunately we can't fix it without more information. 

Please include the information requested at https://wiki.ubuntu.com/DebuggingOpenldap#ssl-client-failure.
</pre>

=== How to Forward ===

== Known bugs ==

== Non-bugs ==

----
CategoryBugSquad
CategoryDebugging

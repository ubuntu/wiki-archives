{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:30%; background:#F1F1ED; background-image: url('https://librarian.launchpad.net/1812570/bugsquad.png'); background-repeat: no-repeat; background-position:  98% 0.5ex; margin: 0 0 1em 1em; padding: 0.5em;">'''Contents'''<<BR>>
|}

== Introduction ==

The GNOME System Tools are a set of graphical tools that allow to change the system configuration regarding users and groups, time, network, network shares and background services. They are frontends communicating with privileged helper programs called the system-tools-backends, which perform the actual work.

== How to file ==

Bugs should be reported against the gnome-system-tools package (obviously), but they may often correspond to a problem in the system-tools-backends package, or in liboobs, which is a wrapper library used by the gnome-system-tools to communicate with the backends. In-depth debugging is required to determine which of this Trinity is the real culprit.

== Debugging procedure ==

Debugging the GNOME System Tools requires getting log information from two sources:
* The console output of the tool itself, which often signals that invalid data was found by the GUI before committing that. This kind of error generally leads to an error dialog as well.
* The logs from the backends, which are required to debug any problem that did not lead to any error being reported via the above method. To do this, you need to start the matching backend from command line before reproducing the problem.

Below are detailed procedures that can be used to achieve that, depending on the tool in which the problem happens.

=== For Users [users-admin] ===
Open two consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m UsersConfig -v &> ~/stb-users.log
</pre>
and type in your password.

Then, without stopping the above command, run in the second console
<pre>
users-admin &> ~/users-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-users.log and users-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles and remove these files without risks.

=== For Groups [users-admin] ===
Open two consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m GroupsConfig -v &> ~/stb-groups.log
</pre>
and type in your password.

Then, without stopping the above command, run in the second console
<pre>
users-admin &> ~/users-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-groups.log and users-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles without risks.

=== For Time [time-admin] ===
Open 3 consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m TimeConfig -v &> ~/stb-time.log
</pre>
and type in your password. Then run in the second console
<pre>
sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m NTPConfig -v &> ~/stb-ntp.log
</pre>
typing your password as well.

Then, without stopping the above two commands, run in the third console
<pre>
time-admin &> ~/time-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-time.log, stb-ntp.log, time-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles without risks.

=== For Network Shares [shares-admin] ===
Open 3 consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m SMBConfig -v &> ~/stb-smb.log
</pre>
and type in your password. Then run in the second console
<pre>
sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m NFSConfig -v &> ~/stb-nfs.log
</pre>
typing your password as well.

Then, without stopping the above two commands, run in the third console
<pre>
shares-admin &> ~/shares-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-smb.log, stb-nfs.log, shares-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles and remove these files without risks.

=== For Network [network-admin] ===
Open 3 consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m IfacesConfig -v &> ~/stb-ifaces.log
</pre>
and type in your password. Then run in the second console
<pre>
sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m HostsConfig -v &> ~/stb-hosts.log
</pre>
typing your password as well.

Then, without stopping the above two commands, run in the third console
<pre>
network-admin &> ~/network-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-ifaces.log, stb-hosts.log, network-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles and remove these files without risks.

=== For Services [services-admin] ===
Open 2 consoles, for example using GNOME Terminal. Run in the first one
<pre>
sudo killall /usr/bin/perl; sudo /usr/share/system-tools-backends-2.0/scripts/SystemToolsBackends.pl -m ServicesConfig -v &> ~/stb-services.log
</pre>
and type in your password.

Then, without stopping the above two commands, run in the third console
<pre>
services-admin &> ~/services-admin.log
</pre>
and reproduce the bug you want to report.

Once this is done, please attach to the report the files stb-services.log, services-admin.log that you will find in your home folder. You can now stop the commands by closing the consoles and remove these files without risks.

== How to Triage ==

Bugs reporting a failure in the GUI with an error dialog being displayed should get the output of *-admin attached. This may be sufficient to understand the problem; else, full logs from the system-tools-backends may be needed (see above). If no error dialog was displayed, these logs are required anyway.

Please make sure that the bug title includes the name of the implied tool, if not add [*-admin] to the start.

=== Stock Reply ===

Thanks for your report. We need more information to understand how the bug you describe could happen. Please read the instructions at https://wiki.ubuntu.com/DebuggingGnomeSystemTools, and follow the procedure for the tool [tool name here].

=== How to Forward ===

See <nowiki>[[Bugs-Upstream-GNOME]]</nowiki>. Some bugs are handled directly in Launchpad by upstream, in this case an upstream task is opened without link to an upstream report.

----
CategoryBugSquad
CategoryDebugging

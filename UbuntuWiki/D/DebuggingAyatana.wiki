{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Available languages :<nowiki>[[https://wiki.ubuntu.com/DebuggingAyatana_it|Italiano]]</nowiki>,

-----
The <nowiki>[[Ayatana]]</nowiki> project concerns several sub-projects of a diverse nature. However, because it is developed within the same project by the same group of people within the same company and  because they share components it is possible to give some general advise on debugging for results of Ayatana.

== General Information ==
This section gives some general information on the different projects that make up <nowiki>[[Ayatana]]</nowiki>.

=== What is what ===
The umbrella project of <nowiki>[[Ayatana]]</nowiki> on Launchpad is ''<nowiki>[[https://launchpad.net/ayatana|ayatana]]</nowiki>'', but bugs shouldn't be reported against that. The first place to report bugs when using the packages from Ubuntu are the packages' source packages in Launchpad.

{| class="wikitable"
|-
| '''Own Launchpad project'''
| '''Ubuntu source package'''
| '''Description'''
|-
| <nowiki>[[https://launchpad.net/indicator-application|Application Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-application|indicator-application]]</nowiki>''
| The indicator that shows the Application Indicators, as well as the library for allowing applications to register their Application Indicators.
|-
| <nowiki>[[https://launchpad.net/indicator-appmenu|Application Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-appmenu|indicator-appmenu]]</nowiki>''
| The indicator that hosts the menus extracted from applications using ''appmenu-gtk'' and ''appmenu-qt''.
|-
| <nowiki>[[https://launchpad.net/appmenu-gtk|AppMenu GTK+]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/appmenu-gtk|appmenu-gtk]]</nowiki>''
| The GTK+ module that makes menus appear in the panel applet ''indicator-appmenu'', using <code>GtkMenuProxy</code>.
|-
| <nowiki>[[https://launchpad.net/bamf|BAMF]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/bamf|bamf]]</nowiki>''
| Provides a DBus daemon and a C library for matching application/window instances. Used by Unity to make sure every application appears only once in the launcher.
|-
| <nowiki>[[https://launchpad.net/clutk|Clutter Toolkit]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/clutk|clutk]]</nowiki>''
| A Clutter toolkit library used by the Unity launcher.
|-
| <nowiki>[[https://launchpad.net/indicator-datetime|Date and Time Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-datetime|indicator-datetime]]</nowiki>''
| The indicator that is a replacement for the clock applet, showing date and time, and a calendar.
|-
| <nowiki>[[https://launchpad.net/dbusmenu|DBus Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libdbusmenu|libdbusmenu]]</nowiki>''
| Library for passing <code>GtkMenus</code> over DBus. Used by virtually all Indicator projects.
|-
| <nowiki>[[https://launchpad.net/evolution-indicator|Evolution Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/evolution-indicator|evolution-indicator]]</nowiki>''
| Uses <code>libindicate</code> to display an entry for Evolution in the Messaging Menu.
|-
| <nowiki>[[https://launchpad.net/indicator-applet|Indicator Applet]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-applet|indicator-applet]]</nowiki>''
| The applet that contains the most important of the indicators.
|-
| <nowiki>[[https://launchpad.net/libdbusmenu-qt|libdbusmenu-qt]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libdbusmenu-qt|libdbusmenu-qt]]</nowiki>''
| Whereas the regular DBus Menu library is for passing on <code>GtkMenus</code> over DBus, this library is for passing Qt menus over DBus.
|-
| <nowiki>[[https://launchpad.net/libindicate|Libindicate]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicate|libindicate]]</nowiki>''
| The library used by applications to appear in the Messaging Menu, although theoretically it could be used for other purposes as well.
|-
| <nowiki>[[https://launchpad.net/libindicate-qt|libindicate-qt]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicate-qt|libindicate-qt]]</nowiki>''
| The Qt bindings for <code>libindicate</code>.
|-
| <nowiki>[[https://.launchpad.net/libindicator|libindicator|Libindicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicator|libindicator]]</nowiki>''
| The library for creating indicators, therefore used by all indicators. Also used by the Indicator Applet and the Session Menu to collect indicators they want to display, from a static list.
|-
| <nowiki>[[https://launchpad.net/indicator-me|Me Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-me|indicator-me]]</nowiki>''
| The indicator that shows your username and provides for integration with your chat accounts and has a field for updating your microblogging status.
|-
| <nowiki>[[https://launchpad.net/indicator-network|Network Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-network|indicator-network]]</nowiki>''
| The Connection Manager based network indicator, replacing nm-applet. For now only used in the Ubuntu Netbook Edition.
|-
| <nowiki>[[https://launchpad.net/notify-osd|Notify OSD]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/notify-osd|notify-osd]]</nowiki>''
| The Notification Daemon from the <nowiki>[[Ayatana]]</nowiki> project.
|-
| <nowiki>[[https://launchpad.net/plasma-widget-menubar|Plasma Menu Bar]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/plasma-widget-menubar|plasma-widget-menubar]]</nowiki>''
| The Plasma menu bar for showing the Application Menus, extracted from applications by either appmenu-gtk or appmenu-qt, before being exported over DBus.
|-
| <nowiki>[[https://launchpad.net/indicator-sound|Sound Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-sound|indicator-sound]]</nowiki>''
| The indicator for changing your volume and controlling your music player.
|-
| <nowiki>[[https://launchpad.net/unity|Unity]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/unity|unity]]</nowiki>''
| The Ubuntu Netbook Edition's interface, providing a launcher, a top panel and a search interface. It doesn't use the Indicator Applet, but instead implements its own indicator displayer. Uses <code>libbamf</code> and <code>libclutk</code>.
|}

==== A note on the Indicator Applet ====
The Indicator Applet is the applet that shows all indicators on the panel. This is not limited to the Messaging Menu. It has several indicators is shows, like the Application Indicators (which is one), the Messaging Menu and the Sound Menu. The applet ''indicator-applet'' includes just those three, the Session Indicator and the Me Menu are shown by a separate applet: ''indicator-session''. There is one applet that shows all: ''indicator-applet-complete'' includes the indicators from ''indicator-applet'' and ''indicator-session''.

Please keep in mind that bugs should be reported against their indicator first, and only against the Indicator Applet when you're absolutely sure the problem lies there.

=== Where to look for information ===
User session logging is done in <code>$XDG_CACHE_HOME</code>, by default in <code>$HOME/.cache</code> or <code>~/.cache</code>.

There are several files of interest in that directory, related to the <nowiki>[[Ayatana]]</nowiki> project:
* indicator-applet.log
* indicator-applet-appmenu.log
* indicator-applet-complete.log
* indicator-applet-session.log
* notify-osd.log
 
The directory <code>$XDG_CACHE_HOME/indicators/</code> contains the cached links to desktop files that were registered at the Message Indicator and the Sound Menu, respectively in <code>$XDG_CACHE_HOME/indicators/messages/seen-db.keyfile</code> and <code>$XDG_CACHE_HOME/indicators/sound/familiar-players-db.keyfile</code>.

The cache of Application Indicators, however, is located in the <code>$XDG_CONFIG_HOME/indicators/application/lru-file.json</code> file.

=== Watching DBus ===
The <nowiki>[[Ayatana]]</nowiki> projects make heavy use from DBus to communicate. Sometimes it is good to look at the DBus communications to learn more about what exactly is going on.

Most Ayatana projects communication over the DBus Session-bus. To watch a live stream of the DBus communications use command :
<pre>
dbus-monitor --session
</pre> 

Using the above command your console will be swamped by DBus communication from other applications, which can happen quite fast.To prevent this you can specify what information you want. 

To only watch DBus communication sent from the <code>org.ayatana.indicator.application.service</code> DBus interface ,which is all communication between the Application-Indicators registry and the actual Application-Indicators indicator, use command :
<pre>
dbus-monitor "interface='org.ayatana.indicator.application.service'" --session
</pre>

If you want to watch the communication between the application and the Application Indicators registry use command :
<pre>
dbus-monitor "interface='org.kde.StatusNotifierItem'" --session
</pre>

----
CategoryAyatana CategoryBugSquad CategoryDebugging

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

'''DHCP''' to protokół pozwalający urządzeniom pracującym w sieci LAN na pobieranie ich konfiguracji IP (adresu, maski podsieci, adresu rozgłoszeniowego itp.) z serwera.

'''1)''' Instalujemy odpowiednie pakiety
<pre>
sudo apt-get install dhcp
</pre>

'''2)''' Modyfikujemy plik '''/etc/default/dhcp''' Musimy ustawic na jakich interfejsach chcemy wlaczyc '''DHCP'''. W moim przypadku jest to eth1.
<pre>
sudo vim /etc/default/dhcp
</pre>
poprawiamy odpowiednia linijke
<pre>
INTERFACES="eth1"
</pre>
a nastepnie zapisujemy plik.

'''3)''' Nastepnie modyfikujemy plik ktory najbardziej nas interesuje a mianowicie '''/etc/dhcpd.conf'''
<pre>
sudo vim /etc/dhcpd.conf
</pre>
a nastepnie konfigurujemy. Podaje przykladowa konfiguracje
<pre>
subnet 192.168.1.0 netmask 255.255.255.0 {

        option routers 192.168.1.1;             # domyślna bramka sieci:
        option subnet-mask 255.255.255.0;       # maska sieci
        option domain-name "moja_domena.pl";    # nazwa domeny (FQDN)
        option domain-name-servers      194.204.159.1;  # ustawiamy server DNS (kolejne podajemy po przecinku):
        option ntp-servers              192.168.1.1;    #Adres serwera NPT (serwer czasu)
        option netbios-name-servers     192.168.1.1;    #Adres serwera WINS
        range 192.168.1.2 192.168.1.40;         # Zakres adresów jakie mogą przyjmować komputery
        default-lease-time 21600;               # domyślny czas dzierżawy (w sekundach)
        max-lease-time 86400;                   # maksymalny czas dzierżawy (w sekundach)

}

host alfa {
        hardware ethernet 00:00:00:00:00:00;    # MAC adres
        fixed-address 192.168.1.200;            # adres ip dla tego hosta
}

</pre>

'''4)''' Aby serwer mógł się załadować do pamięci wymaga pliku '''/etc/dhcpd.leases''', w którym będzie przechowywał bazę dzierżaw adresów IP. Musimy więc taki plik stworzyć. 
<pre>
sudo touch /etc/dhcpd.leases
</pre>

'''5)''' Po zapisaniu konfiguracji, zostaje nam tylko uruchomienie '''DHCP'''
<pre>
sudo /etc/init.d/dhcp start
</pre>

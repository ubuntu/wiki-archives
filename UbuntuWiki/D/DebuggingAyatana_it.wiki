{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Il progetto <nowiki>[[https://wiki.ubuntu.com/Ayatana|Ayatana]]</nowiki> consiste in molti sottoprogetti di diversa natura. Tuttavia, poiché è sviluppato all'interno del progetto stesso da parte dello stesso gruppo di persone all'interno della medesima società e siccome condividono componenti è possibile dare alcuni consigli generali sul debugging di Ayatana.

== informazioni generali ==
Questa sezione fornisce informazioni generiche sui vari progetti che costituiscono <nowiki>[[https://wiki.ubuntu.com/Ayatana|Ayatana]]</nowiki>.

=== Cosa è ? ===
Il progetto contenitore di Ayatana in Launchpad è ''<nowiki>[[https://launchpad.net/ayatana|ayatana]]</nowiki>'' ed in virtù di ciò non si potranno aprire segnalazioni contro tutto il progetto, bensì, quando si utilizzano i pacchetti di Ubuntu, occorrerà fare riferimento ai pacchetti sorgente dei pacchetti in Launchpad.

{| class="wikitable"
|-
| '''Proprio progetto Launchpad'''
| '''Pacchetto sorgente Ubuntu'''
| '''Descrizione'''
|-
| <nowiki>[[https://launchpad.net/indicator-application|Application Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-application|indicator-application]]</nowiki>''
| L'indicatore che mostra gli indicatori delle applicazioni, così come la libreria che consente alle applicazioni di registrare i loro indicatori delle applicazioni.
|-
| <nowiki>[[https://launchpad.net/indicator-appmenu|Application Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-appmenu|indicator-appmenu]]</nowiki>''
| l'indicatore che ospita i menu estratti dalle applicazioni che usano ''appmenu-gtk'' e ''appmenu-qt''.
|-
| <nowiki>[[https://launchpad.net/appmenu-gtk|AppMenu GTK+]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/appmenu-gtk|appmenu-gtk]]</nowiki>''
| Il modulo GTK+ che fa apparire i menu nel applicazione del pannello ''indicator-appmenu'', utilizzando <code>GtkMenuProxy</code>.
|-
| <nowiki>[[https://launchpad.net/bamf|BAMF]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/bamf|bamf]]</nowiki>''
| Fornisce un demone DBus ed una libreria C per le istanze di accoppiamento applicazione/finestra. Utilizzato da Unity per garantire che ogni applicazione appaia una sola volta nel lanciatore.
|-
| <nowiki>[[https://launchpad.net/clutk|Clutter Toolkit]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/clutk|clutk]]</nowiki>''
| Una libreria toolkit Clutter utilizzata dal lanciatore in Unity.
|-
| <nowiki>[[https://launchpad.net/indicator-datetime|Date and Time Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-datetime|indicator-datetime]]</nowiki>''
| L'indicatore che ha sostituito l'applicazione orologio e che mostra data, ora ed un calendario.
|-
| <nowiki>[[https://launchpad.net/dbusmenu|DBus Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libdbusmenu|libdbusmenu]]</nowiki>''
| Libreria per passare i <code>GtkMenus</code> su DBus. Utilizzata da quasi tutti i progetti indicatore.
|-
| <nowiki>[[https://launchpad.net/evolution-indicator|Evolution Indicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/evolution-indicator|evolution-indicator]]</nowiki>''
| Utilizza <code>libindicate</code> per visualizzare una voce per Evolution nel menu messaggi.
|-
| <nowiki>[[https://launchpad.net/indicator-applet|Indicator Applet]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-applet|indicator-applet]]</nowiki>''
| L'applicazione che contiene i più importanti indicatori.
|-
| <nowiki>[[https://launchpad.net/libdbusmenu-qt|libdbusmenu-qt]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libdbusmenu-qt|libdbusmenu-qt]]</nowiki>''
| Mentre la normale libreria DBus Menu è per il passaggio di <code>GtkMenus</code> su DBus, questa libreria è utilizzata per passare i menu QT su DBus.
|-
| <nowiki>[[https://launchpad.net/libindicate|Libindicate]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicate|libindicate]]</nowiki>''
| La libreria utilizzata dalle applicazioni per apparire nel menu messaggiThe library used by applications to appear in the Messaging Menu, anche se teoricamente può essere utilizzata anche per altri scopi.
|-
| <nowiki>[[https://launchpad.net/libindicate-qt|libindicate-qt]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicate-qt|libindicate-qt]]</nowiki>''
| I bindings QT per <code>libindicate</code>.
|-
| <nowiki>[[https://.launchpad.net/libindicator|libindicator|Libindicator]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/libindicator|libindicator]]</nowiki>''
| La libreria per la creazione di indicatori, pertanto usata da tutti gli indicatori.The library for creating indicators, therefore used by all indicators. utilizzata anche da Indicator Applet e Session Menu per raggruppare gli indicatori che che si vogliono visualizzare partendo da una lista statica.
|-
| <nowiki>[[https://launchpad.net/indicator-me|Me Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-me|indicator-me]]</nowiki>''
| L'indicatore che mostra il nome utente e provvede all'integrazione degli account chat ed ha voci per l'aggiornamento dello status microblogging.
|-
| <nowiki>[[https://launchpad.net/indicator-network|Network Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-network|indicator-network]]</nowiki>''
| Il gestore connessioni basato sull'indicatore network, ha sostituito nm-applet. Per ora utilizzato solo in Ubuntu Netbook Edition.
|-
| <nowiki>[[https://launchpad.net/notify-osd|Notify OSD]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/notify-osd|notify-osd]]</nowiki>''
| Il demone delle notifiche dal progetto Ayatana
|-
| <nowiki>[[https://launchpad.net/plasma-widget-menubar|Plasma Menu Bar]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/plasma-widget-menubar|plasma-widget-menubar]]</nowiki>''
| La barra menu plasma che mostra i menu applicazione, estratta sia da applicazioni appmenu-gtk o appmenu-qt, prima che siano esportate su DBus.
|-
| <nowiki>[[https://launchpad.net/indicator-sound|Sound Menu]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/indicator-sound|indicator-sound]]</nowiki>''
| L'indicatore per variare il volume o controllare il player musicale.
|-
| <nowiki>[[https://launchpad.net/unity|Unity]]</nowiki>
| ''<nowiki>[[https://launchpad.net/ubuntu/+source/unity|unity]]</nowiki>''
| L'interfaccia Ubuntu Netbook Edition che fornisce un lanciatore, un pannello superiore ud una interfaccia di ricerca. Non usa l'Indicator Applet, implementando un proprio visualizzatore. Utilizza <code>libbamf</code> e <code>libclutk</code>.
|}

==== Una nota su Indicator Applet ====
Indicator Applet è l'applicazione che visualizza tutti gli indicatori nel pannello. Non è limitato solo al menu messaggi ma si estende aanche agli indicatori applicazione e il menu audio. L'applicazione ''indicator-applet'' include solo questi tre, Session Indicator e Me Menu sono mostrati come un applicazione separata: ''indicator-session''. L'applicazione che li comprende tutti è: ''indicator-applet-complete'', che include sia ''indicator-applet'' che ''indicator-session''.

Ricordare che un bug deve essere segnalato innanzitutto contro il proprio indicatore, mentre contro Indicator Applet solamente quando si è assolutamente sicuri che il problema risiede li.

=== Dove cercare informazioni ===
L'autenticazione della sessione utente avviene in <code>$XDG_CACHE_HOME</code>, predefinitivamente in <code>$HOME/.cache</code> o <code>~/.cache</code>.

In questa directory vi sono molti file interessanti, relativi al progetto <nowiki>[[https://wiki.ubuntu.com/Ayatana|Ayatana]]</nowiki>:
* indicator-applet.log
* indicator-applet-appmenu.log
* indicator-applet-complete.log
* indicator-applet-session.log
* notify-osd.log
 
Nella directory <code>$XDG_CACHE_HOME/indicators/</code> sono depositati i collegamenti ai file desktop registrati da Message Indicator e Sound Menu, rispettivamente in <code>$XDG_CACHE_HOME/indicators/messages/seen-db.keyfile</code> e <code>$XDG_CACHE_HOME/indicators/sound/familiar-players-db.keyfile</code>.

Mentre per Application Indicators, sono situati in <code>$XDG_CONFIG_HOME/indicators/application/lru-file.json</code>.

=== Osservando DBus ===
Il progetto Ayatana fa un uso intensivo di DBus per comunicare. È quindi consigliabile controllare le comunicazioni di DBus per analizzare meglio cosa sta succedendo.

Per osservare in diretta le comunicazioni di DBus usare il comando:
<pre>
dbus-monitor --session
</pre> 

Con il succitato comando, si potranno osservare anche le comunicazioni di altre applicazioni che stanno usando DBus, per evitare ciò è necessario specificare quali informazioni si vogliono.

Per visualizzare solamente le comunicazioni su DBus derivanti da <code>org.ayatana.indicator.application.service</code> DBus interface ,che praticamente sono tutte comunicazioni fra il registro di Application-Indicators e l'attuale indicatore di Application-Indicators, usare il comando: 
<pre>
dbus-monitor "interface='org.ayatana.indicator.application.service'" --session
</pre>

Se invece si vuole visualizzare la comunicazione fra l'applicazione ed il registro Application Indicators usare il comando:
<pre>
dbus-monitor "interface='org.kde.StatusNotifierItem'" --session
</pre>
----

<nowiki>[[https://wiki.ubuntu.com/DebuggingAyatana|Documento originale]]</nowiki>
CategoryBugSquad CategoryAyatana CategoryDebugging

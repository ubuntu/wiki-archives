{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Status ==

* Created: by JohanKiviniemi, MarioDanic
* Priority: LowPriority
* Maintainers: JohanKiviniemi, MarioDanic
* Contributors: AdamConrad, LukaRenko
* Interested:
* Status: Accepted into Main, DapperGoal
* Branch:
* Malone Bug:
* Packages:
* Depends:
* UduSessions:
* Current needs: As much testers as possible

== Dapper Network Manager ==

NetworkManager aims for network connectivity which "Just Works". The computer should use the wired network connection when its plugged in, but automatically switch to a wireless connection when the user unplugs it and walks away from the desk. Likewise, when the user plugs the computer back in, the computer should switch back to the wired connection. The user should, most times, not even notice that their connection has has been managed for them; they should simply see uninterrupted network connectivity.

NetworkManager has the chance" of being integrated into Dapper and will feature support for WPA and 802.1x as well. We will also provide l-r-m packages with updated wifi drivers.

There is GNOME network-manager-gnome (old nm-applet) and KDE (<nowiki>[[KNetworkmanager|knetworkmanager]]</nowiki>) front-end that runs in sys tray and provides control over NetworkManager.

More information about NetworkManager is available at the <nowiki>[[http://www.gnome.org/projects/NetworkManager/|gnome project page]]</nowiki>. You can also check the <nowiki>[[http://live.gnome.org/NetworkManagerHardware|list of supported hardware]]</nowiki>.

NetworkManager is '''beta''' software.

== Installation ==

'''NOTE: NetworkManager 0.6.1 has been included into official repositories - see <nowiki>[[https://lists.ubuntu.com/archives/dapper-changes/2006-March/008171.html|report]]</nowiki>.'''

Thanks to everybody involved. You will be able to remove our test repository from your list.

Note: If you are running Kubuntu/KDE, then you should be installing <nowiki>[[DapperKNetworkmanager|KNetworkManager]]</nowiki>.

The repository contains the following packages:
* network-manager, netwok-manager-gnome (by us)
* libnl, a dependency of n-m 0.6 (by TomParker)
* libnl-dev (patched by us and the <nowiki>[[DapperKNetworkmanager]]</nowiki> maintainers)
* wpasupplicant 0.4 with the required feature for n-m backported from 0.5 (by ReinhardTartler)
And also:
* knetworkmanager (by AnthonyMercatante, a patch from LukaRenko)
* linux-restricted-modules (patched so that madwifi users can use WPA networks with n-m)
   (built by AdamConrad)

== Notes ==

'''NOTE: if you are using NM from official Ubuntu repository, please report your bugs into <nowiki>[[https://launchpad.net/distros/ubuntu/+filebug|Malone]]</nowiki>. Official version of NM is also discussed in forums in <nowiki>[[http://www.ubuntuforums.org/showthread.php?p=856744|this thread]]</nowiki>.'''

NetworkManager doesn't manage interfaces with manual configuration defined in <code>/etc/network/interfaces</code>. To get n-m to manage all the interfaces properly, backup <code>/etc/network/interfaces</code> and remove all wired/wireless interfaces that you want to be managed by n-m (if you want to leave full control to NM just leave the lines concerning the <code>lo</code>  and maybe <code>ppp</code> and <code>tun</code> interfaces).
You can leave your wired/wireless interfaces only if they are set to <code>auto</code> and <code>dhcp</code> (and no other options!) - the only allowed config for NM is the following two lines (replace eth1 with your interface):
  {{{
  auto eth1
  iface eth1 inet dhcp
  }}}

WPA users: you need to set "ENABLED=0" in /etc/default/wpasupplicant and ensure than wpasupplicant is not running. NM will take care for controlling wpasupplicant.

Discussion about these packages is also going on in this <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=147249|forum thread]]</nowiki>. There is also older <nowiki>[[http://ubuntuforums.org/showthread.php?t=145230|thread]]</nowiki>.where you may find useful info.

If it does not work for you, you may get more info from messages reported by NM processes - see this <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=843493&postcount=31|forum post]]</nowiki> for instructions.

== Issues ==

Before reporting issue, please try to follow tips in this <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=156319|thread]]</nowiki> (thanks to NeoChaosX).

=== n-m & driver issues ===
* NM tries to connect WEP instead of WPA
*** removing key from keyring helps - see forum post <nowiki>[[http://ubuntuforums.org/showpost.php?p=838801&postcount=22|1]]</nowiki>, <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=843585&postcount=32|2]]</nowiki>, <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=844928&postcount=41|3]]</nowiki>, <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=846118&postcount=60|4]]</nowiki>, <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=847484&postcount=76|5]]</nowiki>
* madwifi driver does not support bacground scan, causing disconnects due to NM network scanning - see <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=841815&postcount=37|forum post]]</nowiki>
** can NM network scan be disabled/limited when connection is established (only done on disconnect or when user opens applet menu)?
** can bacground scan feature be backported from madwifi-ng driver back to Ubuntu madwifi - see <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=841872&postcount=38|forum post]]</nowiki>
* madwifi doesn't report status in percentages, but rather in <nowiki>[[WikiPedia:Rssi|RSSI]]</nowiki>
* orinoco with WEP regression from 0.5.1 - see <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=848321&postcount=78|post]]</nowiki>
*** logs: <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=848535&postcount=85|NM 0.5]]</nowiki> and <nowiki>[[http://www.ubuntuforums.org/showpost.php?p=848465&postcount=82|NM 0.6]]</nowiki> and <nowiki>[[http://mail.gnome.org/archives/networkmanager-list/2006-February/msg00061.html|NM mailing list]]</nowiki>
*** in some cases it is possible to use hostap drivers instead. to try that one has to create a blacklist file for the orinoco drivers: create /etc/modprobe.d/blacklist-orinoco with this content:
   {{{
blacklist    hermes
blacklist    orinoco
blacklist    orinoco_pci
blacklist    orinoco_cs
blacklist    orinoco_plx
   }}}

=== nm-applet issues ===
* you must enter your keyring password each time NM starts - see <nowiki>[[http://bugzilla.gnome.org/show_bug.cgi?id=331529|GNOME bug#331529]]</nowiki>
* nm-applet assertion on startup - see <nowiki>[[https://launchpad.net/bugs//35662|Malone #35662]]</nowiki>: ''FIXED'': this is a dupe of <nowiki>[[https://launchpad.net/bugs/6473|Malone #6473]]</nowiki>, do "sudo gtk-update-icon-cache -f /usr/share/icons/hicolor/" and it should be fixed.

=== Cosmectic issues ===
* The differents icons used in nm-applet don't have the same size. In some configuration, this can cause your whole gnome-panel icons moving forth and back when switching icon in NM. ( <nowiki>[[https://launchpad.net/distros/ubuntu/+source/network-manager/+bug/36009|LP#36009]]</nowiki>)
* With the new Dapper icons, the WEP icon looks like nothing. I guess it's the "lock" WEP icon but it doesn't mean anything. I think this icon must be set back as a lock or something similar. ( <nowiki>[[https://launchpad.net/distros/ubuntu/+bug/36017|LP#36017]]</nowiki>)
* If one of your card has a very long name (for example here : Realtek Semiconductor  Co., Ltd. RTL-8139/8139C/8139C+ ), the menu becomes really large and quite ugly. ( <nowiki>[[https://launchpad.net/distros/ubuntu/+source/network-manager/+bug/36011|LP#36011]]</nowiki>)

== Comments ==

Please do not edit this page directly, place your comments here. Thanks.

* Please consider this patch (http://mail.gnome.org/archives/networkmanager-list/2006-January/msg00141.html) to NM to get the best functionality from madwifi seeing as the madwifi project are hesitant to change anything. Robert Love is including it to Redhat/Fedora (I believe) and Dan refuses to commit it to upstream (fair enough).

* As far as I can tell madwifi does not work with the provided drivers. Please consider this HOWTO if you have issues <nowiki>[[NetworkManagerMadwifi]]</nowiki>

* The sources.list information is wrong, I get a 404.
** I do too, but this is because I have an amd64 and they don't have these packages yet.

* When NetworkManger runs I'm hit by this bug: <nowiki>[[https://launchpad.net/distros/debian/+source/iproute/+bug/16137|#16137]]</nowiki>. After killing the 'ip route' process NM works fine though. BTW, where should we report problems about these packages?
** you can always report problems to "mario dot danic at gmail dot com" regarding N-M
     and it's gnome applet. For KNetworkManager, please contact maintainers.

* It seems that the packagess were updated (names changed and all). Next time please try to also update the version number. Thanks.
** this is intentional - first version that will be included in Dapper should be ubuntu1

* Apparently NM conflicts with manual configuration of network interfaces, it resets changes in the networking configuration panel on Flight 5.
** known ... see notes.
*** yes, but it should not happen, it is a show stopper for first time users
***** we'll try to make it play more nicely with current interfaces, but complete compatibility is a no-no

* NM is trying to run /usr/sbin/wpa_supplicant (says in --no-daemon in console), which fails with ENOENT, should be /sbin/wpa_supplicant. Making symlink resolves this. Should be fixed. (wpasupplicant=0.4.8-0ubuntu1, network-manager=0.6.1-0ubuntu1).
** This breaks on my machine, where it tries to run /sbin/wpa_supplicant which is not there because it is in /usr/sbin/. Can there please be some consistency?
** You have wpasupplicant from test repo (which was in /usr/sbin), but you should get official version (wihich is /sbin). I suggest that you remove wpasupplicant and restart.
*** Thanks, it works now, the normal package update didn't catch that.

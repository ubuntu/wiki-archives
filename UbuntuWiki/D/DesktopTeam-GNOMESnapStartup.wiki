{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Profiling snap startup time

Used a simple <nowiki>[[http://paste.ubuntu.com/p/gz3XNZ2gfk/|script]]</nowiki> to kill it after the window is shown to get more accurate time.

For this test I repacked the chromium snap to use the content interface from gnome-3-28-1804.  Before each run we're deleting both ~/.config/chromium and ~/snap/chromium to ensure it starts fresh and doesn't attempt to import an existing profile which would taint the times.

==== REBOOT ====
<pre>
rm -rf ~/.config/chromium ~/snap/chromium/

~/bin/auto_close_win_id chromium-browser & /usr/bin/time chromium-browser 
[2538:2538:0619/130525.744699:ERROR:sandbox_linux.cc(368)] InitializeSandbox() called with multiple threads in process gpu-process.
[2538:2538:0619/130526.012596:ERROR:buffer_manager.cc(488)] [.DisplayCompositor]GL ERROR :GL_INVALID_OPERATION : glBufferData: <- error from previous GL command
0.41user 0.17system 0:00.93elapsed 64%CPU (0avgtext+0avgdata 138104maxresident)k
185400inputs+2272outputs (657major+23220minor)pagefaults 0swaps
</pre>

'''0.93s'''

==== REBOOT ====
<pre>
rm -rf ~/.config/chromium ~/snap/chromium/

~/bin/auto_close_win_id chromium & /usr/bin/time snap run chromium
[2817:2817:0619/130820.808034:ERROR:sandbox_linux.cc(368)] InitializeSandbox() called with multiple threads in process gpu-process.
[2817:2817:0619/130821.700523:ERROR:buffer_manager.cc(488)] [.DisplayCompositor]GL ERROR :GL_INVALID_OPERATION : glBufferData: <- error from previous GL command
0.56user 5.72system 0:07.06elapsed 89%CPU (0avgtext+0avgdata 127088maxresident)k
102388inputs+2464outputs (812major+49286minor)pagefaults 0swaps
</pre>

'''07.06s'''
==== REBOOT ====

Comparing with cold run of chromium after gnome-calculator has been run, which should be faster.
<pre>

rm -rf ~/snap/gnome-calculator

~/bin/auto_close_win_id gnome-calculator & /usr/bin/time snap run gnome-calculator
0.76user 2.74system 0:03.97elapsed 88%CPU (0avgtext+0avgdata 41304maxresident)k
52734inputs+192outputs (322major+37818minor)pagefaults 0swaps
</pre>

'''03.97s'''

<pre>
rm -rf ~/.config/chromium ~/snap/chromium/
~/bin/auto_close_win_id chromium & /usr/bin/time snap run chromium
[3501:3501:0619/131310.619093:ERROR:sandbox_linux.cc(368)] InitializeSandbox() called with multiple threads in process gpu-process.
[3501:3501:0619/131311.386797:ERROR:buffer_manager.cc(488)] [.DisplayCompositor]GL ERROR :GL_INVALID_OPERATION : glBufferData: <- error from previous GL command
0.54user 4.94system 0:06.10elapsed 89%CPU (0avgtext+0avgdata 126544maxresident)k
87890inputs+2464outputs (712major+49206minor)pagefaults 0swaps
</pre>

'''06.10s'''

<pre>
~/bin/auto_close_win_id chromium & /usr/bin/time snap run chromium
[3996:3996:0619/131408.310459:ERROR:sandbox_linux.cc(368)] InitializeSandbox() called with multiple threads in process gpu-process.
[3996:3996:0619/131408.585780:ERROR:buffer_manager.cc(488)] [.DisplayCompositor]GL ERROR :GL_INVALID_OPERATION : glBufferData: <- error from previous GL command
0.40user 0.27system 0:00.86elapsed 78%CPU (0avgtext+0avgdata 129440maxresident)k
142inputs+608outputs (2major+29930minor)pagefaults 0swaps
</pre>

'''0.86s'''

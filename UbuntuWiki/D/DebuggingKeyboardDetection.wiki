{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| '''This page is potentially out of date as of Intrepid due to input-hotplug'''.  Please remove this message if you update the page.
|}

== Introduction ==

Problems with keyboard detection typically fall into one of these categories:
# Your keyboard doesn't work at all. 
# Your USB keyboard stops working after a while.
# Some keys of your keyboard don't work (as expected).

== How to file a bug report ==

Keyboard related bugs should initially be filed against '''<nowiki>[[https://launchpad.net/ubuntu/+source/xorg|xorg]]</nowiki>''', as <nowiki>[[https://launchpad.net/~bugbot|bugbot]]</nowiki> will switch it to the correct package (ex. <nowiki>[[https://launchpad.net/ubuntu/+source/xserver-xorg-input-evdev|xserver-xorg-input-evdev]]</nowiki>). If the bug turns out to be a kernel bug or a bug in another package, bug triagers can assign the bug additionally to that package and mark the xserver-xorg-input-evdev task as invalid.

=== General information ===

For all bug categories the following general information should be provided:

# What brand and model is your keyboard.<<BR>>How is your keyboard connected to your PC: DIN, PS/2, USB, bluetooth, etc.
# For a USB keyboard, enter the following command in a terminal: <pre>
lsusb -v > ~/lsusb-v
</pre>
** Attach as separate attachment to your bug report ~/lsusb-v.

=== In case your keyboard doesn't work at all ===

# Provide the <nowiki>[[#generalinfo|general information]]</nowiki>.
# If you have a PS/2 keyboard make sure it was connected before booting Ubuntu. To complete the steps below you will need to connect a USB keyboard.
# If you have a USB keyboard, unplug and replug it to see if it starts working. If it doesn't, you should have connected a PS/2 keyboard before booting Ubuntu in addition to your USB keyboard to complete the steps below.
# Enter the following command in a terminal: {{{
dmesg > ~/dmesg }}}
 1. Attach as separate attachments to your bug report <code>~/dmesg</code> and your <code>/var/log/Xorg.0.log</code>.

=== In case your USB keyboard stops working after a while ===

For debugging this problem you either need a PS/2 keyboard or 2 computers in a network.<<BR>>If the second machine runs Windows you need to install putty.exe from http://www.chiark.greenend.org.uk/~sgtatham/putty/download.html.
# Provide the <nowiki>[[#generalinfo|general information]]</nowiki>.
# If you don't have a PS/2 keyboard install the openssh-server package on the machine with the keyboard problem. If you have a PS/2 keyboard connect it addition to your USB keyboard before booting Ubuntu.
# Direct after logging in to GNOME, KDE or Xfce open a terminal and enter the following commands: {{{
dmesg > ~/dmesg_boot
cp /var/log/Xorg.0.log ~/Xorg.0.log }}}
# Wait until your USB keyboard stops working. Try if switching to a Virtual Terminal still works by pressing Ctrl-Alt-F1, are you able to login and enter commands? Try to unplug your USB keyboard and replug it to see if it starts working again.
# If replugging or the Virtual Terminal works then goto step 6. If it doesn't work you should use either the PS/2 keyboard or the second machine in the LAN to login to your machine of which the keyboard stopped working. If your second machine is Linux use the command ssh user@host, if it is Windows use putty.
# Type the following commands in the terminal: {{{
LANG=C
dmesg > ~/dmesg
diff -ns ~/dmesg_boot ~/dmesg > ~/dmesg_diff
cp /var/log/Xorg.0.log ~/Xorg.0.log_tmp
diff -ns ~/Xorg.0.log ~/Xorg.0.log_tmp > ~/Xorg.0.log_diff }}}
 1. Attach as separate attachments to your bug report <code>~/dmesg_boot</code>, <code>~/dmesg_diff</code>, <code>~/Xorg.0.log</code> and <code>~/Xorg.0.log_diff</code>.

=== In case some keys of your keyboard don't work (as expected) ===

# Provide the <nowiki>[[#generalinfo|general information]]</nowiki>.
# Open a terminal/console and enter the following commands: {{{
xprop -root | grep XKB > ~/xkb
gconftool-2 -R /desktop/gnome/peripherals/keyboard/kbd > ~/gconf }}}
# Attach as separate attachments to your bug report <code>~/xkb</code> and <code>~/gconf</code>.
# Check the <nowiki>[[https://wiki.ubuntu.com/Hotkeys/Troubleshooting|hotkey]]</nowiki> debugging article for any more relevant information to provide.

----
CategoryBugSquad CategoryDebugging

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



Documentation which is written in Mallard and Docbook XML can be quite easily converted into other formats. This page deals with converting to HTML and PDF.

== Building HTML Documentation ==

# Set up a copy of the docteam bzr branch as described on <nowiki>[[DocumentationTeam-SystemDocumentation-Repository|Repository page]]</nowiki>. Choose the appropriate branch for the version of Ubuntu documentation you wish to build. If this is not the first time you have done a build with this branch you must do a <code> make clean </code> from within the ubuntu-help sub-directory first.
# Install at least the following packages: make gettext gnome-doc-utils docbook-xsl yelp-tools gnome-common yelp-xsl
# Type: <code> ./autogen.sh </code>
# If more than just english html is desired, then the other languages .page file need to be built first. Type: <pre>
cd ubuntu-help
make
cd .. }}}
 1. Now generate the HTML. Type: {{{
cd html
make }}}

This command will build HTML versions of all the documents available and place them in the html/build directory.

The command uses the various language .page files to create the html.

There are a number of other make targets which you can use to build specific or miscellaneous documents. Read through the Makefile to discover what these are.

You will see a lot of warnings like the following, which can be safely ignored:
 <code>No localization exists for "c" or "". Using default "en".</code>

Since Ubuntu 7.04, the Ubuntu system documentation has split into several categories, many of which link between them using an internal Gnome/KDE linking system. When the documents are converted into HTML, this results in a lot of links being broken. For this reason we use a script called <code>fix-urls.sh</code> to correct the broken internal links. This script is run automatically as part of the <code>make</code> command described above.

In case you are building kubuntu-docs on Ubuntu system, you will also need to install <nowiki>[[apt:khelpcenter4|khelpcenter4]]</nowiki> package at step 2 above (It would have already been installed on a Kubuntu system).

== Updating help.ubuntu.com ==

The static pages on <nowiki>[[https://help.ubuntu.com|help.ubuntu.com]]</nowiki> (as opposed to the <nowiki>[[https://help.ubuntu.com/community|community wiki]]</nowiki>) are kept updated by pushing the HTML documents built to a <nowiki>[[https://code.launchpad.net/~ubuntu-core-doc/help.ubuntu.com/help.ubuntu.com|specific bzr branch]]</nowiki> on Launchpad.

The contents of the help.ubuntu.com bzr branch are generally identical to the output of the <code>make</code> commands for all languages described in the previous section, subject to the following exceptions:
* The various languages are combined into one sub-directory, differentiated with the language code added to the end of the file name. The web server automatically delivers the correct language content based on the users language settings. To create the required structure, in html/ubuntu-docs, type (from the html sub-directory):
{{{
make install
</pre>
* A custom index.html page is used which is not part of the build process.
* A copy of the <nowiki>[[https://launchpad.net/ubuntu/+source/installation-guide|Ubuntu installation guide]]</nowiki> is added to the build process together with a custom index.html page. <nowiki>[[DocumentationTeam-SystemDocumentation-UbuntuInstallationGuide|The detailed procedure]]</nowiki>.
* The PDF version of the serverguide should be built separately. See below for instructions.
* The root index for the website should be manually updated to add or remove links to each release as they are added or removed from the site.

The help.ubuntu.com website is automatically pulled once per day from the bzr branch. If this doesn't work, please contact the Canonical Sysadmins after waiting a reasonable period (e.g. at least 24 hours).

'''Note:''' the HTML documentation on help.ubuntu.com should always reflect the documentation as it appears in the applicable version of Ubuntu. For Desktop help, changes to the help.ubuntu.com branch should not be made without the StableReleaseUpdates (SRU) procedure first being followed and an equivalent change being made to the mainline bzr branch for the package version of the project and for the Ubuntu version concerned. The Serverguide is not released as a package and therefore does not require SRU procedures.

== Building Translated HTML (for DocBook source code) ==

If building translated copies of the documentation, you will need to adjust the Makefile and substitute your language code for the <code>LN</code> variable defined near the top of the Makefile.

You may also wish to modify the header and footer details. These can be found in the <code>libs/ubuntu-banner.xsl</code> file.

== Building PDF ==

To build PDF, we currently use a tool called <nowiki>[[http://xmlgraphics.apache.org/fop/|Apache Fop]]</nowiki>.

Currently, the only document which we build a PDF version of is the Ubuntu Server Guide. To build a PDF version of the Server Guide, <nowiki>[[apt:fop|install the fop package]]</nowiki> and run the following command from an ubuntu-doc branch:
 <code>make serverguide-pdf</code>

If you are interested in building other documents, read the <code>serverguide-pdf</code> target in the Makefile for more information.

----
CategoryDocteam

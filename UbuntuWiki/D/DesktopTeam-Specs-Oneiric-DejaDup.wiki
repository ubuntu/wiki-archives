{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:desktop-o-deja-dup-default
* '''Created''': 2011-04-18
* '''Contributors''': LaunchpadHome:mterry
* '''Packages affected''': deja-dup

=== Summary ===

This specification discusses including <nowiki>[[https://launchpad.net/deja-dup|Déjà Dup]]</nowiki>, a backup tool for non-technical users, by default.

=== Rationale ===

Providing an easy-to-use backup solution that's suitable for non-expert users is important. Expert users should install and/or use a more sophisticated backup system. Part of the rationale is to tell the user exactly what he has to do, rather than leave it for him to think up a backup schema. 

=== Prior Art ===

==== Specs ====
* 6.06: <nowiki>[[DapperHomeUserBackup|First backup spec]]</nowiki>
** Includes some original design work for a new backup system
** Beginning of <nowiki>[[https://launchpad.net/hubackup|HUBackup]]</nowiki>
* 6.10: <nowiki>[[HomeUserBackup|Second backup spec]]</nowiki>
** HUBackup improvements (Today, HUBackup seems abandoned)
* 9.04: <nowiki>[[FoundationsTeam-Specs-Backup|Third backup spec]]</nowiki>
** Reviewed state of art, found all wanting
** I announced Déjà Dup here
** No decision, though there were promising candidates

==== Community ====
* A backup solution is '''idea #1''' on <nowiki>[[http://brainstorm.ubuntu.com/idea/1|Brainstorm]]</nowiki>
* Main community <nowiki>[[https://help.ubuntu.com/community/BackupYourSystem|backup documentation]]</nowiki>
* More <nowiki>[[https://help.ubuntu.com/community/CategoryBackupRecovery|backup documentation]]</nowiki>

=== User stories ===

(Collected from previous specs)

==== 6.06 Spec ====
* John is a new Ubuntu user. He has been using his system for a week now, managed to sort everything out by means of getting his favorite theme set up and desktop behavior. He has also already got quite a few important email messages and some other bits of information currently stored on his Desktop. John however, is a newcomer to Ubuntu and is not aware of the fact he has to do periodic backups. After using his machine for a week, a pop up dialog appears telling him "It has been a week since you installed your computer. In order to be able to restore it to the current state if data loss occurs, it's recommended that you do a backup. Would you like to do that now". Upon confirmation, he is asked to insert blank backup media and a backup is carried out.  '''TODO:''' Déjà Dup does not notify like this.
* Rob wants to refresh the backup set he had previously created. He opens the backup program, and is prompted to insert his old backup media if it's rewriteable (multi-sesion CD), or blank media (CDR) if not. Then, the backup program scans for changes and additions to Rob's home directory and backs up only the files that have changed.  '''TODO:''' Déjà Dup does not support optical media, but does incremental backups.
* Elaine is a concerned Ubuntu user. Using her machine for 3 days now, she wishes to backup her data in order to be able to restore it in case it goes bad. She goes to "System" --> "Administration" --> "Backup Now". She is then instructed to insert CD media for storing the data backup. After confirming that she has inserted a CD into the drive, all her personal data is backed up against it. When finished a pop up dialog instructs her "Please take out the CD, and label it 'Ubuntu Personal Backup data, dated 10-10-2006, 06:00am'".  '''DONE:''' Déjà Dup has a "Back Up Now" feature.

==== 6.10 Spec ====

See <nowiki>[[https://wiki.ubuntu.com/HomeUserBackup#Use%20cases|original spec]]</nowiki> for its user stories.  They're arguably ignorable as they are written specifically to fit HUBackup, not the other way around.

==== 9.04 Spec ====
* Bob has an Ubuntu laptop. His hard disk died. With the recovery tool and a set of current backups he is able to restore most of his data.  '''DONE:''' Déjà Dup can do this today.
* While exploring the wonders of the command line Janet accidentally deleted her almost finished term paper. She is able to restore it.  '''DONE:''' Déjà Dup can do this today.

=== Quick Sell ===

* Déjà Dup has been a featured application from the get-go
* It's been installed by default in Fedora 13 and up
* It's based on the command line backup tool duplicity
* It's designed for non-technical users

=== Room for Improvement ===

* Optical Media
** Do people really use this over external hard drives?

* Discoverability
** Notify after a week
** Notify upon plugging in large external disk

* System Backup
** List of installed packages (could be done via apt-clone or software center plugin)
** Whole disk backup
** In scope?
** Is Software Center already handling saving the package list?

=== Implementation ===

==== Upstream Oneiric Cycle Changes ====

* <nowiki>[[http://live.gnome.org/DejaDup/Screenshots/Future|UI redesign]]</nowiki> to make interface more "invisible" and just a feature of the OS.
** No more separate app with its two big restore/backup buttons.  Instead, just a control center panel.
** De-emphasize goofy name in favor of generic "Backup" descriptions.
* Ubuntu One support by default if on Ubuntu.
* Robustification focus by looking at duplicity bugs more.

==== Steps to Pull the Trigger ====

* File MIRs for:
** deja-dup
** duplicity
** librsync
** python-rackspace-cloudfiles (optional)
* Change desktop seed to Recommend deja-dup
* Drop deja-dup from the Featured app set

=== Discussion Topics ===

* Does Ubuntu really want to be responsible for backup data?
** If so, do we want to commit to this data format?
* What are must-have criteria for a default backup system?
** Optical media support?
** Restore installed packages?
** Non-user data?
** Accessibility
* Other flavors
* Size on CD
** Pulls in duplicity, librsync1, python-boto, python-rackspace-cloudfiles, and deja-dup itself
** Total extra CD space consumed would be 5.9 MB
** Could get that down to 3.0 MB without boto (Amazon S3) and cloudfiles support
** Those sizes already include dropping the deja-dup translation files (would be moved into langpacks)
* Ubiquity integration (would require design input)

=== Notes from UDS ===

http://summit.ubuntu.com/uds-o/meeting/desktop-o-deja-dup-default/

<pre>
    Deja Dup is a simplified backup tool for Ubuntu and aimed at desktop users

    Has been around for several years

    Based on duplicity ( http://duplicity.nongnu.org/ )

    Backup has come up several times at UDS

    Deja Dup is not intended to meet all use cases for backup, but will covery many of the common use cases

    Alternatives are:

    Simple Backup

    Back in Time

    Bacula

    Alternative solutions are typically more complicated and have little integration into Ubuntu

    Deja Dup could be integrated into Ubuntu One

    Possible objections are that Deja Dup may commit us to a particular backup format

    Depends on duplicity which can be a risk

    This does however, give the user a fallback in case the front end is not working

    Can we handle a large increase in bug reports from including Deja Dup by default? (and will a significant number of users have a bad/damaging experience)?

    The current bug traffic is not very high

    Fedora have included Deja Dup by default since Fedora 13, and we have not seen a large increase in bug reports

    Existing problems have been able to be resolved, either by using duplicity directly, or by updated deja-dup (no dataloss)

    Documentation on recovery is included in the package

    Release from yesterday integrates into GNOME 3

    Enforces regular backups and reminds the user if their chosen backup medium is unavailable

    Could be integrated into the install process, but would need Design help

    Deja Dup is accessible, and testing is currently automated

    Backup files can be restored to an alternate location

    Can be as little as 3.0 MBs - as much as 5.9 MBs (uncompressed)

Questions:-

    If we ship it on the CD, is it possible for someone to do a 'full restore' using the CD and some backup media (such as a usb disk)? - popey

    It would be on the CD, point it to original hard drive if you use the LiveCD

Links:

    http://live.gnome.org/DejaDup/

    https://wiki.ubuntu.com/DesktopTeam/Specs/Oneiric/DejaDup

Action items:

    Determine the effect on CD space

    Have another session for making the UI

    File MIRs for: 

    deja-dup 

    duplicity 

    librsync 

    python-rackspace-cloudfiles (optional) 

    Change desktop seed to Recommend deja-dup 

    Drop deja-dup from the Featured app set 
</pre>

=== Action Items ===

* [mterry] Determine the exact effect on CD space
* [mterry] Schedule another session for feature discussion
* [mterry] Change packaging to merely Suggest python-boto and python-rackspace-cloudfiles
* [mterry] Change deja-dup UI handle missing boto and cloudfiles more gracefully
* [mterry] File librsync MIR
* [mterry] File duplicity MIR
* [mterry] File deja-dup MIR
* [mterry] Change desktop seed to Recommend deja-dup
* [mterry] Drop deja-dup from the Featured app set

=== Comments ===

Leave any comments here please!

<pre>
pitti, 2011-05-18: I call the non-availability of removable optical media a feature. Home users are prone to eventually forget or get bored by doing this every day. Less frequent backups are rather useless. Network storage capacity comes to almost no cost these days, and are the only way that really works (no user interaction, can be very frequent, off-site).
</pre>

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Crash report handling ==

If you're running the development release, most Ubiquity bugs are reported by apport and the right log files are attached to the bug report. 

== Getting log files manually ==

If the log files are not attached, then one will have to obtain them, depending on what step in the install process the issue occurs in.

=== During installation or from a Live Session ===
<code>/var/log/syslog</code> <<BR>> <code>/var/log/partman</code> <<BR>> <code>/var/log/installer</code>

=== After installation from running system installer ===
<code>/var/log/installer/</code>

== Deeper debugging of partman ==

* boot the image with "debug-ubiquity" in the command line prompt (At boot-human/keyboard, Esc, choose language, F6, Esc, edit the command line)
** for server images boot with "DEBCONF_DEBUG=5" kernel arg.
* set:
<pre>
/etc/rsyslog.conf:

$SystemLogRateLimitInterval 0
$SystemLogRateLimitBurst 0
</pre>
* restart rsyslog
* edit /bin/partman to include <code> set -x </code>
** for server image you can do so, once it's available, e.g. at hostname question switch to tty2
* reproduce a bug
* collect logs as usual

== What next? ==

These are often enough to completely diagnose the bug and allow a developer to fix it. Sometimes, the developer will need more information than what is actually in the log files. In this case, if you know and can reproduce the defect you can run Ubiquity in '''debug mode'''. To run Ubiquity in debug mode, from a Live Session, open a terminal (On Unity Press <Super> to display the dash then enter '''terminal''' in the search field then <Enter>) and start Ubiquity with:
<pre>
$ ubiquity -d
</pre>

Please do not assign ubiquity bugs to anyone unless you're a ubiquity developer or you manage a ubiquity developer. Please don't reject ubiquity bugs unless you're a ubiquity developer. In general, please try to refrain from causing unnecessary extra bug mail noise for ubiquity developers or from taking items off their to-do lists without consulting them first.

== Known bugs ==

Before filing new bugs, check that it is not already <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubiquity|listed in Launchpad]]</nowiki>

== Non-bugs ==

Certain hardware failures can often be reported as installer bugs. This includes faulty CDs, CD drives hard drives and memory.

You can check if your hardware is faulty from kernel's error message in /var/log/syslog or the output of the command '''dmesg'''

You'll find messages such as:
<pre>
Feb 18 22:01:41 ubuntu kernel: [ 1976.481211] ata3.00: exception Emask 0x0 SAct 0x1 SErr 0x0 action 0x0
Feb 18 22:01:41 ubuntu kernel: [ 1976.481230] ata3.00: irq_stat 0x40000008
Feb 18 22:01:41 ubuntu kernel: [ 1976.481257] ata3.00: failed command: READ FPDMA QUEUED
Feb 18 22:01:41 ubuntu kernel: [ 1976.481281] ata3.00: cmd 60/08:00:58:5c:0c/00:00:00:00:00/40 tag 0 ncq 4096 in
Feb 18 22:01:41 ubuntu kernel: [ 1976.481286]          res 51/40:08:58:5c:0c/00:00:00:00:00/40 Emask 0x409 (media error) <F>
Feb 18 22:01:41 ubuntu kernel: [ 1976.481296] ata3.00: status: { DRDY ERR }
Feb 18 22:01:41 ubuntu kernel: [ 1976.481304] ata3.00: error: { UNC }
Feb 18 22:01:41 ubuntu kernel: [ 1976.484953] ata3.00: configured for UDMA/133
Feb 18 22:01:41 ubuntu kernel: [ 1976.485000] sd 3:0:0:0: [sda] Unhandled sense code
Feb 18 22:01:41 ubuntu kernel: [ 1976.485012] sd 3:0:0:0: [sda]  Result: hostbyte=DID_OK driverbyte=DRIVER_SENSE
Feb 18 22:01:41 ubuntu kernel: [ 1976.485029] sd 3:0:0:0: [sda]  Sense Key : Medium Error [current] [descriptor]
Feb 18 22:01:41 ubuntu kernel: [ 1976.485048] Descriptor sense data with sense descriptors (in hex):
Feb 18 22:01:41 ubuntu kernel: [ 1976.485058]         72 03 11 04 00 00 00 0c 00 0a 80 00 00 00 00 00 
Feb 18 22:01:41 ubuntu kernel: [ 1976.485106]         00 0c 5c 58 
Feb 18 22:01:41 ubuntu kernel: [ 1976.485121] sd 3:0:0:0: [sda]  Add. Sense: Unrecovered read error - auto reallocate failed
Feb 18 22:01:41 ubuntu kernel: [ 1976.485137] sd 3:0:0:0: [sda] CDB: Read(10): 28 00 00 0c 5c 58 00 00 08 00
Feb 18 22:01:41 ubuntu kernel: [ 1976.485165] end_request: I/O error, dev sda, sector 810072
Feb 18 22:01:41 ubuntu kernel: [ 1976.485225] ata3: EH complete
</pre>

These messages indicate an error with sda, which is likely the disk you to which you are installing Ubuntu.  Hardware errors with the CD / DVD drives would also contain "I/O error" but with "dev sr0".

== Notes ==

The 'kernel command line' line of the syslog file contains information about the boot parameters used.
* Images created by unetbootin contain 'initrd=/ubninit' and / or 'BOOT_IMAGE=/ubnkern'

Bugs should be tagged indicating the step where the issue occurred if possible.  The possible steps are:

* ubi-console-setup
* ubi-language
* ubi-migrationassistant
* ubi-network
* ubi-partman
* ubi-prepare
* ubi-tasks
* ubi-timezone
* ubi-usersetp - "Who are you?"
* ubi-webcam
* ubi-wireless

Additionally, if you are using OEM setup the bug should be tagged '''oem-config'''.

------
== Further Debugging Links ==

* DebuggingUbiquity/AttachingLogs
* DapperReleaseNotes/UbiquityKnownIssues
* DebuggingUbiquity/DupCandidates

----
CategoryBugSquad CategoryDebugging

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[DistributedDevelopment]]</nowiki> steering meeting held in <code>#ubuntu-meeting</code> on 2011-06-15 at 1100 UTC.

Chair: barry

== Apologies ==

== Agenda ==

* Attendance/apologies
* Action items
** jelmer to study the feasibility of merge helper (<nowiki>[[https://bugs.launchpad.net/bzr-builddeb/+bug/608675|bug 608675]]</nowiki>) as an intermediate step for quilt support
** poolie to send condensed summary of uds sessions
** jelmer to look into <nowiki>[[https://bugs.launchpad.net/udd/+bug/609187|bug 609187]]</nowiki> (warn when package import is out of date)
* How can we better handle "native" packages, e.g. lp:software-center vs. ubuntu:software-center?
* Topics for Dublin
* Package importer progress
* Bugs of interest:
** See http://people.canonical.com/~mbp/kanban/canonical-bazaar-kanban.html
* Any other business?

== Summary ==

* The removal of ~ubuntu-branches is causes many importer failures.  A fix is <nowiki>[[https://bugs.launchpad.net/launchpad/+bug/797088/comments/1|in the works]]</nowiki>.

== New Actions ==

* Riddell to file bug saying that packaging branch pages on code.lp.net should be better labeled
* barry to send email on dublin topics to platform and bazaar/lp mlists

== Log ==

<pre>
<barry> #startmeeting
<MootBot> Meeting started at 06:00. The chair is barry.
<MootBot> Commands Available: [TOPIC], [IDEA], [ACTION], [AGREED], [LINK],
          [VOTE]
<barry> hello everyone and welcome to this week's udd steering meeting.  who's
        here today?  [07:01]
<barry> [TOPIC] agenda
<MootBot> New Topic:  agenda
<barry> [LINK] https://wiki.ubuntu.com/DistributedDevelopment/20110615
<MootBot> LINK received:
          https://wiki.ubuntu.com/DistributedDevelopment/20110615
<jam> hello all
<barry> jam: hi.  any sign of jelmer or poolie?
<jam> jelmer was around earlier
<jam> and poolie is at velocity conf
<jam> so won't be here
* jelmer waves  [07:05]
<barry> jelmer: hi!
<barry> [LINK] https://wiki.ubuntu.com/DistributedDevelopment/20110615
<MootBot> LINK received:
          https://wiki.ubuntu.com/DistributedDevelopment/20110615
<barry> i guess we should start  [07:06]
<barry> [TOPIC] action items
<MootBot> New Topic:  action items
<barry>    * jelmer to study the feasibility of merge helper
        (<nowiki>[[https://bugs.launchpad.net/bzr-builddeb/+bug/608675|bug 608675]]</nowiki>)
        as an intermediate step for quilt support
<barry> 
<ubottu> Ubuntu bug 608675 in bzr-builddeb "merge-package should have support
         for manipulating quilt v3 patch stacks" [High,In progress]
<jam> jelmer and I still have it in the queue, but he got pre-empted with
      getting Launchpad using bzr-2.3.3
<barry> that's a good thing :)  np, we'll just carry it over  [07:07]
<jam> so I would say, still in progress
<jelmer> what John said :)
<barry> fwiw, we had a lot of buzz about udd+quilt these past two weeks.
        getting a good story here will go a long way toward satisfying
        experienced packagers  [07:08]
<barry>    * poolie to send condensed summary of uds sessions
<barry> 
<barry> i'm not sure if this is still relevant, but we'll leave it on here
        until poolie gets back
<barry>    * jelmer to look into
        <nowiki>[[https://bugs.launchpad.net/udd/+bug/609187|bug 609187]]</nowiki> (warn when
        package import is out of date)  [07:09]
<ubottu> Ubuntu bug 609187 in Ubuntu Distributed Development "users are not
         warned when branching ubuntu:foo (or lp:ubuntu/foo) and the package
         import of foo is out of date" [High,Triaged]
<jam> barry: same as above, I believe
<barry> sure thing, np
<jelmer> yep, both are in progress.. moving along slowly  [07:10]
<barry> jelmer: no worries
<barry> [TOPIC]  * How can we better handle "native" packages,
        e.g. lp:software-center vs. ubuntu:software-center?
<MootBot> New Topic:   * How can we better handle "native" packages,
          e.g. lp:software-center vs. ubuntu:software-center?
<jam> barry: this is, getting the package importer to play nicely when we also
      have upstream source?
<barry> mvo brought this up, and i just wanted to put it on the agenda.  i
        think jelmer is familiar with the issue.  
<jam> or just packaging in general?  [07:11]
<barry> the former
<barry> the problem is that mvo gets lots of bogus merge proposals because
        they're against the wrong branch
<jelmer> jam: in its simplest form, contributors sending in patches against
         the UDD branches while upstream uses a different branch
<barry> this could be a launchpad issue, in that perhaps we need a way to say
        "don't mp against the source branch, use the upstream branch over
        here"  [07:12]
<barry> but i'm not sure, so i'd love to get your thoughts!
<jelmer> I think there's two sides to this - in the short term, we should make
         sure users get warned about not proposing mps against the udd branch
                                                                        [07:13]
<jam> jelmer: ah, that one
<jelmer> perhaps that's related to bug 609187
<ubottu> Launchpad bug 609187 in Ubuntu Distributed Development "users are not
         warned when branching ubuntu:foo (or lp:ubuntu/foo) and the package
         import of foo is out of date" [High,Triaged]
         https://launchpad.net/bugs/609187
<jam> jelmer: is this to make 'lp-propose' determine the right target?
<jelmer> jam: that's already happening afaik (proposing a packaging branch now
         goes against ubuntu:<package>)
<barry> jam: well, i think there's also a bug out there that lp-propose
        doesn't work with source branches  [07:14]
<jelmer> barry: it does, but that requires bzr 2.4
<barry> jelmer: on the client side, or is server side support required?
<jam> jelmer: what you brought up above, is that lp-propse should propose
      towards lp:package
<jelmer> barry, client side
<jam> (1:11:40 PM) jelmer: jam: in its simplest form, contributors sending in
      patches against the UDD branches while upstream uses a different branch
<barry> jelmer: awesome!
<jelmer> jam: I think the issue at heart is that there are two histories when
         really there should just be one  [07:15]
<jelmer> the UDD branch is pointless if everybody should be using the upstream
         branch
<barry> except that the upstream branch may have unreleased changes, and the
        packaging branch only has released changes, right?  but i guess the
        upstream branch can just be further along in that case  [07:16]
<barry> (i.e. they'd share history)
<jelmer> barry: Hmm, yeah
<jelmer> barry, So I guess you'd want two branches but have related history
<barry> and the packaging branches would be differenter for older distro
        versions  [07:17]
<barry> jelmer: i think so
<jam> barry, jelmer: that would be my understanding. The real trick is
      figuring out where the seams are
<jam> what lp:package revision matches ubuntu:package @ rev-1.2.2  [07:18]
<jelmer> jam: as the package is native, the upstream branch should have the
         correct tags already
<jam> jelmer: if upstream does the tagging
<jam> bzr does, but it doesn't use the debian syntax, AFAIK (maybe we do)
                                                                        [07:19]
<jam> I know some of the bzr plugins use "release-XXX"
<jelmer> so we should have sufficient information to match things up, and
         there is a link in Launchpad from the packaging to the upstream
         branch
<jam> and certainly, there is still the fact that *packaging artifacts* are in
      the packaging branch
<jam> like "Makefile" vs "Makefile.in" changes
<jam> (in bzr's case, bzr-2.3.3 won't have foo_pyx.c versioned, but it *is* in
      the tarball)  [07:20]
<jelmer> jam: We'll likely still need the pristine tar revisions that add
         files like that, but they could have the upstream revision as one of
         their parents
<jam> jelmer: sure. So at that point you just hope syntax matches?  [07:21]
<jelmer> jam: that's how bzr-builddeb already works if you have an upstream
         branch specified - e.g. see one of the branches maintained by the
         pkg-bazaar team
         (http://bzr.debian.org/bzr/pkg-bazaar/bzr-svn/unstable)
<barry> anyway, we don't have to solve it today, but i think it would be a
        useful thing to keep on the radar (not as critical as the other issues
        we've identified)  [07:22]
<Riddell> for the immediate problem doesn't launchpad just need clearer
          wording on the packaging branch page to say that isn't where primary
          development happens?
<Riddell> the general problem of matching upstream branch history and tags to
          packaging ones seems very hard to solve but not necessarily specific
          to software that happens to be developed in launchpad  [07:23]
<barry> Riddell: i think part of the problem is that once you've done `bzr
        branch ubuntu:foo` you'll be working on the packaging branch, when
        upstream really wants to work against the upstream branch
<barry> at least for the currently in-dev version of ubuntu  [07:24]
<Riddell> barry: right, so launchpad needs clearer lableing there
<jelmer> jam: upstream is on Launchpad in this case, so I think it's
         reasonable to ask them to use a particular syntax if they want
         related history in the UDD branch
<barry> (e.g. `bzr branch ubuntu:natty/foo` still needs to give you the
        packaging branch)
<barry> Riddell, jelmer agreed
<jelmer> jam: It would be nice to create related history for arbitrary
         packages too (e.g. where upstream is in git), and the tag scheme can
         be pretty weird in some of those cases; I think we can leave that for
         another day  [07:25]
<jam> Riddell: going further, the parallel import file-id issue means that
      patches against the packaging branch can't be merged into the upstream
      branch.
<jam> jelmer: I was wondering if a 'similarity' metric would be reasonable
      (all files that are present have the same contents)  [07:26]
<jam> it might be a bit expensive to compute across history, though
<Riddell> I would propose filing a bug saying that packaging branch pages on
          code.lp.net should be better labeled
<barry> Riddell: would you like to file that bug? :)  [07:27]
<Riddell> can do
<barry> Riddell: thanks
<barry> [ACTION] Riddell to file bug saying that packaging branch pages on
        code.lp.net should be better labeled  [07:29]
<MootBot> ACTION received:  Riddell to file bug saying that packaging branch
          pages on code.lp.net should be better labeled
<barry> this leads me to the next topic:
<barry> [TOPIC]  * Topics for Dublin
<MootBot> New Topic:   * Topics for Dublin
<barry> you guys will be in dublin right? (fsvo "you guys")  [07:30]
<Riddell> my train is booked
<jam> I'm scheduled  [07:31]
<barry> nice.  i think it'll be a good opportunity to get the bzr+lp and
        platform guys together to discuss issues.  i'll send an email about
        it, but i wanted you to think of useful topics we might discuss or
        look into together
<barry> [ACTION] barry to send email on dublin topics to platform and
        bazaar/lp mlists  [07:32]
<MootBot> ACTION received:  barry to send email on dublin topics to platform
          and bazaar/lp mlists
<barry> if you have anything in particular you'd like to get input on from
        platform folks, please send me email
<barry> [TOPIC]  * Package importer progress
<MootBot> New Topic:   * Package importer progress
<barry> btw, thanks for fixing sysvinit!  [07:33]
<barry> anything new on importer progress?
<jam> barry: big kick in the crotch from launchpad removing ~ubuntu-branches
      support
<jam> but I think there are workarounds for some patches now
<jam> *for some projects*
<barry> jam: yeah
<jam> package-importer super-user status got revoked, but nobody supplied
      another way in
<jam> that + planned downtime meant a rough week  [07:34]
<jam> I think we are at 525 failures, which is up from 485 last week  [07:35]
<barry> jam: is that the aftermath of the big backlog or are there new
        failures now?
<jam> I'm guessing it is the ~ubuntu-branches thing, but I haven't followed it
      closely to know what 40 packages are now failing  [07:36]
<jam> that weren't before
<barry> jam: what's the longer term solution?  [07:37]
<jam> [LINK] https://bugs.launchpad.net/launchpad/+bug/797088/comments/1
                                                                        [07:38]
<MootBot> LINK received:
          https://bugs.launchpad.net/launchpad/+bug/797088/comments/1
<ubottu> Ubuntu bug 797088 in Launchpad itself "Launchpad has removed
         privileges that UDD importer requires to function" [Critical,In
         progress]  [07:39]
<jam> just says there may be a code solution
<jam> which sounds like "don't create old branches if the series is now
      frozen"
<jam> "<flacoste> obsolete is obsolete"
<jam> though IMO, if we import them to get good history, we might as well
      publish that history
<barry> jam: thanks.  i've subscribed  [07:40]
<jelmer> jam: yeah, they're particularly useful when e.g. creating SRUs for
         older distroseries
<barry> jelmer: which, imo, is a very important use case to preserve  [07:41]
<jam> I'm not sure how obsolete things have to be for it to fail
<jam> It seems to need to be a new package with old history
<jam> though fixing bugs in the importer allowing it to import something that
      used to fail  [07:42]
<jam> would suck to trip over this
<jam> from what I understand, flacoste wants to strictly have the importer use
      the Ubuntu upload rights
<jam> (so the importer can publish a branch, if an equivalent developer could
      upload a .deb )  [07:43]
<jam> but that doesn't seem to account for the fact that a developer *did*
      upload .deb or the importer wouldn't have anything to do.
<jelmer> jam: I think the UDD branches should reflect what's in the archive as
         much as possible; only allowing updates where an ubuntu developer
         would be able to do an upload means we'll have more out of date
         branches.  [07:44]
* ** awolfson (~awolfson@pool-173-76-98-227.bstnma.fios.verizon.net) has joined
    channel #ubuntu-meeting  [07:45]
<barry> jelmer: i completely agree
<jam> jelmer: it sounds like the failure isn't as much about updating a
      branch, as *creating* one.
<jam> but I don't understand everything being said, either
<jam> and I'm proxying flacoste from about 20 lines of text :)
<barry> cool, let's move on
<barry> [TOPIC] bugs of interest
<MootBot> New Topic:  bugs of interest
<jam> barry: see above
<barry> [LINK]
        http://people.canonical.com/~mbp/kanban/canonical-bazaar-kanban.html
<MootBot> LINK received:
          http://people.canonical.com/~mbp/kanban/canonical-bazaar-kanban.html
<jam> [link] https://bugs.launchpad.net/launchpad/+bug/797088  [07:47]
<MootBot> LINK received:  https://bugs.launchpad.net/launchpad/+bug/797088
<ubottu> Ubuntu bug 797088 in Launchpad itself "Launchpad has removed
         privileges that UDD importer requires to function" [Critical,In
         progress]
<barry> jam: yep, thanks
<barry> anything in the kanban that folks want to point out?
<jam> there were 2 new bugs in bzr from maxb
<jam> let me check
<jam> bug #796751
<ubottu> Launchpad bug 796751 in Bazaar "TreeTransform _override_conflicts
         checking is not sensitive to symlinks" [Medium,New]
         https://launchpad.net/bugs/796751
<jam> bug #796748  [07:48]
<ubottu> Launchpad bug 796748 in Bazaar "TreeTransform canonicalises
         symlink-containing paths wrongly" [High,Confirmed]
         https://launchpad.net/bugs/796748
<jam> [LINK] https://launchpad.net/bugs/796748
<MootBot> LINK received:  https://launchpad.net/bugs/796748
<jam> [LINK] https://launchpad.net/bugs/796751
<MootBot> LINK received:  https://launchpad.net/bugs/796751
<jam> That was failing "live-build" to be imported
<barry> i remember seeing that one float by
<barry> [TOPIC] any other business?  [07:50]
<MootBot> New Topic:  any other business?
<maxb> To confirm the speculation from earlier: Yes, the jump in the failure
       count is the fault of the LP permissions shenanigans
<barry> maxb: thanks.  i hope that gets resolved soon  [07:51]
<maxb> On the plus side, flacoste did imply he was going to be fixing it
       somewhat todayy
<barry> okay then, on that note, i think we're done
<barry> #endmeeting
</pre>

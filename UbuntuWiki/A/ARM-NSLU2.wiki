{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This page describes the installation of a minimal ubuntu system on a Linksys NSLU2 NAS device

==== Requirements ====

* USB Key (or USB disk) to attach to the NSLU2 to carry the root filesystem (connect this before starting the installation procedure)
* A second machine to run an ssh client on in which you execute the installation

==== Getting the software ====
Get the latest installer image from:

http://ports.ubuntu.com/ubuntu-ports/dists/jaunty/main/installer-armel/current/images/ixp4xx/netboot/di-nslu2.bin

To install the image you need the upslug2 tool installed

<pre>
sudo apt-get install upslug2
</pre>

==== Put your NSLU2 into upgrade mode ====

* Poweroff the device 
* Hold down the reset button in powered down state
* Press and release the power button of the device
* Wait until the status LED turns red, now ''quickly'' release the reset button (See note below)
* The status LED will start alternating between red and green, your device is now in upgrade mode

'''Note:''' Older NSLU2s have a clearly red LED but later model (late 2006 and younger) are not so clearly distinguishable 

==== Uploading the installer firmware ====

Run the following command on a system that is connected to the same wired network as your NSLU2

<pre>
sudo upslug2 -i di-nslu2.bin
</pre>

By default, upslug2 will look for the NSLU2 on the network connected to the eth0 interface of your machine. If you have multiple network interfaces and the NSLU2 is not connected to eth0, you have to specify the network interface with the -d option (for example, -d eth1). 

After the upslug2 tool is done flashing the firmware image, your NSLU2 will automatically be rebooted into the ubuntu installer. Wait some minutes to give it the time to generate ssh keys and set up the hardware, then you can try to connect to actually start the install.

==== Connecting to the device to start the installation ====

If you have a DHCP server in your network, make sure you have access to the logs to see which address the NSLU2 recieved. If you don't have a DHCP server, the device will default to 192.168.1.77 for its IP address. Connect to the NSLU2 with the command below.

<pre>
ssh installer@192.168.1.77
</pre>

'''Note:''' if you are upgrading an already flashed NSLU2 or the system was previously configured the NSLU2 will use that configuration. for information about resetting network configuration see the Resetting Network Configuration.

The installer password used is "install", please follow the install guide to install your system now.

==== Alpha5 errata ====

Directly after the installer downloaded additional installer components, hit the tab key to select "Go back", there make sure to have unselected all languages, else your installation will take a very long time.

==== Resetting Network Configuration ====
The network settings of an NSLU2 persist though the flashing of the system. If the system is of an unknown state before flashing or is upgrading a flashed system with an unknown networking configuration the system can be reset with the linksys firmware.

===== Flash with Linksys Firmware =====
If the system is already flashed with linksys firmware this step can be skipped.

1. Download and extract linksys firmware (<nowiki>[[http://downloads.linksysbycisco.com/downloads/firmware/NSLU2_V23R63.zip|Firmware]]</nowiki>)
2. Put the system in upgrade mode (see <nowiki>[[https://wiki.ubuntu.com/ARM/NSLU2#Put%20your%20NSLU2%20into%20upgrade%20mode | Put Your NSLU2 Into Upgrade Mode]]</nowiki>)
3. Upload the linksys firmware using upslug2
  <pre>
  sudo upslug2 -i ./NSLU2_V23R63.bin
  </pre>

===== Reset Configuration =====
1. Power on NSLU2 and wait for the system to boot
2. Press and hold the the reset button for 2 seconds. You should hear a beep from the NSLU2 indicating that the reset completed properly
3. Power cycle the device
4. Verify that the system is using DHCP or defaulting to 192.168.1.77
5. Repeat the installation process (see <nowiki>[[https://wiki.ubuntu.com/ARM/NSLU2#Put%20your%20NSLU2%20into%20upgrade%20mode | Put Your NSLU2 Into Upgrade Mode]]</nowiki>)

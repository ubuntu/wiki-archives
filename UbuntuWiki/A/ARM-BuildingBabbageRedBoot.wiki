{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

The Freescale Babbage board uses RedBoot as its bootloader. We carry a small set of patches against it to allow it to build with a non-CodeSourcery ARM EABI toolchain, and to include the correct machine id. To successfully build RedBoot, you need an arm-eabi toolchain. You can either <nowiki>[[https://wiki.ubuntu.com/Toolchain/Crosscompilers/ARMEABIToolchain|compile one yourself]]</nowiki>, use a <nowiki>[[http://ecos.sourceware.org/|prebuilt]]</nowiki> one, or use the <nowiki>[[http://www.codesourcery.com/sgpp/lite/arm/portal/release642|CodeSourcery EABI ARM]]</nowiki> toolchain.

=== 1. Build the ecos configuration tools ===
<pre>
sudo apt-get install tcl-dev tk-dev
bzr co lp:~canonical-mobile/redboot/fsl-ecosconfig
mkdir fsl-ecosconfig/build
pushd fsl-ecosconfig/build
TCL_INC_DIR=/usr/include/tcl ../src/configure
make
sudo make install
popd
</pre>

=== 2. Build RedBoot ===
<pre>
bzr co lp:~canonical-mobile/redboot/fsl-redboot
export ECOS_REPOSITORY=`pwd`/fsl-redboot/packages
mkdir redboot_build
pushd redboot_build
ecosconfig new mx51_babbage redboot
ecosconfig import ${ECOS_REPOSITORY}/hal/arm/mx51/babbage/current/misc/redboot_ROMRAM.ecm
ecosconfig tree

make

make CC=arm-eabi-gcc LD=arm-eabi-ld AR=arm-eabi-ar OBJCOPY=arm-eabi-objcopy
</pre>

The resulting binary comes out in install/bin/redboot.bin, which can be DD'ed to the board, or uploaded over XMODEM, go'ed to, and then installed via the romupdate command.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Created''':  * '''Contributors''':shirish 
* '''Launchpad entry''': <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/apport/+bug/102868|Bug 102868]]</nowiki>
* '''Packages affected''': <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/apport|apport]]</nowiki>
 

=== Summary ===
Add privacy, resumability and reliability features (with an ETA & upload speeds) to apport. More so for people with limited bandwidth ability and high latencies to server.
This will allow apport to be used more effectively. One can bank on apport to report all crashes without the user being interfered or being paranoid.

=== Rationale ===
As of right now, one is never sure if apport has uploaded the bug or not. There are concerns regarding security, for e.g. if Firefox crashed or some application which has properties such as names, passwords, (in case of Firefox or other browsers) websites gone (profiling) etc. This needs to be communicated to the user. In essence apport has to be intuitive. Also people who have limited bandwidth capacity & have high latencies to the UK server are left stranded. An alternate to that would be setting up mirrors for crash reporting too. 

=== Use Cases ===

** Bob application crashed. He has no idea how much time it would require for the uploading of crash to complete. Hence decisions (if his work is interrupted or finished) such as shutting down the machine, or going to hibernate or keep the machine running for the upload to  finish for some time are unknown.  

** Peter application crashes. He thinks apport would report it. During the upload for some reason or the other, network connection lost, power cut-out etc, he is unable to upload the crash file. The crash file remains in /var/crash & is not useful for anybody.

** Jason is working in a  bank/clinic/finance instituion. He was making an e-commerce transaction through some application (for e.g. Firefox) and the application crashed. He is in 2 minds whether to send the crash or not.

** shirish tries to upload a crash file. After waiting for about an hr. He gets a message saying HTTP Error 500: Internal Server Error. <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/apport/+bug/99989]]</nowiki> 

=== Scope ===

Any user using apport Ubuntu Edgy, Feisty & above. 

=== Design ===

==== Big Picture ====
 This will allow apport to be a more robust application.

* Uploading features
** This will allow apport to show an an upload bar with an ETC for bugs. Similar to how its done at rapidshare.com or any other public upload site. Also have some kind of checksum algorithm built-in at the time of sending. This should be either based on user's bandwidth or set by him. (please clarify)

* Resumability
** This will make sure /var/crash remains empty at all times. If possible send crashes when network activity is at the lower/lowest. The idea is of actually resuming (and not restarting) previous uploads: that is, continuing where the user left off, instead of starting another hour-plus upload, finishing the final five minutes that the server is missing & completing the bug-report & giving user the chance of adding more info. Less un-owned crash reports where there are no details etc.

* Messages
** Give user error messages  otherwise remain in background. If the user wants a verbose mode then show him all the goodies. Alternatively send messges to root user via mail or some other place. 

* Logs
** The apport log should also have error messages as to why a certain report could not be sent. If user has turned off apport it should be mentioned. 

==== Implementation Plan ====

 Packages effected :-

** apport-gtk
** apport-qt and probably
** python-apport
** python-problem-report
    

=== Implementation ===

 Atleast on the upload progress bar, somebody has done something similar. http://www.opensky.ca/~jdhildeb/software/kodakloader/
The last 2 paragraphs are esp. interesting :-

I used John J. Lee's mechanize, ClientForm and ClientCookie modules to emulate a browser. Hopefully this won't break too often if they rename URLs and links (KodakLoader does some screen-scraping to read out existing photo albums). I'd expect that Kodak Gallery has a soap or xmlrpc interface (which their ofoto software uses), so it'd be great if they were nice enough to provide some documentation about this (I haven't asked, but am considering doing so).
Probably the single largest hurdle was figuring out how to report accurate progress for the file upload, as the actual upload is buried within mechanize, urllib and httplib. Once I was able to figure out the twisty maze, it didn't take too much code to implement. I used some hooks to provide a few alternate classes, which enabled me to break up the transfer into chunks and invoke a callback occasionally.

=== Outstanding Issues ===

=== BoF agenda and discussion ===

=== References ===

* <nowiki>[[http://www.rapidshare.com|Rapidshare]]</nowiki>
* <nowiki>[[http://images.rapidshare.com/software/rapiduploader/RapidUploader.exe|Rapiduploader]]</nowiki>
* <nowiki>[[http://en.wikipedia.org/wiki/Comparison_of_one-click_hosters|One click hosters having upload tools]]</nowiki>

 

=== Comments ===

----
CategorySpec CategoryBugSquad

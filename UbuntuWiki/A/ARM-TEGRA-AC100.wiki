{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Status of the Ubuntu port to the AC100/Dynabook Tegra based netbook ==

Ubuntu on AC100 is currently an official demonstration of the Ubuntu ARM port and works fairly well. This page collects information necessary to get a working Ubuntu 12.04 port on the AC100.
----

=== Installing Ubuntu 12.04 or Lubuntu 12.10 on the AC100 ===

==== Installation requirements ====

<nowiki>[[File:ac100-install.jpg|Installation equipment|align="top"]]</nowiki>
* Mini-usb cable
* Host computer with linux (virtual or physical)
* Usb-stick or sd-card (min. 1GB)
* About 1-2h of your life (depending on the download-time)

==== Files to download ====

For the installation, you will need to download these things:

'''12.04 (Precise Installer)'''

There are two AC100 related files in the <nowiki>[[http://cdimage.ubuntu.com/releases/12.04/release/|12.04 release directory]]</nowiki>:

 . <nowiki>[[http://cdimage.ubuntu.com/releases/12.04/release/ubuntu-12.04-preinstalled-desktop-armhf+ac100.bootimg|Bootimage]]</nowiki>
 . <nowiki>[[http://cdimage.ubuntu.com/releases/12.04/release/ubuntu-12.04-preinstalled-desktop-armhf+ac100.tar.gz|Preinstalled rootfs]]</nowiki>
Get them both and make sure that the <nowiki>[[http://cdimage.ubuntu.com/releases/12.04/release/MD5SUMS|md5sum]]</nowiki> corresponds after the download.

'''12.10 (Quantal Installer)'''

With the 12.10 release the AC100 image switched to Lubuntu as the default desktop.
The 12.10 release is also the first release where the Tegra binary driver works out of the box and is properly included in the multiverse component of Ubuntu (see below for installation instructions).

There are two AC100 related files in the <nowiki>[[http://cdimage.ubuntu.com/lubuntu/releases/quantal/release/|12.10 release directory]]</nowiki>:

 . <nowiki>[[http://cdimage.ubuntu.com/lubuntu/releases/quantal/release/lubuntu-12.10-preinstalled-desktop-armhf+ac100.bootimg|Bootimage]]</nowiki>
 . <nowiki>[[http://cdimage.ubuntu.com/lubuntu/releases/quantal/release/lubuntu-12.10-preinstalled-desktop-armhf+ac100.tar.gz|Preinstalled rootfs]]</nowiki>

'''nvflash'''

The bootimage needs to be flashed via a mini-USB cable and using the nvflash tool.<<BR>>
This image when booted will set up the internal storage using a tarball provided on a USB stick or SD card.

 . <nowiki>[[http://ac100.grandou.net/nvflash#debian_ubuntu_package|Install nvflash using a debian package]]</nowiki><<BR>>

The link contains instructions on how to easily install nvflash to your current debian-based linux-distro.

==== Installation ====

The installation is done in two phases:

'''Flashing the bootimage'''

* Make sure the battery is full on the AC100, or that the charger is connected.
* Shut down the AC100.
* Connect the mini-usb from the AC100 to your host computer. The mini-usb socket is on the right side, left of the power-connector.
* Put netbook in recovery mode by booting with CTRL and ESC buttons held down. The screen stays off while the power led lights up.
* On your host computer, open a terminal and run:
 <code>nvflash --bl /usr/lib/nvflash/fastboot.bin --download 6 /path/to/lubuntu-12.10-preinstalled-desktop-armhf+ac100.bootimg</code><<BR>>''NOTE:'' the path and name of fastboot.bin might vary, the guide uses version from <nowiki>[[http://ac100.grandou.net/nvflash#debian_ubuntu_package|http://share.grandou.net]]</nowiki>
* Once nvflash is finished and prints out a message stating success, turn off the AC100 by pressing on the power button for several seconds.

==== Upgrades ====

* There is a bug in the tarball installer that marks the abootimg package as automatically installed without dependencies, this causes removal of the (essential) abootimg package during upgrades. To work around that bug run:
 <pre>
sudo apt-get install abootimg
 </pre>
 before starting the upgrade. This will mark the package as manually installed and prevent it from being removed.

'''Installing the preinstalled rootfs'''

* Copy <code>quantal-preinstalled-desktop-armhf+ac100.tar.gz</code> to a USB stick as a regular file on the first partition. ''NOTE:'' DO NOT UNPACK OR DD THE TARBALL, JUST COPY! Make sure the <nowiki>[[http://cdimage.ubuntu.com/releases/12.04/release/MD5SUMS|md5sum]]</nowiki> is alright after copying to the media.
* Reboot with the USB stick inserted and follow the simple instructions. Overall it does one reboot and in total can take about 20-30 minutes.

'''Notes on installation'''

* To do an install to external media the installer also supports installing from USB key to SD card (not the other way around !). To do such an install put the tarball on the USB key and make sure an empty SD card is in the slot before starting the installation, the installer will offer you to install to a partition on mmcblk1 (SD card) instead of mmcblk0 (internal eMMC drive).
* Although the installer offers the possibility to encrypt your home, this does not work. See the end of this document for instructions on enabling encryption.
* Suspend/resume is unstable.
* The package cache will be stuck for a while after installation since update-manager by default only updates the package info once a week. Updates will start appearing after a day or so.
* Some people have reported issues seeing a "hash sum mismatch" error for package installations.
** To fix this, run <code>sudo rm /var/lib/apt/lists/* /var/lib/apt/lists/partial/*</code>.  This will clear out the package list cache, then you can run <code>sudo apt-get update</code> and update the package list normally.
** You can alternatively wait a couple of days for the cache to expire.

=== A Note About Fragmentation ===

The effort the bring hardware support has always been fragmented. We are thankful for
''phh'' who did the initial bringup of a working linux kernel on the ac100 and made Linux''''''4Tegra work on the older root filesystems
''ogra'' who built all Ubuntu root filesystems and the official oneiric and precise images,
''marvin24'' who has put effort in porting the Chrome OS kernel to the AC100,
and the many others who were involved.

The downside of this fragmentation is that documentation is fragmented too.
The goal of this wiki is to provide good quality information for the latest and most promising effort.

'''Wiki maintainers: don't reference the old "wetpaint" wiki. It is virtually unmaintained and will cause confusion. Information about the inner workings of the device and drivers must go here: http://ac100.grandou.net/
'''

=== More information ===
Some bits of useful information about your Ubuntu system on a Toshiba AC100 can be found in <nowiki>[[https://answers.launchpad.net/ac100/+questions?field.search_text=&field.sort=RECENT_OWNER_ACTIVITY&field.sort-empty-marker=1&field.actions.search=Search&field.status=OPEN&field.status=NEEDSINFO&field.status=ANSWERED&field.status=SOLVED&field.status=EXPIRED&field.status-empty-marker=1|the ac100 questions&answers at Launchpad]]</nowiki>.

=== Hardware ===

<nowiki>[[File:toshiba-ac100_01.jpg|The AC100 netbook|align="right"]]</nowiki>

The AC100 is an nVidia Tegra2 based device which has Android 2.1 as factory default. It has dual ARM Cortex-A9 cores at 1 GHz and nVidia GPU technology on its System On Chip (SoC). Some models come with 3G modems and the eMMC flash storage comes in various sizes.

'''Strengths'''

* Very slim and light
* Long battery life
* HDMI out - when using the Nvidia driver (with no aoudio yet)

'''Weaknesses'''

* Slow eMMC storage (not an SSD)
* Only 512MB of RAM
* No VGA out (must use a displaylink device for most projectors)

Features known to work on Ubuntu: webcam, touchpad, 3G modem, WiFi, OpenGL ES (proprietary), indicator LEDs, card reader, audio, suspend/resume, HDMI out (with the proprietary nvidia drivers, no audio yet)

Incomplete support: video acceleration.

For details and a list of models, see http://ac100.grandou.net/models

=== Boot loader ===

The current first stage bootloader is Android Fastboot which uses the kernel and initramfs images found on partition 6 of the device. The partition can be written via the mini-USB port from another computer using the closed source nvflash utility from nvidia or opensource putusb, or updated from an already running system. The boot partition can be
handled using the abootimg tool.

The <nowiki>[[https://launchpad.net/~ac100/+archive/ppa|ac100 PPA]]</nowiki> has a kernel that reads the (nvidia-proprietary format) main partition table, so kernel upgrades are possible. The ''flash-kernel'' package in the PPA takes care of this (note that all packages from the PPA are integrated since the oneiric images linked above, in oneiric the PPA will only be used for post-release updates of single packages).

==== U-Boot ====

The default boot loader is inflexible, and there is interest in adding U-Boot as a second stage boot loader.
There are Tegra based U-Boot using devices but there's no working AC100 image yet that can handle the eMMC or the screen to be actually useful for a wider audience.

=== Kernel development ===

As of early September 2011 a 2.6.38-chromeos kernel fork is used in Ubuntu and included in the Oneiric archives. It supports suspend/resume and sound from the headphones is working, speakers do not yet. Sound are almost done in 3.1.x/3.8/mainline.

Work is done to upstream AC100 support patches in 3.x kernels so we can use mainline eventually.

The kernel tree the Ubuntu package is based on is at https://gitorious.org/~marvin24/ac100/marvin24s-kernel

=== Tips and tricks for Ubuntu 12.10 ===

==== Graphics ====

To install the nvidia-tegra binary GLES driver in 12.10 open the Menu and go to "Preferences"->"Software Sources"

<nowiki>[[File:menu_shot.png|Software Sources|align="top"]]</nowiki>

Select the most right Tab and click the Radio button for the Tegra2 binary driver.

<nowiki>[[File:sw_sources_shot.png|Driver Selection|align="top"]]</nowiki>

'''Note:''' If the radio box goes back to selecting the nouveau driver after attempting to apply changes, ensure that your package cache does not have a "hash sum mismatch" when running <code>apt-get update</code>.  To fix this, see instructions in "notes on installation".  Additionally, ensure that you have enabled the multiverse repositories (under the "Ubuntu Software" tab).

After the changes were applied, reboot and enjoy the GLES support and working HDMI out.

'''Tip:''' install the glmark2-es2 and mesa-utils-extra packages, they ship the glmark2 test as well as the es2_info and es2gears binaries for GLES.

=== Known issues and tips for Ubuntu 12.04 beta1 ===

This section will in time replace the one above.

==== Graphics ====

The nvidia-tegra package is not yet available for armhf. For now, just stay with the default open source driver.

=== Contact ===

* IRC: #ac100 on libera: https://web.libera.chat/?nick=webchat?#ac100
* Mailing list and archives: https://lists.launchpad.net/ac100/
* Launchpad team: https://launchpad.net/~ac100

=== Misc links ===

'''''Only put here links that are still relevant for present and future development and do not lead to unnecessary work and confusion. In particular, try to avoid the wetpaint wiki.'''''
* Detailed info, useful for developers and power users but not specific to ubuntu: http://ac100.grandou.net/
* IRC-logs for #ac100 @ irc.freenode.net can be found here: http://ac100.tunk.org/logs/

CategoryHardware

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


=== Dove from Scratch ===
If your unable to use a live image, update u-boot, or have a Z0 based board, it is possible to manually install an image to the board. You need an Ubuntu ARM rootfs; if you do not have one handy, one can easily be generated with <nowiki>[[rootstock|https:--launchpad.net-project-rootstock]]</nowiki>. All known versions of u-boot can read from SATA, although to successfully read from ext2 requires formatting the partition in a special way. This guide assumes you are using SATA based drive for both the rootfs, and the kernel; it is possible to use a USB based drive by loading a kernel from another location.

In addition, Ubuntu's flash-kernel excepts a u-boot that is able to handle a boot.scr file, and properly pass in the necessary environmental variables. The upshot of this is that for manually installed images, automatic kernel upgrades will not work.

These instructions are more of a guideline than actual installation steps, and require good understanding of the command line.

==== Partitioning ====
On your SATA HDD, create two partitions, a 256M /boot, and a normal root partition, as well as a swap partition. Format the root and swap partitions as normal. For the /boot partition, you must format it ext2 with the following command line options:
<pre>
}}}
==== Extract the rootfs ====
Take the rootfs tarball generated by rootstock, and place it in the base of your SATA's root partition, then extract it like so:
{{{
</pre>

==== Creating a uImage ====
u-boot requires a uImage to start the kernel. One can be created by grabbing the latest kernel deb for your board (y0, or z0), extracting the files with the package with dpkg -x, and then using mkimage to create a uImage. mkimage is part of uboot-mkimage package on Ubuntu systems
<pre>
}}}

Place this file in the /boot partition of the SATA HDD

==== Starting up ====
u-boot uses the following environmental variables to control startup and booting:
* bootcmd - default command used at startup
* bootargs - kernel command line

To use SATA, type ide rescan to make the device available. Starting up can be done something like this:
{{{
>> setenv bootargs root=/dev/sda2 console=ttyS0,115200 rootdelay=4
>> ide rescan
>> ext2load ide 0:1 0x20000 /uImage
>> bootm
</pre>

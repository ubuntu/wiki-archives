{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Acessibility Information for the Mobility Impaired ==

A quick guide to window manager independent and command line accessibility in Ubuntu for people who have difficulty using the standard keyboard and mouse devices.

=== Introduction ===
About me, the author: My profession is software developer and I am a person with mobility impaired disability. About 1,5 years ago, I switched from Windows to Linux. As a result of my disability, I needed special settings for my keyboard and mouse/trackball. Without the linux experience of a friend, it would have been hardly possible to configure these settings.

The following article is just a hint for advanced users, having the same problem.

=== Stickykey on the console ===
To enable stickykeys on the console, you need <code>loadkeys</code>. It is a program to manipulate key mappings and should be available on each base system.

'''1. Step:''' Create a file eg. <code>~/.loadkeys</code> with the following content:
<pre>
keymaps 0-15
keycode 29 = SCtrl
keycode 42 = SShift
keycode 54 = SShift
keycode 56 = SAlt
keycode 97 = SCtrl
keycode 100 = SAltGr 
</pre>
'''2. Step:''' Call <code>loadkeys /home/thilo/.loadkeys</code>.  Hint: Can only be done by root!!!

Now, all modifier keys of the keyboard work with stickykeys.

In the <nowiki>[[#example|Configuration example]]</nowiki> below you see a setup for daily usage.

For further information refer to:
http://www.tldp.org/HOWTO/Keyboard-and-Console-HOWTO-15.html

=== Stickykey on the X server ===
Because of the missing tool 'xorgcfg' or 'xf86cfg' <nowiki>[[https://launchpad.net/distros/ubuntu/+ticket/506]]</nowiki> in the ubuntu repository, you have to use the commandline tool 'xkbset'. Which isn't very user-friendly.
You have to call 'xkbset' twice. By the first call, you set the expiry of the accessx settings. This is necessary, because there is a default timeout. By the second call, you can adjust the accessx settings themself. I don't know why, but in my settings, this was the required order!

With <code>xkbset -h</code> you will get a help message.

An example for setting the expiry of the accessx settings:
<code>	xkbset exp -bell -sticky -twokey -latchlock -accessx -feedback -stickybeep -led</code>

You have to disable the expiry of all accessx settings you need. Because, if you set an explicit timeout with '0', you will cause a xorg runtime error.

An example for adjust the accessx settings:
<code>	xkbset bell sticky -twokey latchlock feedback led stickybeep</code>

For further information refer to:
http://www.xfree86.org/current/xset.1.html

In the <nowiki>[[#example|Configuration example]]</nowiki> below you see a setup for daily usage.

=== Configuration of a mouse/trackball on the X server ===
The first tricky bit for me was to find out the correct settings for the 'Input''''''Device' section of the <code>/etc/X11/xorg.conf</code>. I had to google a lot and had to try some protocols to find out which one supports all the buttons of my kensington usb trackball. Lets have a look at the 'Input''''''Device' section of my <code>xorg.conf</code>:

<pre>
Section "InputDevice"
 Identifier  "Configured Mouse"
 Driver      "mouse"
 Option     "Device" "/dev/input/mice"
 Option     "Protocol" "ExplorerPS/2"
 Option     "Buttons" "6"
 Option     "ZAxisMapping" "5 6"
 Option     "Emulate3Buttons" "no"
 Option     "DragLockButtons" "1 4"
EndSection
</pre>
Some hints:
* 'Buttons': The correct number is the number of your mouse buttons plus two, if you have a wheel.
* 'Z''''''Axis''''''Mapping': The buttons used for scrolling. (The movement of the wheel is mapped to buttons.)
* 'Drag''''''Lock''''''Buttons': This is the setting for 'Drag and Drop'. In this example, button 4 is used to lock button 1. If you press button 4, button 1 is locked. If you press button 4 again, button 1 is released.

For further information refer to:
http://www.xfree86.org/current/mouse5.html

The second tricky bit was to find out how to change the default button layout of my trackball, which wasn't very usefull to me. With the commandline tool xmodmap, you can change the layout of the buttons. For example, if you would have a mouse with 3 buttons, the following command would swap the left button with the right one.

<code>	xmodmap -e "pointer = 3 2 1"</code>

For further information refere to:
http://www.xfree86.org/current/xmodmap.1.html

To justify the acceleration and threshold, use the commandline tool 'xset'. For example:

<code>	xset m 7/10 2</code>
This reduces the mouse acceleration to 0.7 and sets a threshold to 2

For further information refere to:
http://www.xfree86.org/current/xset.1.html

As you can see, the configuration of a mouse/trackball with many buttons isn't very easy. A tool that displays the keycodes of the mouse and the keyboard is 'xev'. You can use it to check the layout of the buttons.

It is not easy to find the required mouse/trackball settings, especially if you need another button layout than the default one.

In the <nowiki>[[#example|Configuration example]]</nowiki> below you see a setup for daily usage.

=== Configuration example ===
==== Console ====
To activate the loadkeys settings on each console login, I've added the following line to <code>/etc/rc.local</code>: <code>	loadkeys /home/thilo/.loadkeys > /dev/null</code>

==== X server ====
Ok, now lets see how to setup the things above, so that they are called on each start of the X server.
I've written a shell script, which contains all necessary tool calls. For example:
<pre>

/usr/bin/xkbset exp -bell -sticky -twokey -latchlock -accessx -feedback -stickybeep -led

/usr/bin/xkbset bell sticky -twokey latchlock feedback led stickybeep 

/usr/bin/xmodmap -e "pointer = 2 3 6 1 4 5"

/usr/bin/xset m 7/10 2
</pre>

Now create a link from this script to <code>/etc/X11/Xsession.d</code>, for example <code>/etc/X11/Xsession.d/91xinit</code>. The script starts now before the X server. Beware: The link shouldn't have any extention.

----
thilo 
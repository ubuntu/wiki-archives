{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Mainboard: ==
<nowiki>[[http://usa.asus.com/search.aspx?searchitem=1&searchkey=p5qc|ASUS P5QC LGA 775 Intel P45 ATX Motherboard]]</nowiki>

=== Summary Of Results ===
This board has tested highly functional with 64-bit Kubuntu Karmic using KDE4 (Kubuntu 9.10 alpha3 alternate install CD), 64-bit Intrepid Ibex (Kubuntu 8.10 beta CD and Ubuntu 8.10 64-bit LiveCD), 32-bit Intrepid Ibex (Kubuntu 8.10), and 32-bit and 64-bit versions of Kubuntu Hardy Heron (8.04.1 and 8.04.2). Installation and use may require BIOS Storage Configuration set to AHCI mode.  Where tested, suspend and hibernate appeared to work normally.

Hardy Only: The wired ethernet port requires separate installation of a driver provided by Asus, and adjustment of the Line-In volume was not functional in kmix, but was possible with CLI mixers.

As this board currently only appears to work with Ubuntu if AHCI mode is enabled, if you are building a multi-boot system, the other systems should be setup for AHCI mode.  Otherwise you will have to turn it off in the BIOS before booting them, and set it back to AHCI to boot Ubuntu.  (Windows XP can be made AHCI compatible, and Vista is already so.)

=== kubuntu-8.10-beta-alternate-amd64 Install (UPDATE - Intrepid 64) ===
The only installation difference noted with Intrepid (64-bit) was that although the installer still complained that no Ethernet adapter could be found, the ethernet port worked on first boot without installation of additional drivers.  Post-install, the Line-In volume slider in KDE4 kmix worked without issue.  Suspend-to-RAM and suspend-to-disk appeared to work normally in minimal tests.  32-bit version of Intrepid was not tested.

=== kubuntu-8.04.1-alternate-amd64 Install (Hardy 64) ===
First I started with the 64-bit version of Kubuntu 8.04.1 (alternate install CD). The results for that are the same as the 32-bit description below.  (I discontinued use of the 64-bit version because of an unavailable printer/scanner driver.)

Update: I installed kubuntu-8.04.2-alternate-amd64 successfully with Sun's new 64-bit Java Firefox plugin.

=== kubuntu-8.04.1-alternate-i386 Install (Hardy) ===

==== Pre-Install ====
Pre-install, I set SATA ("Storage Configuration") to AHCI mode in the BIOS, because others said this is required for the P5Q series boards (I didn't even try the IDE mode). I left the power management and other settings as they were. (My BIOS was version 0803 6/26/08 for the install and post-install was updated to 1306 8/20/2008 using EZ Flash method and USB stick, without issue.)

==== Installation Program ====
The install program reported that it couldn't find an ethernet adapter. This is due to the unsupported Atheros Gigabit LAN. Other than that the install went smoothly. Post-install, the system booted fine, video and all.

==== Ethernet Driver ====
Asus supplies a linux driver (via module source code) for the Atheros adapter on their website. Here's how I got it working:

Go to asus.com support and download P5QC motherboard's !LinuxDrivers.zip

Unzip the file to a folder of your choice. cd into the .../LAN/AR8121-linux-ver1.0.0.7/src folder and...

<pre>
sudo KBUILD_NOPEDANTIC=1 make
sudo KBUILD_NOPEDANTIC=1 make install
cd /lib/modules/$(uname -r)/kernel/drivers/net/atl1e
sudo insmod ./atl1e.ko
</pre>

Instantly the ethernet worked - no reboot required.

!LinuxDrivers.zip also contained an audio driver  - see below.

NOTE: This step (compiling and installing the ethernet kernel module) must be repeated after each kernel update.  Update the kernel, reboot, then repeat the above steps (until then, you will not have ethernet/internet access).

==== Video ====
Video performance was poor for playing videos so I installed the binary Nvidia driver. This was as simple as: "Go to KMenu->System->Hardware Drivers Manager and check the box to enable the restricted drivers for your NVIDIA card if the option is provided."

Note: In KDE, a hardware card icon will stay in the system tray after this. Press Ctrl-Esc and kill process jockey-kde to remove it from the system tray.

==== Audio ====
I found that the kmix slider would not change the line-in volume (also did not work via dcop kmix). I tried installing the Asus-provided audio drivers but this did NOT correct this issue. <nowiki>[[#sound|*Alternate Experience With Sound.]]</nowiki>

The workaround I found for the line-in volume was to adjust the line-in (capture0) volume in alsamixer. Or in a script use amixer:

<pre>
amixer set 'Capture',0 cap > /dev/null
amixer set 'Capture',0 50% > /dev/null
</pre>

In case you do want to install the audio drivers for some reason, this procedure works...
<pre>
apt-get install libncurses5-dev libncursesw5-dev

apt-get install gettext dialog
wget http://backports.org/debian/pool/main/a/alsa-utils/alsa-utils_1.0.11.orig.tar.gz
tar xvzf alsa-utils_1.0.11.orig.tar.gz
cd alsa-utils-1.0.11
./configure
make install

cd realtek-linux-audiopack-5.01  #wherever
./install

</pre>

The rest of the post-install setup was routine - no issues.  Suspend and hibernate appear to work normally in minimal tests.  I have been using the system several months and it is stable and fast.

=== Other Notes ===
If you use SystemRescueCD be sure to download the latest version (v1.1.0). I had an older version which would not boot on this board.

=== Other Components Used ===
* CPU: Intel Core 2 Duo E8500 Wolfdale 3.16GHz 6MB L2 Cache LGA 775 65W Dual-Core
* CPU Cooler: ZEROtherm CF900 92mm CPU Cooler
* CPU Paste: Arctic Silver 5 Thermal Compound
* Memory: 2GB kit (1GBx2), Crucial Ballistix 240-pin DIMM
* DDR3 PC3-10600 1333MHz
* 6-6-6-20
* Unbuffered
* NON-ECC
* 1.8V
* Crucial Part# BL2KIT12864BA1336
* Video: ASUS EN8500GT SILENT MAGIC/HTP/512M !GeForce 8500GT 512MB 128-bit GDDR2 PCI Express x16 HDCP Ready Video Card
* PSU: Antec !NeoPower 650 Blue 650W ATX12V / EPS12V SLI Certified !CrossFire Ready
* Hard Drive: Western Digital !VelociRaptor WD3000GLFS 300GB 10000 RPM 16MB Cache SATA 3.0Gb/s
* DVD Drive: ASUS DRW-2014L1T Black 20X DVD+R 8X DVD+RW 8X DVD+R DL 20X DVD-R 6X DVD-RW
* Monitor: BenQ V2400W Black-Silver 24" 2ms(GTG) HDMI Widescreen LCD Monitor 250 cd/m2 DC 4000:1(1000:1)

==== Comments On The Above Selections ====
I wanted a fast but quiet system that had good video for media but not for gaming.  The P5QC has some flexible features - takes both DDR2 and DDR3 memory, and has a fast FSB. I went with Crucial's Ballistix memory for stability, low latency, and the ability to overclock it a bit (has heatsinks on the memory). Video card has HDCP via a DVI connector (no HDMI, but same quality), and the video card is fanless which in my experience makes for a quiet system. Antec makes quiet and quality PSUs. The CF900 CPU cooler has heat pipes and a thermistor which controls the fan speed - pretty silent, especially when idle. Also got some ultra-quiet case fans. BenQ makes a nice monitor and this one has both DVI and HDMI (and DSUB).  System is extremely quiet and runs cool at CPU 35C MB 37C.

==== Comments On Build ====
This was a smooth build. CPU cooler fit great on this board (it's a rather large cooler with heatpipes that has problems with some board configurations - eg memory slots in the way). Make sure the heatpipes face your RAM, per the instructions. After reading reviews I bought Arctic Silver 5 (OEM tube) instead of using the grease that came with the cooler. I put two 'uncooked rice grains' worth of compound on the CPU and then screwed on the cooler. My temps seem to be good based on other reviews.

==== UPDATE: Solid State Drive (SSD) Added ====

Displeased with the Velociraptor's high-pitched whine, I upgraded to a 30GB OCZ Vertex SSD (OCZSSD2-1VTX30G) using kubuntu-8.04.2-alternate-amd64.  I can report that this drive works very well with the P5QC.  This makes for an extraordinarily fast system, even compared to the Velociraptor.  hdparm -t reports "201.03 MB/sec" compared to Velociraptor's 115MB/sec, with no seek time.  Spec is 200 read and 160 write.  I've had none of the stuttering reported with slower SSD drives (this drive has a 64MB cache which helps with that).  The Vertex line is currently (Mar 2009) one of the faster SSDs, competing with Intel's line.

A few notes:
I skipped the expensive mounting hardware and used velcro to hold the drive (which is very light and cool) - works great.

The firmware of this drive is reported not to be fully AHCI compatible. But I read reviews on OCZ's forum that indicated it worked okay, so I went with it. Ubuntu will only work with my Asus P5QC in AHCI mode, so this was a must. Also, the manufacturer is taking a very active role in developing the firmware, so I'm sure full AHCI support is coming. Nevertheless, I've had no issues using the drive in AHCI mode (I didn't upgrade the firmware, but I can't tell you what the firmware of my drive is - where to look?)

Each cell in an SSD has a finite number of writes before it dies. I think with the modern ones this is a pretty high number because the drive is rated MTBF 1,500,000 hours. They combat this limit with 'wear leveling' (spreading writes around the drive). And it's best to configure the system to minimize disk writes.

Linux gives you a lot of flexibility to configure the system to minimize wear. You don't have to do these things, but they help not only with wear-reduction but also speed, and they're pretty simple to change. Here are the steps I took after doing some reading on the subject:

* I made three 6G system partitions (two spares) and one 13G data partition on the SSD. (I like multiple system partitions available for testing upgrades, and if one eventually wears out, maybe I can use another.) I always keep <nowiki>[[http://en.wikibooks.org/wiki/How_To_Backup_Operating_Systems|partition backups]]</nowiki> so I'm not that concerned with failure.

* I located the swap partition on my 7200rpm conventional hard drive. It is generally recommended not to locate it on the SSD due to excessive wear.

* I located my (rarely used!) Windows XP system on the conventional drive. Windows is constantly accessing the drive so I assume it would not be good for the SSD (although the drive does advertise itself for Windows).

* I mounted /tmp, /var/log, and /var/tmp on a ramdrive (tmpfs). That means these folders are stored in memory only, which is lost when the system is shut off. Reason: these folders get a lot of write activity. An alternative if you want to keep your logs is to locate them on a conventional drive, or save their contents periodically or on poweroff.

* For the SSD partitions, I used ext3 but raised the commit time from 5 sec to 120 sec (and I may raise that further), and also specify noatime. ext3 is a journaling fs so it normally writes to the drive a lot. Reducing the commit time means that I may lose two minutes worth of data (on the system partition) in the event of power failure, etc., instead of 5 seconds worth. (That's what partition backups and battery UPS are for.)

* I changed the kernel dirty page writeback time to 120 seconds (Disclosure: I don't really know what this is - shhhhh. )

* I changed the I/O scheduler for the SSD to deadline instead of the default (cfq). Using cfq doesn't make any sense for a random-access device. You can also use noop, but thus far I think deadline behaves a little better. I left cfq as the scheduler for the conventional drives.

* Move Firefox's cache to a ramdrive, such as /tmp (mounted as tmpfs) or /dev/shm (default Ubuntu ramdrive), to reduce wear.

My detailed notes are below.

<pre>
SSD Changes

Add commit=120 and noatime to fstab ext3 / entry:
	/dev/sda1 /       ext3 noatime,commit=120  0 1

Add to fstab:
# For SSD:
	tmpfs /var/log tmpfs defaults,noatime,size=200M,mode=0755 0 0
	tmpfs /tmp tmpfs defaults,noatime,size=1000M,mode=1777 0 0
	tmpfs /var/tmp tmpfs defaults,noatime,size=500M,mode=1777 0 0

Note: Setup swap partition on a hard drive not SSD

Add to bottom of /etc/sysctl.conf:
# I added to reduce disk activity to 120 seconds
	vm.dirty_ratio = 40
	vm.dirty_background_ratio = 1
	vm.dirty_writeback_centisecs = 12000

Disable the part of pm-utils that will reset our sysctl.conf values by making the 
script that resets these values not executable:
	sudo chmod -x /usr/lib/pm-utils/power.d/laptop-tools

Add to /etc/rc.local just BEFORE line containing "exit 0":
# for SSD:
# Some apps won't start if they don't have their installed folders in /tmp
	for dir in apparmor apt cups dist-upgrade fsck gdm installer news samba unattended-upgrades ; do
	mkdir -p /var/log/$dir
	done
# Set sda to use deadline scheduler and FIFO batch to 1
	echo deadline > /sys/block/sda/queue/scheduler
	echo 1 > /sys/block/sda/queue/iosched/fifo_batch

Note: Alternatively, you can add "elevator=deadline" as a kernel boot option in 
/boot/grub/menu.lst, but this change will affect the scheduler of ALL drives 
(whereas the rc.local solution only affects the specified drives):
	kernel  /boot/vmlinuz-2.6.24-23-generic root=/dev/sda1 ro elevator=deadline

Note: You can use noop scheduler as an alternative to deadline
	http://en.wikipedia.org/wiki/Deadline_scheduler
	http://en.wikipedia.org/wiki/Noop_scheduler
	http://en.wikipedia.org/wiki/CFQ

Firefox cache to /dev/shm:
	In Firefox about:config right-click and create new string:
		browser.cache.disk.parent_directory
	and set value to
		/dev/shm/ff-cache

Reboot to affect changes

After boot, test these settings:
	cat /proc/mounts | grep commit
	cat /proc/sys/vm/dirty_ratio
	cat /proc/sys/vm/dirty_background_ratio
	cat /proc/sys/vm/dirty_writeback_centisecs
	cat /sys/block/sda/queue/scheduler
	cat /sys/block/sda/queue/iosched/fifo_batch
	cat /sys/block/sdb/queue/scheduler

References:
http://ubuntuforums.org/showthread.php?t=839998
http://starcubetech.blogspot.com/2008/10/ssd-optimization-on-ubuntu.html
http://forum.eeeuser.com/viewtopic.php?id=890
</pre>

=== Supporting Documentation From A Second Source ===

==== Ubuntu 8.10 64-bit LiveCD Install ====
I can report that everything worked out-of-box on installation. There was no need to install extra drivers for sound or Ethernet. I did change the bios to AHCI before attempting to install, but I did not flash the bios. I also have a 2 HD setup, and it recognized both drives.

==== Components ====
* ASUS P5QC LGA 775 Intel P45 Motherboard
* CPU: Intel Core 2 Duo E7300 Wolfdale 2.66 GHz 3MB L2 Cache LGA 775 45W
* CPU Cooler: ASUS V72
* Memory: 4GB (2 x 2GB), Mushkin XP Ascent w/eVCI Technology, DDR2 1066, Latency 5-5-5-15, 2.0-2.1V
* Video: EVGA 256-P2-N761-TR GeForce 8600 GTS 256MB 128-bit GDDR3 PCI Express x16 HDCP Ready
* PSU: Cooler Master 550W ATX 12V SLI
* DVD/CD Drive: SAMSUNG SH-S223Q with LightScribe
* Hard Drives: 2 x 250 GB Seagate Barracuda 7200.10, 16MB Cache SATA 3.0Gb/s
* Case: Cooler Master RC-690
* Fan Controller: Scythe KM01-BK KAZE MASTER 5.25 Bay

==== Thoughts And Conclusion ====
I decided to go with this motherboard for several reasons. 1. IgnorantGuru had good luck with getting it to work with Ubuntu. 2. I like the ability to upgrade the CPU to Quad, and upgrade the memory to DDR3 when the price drops. 3. ASUS (Enough said!!) I'm not a gamer, but this board offers lots of options in the bios to overclock if you are into that. I personally couldn't be happier with this setup. It was my first build and everything worked perfectly. The machine is very fast and stable.

=== Supporting Documentation From A Third Source ===

==== Components ====
* ASUS P5QC LGA 775 Intel P45 Motherboard
* CPU: Intel Core 2 Duo E8400 Wolfdale 3.0GHz 6MB L2 Cache LGA 775 65W Dual-Core
* CPU COOLER: ZALMAN CNPS9700 LED 110mm 2 Ball
* MEMORY: G.SKILL 2GB (2 x 1GB) 240-Pin DDR2 SDRAM DDR2 800 (PC2 6400) Dual Channel Kit
* PSU: ENERMAX MODU82+ EMD625AWT 625W ATX12V Ver.2.3 SLI & CrossFire Ready
* VIDEO: MSI N9800GT-T2D512-OC V2 GeForce 9800 GT 512MB 256-bit GDDR3
* STORAGE: Western Digital VelociRaptor WD1500HLFS 150GB 10000 RPM 16MB Cache SATA 3.0Gb/s
* STORAGE: Western Digital Caviar SE WD2500JB 250GB 7200 RPM 8MB Cache IDE Ultra ATA100 Hard Drive
* DVD/CD: LITE-ON Black 20X DVD+R 
* DVD/CD: SONY DVD Burner (Japanese version)

==== Summary Of Results ====
This is a dual-boot Kubuntu 6.10 “Ibex” 32-bit / Win XP 32-bit box. The build and OS installation went well based on the above information. Like the other two folks above, I set the BIOS to AHCI instead of IDE. For details on slipstreaming SATA drivers into nonAHCI complaint Win XP see detailed discussion below.

==== The Problem ====
Since purchasing my first computer (a 486 DX4 clone back in late '94) I've always built my own boxes; this being my 4th build among numerous upgrades to the three previous machines.

A few days ago my beloved Abit NF7-S v2 died and I was very disappointed to discover that Abit ceased making motherboard at the end of 2008. So I started my research at AnandTech, Tom's Hardware, Phoronix Media, and Newegg to see what was available.

Having always used AMD CPUs I discovered they were only recently back on par with Intel after several years of less than stellar products. The recent launch of the Phenom II line of processors being an exception. From past experience with poor Linux driver support from ATI, of whom AMD is now a partner, I opted to look into Intel for the first time. Reviews at Phoronix indicated the Intel Core 2 Duo line of processors were well supported in the Linux kernel.

So I decided to go with an Intel motherboard. But which one? Reviews at Newegg indicated the motherboard industry is not what it use to be, or perhaps people assembling their own boxes these days are not up to the task. Gigabyte reviews were not much better than Asus but I chose Asus over Gigabyte solely on the fact that Asus responded to poor customer reviews at Newegg where as Gigabyte had not.

Further research indicated there might be a problem with P45 chipset support under Linux, and especially the Asus P5Q line of mobos.

Of course - that appears not to be the case - and I'd like to thank IgnorantGuru, and the other fellow here, for their forum postings and setting up this excellent Wiki. I really was not too excited about my choices in mid-range motherboards, but thanks to them, I feel reasonably confident I'll like my new box.

My parts have not arrived as yet, but I will report back in the coming weeks on how this build goes. I'll be running a dual-boot of a minimal install of Windoze XP Pro (for Access, webpage reviews, and PowerPoints) and my everyday OS, Kubuntu upgraded to 8.10 Ibex, 32 bit. Sure wish I could dump the Doze but OOImpress is not on par with PowerPoint, yet, & Access 2000 is not fully functional under WINE. 

==== Comments On The Build ====
I received all my shiny new parts from Newegg and Amazon the other day and focused on the task of assembling a new machine.

The build was uneventful. I did learn that motherboards with metallic mounting holes should be screwed directly to the standoffs without plastic or paper washers. I rather suspected that was the case, but being a mechanic it's hard not to use a washer. Supposedly the screw bonds the mobo to the case, however, case bonding is achieved via the power supply so its really not a big deal if you use a washer or not. <nowiki>[[#washers|*Alternate Opinion On The Use Of Washers]]</nowiki>. (Indeed, after reading IgnorantGuru's alternate - and informed - opinion please ignore my comments about washers and go with his advice.)

Another interesting point was I had read a number of complaints regarding the side mounted IDE bus on the ASUS P5QC motherboard. I rather liked it however. And while it was a little difficult to attached the IDE ribbon cable from my two optical drives the lateral orientation keeps the cable flat against the drive rails making access to other components in the case, such as the RAM easier.

Also, I was shocked by the size of the Zalman CNPS9700 cooler. Wow, that thing is huge! But having experienced the ubiquitous cooling issues of 2.6GHz plus line of AMD Athlon XP processors I wasn't going to take any chances this time around. I'll certainly not hesitate to OC this Intel Core 2 Duo either. And I won't have to worry about cooling issues if I upgrade to quad core processor in the future. 

I had read complaints about the Zalman cooler and the flatness of the processor contact plate. I checked mine and it was very nearly perfectly flat. Some people apparently believe they need to lap the surface to ensure full contact with the processor. But true lapping involves both surfaces - the cooler and the processor - which would be silly and is the reason we use thermal paste between the two parts.

Finally, I discovered why I believed my Abit motherboard, or perhaps, the CPU failed. What's the first rule of troubleshooting? Correct, plugging in my new box I discovered I'd left DVI plug connection behind the monitor unsecured from a dust bunny search & destroy mission a month earlier. It apparently it had work itself loose and during my troubleshooting it was providing intermittent connections. Well that mistake cost me $700 bucks but I got a shinny new system out of it. I'm planning on moving my old 2.8GHz system into my 92 year old Dad's box as an upgrade to his 700MHz box. BTW: Dad runs Linux as well!

==== Comments On The Software Installation ====
I installed a dual-boot Kubuntu 8.10 (32-bit) and Win XP (32-bit) system. The trick was, since the Linux kernel apparently doesn't support the Intel P45 Northbridge, is to run both OSs under Advanced Host Controller Interface (AHCI) which "is a programming specification which defines the operation of Serial ATA host-controllers (also known as host bus adapters) in a non implementation-specific manner" (Wikipedia). This is all over my head, but as evidenced above, and elsewhere, it was clear Win XP wasn't going to work with the BIOS set to ACHI and Kubuntu wasn't going to work with the BIOS set to IDE. So I needed to settle on one standard, ACHI, and somehow force the other OS to accept that decision.

Given I don't own a floppy drive anymore and you have to F6 installations of XP to add SATA and RAID drivers via floppy prior to installing the Windows virus I needed to figure out how to get the drivers into the Windows installation disk. 

Nosing around on the 'net I discovered there's a method called slipstreaming whereby one can make an install CD of WinXP and include a number of items such as: SP2, hotpatches, special drivers, and even make your install unattended where it will completely install without having to answer a bunch of stupid questions.

Being a diehard Kubuntu guy I set out, initially, to build this WinXP CD under Linux. It would have been possible by extrapolating the directions at the following websites: http://tinyurl.com/4n7y5 http://tinyurl.com/c82ccx http://tinyurl.com/csgoo6 http://tinyurl.com/5z9yd http://www.stchman.com/boot_cd.html. 

One of the previous URLs talks about making boot disks under K3B which would leave the problem of having to rip the bootloader from the WinXP disk to install it on the new installation disk. In Windows you can do it with a program called "IsoBuster." The Linux equivalent is "Kiso" and is available in the Ubuntu repositories via Adept or the command line apt-get.

But then I ran across this website http://tinyurl.com/64u5vu which described the free Windows utility "nLite" and how to slipstream the drivers into Windows. It looked a lot easier, so I went with nLite and stuck SP2 as well as the required Intel SATA drivers into a new WinXP installation disk. 

From there I powered up the new system, configured the BIOS to my desired settings including the problematic ACHI setting. Then I installed a minimal WinXP setup as well as Kubuntu 8.10 Ibex 32-bit. Everything went perfect and the system is remarkably fast. 

==== Thoughts and Conclusion ====
My only complaint is KDE 4.1.4. I'm still trying to figure out the widgets stuff and how to get quick launch icons that are not available in the repositories into the taskbar. Guess I need to go read a "how to." KDE 4.1.4 also seems a bit buggy too. Hopefully KDE 4.2 will be an improvement.

==== UPDATE: Thoughts and Conclusion ====
I decided to roll back to Kubuntu 8.04 Hardy as 8.10 Ibex, in my mind, is not ready for primetime. KDE 4.x rather reminds me of when I first loaded SUSE 6.1 on to a machine back in '98. It works, but it's a bit buggy and not nearly as configurable as the mature KDE 3.x series. It looks like it will be a very nice GUI in the future however.

Mostly I missed a quick-launch tray and in general there aren't enough plasmiods available for the various applications I like to run such as Firefox, Thunderbird, Open-Dict (an awesome program if you do a lot of writing). Also, I like having a weather applet in my taskbar, panel, tray or whatever it's called in *buntu.

==== FURTHER UPDATE (Karmic 64-bit) 11/30/09 ====
Install Kubuntu 9.10 Karmic Koala 64-bit with NVIDIA 190.42 drivers. Works great. I had no problems with the install. Everything worked out of the box. There's no reason to not use 64-bit either anymore. At least none of which I'm aware and I run a variety of applications. Flash seems OK too, but then it's Flash which I generally hate anyway (thank God for Flashblockers!) 

KDE 4.x has finally come of age, however, it's still what I'd describe as a tad less "crisp" meaning it's "creamy" rather than firm and professional if that makes any sense. Maybe what I'm saying I'm not super fond of animated window transitions and translucent plasmiods and popups. But I suppose I'll get use to it.

If you're installing Karmic and video drivers, or for that matter any drivers, be advised starting and stopping the X server has changed as explained below.

Of further note, the reason I upgraded to Karmic was to get a Blue Snowball microphone (USB) to work. It works great under Karmic on both Audicity and Skype. You'll simply have to configure the each of the applications to use the Snowball as the input source. Note there's a lot of talk on the web about Alsa verses PulseAudio under KDE and that Skype is dependent on PulseAudio. I'm no expert, but having both audio "servers?" running doesn't seem to be an issue in Kubuntu Karmic. However, I'm not sure if this makes a difference, I'd be sure when you're installing the fresh OS that you have the Snowball plugged in. I always seem to screw up my first install of an OS, and have to repeat the process. The first attempt the Snowball did not work but I plugged it in after the initial installation. I also could not get Gpodder running because I did not first check dependencies and gpod seems to fail if the dependencies aren't satisfied prior to installation.

==== Install kubuntu-8.04.2-desktop-i386 (Hardy) with MSI GeForce 9800 GT & NVIDIA 180.44 (release 3/30/09) Drivers ====
Simply install Kubuntu Hardy (I'm using the final update 8.04.2 with Linux kernel 2.6.24-23) as detailed above by IgnorantGuru. Also use his solutions to get your Atheros Ethernet adapter running. 

 Alternate Experience With Sound (referenced above): I had a different experience with KMix under Hardy 32-bit. I seemed to be having the same problem as noted above but when I clicked on the 'mix' button to open the mixer I found most of the sliders in an off position. Bringing the levels up on the ones marked PCM, Surround, Center, & LFE has given me full control of the taskbar master volume. KMix is also reporting it's HDA Intel and ALSA + OSS support and drivers. I've made no changes as yet but plan to mess with the drivers in the future as I'd like to use the ASUS supplied ones if possible. My experince maybe because I used the Hardy release 8.04.2 and the fellow above used 8.04.1. In any case, I had no problems with the sound.

So, with your fresh install immediately download all applicable updates. There was a hundred plus on my machine. Reboot.

The following "cookbook" process is an extrapolation, with a tweek or two of my own, from the following four URLs:
http://www.nvidia.com/Download/index.aspx?lang=en-us (Driver)
http://tinyurl.com/cxqfre (Driver readme)
http://tinyurl.com/dmrvq7 (Linuxquestions post)
http://tinyurl.com/ckqpml (Ubuntuforms post)

Go to NVIDIA's website and download the driver NVIDIA-Linux-x86-180.44-pkg1.run (first URL above). Write down the path to where you downloaded it if you have a poor memory like me.

Load up the Adept Manager, click on the menu item Adept > Manage Repositories and insure "Source Code" is ticked under the "Kubuntu Software" tab and that all the boxes are ticked under the "Third-Party Software" tab. 

Then install (or make sure they are installed) the following packages: "linux-kernel-devel" "linux-source-2.6.24" "kernel-package" "linux-headers-2.6.24-23-generic" "linux-headers-generic." According to NVIDIA they are required for the driver package to compile the interface into your kernel. The driver installer will first look for what it needs on the internet, but, because we will be killing X during this install, you'll likely lose your internet connection so the installer will fall back on doing the compile itself and it will need access to the aforementioned packages.

Check to insure you have a "linker" installed on your system. The linker, usually /usr/bin/ld, is part of the binutils package. If not, install "binutils" via Adept.

<pre>
-Sidebar-
This sidebar is not necessary, but I find Midnight Commander to be a very handy utility when in terminal, especially if you are out of practice and have forgotten the various commands or are dyslexic, like me, and tend to mess up inputting commands. 

While you still have Adept running install "mc" by typing "midnight." If you remember DOS, you might remember Norton Commander, and I shouldn't have to explain any further. Just type 'mc' at the command prompt and you'll be pleased with the shell that opens to assist you with copying, moving, and editing files, plus a lot of other handy tools.
- End Sidebar -
</pre>

Of course, all of the forgoing installation tasks can be done in terminal via apt-get as well.

I'd do a reboot at this point. 

Now it's time for some command line stuff. Open a terminal and execute the following commands.

<pre>

sudo apt-get --purge remove nvidia*

sudo apt-get install build-essential

sudo lspci | grep VGA

sudo -i

cp /etc/X11/xorg.conf  /etc/X11/xorg.conf.bak

/etc/init.d/kdm stop

sh /path/to/NVIDIA-Linux-x86-180.44-pkg1.run

nano /etc/X11/xorg.conf

Device
....
Driver "nvidia"
Busid "PCI:##:##:#"
...

Device
....
Driver "nvidia"
Busid "PCI:##:##:#"
Option "sli" "auto"
...

:

/etc/init.d/kdm  start

cp /etc/X11/xorg.conf.bak  /etc/X11/xorg.conf

/etc/init.d/kdm  start

sudo nvidia-settings

</pre>

==== FINAL Thoughts and Conclusion ====
I'm very happy with my machine now. Rather, I should say I'm happy with the hardware as well as the software. The video is awesome and the driver seems rock solid - thanks NVIDIA! My Geforce 9800 GT is now recognized in Hardy, and (I don't know why) but so is my Dell 2407 WFP monitor, in the NVIDIA configuration GUI tool. The NVIDIA tool shows the monitor is running at it's native resolution of 1920x1200 in the "best fit" "frontend" & "backend" categories. Before, with the Adept driver "nvidia-glx-new," the best I could get from the monitor was something like 1600x1200. Intrestingly, as well, the NVIDIA driver does not show up in the hardware drivers manager. I suspect I'll have to repeat the steps above in the event of a Hardy kernel upgrade in the future.

"Karmic" see "further update 11/30/09" section above regarding Karmic 64-bit install. In short my machine is very happy running Karmic.

==== Alternate Opinion On The Use Of Washers ====

Many thanks to elaterite for his sharing his build experiences and slipstreaming info above.  Being an electrical engineer, I wanted to comment on the washer use, because it brings up a good issue.  It is indeed important to avoid washers in order to provide the multiple, short ground routes that the screw holes-to-case contacts provide.  Because of the high frequencies involved on the board, those short routes to ground are not equivalent to the long route to ground to the power supply, which will not be as responsive a ground, and may also cause inductance in other components.  You will also note all of the solid state capacitors on this board, which replace the larger electrolytic ones on older boards.  They are positioned around the board to again eliminate high frequencies and induction, and they enjoy short routes to ground through the screw holes.  If any ground was sufficient they could just use one big capacitor - there is a reason they use many capacitors close to the chips' ground pins, and many grounds to the case.

The result of a poorly grounded MB will be a system vulnerable to EM noise and spikes (both from it's own components as well as power fluctuations and outside EM), which can corrupt buses and memory, and even cause premature failure (eg mysterious hangs, crashes, and component failures).  Remember that there are many components inside the PC case generating EM noise.  Static electricity is also an issue.  People will sometimes tell me how they handle ESDs and don't worry about static.  But what they don't realize is that even if the component doesn't fail that day, by being exposed to those charges its lifetime may be shortened.  The same is true for the MB - another reason you want short routes to ground.  

To give you an example of this sensitivity, despite all my care building my previous system, just plugging a USB cable in without carefully and completely grounding myself first would cause the system to reboot, despite the grounded shell around the USB connector.

Best practice is to use no washers.  Just be careful not to overtighten the screws and crack the board - a common and often fatal error.  Just snug them.

=== Links ===
Forum Discussions:
* http://ubuntuforums.org/showthread.php?t=919619
* http://ubuntuforums.org/showpost.php?p=6973079&postcount=15

Asus Website: http://usa.asus.com/search.aspx?searchitem=1&searchkey=p5qc

----
CategoryHardware

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': https://launchpad.net/distros/ubuntu/+spec/edgy-apt-improvements
* '''Created''':  by MichaelVogt
* '''Contributors''': MichaelVogt
* '''Packages affected''': 

=== Summary ===

Some ideas for apt (low hanging) improvments for edgy.

=== Rationale ===

=== Use cases ===

=== Scope ===

I would like to add the following features for apt in edgy:
* provide libapt "pkgCacheFile::Update()" command and patch it into all libapt clients. It should also support "APT::Update::{Pre,Post}-Invoke hooks to make it possible to write out "stamp" files when a update happend. This makes it possible to give detailed information in e.g. update-manager when the last apt-get update happend (and if that was too long ago we can ask for reload)
* evaluate pdiff support for ubuntu (and see if the Summer of code project about it gives us something usable to solve this problem)
* discuss improving the apt-key handling by authenticating it against a master key (http://lists.debian.org/debian-devel/2006/05/msg01695.html)
* add a option to dpkgpm.cc to make it keep-going option if dpkg fails. Currently dpkgpm.cc will stop when dpkg fails during install. This is a problem when the install is split into several "unpack/configure" chunks (to satisfy Pre-Depends) and a early run fails. This can leave the system in a bad state with lots of broken dependencies. Having a "report-errors-but-keep-going" option is useful for the dist-upgrade situation, it would leave the system in a less bad state if a relatively unimportant package fails during the upgrade.
* install recommends by default. add a option to apt to install recommends by default and enable it by default. This probably needs coordination with debian because we need to idenitfy bogus recommends.

=== Design ===

=== Implementation ===

==== Code ====

==== Data preservation and migration ====

=== Outstanding issues ===

=== BoF agenda and discussion ===

* If apt continues after errors reported by dpkg, it should ''definitely'' not supply any --force options.  (Actually, I think it should never do that anyway.)  If apt doesn't supply --force then most of the damage that might be done should (with correct package dependencies ha ha) be prevented by dpkg's checking. -iwj

* I would like to see the "--purge" option as a default option when you remove a package using apt-get, aptitude, gnome-app-install, synaptic, adept, etc. This prevents to have many _almost_ removed packages (i.e. removed but with remaining config files). You can see those "almost removed" packages typing the command
   dpkg -l | grep ^rc

 I must to run the following line every time a package is removed in my system, in order to get a "clean" system without unwanted packages or config files:
   sudo dpkg --purge $(dpkg -l | grep ^rc | cut -d" " -f3)

   -- RicardoPérezLópez

----
CategorySpec

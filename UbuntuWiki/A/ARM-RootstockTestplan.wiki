{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

This page describes the procedure to test a rootstock filesystem image on a babbage board. You need an SD card, a babbage board indeed :) and some time.

=== Prepare an SD card ===

<pre>
wget http://ports.ubuntu.com/pool/main/r/redboot-imx/redboot-imx51-babbage_200952-0ubuntu1_armel.deb
sudo dpkg -x redboot-imx51-babbage_200952-0ubuntu1_armel.deb /

sudo apt-get install redboot-tools

wget http://people.canonical.com/~ogra/arm/babbage/vmlinuz-2.6.31-605-imx51
wget http://people.canonical.com/~ogra/arm/babbage/initrd.img-2.6.31-605-imx51

sudo redboot-install -k ./vmlinuz-2.6.31-605-imx51 -i ./initrd.img-2.6.31-605-imx51 -c "root=/dev/mmcblk0p2 debug-oem-config" -d /dev/mmcblk0

sudo cfdisk /dev/mmcblk0 (create a second partition)
sudo mkfs.ext3 /dev/mmcblk0p2
</pre>

=== Install rootstock and run it ===

<pre>
sudo apt-get install rootstock
sudo rootstock -f testimage
</pre>

Once rootstock produced the tarball, mount the second partition of the SD card and untar the rootfs on it

<pre>
sudo mount /dev/mmcblk0p2 /mnt
sudo tar xzvf <path to your tarball> -C /mnt
</pre>

=== Testing ===

After boot the oem-config UI should come up (note that the initialization phase is very slow, it will take some time, so be patient), if you used something like "-s gdm,xorg" or "-s kdm,xorg" with your rootstock build command above there should be graphical variants of oem-config, else it will just put up the console mode interface.

Please answer all questions of oem-config and watch it removing itself at the end of the install. After a reboot you should have a properly configured system.

If anything goes wrong with oem-config, please file bugs against ubiquity and attach /var/log/syslog and /var/log/oem-config.log, the debug-oem-config in the kernel cmdline above ensures that oem-config runs in debug mode by default and will write lots of extra info to the logfiles.

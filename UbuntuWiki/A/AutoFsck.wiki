{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


'''Please consider supporting AutoFsck by reading, and possibly signing the petition at the bottom of this page.'''

AutoFsck is a script which automates periodic disk checking in such a way that it no longer bothers the user at boot every 30-ish times, and is streamlined in a friendly graphical user interface.

AutoFsck ensures that the automatic disk check will no longer inconvenience you by making your boot times very long.

<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/prompt-for-fsck-on-shutdown|AutoFsck blueprint in launchpad]]</nowiki>

=== How Does it Work? ===

It's really quite simple, every time you shut down, AutoFsck finds information on your disks.  Every linux partition has two important number associated with it, one is the number of times it has been mounted, the other is the number of times it is allowed to before being checked.  AutoFsck looks at these, and if your drives are due for checking it asks if you want to check them.  If you say yes, your drives are checked before your computer shuts down.  If you say no, AutoFsck will ensure that the check will not run next time your computer boots.  You will then be prompted again the next time you shut down.

'''NOTE''' - AutoFsck is not dangerous, it does not stop fsck from running if the filesystem in question is flagged as unclean during boot.

=== Requirements: ===

At present, AutoFsck works on Ubuntu and derivatives (for example kubuntu and xubuntu).
More specifically, AutoFsck requires you to be using either GDM (the Gnome Display Manger) or KDM (the KDE Display Manager) to log in.  You can use any window manager or desktop environment (Gnome, KDE, Openbox, IceWM etc) so long as you are logging in through GDM or KDM (for example Xubuntu uses GDM).

=== Download ===

<nowiki>[[https://sourceforge.net/projects/autofsck/|Click here to go to download AutoFsck]]</nowiki> - see below for installation instructions.

See the AutoFsck v3.2 documentation at <nowiki>[[AutoFsck-Doc]]</nowiki>

You can also download the script as a tar.gz.  This is only intended for people who need to customise AutoFsck, do not download this unless you know what you are doing.  <nowiki>[[https://sourceforge.net/projects/autofsck/files/|Click here]]</nowiki> to brows the AutoFsck files and download the script.

=== Installation ===

Installing AutoFsck v3.2 is easy - you can install over the top of AutoFsck 2.0 or later:

* Download the archive from the link above.

* Either select 'open' from the download dialogue, or save the file and then double click it.

* When gdebi (the graphical .deb install manager) opens, click the 'install' button to install the package.

* Note that during the install, the terminal window in gdebi may ask whether you want to keep your version, or use the new version of the configuration file autofsckrc, it is recommended that you keep your version.

* If you want to remove Autofsck at any time, use synaptic (''System --> Administration --> Synaptic Package Manager'') to remove the package 'autofsck'.

=== Troubleshooting: ===

It seems that after installing AutoFsck, some people are prompted by it on every shutdown.  To fix this, change the frequency of the checks using the configuration menu (see <nowiki>[[AutoFsck-Doc]]</nowiki> for details).
  Changing the frequency of the checks may not be enough once it starts doing this (it wasn't for me). Jonathon suggested the following workaround, which did the trick:
    Get the list of partitions: `sudo fdisk -l`

    Reset the mount count on each partition: `sudo tune2fs -C 1 /dev/sda1` (for example)
      Note that the latter command won't work (and isn't needed) on partitions that fsck doesn't handle (e.g. swap or Windows partitions). ''~ncoghlan''

If you have any other problems, please contact me:
jmusther@gmail.com

=== News: ===

==== 32st April: ====
AutoFsck v3.2 has been tested on the upcoming 8.04 release of Ubuntu, and seems to work perfectly.  Further public testing and feedback is appreciated.

==== 32st April: ====
AutoFsck v3.2 has been tested on the upcoming 8.04 release of Ubuntu, and seems to work perfectly.  Further public testing and feedback is appreciated.

* Small bugfix regarding logging out and then shutting down later.

==== 3rd December 2007: ====
AutoFsck v3.1 has been released.  This version has provides a small bug-fix and some improved functionality:
* The prompt on shutdown now has a 2 minute time-out.  If you don't notice the prompt, your computer will not remain on, but continue to shutdown after 2 minutes.
* When setting the frequency of the checks, the previously selected frequency will be displayed.

==== 17th November 2007: ====
AutoFsck v3.0 has been released.  This version has quite a number of changes:
* Added KDM support.
* Added a configuration GUI - see <nowiki>[[AutoFsck-Doc]]</nowiki> for full details
** Audio prompt can be disabled/enabled
** Check can be done on shutdown or after a quick reboot (machine is then halted)
** The reboot method is default as it is more reliable.
** Frequency of checks (max_mount_count) can be changed from the GUI
** A test can be run.
** A small 'quick help' screen.
* Changed the prompts to make them easier to read.
* Changed the way AutoFsck runs the checks (through init)
* Restructured the code to make things neater.

==== 3rd October 2007: ====
AutoFsck v2.5 has been released.  This version improves a couple of things:
* The disk checks now occur on shutdown - rebooting is no longer required!
* When the prompt appears on shutdown, there is an audio prompt - some people were turning off their monitor and not seeing the prompt.
This page has been updated so see below for further information and downloads.

==== 31st August 2007: ====
AutoFsck is now distributed as a .deb, which is very helpful!
Even if you already have Autofsck installed, please download and install the .deb as it will mean that it's easier to upgrade or remove in the future.

=== Further Information About AutoFsck ===

AutoFsck was created by Jonathan Musther (jmusther@gmail.com), it is released under the <nowiki>[[http://www.gnu.org/copyleft/gpl.html|GNU General Public License]]</nowiki>, please use it and modify it as you want to.

It was designed specifically for Ubuntu (and derivatives), and has so far been tested on:
* Ubuntu 7.04 - The Feisty Fawn
* Ubuntu 7.10 - The Gutsy Gibbon
* Kubuntu 7.10 - The Gutsy Gibbon
* Xubuntu 7.10 - The Gutsy Gibbon
* Ubuntu 8.04 - The Hardy Heron

''If you know of other systems on which AutoFsck works, Ubuntu or otherwise, please add them here.''

AutoFsck is likely to work on any GNU/Linux system which uses GDM or KDM for it's graphical login.

=== Inclusion in Ubuntu ===

From the activity on the forums regarding the annoyance of the forced disk checks, I feel that AutoFsck, or at least something with its functionality should be included in the main Ubuntu Distribution as a dependency of Ubuntu-Desktop (as it is of dubious use on the server etc).

If you (the users) agree, please help me promote AutoFsck and get it included in the next release - 8.04.

See discussion on <nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel/ | ubuntu-devel]]</nowiki> mailing list.

** <nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel/2008-August/026028.html | AutoFsck - Technical Review]]</nowiki> thread
** <nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel/2008-August/026108.html | AutoFsck inclusion criteria]]</nowiki>

=== Feedback, Suggestions, Comments etc ===

If you have any feedback, suggestions or comments, please post them below or email me; jmusther@gmail.com

==== Feedback/Discussion ====

* '''PLEASE NOTE - I have removed all comments which have been addressed in version 2.0 or 2.5'''

=== Technical Details ===

Coming soon for AutoFsck v3.

==== Comments ====

Is every piece of text translatable in PO files? (a must for Ubuntu inclusion)

Is there a log kept by fsck or autofsck in case the fsck failed & perhaps why it failed?
 A log is kept by fsck in /var/log/fsck/

That dialogue could use some love:
* A title - something like "Scheduled disk check"
* More descriptive buttons - "[Continue Shutdown] [Check disks]"
** '''Unfortunately, this isn't possible with the current implementation, as zenity is used for dialogues.'''

In Hardy, USplash now lets you skip the disk check, and shows a progress bar when it happens, so AutoFsck should no longer be needed. --MuratGunes
  While the splash screen change is a definite improvement over the old behaviour, it is still vastly inferior to deferring the fsck execution to shutdown (you know, when I've just indicated I'm not going to be using the computer for a while anyway). If I didn't want to use my computer ''now'' I wouldn't be switching it on. ''~ncoghlan''

From the launchpad feedback requests: it would be nice if the unattended behaviour at shutdown was configurable (i.e. how long the timeout should be before deciding the shutdown is unattended, and whether no response means "yes, run fsck", or "no, don't run fsck"). For example, on my desktop, I would probably turn off the audio warning, set the timeout to 15 seconds or so, and flag no response as indicating it is OK to proceed with the automatic restart and filesystem check.  ''~ncoghlan''

=== AutoFsck (or similar) Petition ===

It has been well established that many users are unhappy with the way that fsck interrupts the boot process after a pre-determined number of boots.

Running fsck in this way is a 'just in case' check; it's purpose is to safeguard against filesystem errors which may arise during normal use, not to resolve specific issues which can be predicted (such as errors when the system is powered down without unmounting the filesystems).  In protecting against this fsck does a great job, however the implementation, from a usability point of view, is severely lacking.

Ubuntu strives to be a Linux distribution 'for human beings', it aims to be simple for every day users, and powerful for advanced ones.  Ubuntu is run by people in all walks of life on desktops, laptops and servers, and for many of those people, specifically the ones using laptops, waiting for a disk check on boot is simply unacceptable.  This is a ''''major usability issue.''''

To fix this usability issue, AutoFsck was created.  AutoFsck isn't a perfect implementation, but it does solve the usability issue and even when the implementation lets them down, most users agree that the functionality presented to the user, is in line with what the distribution should be doing by default.

Many users of AutoFsck have contacted me, asking how they can promote it with the specific goal of having it, or something providing its functionality, included in the default Ubuntu (non-server) install.  There is a <nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/prompt-for-fsck-on-shutdown|launchpad blueprint]]</nowiki>, and I have tried to promote this, but so far I have had no success.

So to further the goal of getting something which provides functionality in line with AutoFsck into the Ubuntu distribution, I created this wiki petition.

'''To sign it, please add your name, email address (or link) and any comment to the table below.  '''
* ''If you are uncomfortable supplying your email address, then don't, or replace it with a link, perhaps to your ubuntuforums profile.''
* ''If you're uncomfortable supplying your real, or full name, just use your first name.''
* ''If you are not confident editing a wiki, email your details to me and I will add them for you: jmusther@gmail.com''

{| class="wikitable"
|-
| '''Name:'''
| '''Email/Link:'''
| '''Comment:'''
|-
| Hannoskaj
| <nowiki>[[http://ubuntuforums.org/member.php?u=797522|Hannoskaj]]</nowiki>
| I even like better run fsck by hand than have it spoil my boot...
|-
| NicolaeIstratii
| nistratii@gmail.com
| AutoFsck is really a better solution then what you pushed to 8.04
|-
| Jonathan Musther
| jmusther@gmail.com
| Please include the functionality of AutoFsck in Ubuntu.
|-
| John Bartlett
| bart34@shaw.ca
| AutoFsck really should be an integral part of Ubuntu. It is a great timesaver.
|-
| expatCM
| <nowiki>[[http://ubuntuforums.org/member.php?u=170670|expatCM]]</nowiki>
| 
|-
| StrangeQuark
| <nowiki>[[http://ubuntuforums.org/member.php?u=314522|SQuark]]</nowiki>
| AutoFsck is a lifesaver!
|-
| Vadim Peretokin
| vperetokin@gmail.com
| This program should have been included by default a long while ago.
|-
| Craig Critchfield
| tundrowalker40@yahoo.com
| Usability 101: Computers should wait on users, not vice-versa...this program puts that in practice.
|-
| John Ohrt
| j.f.ohrt@gmail.com
| a needed usability and data protection measure for Ubuntu
|-
| Markus Lobedann
| markus.lobedann@gmail.com
| really useful for laptop-users who are in a hurry!
|-
| Bart Libert
| lapino@gmail.com
| If not autofsck, something similar has to be included
|-
| Matt Price
| matt.price@utoronto.ca
| The time has come and gone!  let's see some action!
|-
| Jari J. Lehtinen
| namewithdots@gmail.com
| This should absolutely be as a standard in Ubuntu installations!
|-
| Gabor Halaszvari
| g.halaszvari@portmax.hu
| essential for laptop-users
|-
| Jan Niklas Hasse
| jhasse@gmail.com
| autfsck4tw
|-
| Jan Bockaert
| janbockaert@gmail.com
| It should be a part of hardy
|-
| Birk Reichenbach
| <nowiki>[[http://ubuntuforums.org/member.php?u=69460|Birk]]</nowiki>
| If not autofsck, something similar has to be included!
|-
| Austin Roberts
| linux@ausiv.com
| I've found new users to be very turned off by having to wait for fsck so they can use their computers. At the very least put AutoFsck in the repositories.
|-
| DFreeze
| 
| We REALLY need a GUI way to configure disk checks
|-
| Edward Flick
| <nowiki>[[https://launchpad.net/~directrix1|Directrix1]]</nowiki>
| I have been burned on trips too many times by the stupid automatic bootup fsck.  No more!!!
|-
| DavidONE
| 
| I'm kinda amazed that this is still an issue, given the OSS ethos of 'building for the user'.  It's very irritating that fsck steals ~15 minutes from me whenever it decides.  It's my ******* computer!
|-
| John Wiersba
| <nowiki>[[http://ubuntuforums.org/member.php?u=220988|JohnWiersba]]</nowiki>
| In the past, I've turned off automatic fsck with something like sudo tune2fs -c0 -i0 /dev/sda2, but that's not really advisable.
|-
| Lee Sharp
| LeeSharp
| I think there is a good argument for default inclusion, but please get this in the repos anyway.  I can add it to my default install script that way. Also vote for this at http://brainstorm.ubuntu.com/idea/1031/
|-
| wersdaluv
| <nowiki>[[http://ubuntuforums.org/member.php?u=202558|wersdaluv]]</nowiki>
| This is a big issue for me. What if I have to do a presentation and my audience will be waiting because of forced fsck? What if there's an emergency and I have to boot my computer asap but my computer is being forced fscked?
|-
| Mark William Darbyshire
| <nowiki>[[http://www.markdarb.com/]]</nowiki>
| It would be very useful to be asked whether the check should be performed during boot (perhaps with an autoresponse of no after 10 seconds). It would also be good if a user could choose to do this at a specific time, perhaps even from within Ubuntu. Perhaps there should be a special maintenance reboot that you can perform from time to time that performs tasks such as this. I use Ubuntu on a laptop, so boot the computer several times a day. The disk check is an unnecessary annoyance, considering that there are several simple solutions available.
|-
| gsoundsgood
| <nowiki>[[http://ubuntuforums.org/member.php?u=294876|gsoundsgood]]</nowiki>
| a must for hardy
|-
| Mathias
| <nowiki>[[http://www.joomlatools.org/|Mathias]]</nowiki>
| Another step in making ubuntu user friendly: unobtrusive disk checking
|-
| Enrico Gueli
| <nowiki>[[http://e-gueli.blogspot.com/|e-gueli]]</nowiki>
| That's exactly what I was looking for!!
|-
| Nick Coghlan
| ncoghlan@gmail.com
| Even if it doesn't go into the base install, it would be nice to get this into the repository so that it is only an apt-get away
|-
| Randy Blake aka: randiroo76073
| randiroo@gmail.com
| This is a much needed addition to Ubuntu install, if not then it should at least be in repositories.  Many people have been turned off by long boot process, while I understand the reasoning there needs to be options to accommodate users such as laptops & others.
|-
| Chris Murphy / chrismurf
| http://www.chrismurf.com
| I use Ubuntu for robotics -- waiting for a robot to do an FSCK at the wrong time can be a major hassle.  I really support including the AutoFsck approach, or something similar.
|-
| Michael SanAngelo
| <nowiki>[[http://ubuntuforums.org/member.php?u=143403|jms1989]]</nowiki>
| This is great. No more long boot times
|-
| petr.bug
| petr.bug@gmail.com
| Who is responsible for promoting blueprints? Step out and explain.
|-
| Tom Wright
| tom.tdw@gmail.com
| Waiting is something you do in Windows, not linux.
|-
| Daniel Bermudez
| https://wiki.ubuntu.com/Nergar
| This should be the default
|-
| Niels Egberts
| niels.egberts@gmail.com
| This is a fantastic feature that is a must for every linux distrobution
|-
| Alex Roi
| clp982@gmail.com
| Please include AutoFsck in Ubuntu and in its repositories. IMO, forced fsck is not an acceptable solution, AutoFsck really should be the default.
|-
| Teitur Arnarson
| teitur@home.se
| I almost didn't realize how to sign up for this. It's the edit button on the top to the left. I absolutely want this script.
|-
| Radoslav Schudich
| ssuuddoo@gmail.com
| Thank you. I looked for that package. It helped me a lot, pitty it isn't in the default repositories. It should be there!
|-
| Marco de Visser
| ---
| I cannot wait for 10+ minutes for my pc to start, but I don't mind if my pc takes 30 minutes shutting down! So please Canonical people, add this (or something like it) to the repo!  "Umuntu ngumuntu ngabanye bantu" - Xhosa saying. (People are people because of other people).
|-
| Steve Burdine
| higfructose327@fastmail.fm
| Thanks! Much rather do check on shutdown than start up,  AutoFsck should be in the repositories at least, if not a default option.
|-
| Jay Pipes
| jay@mysql.com
| Indeed, this really should be the default.  No one really cares how long shutdown cares compared to bootup...
|-
| Lyudmil Antonov
| lantonov@yahoo.com
| Disk-checking is the major barrier that keeps me off Ubuntu. Just when I am in a hurry to finish something in time, I start my PC, and ... hiccup, I have to wait and watch percentages moving so slowly. I just hit the restart button and then log into Windows to get my job done somehow, leaving Ubuntu for my leisure. This script is a must for a serious OS.
|-
| Dimitris Symeonidis
| azimout@gmail.com
| 
|-
| Qazzian
| Qazzian@gmail.com
| Leaving fsck to run at the end of the day when I'm not supposed to be working is a lot more beneficial to me and my company. I can't afford to have half an hour at the start of my day waisted waiting for the check to complete. This will really help ensure that my disks are all up to 'scratch'.
|-
| Jan Marien
| -
| all the effort that is made to speed up the boot process, is completely worthless compared to a disk check every 30 times the disk mounted.  Doing a lot of work and winning a few seconds is no big deal with this 15 minute slow-down about once a month.  no pun intended: I'm happy with all this people enhancing this OS, it's just a pitty their work is not recognized, because of this one slow process during boot time.
|-
| Maître Poireau
| maitre.poireau@gmail.com
| Thank you for this simple but great solution...
|-
| Sean
| svaens@gmail.com
| Thanks for this solution to an annoying (but necessary) process. Performing this check at shutdown when I am finished is much better than performing it when it want my Ubuntu NOW! ;) I hope this gets accepted into the Ubuntu repositories!
|-
| Venkatesh Nandakumar
| google :)
| I thought I had voiced my opinion about this before.. anyways, this software I believe, should be installed by default, or the user should be asked on first login!
|-
| Joshua Fox
| <nowiki>[[http://www.joshuafox.com]]</nowiki>
| Of course!
|-
| Randy
| <nowiki>[[TangPangWang@gmail.com]]</nowiki>
| Common sense improvement to a wonderful collective work.
|-
| Hrafnkell Pálsson
| ---
| Please include the functionality of AutoFsck in Ubuntu.
|-
| Mark Buck (Kaivalagi)
| m_buck@hotmail.com
| Makes total sense for the fsck check to be done on shutdown instead...and to also have a gui to setup the configuration on all drives too.
|-
| Hans Kramer
| jlam_kramer@yahoo.com
| Cannot believe it did NOT make it into Ubuntu yet.
|-
| Kees Hink
| kees xxx fmf xx nl
| This should be in standard Ubuntu Desktop.
|-
| Milad Najjar
| miladn at hotmail.com
| I join the others in calling for adding AutoFsck.
|-
| Tony Austin
| gigaday@googlemail.com
| It would be great to see this functionality in core Ubuntu, having to wait 20 minutes for an fsck when I boot up is a disaster when I have an appointment in court.
|-
| Andrew
| triplemaya@gmail.com
| This is a simple and effective way to make the distribution more user friendly, and, as Tony's example shows, simply essential in many business situations. Please let's have it in the standard desktop right away.
|-
| Jason Spiro
| http://www.jspiro.com
| 
|-
| Matthijs
| https://launchpad.net/~wensveen
| 
|-
| Alain Paschoud
| https://jeux.webalain.ch
| Very good initiative
|-
| Emanuele Cisbani
| cisba@tiscali.it
| Excellent solution!
|-
| Aldric L'Hernault
| https://launchpad.net/~aldric-lhernault
| A must have !
|-
| Isaac Witmer
| isaaclw@gmail.com
| This should AT LEAST be in the Repository? Source-forge is killing me!
|-
| Andrew
| andrew@1dtv.com
| This is an important addition to the distro, and LONG overdue.
|-
| Marco Boninsegni
| bonimba3@gmail.com
|-
| Jordan
| http://jordanmendler.com
| This is imperative. I have a multi-TB raid, and the fsck takes way too long to run on startup.
| 
|}

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Installing the Validation Server ==

'''Go back to the <nowiki>[[Accomplishments|accomplishments main page]]</nowiki>'''.

The server works by scanning all the Ubuntu One shares from .trophy files that have not been signed. It then adds these to a queue. The server also checks for new shares to accept.

We then process the queue one by one to validate the .trophy files, and if they validate, add a .trophy.sig file.

This service requires an Ubuntu Server with a headless Ubuntu One setup. For information on setting up a Headless Ubuntu One, see https://wiki.ubuntu.com/UbuntuOne/Headless

'''Please note: the server is set up specifically with my own (Jono Bacon) use-case in mind; there are therefore lots of hard coded paths and such.'''

=== Get the branch ===

<pre>
cd ~/
bzr branch lp:~jonobacon/ubuntu-accomplishments-system/validation-service
</pre>

=== Setting Up ===

Add the PYTHONPATH to the login:

<pre>
nano ~/pam_environment
</pre>

Add the following to the file:

<pre>
PYTHONPATH=$PYTHONPATH:/home/jono/validation-service
</pre>

Create the directories required:

<pre>
mkdir ~/queue
mkdir ~/logs
mkdir ~/accomplishments
</pre>

Create a .matrix file (an example is included, just rename it and edit):

<pre>
cp validation-service/.matrixexample .matrix
</pre>

Specify where your Ubuntu One 'Shared With Me' directory is and where the 'queue' directory is.

=== Starting the services ===

The various services are started as cron jobs. Edit your cron:

<pre>
crontab -e
</pre>

Add the following:

<pre>
* /1 * * * * /home/jono/validation-service/cron_br.sh
* /2 * * * * /home/jono/validation-service/cron_wo.sh
* /2 * * * * /home/jono/validation-service/cron_sh.sh
</pre>

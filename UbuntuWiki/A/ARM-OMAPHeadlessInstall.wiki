{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


{| class="wikitable"
|-
| <tablestyle="float:right; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;">'''Table of Contents'''<<BR>>
|}

== Ubuntu 11.10 replaces Headless with Server images ==

For 11.10 Headless images were deprecated. Use server images instead

https://wiki.ubuntu.com/ARM/Server/Install

For older versions read on.

== Installing pre-installed OMAP3/4 Headless Images on Ubuntu 11.04 ==

Follow these steps;

=== Download ===
Download the compressed image from http://cdimage.ubuntu.com/releases/11.04/release/

/!\ Check the md5sum to verify the image

=== Copy the image to SD card ===

You should write the raw image to a blank SD card. For Natty make sure you're using at least a 2 Gig SD card so that you have enough room for the image.

Steps:
# Insert the SD card in your host computer's SD card reader.
# Make sure the SD card is not mounted (just umount it if needed).
# Identify the correct device name (like /dev/sdb).
# Run the following command to write it: 
<pre>
gunzip -c ubuntu-11.04-preinstalled-headless-armel+<omap image>.img.gz | sudo dd bs=4M of=/dev/<device name>
sync
</pre>

or

<pre>
sudo sh -c 'zcat ubuntu-11.04-preinstalled-headless-armel+<omap image>.img.gz > /dev/<device name>'
sync
</pre>

~- '''(note: replace <omap image> with either omap for beagle/beagleXM/other omap3 based system or omap4 for panda/blaze/other omap4 based system and the raw block device for <device name> - not a partition. i.e. /dev/mmcblk0 )''' -~
=== Booting the image ===

==== On Pandaboard and BeagleXM ====

# Attach a serial cable to the serial port on the board. ~-(note:  The board is already wired for a straight serial cable - no null modem needed)-~ 
# Open a terminal on your host system and launch a serial console monitor with the port set for 115200,n,8,1
** '''Screen:''' screen /dev/ttyUSB0 115200
     ~- ''' * you can end the screen session by pressing Ctrl-A and then K ''' -~
** '''Minicom:''' TERM=vt100 minicom 
     ~- ''' * the TERM=vt100 setting is needed for proper output formatting ''' -~

     ~- ''' * you can end the minicom session by pressing Ctrl-A and then X or Q ''' -~

1. Insert the SD card in the system and switch on the board.

The system should start booting with output shown on your serial terminal.  After the board resizes the image to fill the SD card, it will reboot and start oem-config to prompt for localization and user info.

==== On older Beagleboards that boot from nand ====
Insert SD card with new image into the beagleboard and reset while holding User1 button on system

/!\ On omap3 systems with a modified NAND (i.e. beaglebord C series) do the following:  

On a serial console connected to the system, halt any autoboot script and type 
<pre>
setenv bootcmd 'mmc init;fatload mmc 0 0x82000000 boot.scr;source 0x82000000'; setenv autostart yes; saveenv; boot
</pre>

On revision B7 Beagleboards and older(?) the syntax is slightly different. So if you are getting messages saying 'mmcinit usage' and 'source command not found' errors try:

<pre>
setenv bootcmd 'mmcinit;fatload mmc 0 0x82000000 boot.scr;autoscr 0x82000000'; setenv autostart yes; saveenv; boot
</pre>

The system should start booting (note that this step is only necessary if you have a NAND and the system does not default to reading boot.scr from SD)

=== Update for BeagleXM Rev B & Rev C ===

To boot on these newer boards, a new kernel will be needed.  
# Download http://people.canonical.com/~tobin/natty/beagleXM-natty.tgz
# Untar with "tar -zxf beagleXM-natty.tgz
# Mount the first SD card partition at your host PC and copy uImage to it.  Unmount
# Mount the second SD card partition at your host PC and copy vmlinuz-2.6.38-8-omap to <mountpoint>/boot.  Unmount
# Switch on the board with the SD card inserted.

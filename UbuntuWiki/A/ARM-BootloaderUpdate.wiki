{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

=== Updating X-Loader and U-Boot using flash-kernel ===

For OMAP boards we allow the user to update the X-Loader and/or U-Boot files on the boot partition.
The original boot-files are put there at image creation time but can be changed at any time.

This is seldom required but if a new U-Boot or X-Loader package is made available in the archives the user
will be notified and will be able to update them.[TODO document notification method when it is implemented]

==== Example usage ====

===== Default invocation =====

The path to the files needed for the current board are figured out and used

$sudo flash-kernel --update-bootloader
Using u-boot partition: /dev/mmcblk0p1
/usr/lib/x-loader/omap4430panda/MLO is already installed in the boot partition.
/usr/lib/u-boot/omap4_panda/u-boot.bin is already installed in the boot partition.

This shows the tool did not update anything as the boot loader is the same as the user was trying to flash (md5sum matches)

===== Explicit bootfile path =====

Usually one should use the package in the archives, but if for some reason you want to update to a specific MLO (X-Loader) or u-boot.bin
you can pass the path to the tool. Any arguments after --update-bootloader will be considered file paths and copied to the boot partition.

$sudo flash-kernel --update-bootloader /path/to/MLO /path/to/u-boot.bin

==== Problems ====

If the board does not boot after the update, you need to fix the VFAT boot partition using another machine by copying the .bak files over the newly written ones or by putting any known good files on it.

File bug reports on the <nowiki>[[ https:--bugs.launchpad.net-ubuntu-+source-flash-kernel | flash-kernel package ]]</nowiki>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:edubuntu-content-server
* '''Packages affected''': moodle, moodle-server-standalone, edubuntu-content-server

=== Summary ===

We will make it easier to install Moodle in Edubuntu as part of a content server solution for educators. We will reduce the number of installation questions via preseeding; if Recommends are still not supported for hardy we will create a moodle-standalone metapackage to provide a single package install that results in a working Moodle with configured database.

=== Release Note ===
The edubuntu-content-server package handles all the heavy lifting to create a server for many kinds of educational content; e.g., interactive course materials and assignments, collaborative documents, and locally cached wikipedia articles can live right here on your very own server.

=== Rationale ===
The existing moodle package still has some rough edges, and there must be a straightforward way to install Moodle with its and the choice offerings in other content server areas on an Edubuntu system.

=== Use Cases ===
* Marjorie downloads the Ubuntu Education CD to transform her Ubuntu server into an education content server. Marjorie will install the edubuntu-content-server package from the edubuntu CD and is instructed to open a Web browser to http://localhost/moodle/ to complete the installation, but no debconf questions will be asked.
* Shamu starts Synaptic and selects the 'moodle' package for installation. She is asked a minimum of debconf questions and a working Moodle is the result.

=== Design ===

* The edubuntu-content-server metapackage will depend on multiple content-related applications (e.g., moodle-server-standalone, wiki, obby, etc.).
* The moodle-server-standalone metapackage will use proper preseeding values to install a database, webserver and moodle with the least set of needed debconf questions.

=== Implementation ===

* Recommends will be honored in the near future, so the existing package will begin installing the database server through that.
* The existing Moodle has quite a number of other projects' sources included in the upstream source; these should be broken out and packaged separately, and the moodle package should add these as dependencies so security updates get easier. It would be nice to complete this process, and we will get as close as we can by hardy's release. (See BoF agenda & discussion below.)

==== Code Changes ====

* We will modify the set of debconf questions and add properly preseeded values where necessary to minimize what is asked by default, and we will create a metapackage with dependencies sufficient to set up a complete, working Moodle by installing only one package.

=== Test/Demo Plan ===

Install an ubuntu LAMP server.
Install the edubuntu-content-server package on top.
Browse to http://localhost/moodle/ and run the php configuration part to finish the installation.
Check moodle runs correctly after this procedure.

=== BoF agenda and discussion ===

* Embedded code copies
** Debian and Ubuntu maintain a list of embedded code copies in various programs, having these libraries externally packaged would help for updates, security or otherwise.  Making sure the code uses the system copies instead of the internal copies would be great.  (Best to actively not install the internal copies in the release packages). 
** http://svn.debian.org/wsvn/secure-testing/data/embedded-code-copies?op=file&rev=0&sc=0
** for moodle, there is currently listed (there may be others worth investigating):
*** AdoDB (libphp-adodb)
*** AdoDB-XML Schema
*** ipatlas
*** PHPMailer (libphp-phpmailer)
*** Smarty (smarty) 
*** htmlArea
*** TinyMCE (tinymce)
*** bennu
* Web application packaging draft Debian policy: http://webapps-common.alioth.debian.org/draft/html/
** Ubuntu Server Team has been discussing this policy and wwwconfig-common (which has flaws): https://blueprints.launchpad.net/ubuntu/+spec/improved-web-application-framework
* Due to moodle's history of security issues, it would be valuable to have a good working relationship with the upstream and have them maybe help produce updates for stable releases
** http://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=moodle

----
CategorySpec
CategoryEdubuntuSpec

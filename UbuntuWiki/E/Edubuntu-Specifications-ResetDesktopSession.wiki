{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': UbuntuSpec:edubuntu-reset-desktop-session
* '''Packages affected''': a new package will be created to install this session and these scripts.

=== Summary ===

'''Deprecated. See''' https://blueprints.launchpad.net/ubuntu/+spec/edubuntu-k12ltsp-features

Users' desktop configurations sometimes need to be reset, and some buggy applications leave cruft around in the form of processes and /tmp files. Edubuntu will solve these problems by integrating scripts from K12LTSP.

'''While I realise that one of the major use cases comes from LTSP, this doesn't seem at all Edubuntu-specific. Could you talk to the desktop teams and find out whether this can be applied more generally? Given the choice, I'd rather that this sort of thing be available across the board. --ColinWatson'''

=== Rationale ===
Users sometimes lose access to Gnome menus, or other desktop configuration strangenesses prevent them from using their desktops. Leftover session processes and /tmp files can render a user unable to log in at all. These situations must be addressable within Edubuntu.

=== Use cases ===

* Margie accidentally deletes her Gnome panels and doesn't have access to the menus and doesn't know how to get them back. She logs in again and selects the "Reset My Desktop" session. After clicking through a warning "YOU ARE DELETING YOUR DESKTOP CONFIGURATION OMG!" her desktop configurations (Gnome & KDE) are removed and she is given a default system session with a fresh configuration.

* Romulus is working in Lab A and Remus decides to pull out his network cable. Romulus' session is lost because he has no server connection. He authenticates to another terminal but leftover processes and /tmp files from his previous session prevent his desktop from starting completely and he is unable to work.

=== Scope ===
Leftover processes and /tmp files are bugs that need fixing; Edubuntu will document these bugs and provide a workaround that system administrators can enable as they wish.

=== Design ===
Edubuntu will provide a "Reset your desktop" session that users can select to start over with Gnome & KDE. This session already exists in K12LTSP and will require only minor changes for integration into Edubuntu. Edubuntu will provide warning in the session selector that the user is deleting all desktop configuration.

Some applications are leaving around processes and /tmp/ files after sessions are terminated (by logout or network failure, etc.). Edubuntu will ship but not enable the scripts from K12LTSP that clean up session processes and /tmp/ files at login/logout. Edubuntu will document how to enable these cleanups should the administrator wish to do so. In addition, the Edubuntu team will study and document which processes are hanging around and leaving cruft under /tmp/ in order that these application bugs can be logged and fixed.

=== Implementation ===

EricHarrison's <nowiki>[[https://wiki.ubuntu.com/EdubuntuResetDesktopSession?action=AttachFile&do=get&target=Reset+your+desktop+session+from+K12LTSP|"Reset desktop" script from K12LTSP]]</nowiki> whacks everything under these locations: .screenrc .kde .kde2 .gnome_private .gconfd .gconf .nautilus .gtkrc .gnome. Edubuntu will protect .gconf/apps/evolution. A zenity warning will be presented to the user when this session is selected to make the impact clear.
'''Why does .screenrc need to be removed? That seems pretty unnecessary. --ColinWatson'''

==== Code ====

Code will be borrowed from K12LTSP.

==== Data preservation and migration ====

Only evolution's configuration will be preserved and left in place. All other configuration files to be reset will be rolled into a tarball named something helpful such as "desktop-configuration-backup.tgz".

----
CategorySpec
CategoryEdubuntuSpec

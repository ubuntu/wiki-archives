{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="background:#ffffcc;border:1;">This page is specific to Ubuntu versions 6.10, 8.04, 8.10 , 9.04 and 9.10
|}
''If you find this information applicable to additional versions/releases, '''''please''''' edit this page and modify this header to reflect that. Please also include any necessary modifications for this information to apply to the additional versions.''
----

{| class="wikitable"
|-
| <tablestyle="background:#ffffcc;border:1;"> /!\ There is a bug in the ltspfsd daemon on 64 bit LTSP Clients that affects at least Ubuntu 8.04, 8.10, 9.04 and 9.10. Local devices can be enabled as described on this very page but no data can be written to them. The bug only affects 64 bit LTSP clients - 32 bit clients work as expected. The bug is already in the Ubuntu bug database (https://bugs.launchpad.net/ltsp/+bug/415952) and also known upstream. The currently recommended solution is to only use 32 bit clients even on 64 bit servers.
|}

This page describes how to enable LTSP 5 local devices on ubuntu and what to regard in edubuntu (where it is enabled and installed by default).

Thin Client Local Device Access is done via the ltspfs filesystem. This filesystem was specifically developed for LTSP use around the famous fuse filesystem.
In ubuntu the packages ltspfs and ltspfsd handle this, in an edubuntu system that was installed from the 6.10 (or later) CD these packages are installed by default.
To generally enable local device access you need to make sure the ltpfs package is installed on the ltsp server and the ltspfsd package is installed in the Thin client environment (usually in /opt/ltsp/i386).
So first of all make sure these two packages are installed where they belong:

<pre>
 ogra@edubuntu:~$ dpkg -l ltspfs|grep ^ii
 ii  ltspfs         0.4.3-0ubuntu4 Fuse based remote filesystem for LTSP thin clients
 ogra@edubuntu:~$
</pre>

Seems the server side is fine, so lets check the thin client environment

<pre>
 ogra@edubuntu:~$ sudo chroot /opt/ltsp/i386 dpkg -l ltspfsd|grep ^ii
 ii  ltspfsd        0.4.3-0ubuntu4 Fuse based remote filesystem daemon for LTSP thin clients
 ogra@edubuntu:~$
</pre>

Great, seems the software is in place.

To run the ltspfs implementation, the LOCALDEV variable must be set to True in the ltsp configuration file (/opt/ltsp/i386/etc/lts.conf). 

If you don't have such a file yet, there is an example of this file installed in /opt/ltsp/i386/usr/share/doc/ltsp-client-core/examples/lts.conf, /opt/ltsp/i386/usr/share/doc/ltsp-client-core/examples/lts-parameters.txt.gz explains the possible parameters that can be used to override autodetected values or switch on additional features.

Make sure not to forget to reboot your Thin clients if you changed the lts.conf file.

/!\ Note, all of the above is already done automatically on edubuntu systems that were installed from the 6.10 CD or later.

Now that we know the requirements are fulfilled and the configuration is correct, we need to enable the users we want to have access to local devices. For security reasons users are not enabled by default to access Thin Client block devices. The user and group administration tool has an option for this you can easily enable through a checkbox, note that this step is also needed on edubuntu:

<nowiki>[[File:enable_ltspfs.png]]</nowiki>

If you're still having trouble, see DebugLocalDev

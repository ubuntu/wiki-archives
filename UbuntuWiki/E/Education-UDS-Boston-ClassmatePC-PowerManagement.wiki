{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:classmatepc-power-management
* '''Packages affected''': linux-image-$(uname -r)

=== Summary ===

The classmate PC has a USB Flashdisk as its primary harddrive. Newer 2.6 kernels forcefully unload USB host drivers and switch off the power of the USB device so after resume there is no root filesystem anymore which then breaks the running system.

=== Release Note ===

The ClassmatePC architecture now fully supports suspend and resume.

=== Rationale ===

ClassmatePC needs full suspend/resume support.

=== Use Cases ===

Anna wants to go home after school and finish the homework she started because the bus was late. Anna presses the powerbutton of the ClassmatePC she got from her school, clicks on suspend in the upcoming dialog and closes the lid. When Anna arrives at home she opens the lid, presses the powerbutton again and finds her desktop as she left it when leaving school.

=== Design ===

A proper handling to override the unloading and poweroff of the USB devices needs to be added to the ubuntu kernel.

=== Implementation ===

Forward-port the patch under http://lwn.net/Articles/198333/ to our current kernel release.

=== Test/Demo Plan ===

Suspend the classmate PC through either the gnome-power-manager icon or the logout dialog.
Test if it resumes correctly after waking it up through pressing the power button again.

=== BoF agenda and discussion ===

The above mentioned patch seems to do exactly what we need, according to the mailing list thread GregKH isn't opposed to incude it upstream at some point. If it is possible to apply this patch to our kernel source that should be done.

----
CategorySpec
CategoryEducation

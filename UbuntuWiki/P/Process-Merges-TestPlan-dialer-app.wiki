{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* '''Test plan for component''': dialer-app
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/system-apps
* '''Trunk URL''': lp:dialer-app
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/dialer-app

=== Dependents/Clients ===

None

=== Test Plan ===

'''This test plan is not supposed to be complete; use it to guide your manual testing so they dont miss big functional areas that are part in the component; also this should be used as guideline to inspire the exploratory testing which should be adapted smartly based on the real content of a MP'''

* Install latest -proposed image on phone
* Install freshly build MPs that are needed for landing
* Ensure that all AP tests pass on the device.
* Test making a phone call
* Test receiving a phone call
* Test that notification gets displayed on incoming call when phone is locked
** add a contact in address book with an avatar
** call the phone from that contact
** ensure the notification correctly shows the contact's name, avatar and phone number
** ensure the messaging menu shows the correct contact name, avatar and phone number for missed called
* Perform all of these steps of receiving a call with the phone locked (press power button to lock screen then call the phone) and with phone unlocked.
* Perform all of these test with dialer app running an dialer app not running
* Test placing a call on speakerphone
* Test calls are added to call log
* Test that missed calls are added to messaging menu indicator
* Test that you can call back from Recents view, from both entries at the top and bottom of list
* Test that you can open a contact's details from call log
* Test that you can save a number from call log into a new contact
* Test that you can send a message from the call log
* Test dual-sim
** If don't have a dual sim phone, setup emulator according to instructions here: https://docs.google.com/a/canonical.com/document/d/1VTl0urE-caZSmv3sUqPQs2A2NKC4VHMf20XSq7n2pKU/edit
** test that voice call can be made on either sim by selecting the sim name in the dialer
** test that if no default sim has been set in system-settings that user is prompted when place their first call (not supported yet)
** test that phone calls are made by default on the sim that was selected in system-settings as the default (not supported yet)
* Test MMI
** dial *#06# and ensure the phone's IMEI number is displayed
* Test Bluetooth
** pair a Bluetooth headset using system-settings
** with headset paired, make or receive a call on Ubuntu phone and ensure the audio is routed through the BT headset
** while on the call, ensure that the speaker icon in the dialer app has a Bluetooth icon
** tap the icon to display a menu of all the audio routes (Bluetooth, Speaker, Ubuntu Phone)
** switch routes by selecting one from the menu and make sure the audio is switched to that device
** hang up the call
** make sure next call is automatically routed to Bluetooh (if Bluetooth is connected it should be the default route)
** if using a bluetooth device that can make calls (car kit, for example), start a call from the bluetooth device and make sure dialer-app UI correctly displays the call
* Test emergency calls
** with the screen locked (showing the greeter), enter the emergency mode and check that the header indicates it is only for emergency calls. Also check that on a dual-sim phone it does not show the SIM selection on Suru divider.
** Test with SIM(s) installed
** click Emergency Call button from lockscreen
** verify Call button is enabled
** dial a valid emergency number for your locale and press Call button. Verify the call is started to be placed and quickly hangup!!
** dial a non-emergency number and press Call button. Verify user is prompted to enter an emergency number and number field is cleared.
** repeat the same tests but first lock your SIM with a PIN
** Test with no SIM(s) installed
** click Emergency Call button from lockscreen
** verify Call button is enabled
** dial a valid emergency number and press Call button. Verify the call is started to be placed and quickly hangup!!
** dial a non-emergency number and press Call button. Verify that the call is attempted to be placed and fails (because it's not an emergency number). All phone numbers will be attempted in this case without SIMS and the network will reject non-emergency numbers. 
** Test with Flight Mode on
** dial a valid emergency number, the phone should leave flight mode and place the call.
** dial a non-valid emergency number. Verify user is prompted to enter an emergency number and number field is cleared.
** Test with SIM installed and locked
** Configure your SIM card to be locked by a PIN. With it locked, try calling an emergency number: the call should go through
* Test fullscreen mode
** lock the phone
** answer the call when it comes in
** verify that the dialer is shown in fullscreen with no indicator panel displayed
** verify that pressing the back button brings you to greeter
* Test Call Exit
** Test 1
** call the Ubuntu Phone
** hang up on the remote side
** verify screen is shown saying "Call Ended" with the duration
** Test 2
** call the Ubuntu Phone
** switch to another app
** hang up on the remote side
** switch back to dialer and verify that the keypad view is shown
** Test 3
** call the Ubuntu Phone
** switch to another app
** hang up on the remote side
** call the phone again
** answer the phone
** verify that the dialer is displayed showing the Live call view with active duration of call
* UI tests
** Check that when the app is opened, the bottom edge tip is visible.
** Check that after starting to interact with the dialpad the bottom edge tip goes away
* URL handling tests
** Install url-dispatcher-tools
** Test that invoking `url-dispatcher tel:123456` correctly opens dialer with the number 123456 displayed
** Test that invoking `url-dispatcher tel:123456#123` correctly opens dialer with the number 123456#123 displayed
** Test that invoking `url-dispatcher tel:///%2B123456` correctly opens dialer with the number +123456
* Proximity Sensor
** make a call from Ubuntu Phone
** after call is connected, put phone up to ear
** verify the screen goes black
** move phone away from ear, verify screen turns on
** now plug in a headset
** verify that moving phone up to ear does not cause the screen to go black
** unplug headset
** verify that holding phone up to ear makes the screen go black again
** move phone away from ear, verify screen turns on
** now enable speakerphone
** verify that the screen does not go black when move the phone up to ear
* Dual Sim recognized
** Test one
** install dual sims into krillin phone and reboot
** shell into phone
** run "mc-tool remove ofono/ofono/account0; mc-tool remove ofono/ofono/account1"
** reboot
** launch the dialer app
** verify that you can make calls on either sim once the indicator shows they have signal strength
** Test two
** setup phone with dual-sim
** flash the krillin phone with --wipe
** quickly go through the wizard screen accepting all the default
** when completes, launch dialer or messaging app
** make sure you can make a call/send a message once indicator shows you have signal strength
* Conference calls
** call a number from ubuntu phone
** now call another number from ubuntu phone
** press the "merge calls" button after both calls are connected
** play music loudly near the ubuntu phone
** take the other two phones into another room far from the music so you can't hear it.
** verify that you hear the music playing from the phone's earpiece
** press the mute button on the ubuntu phone
** verify that you can no longer hear the music playing from the other phone's earpiece
** start over, and repeat the same steps with this time having the other phones call the Ubuntu Phone
* Call transition, answer and hangup
** launch the dialer
** lock the phone
** call the phone and answer
** verify that when dialer is displayed that the Live Call view page is shown and you don't first see the keypad view (with Emergency Calls in the header)
** hang up the remote side
** verify the call end page is displayed, then the greeter is shown without first returning to the keypad view
* Test media key
** plug in a headset into phone
** call the phone
** press middle button of headset and verify it answers the call
** during an active call, press the middle button again and it should hang up the call
** call the phone again and answer using middle button, do not hang up
** now call the phone from another phone (2nd call)
** press the middle button to answer the second call, and verify the first call is placed on hold
** press the middle button again, and verify the second call is disconnected and the first call is placed back on hold
* Test number call back
** for a given contact, store a number with the country code (i.e. +1 617 555 1212)
** in dialer, call the contact without using the country code by keying in the number (617 555 1212)
** hang up the call
** swipe from the bottom to show recent calls
** tap on the call just made
** verify you get the dialer keypad with the number you just dialed (617 555 1212) not with the country code
** open the address book and call the contact, verify full number populates dial pad
** hang up the call
** use the recents calls and tap on the call just made
** verify the full number populates the dial pad (+1 617 555 1212)
* Test DTMF keys
** Call another phone and make sure all the keys produce a tone both locally and at the remote end
** Change the language to chinese, and repeat the procedure above
* Test header state
** launch dialer for first time
** make sure that header does not first say "No Network" before showing the carrier name in the header (i.e. "AT&T"). The behavior should be the header is blank until the proper network status is shown.
* Test contacts
** test that you can edit a contact from inside the app
** test that you can create a new contact from inside the app

  

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Semi-Automated DSL Frugal Install ==

=== Introduction ===
What started as an experimental process may now become our default method of getting Linux onto these old laptops.  Many of these laptops don't have hard drives or CD drives.  If they do have CD drives, some will not even boot from CDs.  So to get around this issue, we are copying "images" of Damn Small Linux onto large batches of hard drives and then installing them into the laptops.  Rather than debugging installation issues, this allows us to focus more on how well Linux is actually running.  End result: this makes the refurbishing process much faster by removing more failure modes.  

=== Procedure ===
This process assumes that you have are using hard drives that have had DSL already installed to them.  For info on installing DSL onto drives, see the section on DSL installtions further down.
# Power down the laptop (make sure it is really off)
# Remove the old hard drive and caddie, if one exists
# Insert drive with DSL installed
# Power on the laptop
# If you get a message that says "no OS detected" you may need to manually select it in the bios
# If you're lucky, you will get to the grub bootloader menu with a nice graphical image that says "NTR Linux Laptop"
# Select the first line item in the menu "DSL 3.4.8"
# You should see DSL beging to boot with a many message being splashed across the screen.
# When you get to the DSL desktop, it's safe to assume the install when well.  Now we need to put the laptop's hardware specifications onto NTR's label.  To do this, we need to query a few values from the command line:
  a. Disk Size <pre>
$ sfdisk -s /dev/hda
</pre>
  0. Memory Size <pre>
$ grep MemTotal /proc/meminfo
</pre>
  0. Processor Speed <pre>
$ grep "cpu MHz" /proc/cpuinfo
</pre>

=== Problem Resolution ===
This is list of known issues and how to resolve them.  New ones will be added as they are found.
 1. '''Problem:''' I can see a large, black border around the DSL desktop.
  a. You must change your resolution from 800x600 to 1024x768 for the frame buffer
## Boot laptop so you're at the DSL desktop
## Open a terminal and type: <pre>
$ sudo nano /cdrom/boot/grub/menu.lst
</pre>
## Find the first line that says "vga=788"
## Change that 788 to 791
## To save the changes, press CTRL+x, then Y, then ENTER.  (just look at the menu at the bottom of the editor)
## Reboot and your desktop should now have a resolution of 1024x768 <<BR>><<BR>>
# '''Problem:''' When I power on the laptop, I get to the Grub bootloader but it's all garbled.
  a. Your video doesn't work well with our default image and you must turn it off
## Boot laptop so you're at the DSL desktop
## Open a terminal and type: <pre>
$ sudo nano /cdrom/boot/grub/menu.lst
</pre>
## Find a line near the top that says "splashimage"
## Comment out that whole line by typing a pound (#) at the front of it
## To save the changes, press CTRL+x, then Y, then ENTER.  (just look at the menu at the bottom of the editor)
## Reboot and you'll find that the splashimage is gone, leaving you with a black and white text menu

=== DSL Installation ===
This semi-automated process installs Damn Small Linux (DSL) onto any 2.5" hard drive that has at least 250 MB of disk space.  The process is as follows:
# Bring the target drive to the imaging PC
# Disconnect the USB end of the USB-to-IDE adapter from the USB extender cable
# Connect the IDE end of the USB-to-IDE adapter to the IDE connector on the 2.5" hard drive
# Connect the USB end of the USB-to-IDE adapter back to the USB extender cable
# You should hear the hard drive power.
# Wait about 5 seconds.  You should see a one line terminal message about a drive being detected.
# Run the disk imaging script:
  a. At the terminal type the following: <pre>
$ sudo ./DSL-Imager-CLI.py
</pre>
## When prompted, select the iso image by entering the number next its name
## When prompted, select the target drive by entering the number next its name (usually /dev/sdb)
## Summary info is listed.  Press 'y' then ENTER if the information is correct.
## The partitions get created and formated.  You will then be prompted to continue with the copy process.  Press ENTER to proceed.
## Check the output for failures.  If you don't see any errors, then the imaging has worked properly.  
# Disconnect the USB end of the USB-to-IDE adapter from the USB extender cable
# Disconnect the IDE end of the USB-to-IDE adapter from the IDE connector on the 2.5" hard drive
# Place in stack of completed drives (mark with asterisk) or install directly into a laptop

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Test plan for component''': repowerd
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/Common
* '''Trunk URL''': lp:repowerd
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/repowerd

=== Test Plan ===

Test target device: a laptop that can run unity8

Note that, at the moment, a laptop is needed for full testing, as most desktop monitors lack software backlight control, and thus repowerd's brightness handling won't have any effect.

== Manual Tests ==

* Reboot and verify that repowerd has started at boot.

* In lightdm and unity7 (i.e., non-mir sessions), check that:
** blanking/unblanking the screen still works as expected (i.e. as if repowerd was not running)

* In a u8 session, check that:
** brightness can be changed by the corresponding component in system settings
** screen blanking/locking timeout works
** screen blanking/locking timeout can be changed by the corresponding component in system settings
** switching to another VT and back turns the screen on and restarts the screen blanking timeout
** closing the lid suspends the laptop (in some cases this takes a few seconds), regardless of any repowerd or logind suspend inhibitions. You can acquire inhibitions with:
*** sudo repowerd-cli active
*** sudo systemd-inhibit --what=sleep --who=me --why=because --mode=block sleep 1000
** closing the lid when an external display is connected does not suspend the laptop
** Suspending after an inactivity timeout works and is affected by inhibitions
*** Set the suspend inactivity timeout to, e.g., 30 seconds with:
**** sudo repowerd-cli settings inactivity suspend line-power 30
**** sudo repowerd-cli settings inactivity suspend battery 30
*** Disable suspend inactivity timeout with:
**** sudo repowerd-cli settings inactivity suspend line-power 0
**** sudo repowerd-cli settings inactivity suspend battery 0
** calendar and clock alarm events are triggered

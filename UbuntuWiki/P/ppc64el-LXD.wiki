{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== LXD on POWER Intro ==

<nowiki>[[http://www.ubuntu.com/cloud/tools/lxd|LXD]]</nowiki> is now supported also on ppc64el architecture, and you can exploit all the POWER architecture with LXD. 

=== Support ===

==== Ubuntu release as the 'hypervisor' ====
LXD packages is available only on Ubuntu 15.04 so far. 

==== Ubuntu release as containers ====

As containers, you can install all Ubuntu releases available for ppc64el, i.e, all Ubuntu releases since 14.04 are available as images. The names for the images are:

{| class="wikitable"
|-
| '''Ubuntu Release'''
| <:> '''Image name'''
|-
| <:> 14.04
| ubuntu/trusty/ppc64el
|-
| <:> 14.10
| ubuntu/utopic/ppc64el
|-
| <:> 15.04
| ubuntu/vivid/ppc64el
|-
| <:> 15.10
| ubuntu/wily/ppc64el
|}

==== Hypervisor mode ====

You are able to use LXD on all POWER running mode, as:

{| class="wikitable"
|-
| '''Hypervisor mode'''
| '''Supported'''
|-
| Bare metal
| <:> Y
|-
| KVM Guest
| <:> Y
|-
| PowerVM Guest
| <:> Y
|}

=== Image server ===

The current image server that contains ppc64el containers are:

<pre>
images.linuxcontainers.org
</pre>

== Step by Step Tutorial ==

In order to be able to install and use LXD on ppc64el architecture, you need to have Ubuntu version 15.04 and install the lxd packages as:

<pre>
$ sudo apt-get install lxd   # Install the lxd package
$ newgrp lxd
$ sudo systemctl start lxd  # start lxd daemon

</pre>

Now you have LXD running on your environment, you can connect to a image server. The image server that contains the pcpc64el images are ```images.linuxcontainers.org```. Let's create a image repository pointing to this directory and list the ppc64el images available:

<pre>

$ lxc remote add imgsrv images.linuxcontainers.org
$ $ lxc image  list images: | grep /ppc64el  
| ubuntu/trusty/ppc64el (1 more) | 7008c3d1cf42 | yes    | Ubuntu trusty (ppc64el) | ppc64le | May 23, 2015 at 1:33am (BRT)  |
| ubuntu/utopic/ppc64el (1 more) | d5f1695dd47b | yes    | Ubuntu utopic (ppc64el) | ppc64le | May 23, 2015 at 1:44am (BRT)  |
| ubuntu/vivid/ppc64el (1 more)  | 3015a0ab9705 | yes    | Ubuntu vivid (ppc64el)  | ppc64le | May 23, 2015 at 1:56am (BRT)  |
| ubuntu/wily/ppc64el (1 more)   | 4863fba5527f | yes    | Ubuntu wily (ppc64el)   | ppc64le | May 23, 2015 at 2:07am (BRT)  |

</pre>

You can instantiate any of those images as simple as:

<pre>

$ lxc launch imgsrv:ubuntu/trusty/ppc64el 1404

</pre>

As soon as you do that, you are going to have a container named ```1404``` running with ubuntu 14.04 release.

You can list the containers running using the ```lxc list``` command, as:

<pre>
$ lxc list
+------+---------+------------+------+-----------+
| NAME |  STATE  |    IPV4    | IPV6 | EPHEMERAL |
+------+---------+------------+------+-----------+
| 1404 | RUNNING | 10.0.3.202 |      | NO        |
+------+---------+------------+------+-----------+
</pre>

Here after, this 1404 is a traditional linux container.

== Limitations ==

=== Live migration ===

Live migration is still not working on ppc64el because the ```criu``` package is not building on ppc64el architecture yet.

=== Upstream release ===

There is a recommendation to use the latest upstream version, as the lxd package available in wily, which should be installed without problem on vivid.

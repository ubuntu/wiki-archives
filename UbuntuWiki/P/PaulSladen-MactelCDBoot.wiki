{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

The crazy new Apple machines are:

* i386
* EFI+ACPI based
* Bootstrapper only reads HFS+

and (Since 2006-04-05):

* ''Boot Camp'' Legacy VGA BIOS and El Torito MBR CDs.
** Boots from the MBR.  Sometimes.

=== Current implementations ===

==== GPL ====

* parted libparted/fs_hfs
* hfsplus libhfsp0
* linux/fs/hfsplus

==== Apple AFSL 2.0 ====

* Darwin HFS+

==== Apple AFSL 1.1 ====

* Apple disk

=== HFS (not plus) ===

* cdrtools/libhfs (from hfsutils v2.0)
* hfs-utils

currently at our disposal, we have:

* `mkisofs`
** can produce a HFS overlay, but not HFS+ overlay
** can ''bless'' an HFS file/directory, but not an HFS+ one
* Kernel HFS+ filesystem drivers
** require root to build the FS, can't do overlay...
* `hfstools` package, which can't do formatting or anything much in the way of writing except for removing files
* Mac OSX, apparently this is how the http://www.mactel-linux.org/ guys built their CD.

Kamion tried doing a patch for the blessing, but it's probably the wrong thing:

 http://people.ubuntu.com/~cjwatson/tmp/31_hfs_bless_file.dpatch

=== Testing ===

Presently the only ways to test this is a good HFS+ image is to:

* get the image to mount under Linux
* test it in a real Mactel

Since I don't have a real Mactel, the second is hard.

How the mactel-linux CD is built:
<pre>
<gimli> prepare the cd, copy files to an intel osx box, make mini hfs image, create cd
<gimli> loog at the addon.tar.bz2 on the live cd
<gimli> there are scripts inside it ;)
<gimli> the convert.sh is the intresting one you need to run on the intel osx box
</pre>

hfsutils is lacking.  You can *mkdir* make directories.  Or you can *rm* delete files.  Ho ho ho.

http://developer.apple.com/technotes/tn/tn1150.html
http://developer.apple.com/documentation/index.html#HEADING99-0
http://darwinsource.opendarwin.org/tarballs/apsl/bless-37.1.tar.gz
<code>sudo bless --folder "$DIR" --file "$FILE" --labelfile refit.volicon --setBoot</code>

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== ubuntu-push ==

  Test plan for component:: Ubuntu Push Notifications client-side daemon
  Component checklist::
  :: Is the merge from `lp:ubuntu-push/automatic`?
  Trunk URL:: <nowiki>[[https://code.launchpad.net/~ubuntu-push-hackers/ubuntu-push/trunk|lp:ubuntu-push]]</nowiki>
  Ubuntu Package URL (LP):: https://launchpad.net/ubuntu/+source/ubuntu-push

=== Dependents ===

None.

=== Test Plan 1 ===

** Run the autopilot tests.

=== Test Plan 2 ===

** Install packages to be tested
** Setup a ubuntu one account
** Install the hello app from the store
** Start hello app
** Register with random nickname
** Slide from the bottom, enable different visual notifications
** Send message to yourself -> check that it is received
** Send message from one device/emulator to another, or send to yourself and switch quickly to another app (if app is focused, notifications are not shown)
** Lock screen, send notification to device with locked screen: sound/vibration should work, popup should not.
** Regression test for <nowiki>[[https://bugs.launchpad.net/canonical-devices-system-image/+bug/1507510|bug #1507510]]</nowiki>: Make sure Hello App is focused, lock phone and immediately send a notification. sound/vibration and popup should work. Alternatively, you can send a notification to yourself, but you have to lock the phone immediately after sending.
** From the bottom sliding panel: set the counter to another value, and click the button to set it immediately. Confirm that it changes accordingly.
** Send a persistent notification, then clear it using the clear persistent notifications button.

Things that are known not to work: 

** Messaging menu only works 2nd time you try
** Sound and vibrations fail on emulator

{i} If you cannot login using the hello app, please ping ralsina, who is running the hello push server.

=== Test Plan 3 ===

** copy /etc/xdg/ubuntu-push-client/config.json to ~/.config/ubuntu-push-client/config.json and change "log_level": "debug"
** initctl restart ubuntu-push-client
** turn on flight-mode, the log at .cache/upstart/ubuntu-push-client.log should have at least:
    <code>… DEBUG control: connected:false</code>
    <code>… DEBUG control: prevDontPoll:false dontPoll:true wakeupReq:<true/false> holdsWakeLock:<true/false></code>
** turn on wifi (flight-mode still on), log should have:
    <code>… DEBUG control: connected:true</code>
    <code>… poller.go:226: DEBUG control: prevDontPoll:true dontPoll:false wakeupReq:<true/false> holdsWakeLock:<true/false></code>
** turn off cellular data, and forget any close by Wi-Fi networks, log should have:
    <code>… DEBUG control: connected:false</code>
    <code>… DEBUG control: prevDontPoll:false dontPoll:true wakeupReq:<true/false> holdsWakeLock:<true/false></code>

The values for wakeupReq and holdsWakeLock are inconsequential for this particular test.


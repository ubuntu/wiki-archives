{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Test plan for component''': telepathy-ofono
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/system-apps
* '''Trunk URL''': lp:telepathy-ofono
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/telepathy-ofono

=== Dependents/Clients ===

* dialer-app: https://wiki.ubuntu.com/Process/Merges/TestPlan/dialer-app
* messaging-app: https://wiki.ubuntu.com/Process/Merges/TestPlan/messaging-app

=== Test Plan ===

'''This test plan is not supposed to be complete; use it to guide your manual testing so they dont miss big functional areas that are part in the component; also this should be used as guideline to inspire the exploratory testing which should be adapted smartly based on the real content of a MP'''

* Install latest (trusty-proposed) image on phone
* Install freshly build MPs that are needed for landing
* Ensure that all unit tests pass on the device.
* Ensure that ''/usr/lib/telepathy/mission-control-5'' and ''/usr/lib/telepathy/telepathy-ofono'' are running after phone rebooted
* Ensure of all of the dialer-app tests pass: https://wiki.ubuntu.com/Process/Merges/TestPlan/dialer-app
* Ensure of all of the messaging-app tests pass: https://wiki.ubuntu.com/Process/Merges/TestPlan/messaging-app

* Testing audio routing support:
** Bluetooth (handsfree):
** Connect a HSP only device:
*** Testing making a voicecall
*** Testing receiving a voicecall
*** Test media playback after hanging up the call, to confirm audio is back to previous known state
** Start a voicecall, then connect the HSP device:
*** HSP should be activate by default, overwriting the previous mode
** Connect a HSP+A2DP device:
*** Test media playback before starting the call, to confirm audio is using the A2DP device;
*** Stop media playback and test making a voicecall
*** Test receiving a voicecall
*** Test that A2DP is enabled by default after the call, by testing media playback
** Start a voicecall, then connect the A2DP+HSP device:
*** HSP should be activate by default, overwriting the previous mode
*** Test that A2DP is enabled by default after the call, by testing media playback
* Test wired headset:
** Testing making a voicecall and confirming audio/mic from wired headset is used
** Testing receiving a voicecall and confirming audio/mic from wired headset is used
** Testing speaker mode during a voicecall with wired headset
** Ringing should go by default only to wired headset if connected
* Ensure ofono accounts keep responding after system suspend
1. sudo apt-get install python3-dbusmock
2. pgrep -f systemd-logind | xargs sudo kill
3. sudo python3 -m dbusmock --template logind &
4. sudo dbus-send --print-reply --type=method_call --system --dest=org.freedesktop.login1 /org/freedesktop/login1 org.freedesktop.DBus.Mock.EmitSignal string:"org.freedesktop.login1.Manager" string:"PrepareForSleep" string:"b" array:boolean:"true"
5. mc-tool dump | grep "Current: offline" && echo "Test failed" || echo "Test OK"
* Ensure ofono accounts keep responding when there is no wifi/data connection
1. Disable wifi and data connections.
2. Reboot the device
3. Make sure the device can still make/receive calls and messages.
4. Enable wifi and make sure the device can browse the web.
5. Disable wifi
6. Make sure the device can still make/receive calls and messages.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Test plan for component''': https://wiki.ubuntu.com/Process/Merges/TestPlans/ofono
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/Common
* '''Trunk URL''': https://github.com/rilmodem/ofono
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/ofono
 
----

== Setup ==

As some of these tests may require modified apns-conf.xml files, the environment variables <code>OFONO_SYSTEM_APNDB_PATH</code> and <code>OFONO_CUSTOM_APNDB_PATH</code> may be used to trigger ofono to use the specified files instead of the reading them from the hard-coded paths.

Also, the env vars <code>OFONO_CUSTOM_MCC, OFONO_CUSTOM_MNC, OFONO_CUSTOM_IMSI, OFONO_CUSTOM_SPN</code>, and <code>OFONO_CUSTOM_GID1</code> may be used to override the values read from the current SIM card.  This allows a tester to simulate SIM cards from different carriers and/or simulate poorly programmed SIM cards. 

== Basic Internet Provisioning ==

* verify that Wi-Fi is disabled
* stop ofono
* delete the contexts from the file ''/var/lib/ofono/<IMSI>/gprs
* start ofono
* verify that the data connection is activated, and the Internet accessible
* validate the contexts provisioned via the ofono script 'list-contexts''.

'''Note''' - as the more contexts may be provisioning using apns-conf.xml than mbpi, it may take slightly longer for the data connection to become active for the first time.  After the initial provisioning, Network Manager should remember the correct context, and connectivty should be much quicker.

=== Verify 2G SIM (no MNC Length in EFad) ===

==== Purpose: ====

This test case verifies that SIM cards without MNC length field in EFad file are provisioned using the mnclength plugin.  Typically, these are older 2G SIMs ( ie. non-USIM ) that still are occasionally used by operators in some parts of the world.

'''Note''' - as this test requires a special SIM card to test, this test cannot be normally tested until the emulator is enhanced as described below in ''Automation Status''.

==== Steps: ====
- Insert in the phone a SIM card with no MNC length field in the EFad file
- list-contexts

==== Verification: ====
- verify a single context exists, verify it’s properties:
    - Name = ( name of APN )
    - Type = internet
    - AccessPointName = ( hostname; Ex. epc.tmobile.com )

==== Automation Status: ====
The emulator qemu code is hard-coded to always create a valid SIM card.  In order to support this type of test, we’d need to implement a new command line argument which could be used to specify a configuration file from which one or more SIM files could be specified, overriding the hard-coded values in sim_card.c.

== Combined Internet/MMS Provisioning ==

== MMS Provisioning ==

== MVNO Provisioning ==

=== MVNO ( type=imsi ) ===

=== MVNO ( type=imsi with wildcards ) ===

=== MVNO ( type=spn ) ===

This requires a SIM card with a valid SPN set.  You can tell this by checking out the info message logged by ofono in ''/var/log/syslog'':

''Apr  4 19:13:49 ubuntu-phablet ofonod[3199]: plugins/android-provision.c:provision_get_settings() Provisioning for MCC 310, MNC 410, SPN (null) imsi 310410315414121''

=== MVNO ( type=gid1 ) ===

== Custom Provisiong ==

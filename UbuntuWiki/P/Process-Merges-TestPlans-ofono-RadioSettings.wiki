{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Test plan for component''': https://wiki.ubuntu.com/Process/Merges/TestPlans/ofono
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/Common
* '''Trunk URL''': https://github.com/rilmodem/ofono
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/ofono
 
----

== Radio Settings Tests ==

'''Note 1''' - Supported radio settings are modem dependant. Response to setting attempt of unsupported technology preference varies between different modems. Modem can either respond with error code or subtly change the setting to value it considers to be close of the requested setting. Also storing responsability of preference may vary between modems. This means that value might be different than what was set with certain modems after bootup. These tests assume that test setup supports edge, hspa, umts and gsm.

'''Note 2''' - Property Modem``Technologies from org.ofono.Radio``Settings has changed its name to Available``Technologies in upstream ofono, so this test plan will change when ofono 1.16 lands.

=== 1. Verify Interface Availablility / Tech Preference ===

==== Purpose ====
This test case ensures the presence of the org.ofono.Radio``Settings interface.

==== Steps: ====

<pre>
1. Run script list-modems. 
2. Check that listed interfaces include org.ofono.RadioSettings with properties 
   TechnologyPreference, ModemTechnologies and FastDormancy. Exact values of properties depend about the 
   previous usage of the tested card, used operator, contract and modem.  
</pre>

==== Automation Status ====

Automation of the Radio``Settings tests is currently blocked on improvements to the emulator's telephony support.

=== 2. Change technology preference ===

==== Purpose ====
This test case verifies that we can change the radio technology preference. The steps below must be adapted to the actual technologies supported by the modem, which can be seen by using list-modems and checking the value of "AvailableTechnologies" property in the RadioSetting interface.

==== Steps: ====

<pre>
1. Run script set-tech-preference [modem] gsm
2. Run script get-tech-preference [modem]
3. Check that the current technology is “gsm”
4. Run test script list-modems
5. The output of the Technology/Bearer properties must be one of the following values:
       [ org.ofono.NetworkRegistration ]
         Technology = [gsm|edge]
       [ org.ofono.ConnectionManager ]
         Bearer = [gsm|edge]
    Also here note that technology change is not immediate. It takes some time to drop out 
    of old network and connect to another. 
6. Run script set-tech-preference [modem] umts
7. Run script get-tech-preference [modem]
8. Check that the current technology is “umts”. 
9. Run script list-modems
10. The output of the Technology/Bearer properties must eventually have one of the following values:
       [ org.ofono.NetworkRegistration ]
         Technology = [umts|hspa]
       [ org.ofono.ConnectionManager ]
         Bearer = [umts|hsdpa|hsupa|hspa]
   Note that technology change is not immediate. It takes some time to drop out of old
   network and connect to another. 
11. Run test script set-tech-preference [modem] lte
12. Run test script get-tech-preference [modem]
13. Check that the current technology is “lte”. 
14. The output of the Technology/Bearer properties must eventually have one of the following values (see note):
       [ org.ofono.NetworkRegistration ]
         Technology = [umts|hspa]
       [ org.ofono.ConnectionManager ]
         Bearer = lte
</pre>

'''Note''' - if the modem supports data-only LTE but not VoLTE, running list-modems makes ConnectionManager.Bearer drop to umts or gsm. This is due to the fact that list-modems will trigger some supplementary services queries, and as these require voice control channels that are not available via data-only LTE, the modem needs to switch to umts or gsm.  In that case to verify the result with existing scripts we have to run list-modems twice (SS queries are cached) or execute monitor-ofono on the background. Note also that if VoLTE is not supported (which we do not for any device at the moment), NetworkRegistration.Technology will never show "lte".

==== Automation Status ====

Automation of the Radio``Settings tests is currently blocked on improvements to the emulator's telephony support.

=== 3. Check storage of technology preference ===

==== Purpose ====
This test case verifies that the modem stores the radio technology preference between restarts.

==== Steps ====
<pre>
- set-tech-preference [modem] gsm
- get-tech-preference [modem]
- Power off and then on the phone
- get-tech-preference [modem]
- set-tech-preference umts [modem]
- get-tech-preference [modem]
- Power off and then on the phone
- get-tech-preference [modem]
</pre>

'''Note''' - this is testing the modem itself, not ofono, although it's results are interesting.

==== Automation ====

This test case requires real hardware and is difficult to automate as it requires multiple reboots of the phone.

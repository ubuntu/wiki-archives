{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


<pre>
[07:00] <@dholbach> ok my friends... the bells are tolling 8 o' clock here, so it's 6:00 UTC - ready to start!
[07:00] <@dholbach> who's here for some packaging training action?
[07:00] <Pollywog> me
[07:00] <balarka> m
[07:00] <balarka> me
[07:00] <silentsno> me 2
[07:01] <hassanibraheem> me too :)
[07:01] <sianis> me
[07:01] <Adila01> me
[07:01] <decumanus_> me
[07:01] <akgraner> me
[07:01] <brand0con> muah!
[07:01] <@dholbach> fantastic
[07:02] <@dholbach> ok... so we're going to take a look at a few bugs I selected beforehand
[07:02] <@dholbach> and try to see what we can do about them
[07:02] <tashuiwuhen_> me
[07:03] <@dholbach> a category of bugs that is predestined for doing that is what you get when you click on the "xxxxx bugs fixed elsewhere" link on https://bugs.launchpad.net/ubuntu
=== dave_ is now known as pkpdjh
[07:03] <@dholbach> these are bugs that were filed in Ubuntu, our Bug Squad identified they were upstream problems (so no bugs that we introduced ourselves), forwarded those bugs to the upstream bug trackers and they were fixed there
[07:03] <@dholbach> before we get started, we need to set up a few things
[07:04] <@dholbach> could you please either 1) use the "Software Properties" dialogue to enable Sources or 2) add something like "deb-src http://archive.ubuntu.com/ubuntu/ jaunty restricted main multiverse universe" to /etc/apt/sources.list and run sudo apt-get update
[07:05] <Pollywog> I am running Hardy and Intrepid, not yet Jaunty
[07:05] <@dholbach> once you're done with that, please install the following packages:
[07:05] <@dholbach>    cdbs bzr ubuntu-dev-tools devscripts
[07:05] <@dholbach> Pollywog: OK, then please adjust that line
[07:06] <Pollywog> k
[07:06] <@dholbach> next please add something like this to your ~/.bashrc file
[07:06] <@dholbach> export DEBFULLNAME='Daniel Holbach'
[07:06] <@dholbach> export DEBEMAIL='daniel.holbach@ubuntu.com'
[07:07] <@dholbach> (if you use a different shell, please use whatever config file that shell has, bash should be the default)
[07:07] <posingaspopular> where do we ask questions?
[07:07] <@dholbach> just in here
[07:07] <@dholbach> afterwards either restart your terminal, or run    source ~/.bashrc
[07:07] <posingaspopular> oh nvm, Pollywog asked it i guess. apt-get complained about dist parse
[07:08] <@dholbach> posingaspopular: can you put up the log of that at  http://paste.ubuntu.com ?
[07:08] <balarka> dholbach, so i put this line deb-src http://archive.ubuntu.com/ubuntu/ hardy restricted main multiverse
[07:09] <balarka> dholbach,  is this correct ?
[07:09] <balarka> dholbach,  i am using hardy
[07:09] <@dholbach> balarka: add universe to the end of the line too
[07:09] <balarka> dholbach,  oh ok
[07:09] <balarka> dholbach, done
[07:09] <@dholbach> so what we did up until now 1) tell apt where to get source code of packages, 2) install a few tools we're going to need, 3) tell the packaging tools who you are (that simplifies a bunch of things later on)
[07:09] <posingaspopular> dholbach: http://pastebin.com/d56816cc
[07:10] <@dholbach> posingaspopular: try removing the space in front of the last lines
[07:10] <balarka> dholbach, you mean add export lines at the end of bashrc file?
[07:10] <@dholbach> balarka: yes
[07:10] <posingaspopular> ah no, i didnt add it correctly. didnt add the actual (universe, mulitverse, etc) at the end of the line
[07:10] <balarka> dholbach, ok
[07:11] <hassanibraheem> dholbach: should the .bashrc changes reflect the launchpad account settings?
[07:11] <@dholbach> posingaspopular: I guess "  deb...." instead of "deb....." is the problem
[07:11] <@dholbach> hassanibraheem: it's generally a good idea to have that email address registered with Launchpad, but not relevant now
[07:11] <hassanibraheem> dholbach: ok
[07:12] <@dholbach> hassanibraheem: your preferred one will do
[07:12] <@dholbach> ok... who's not set yet? :)
[07:13] <balarka> dholbach, regarding the 3 point
[07:13] <brand0con> uhmm i may be outa luck.  running debian and unable to get ubuntu-dev-tools
[07:13] <balarka> dholbach,  you meant to say we need to put
[07:13] <balarka> our name and address
[07:13] <@dholbach> brand0con: ignore ubuntu-dev-tools for now then
[07:13] <brand0con> ok
[07:13] <balarka> in the export lines?
[07:13] <brand0con> everything else is good
[07:13] <@dholbach> brand0con: rock on
[07:13] <@dholbach> balarka: yep
[07:13] <@dholbach> just add something like this to the end of the file
[07:13] <@dholbach>  export DEBFULLNAME='Daniel Holbach'
[07:13] <@dholbach>  export DEBEMAIL='daniel.holbach@ubuntu.com'
[07:13] <balarka> dholbach, so we dont have any @ubuntu.com address
[07:14] <balarka> dholbach,  so any outside email address should be fine?
[07:14] <@dholbach> that's not necessary now
[07:14] <@dholbach> yep
[07:14] <balarka> dholbach, got it
[07:14] <balarka> dholbach, sure
[07:14] <@dholbach> super, so let's crack on
[07:14] <@dholbach> I thought we'd pick https://bugs.launchpad.net/ubuntu/+source/subvertpy/+bug/323270 first
[07:15] <@dholbach> the problem is in a python module, when used with python 2.6 (default in jaunty) it emits a warning about the deprecated use of another python module
[07:15] <@dholbach> luckily the problem has been solved by upstream already
[07:15]  * ara reads the bug report
[07:16] <@dholbach> everybody who is on jaunty, please run
[07:16] <@dholbach>   apt-get source subvertpy
[07:16] <@dholbach> everybody else, please run
[07:16] <@dholbach>    dget -xu https://launchpad.net/ubuntu/jaunty/+source/subvertpy/0.6.1-1build1/+files/subvertpy_0.6.1-1build1.dsc
[07:16] <@dholbach> this will download the source package for you
[07:16] <maco> what does the u do?
[07:16] <@dholbach> so what's a source package?
[07:16]  * sianis is done
[07:17] <Pollywog> dget?  is that a typo?
[07:17] <@dholbach> Pollywog: no
[07:17] <Pollywog> k
[07:17] <Hobbsee> maco: it allows unauthenticated sources to be downloaded and unpacked
[07:17] <maco> Hobbsee: thanks. ive only used -x
[07:17] <@dholbach> maco: (if you don't have the GPG key of the person who signed it)
[07:17] <balarka> dholbach, it says dget is not installed
[07:17] <@dholbach> balarka: install devscripts please
[07:17] <balarka> dholbach, sure
[07:17]  * silentsno downloaded the source for subvertpy.
[07:18] <@dholbach> a source package is what we need to build .deb packages
[07:18] <silentsno> ls
[07:18] <balarka> dholbach, it says unknown option u
[07:18] <balarka> when i type dget command
[07:18] <balarka> as above
[07:18] <silentsno> Question: so is the upstream patch already uploaded into this source package that we just downloaded?
[07:18] <@dholbach> it consists of 1) the .orig.tar.gz which is the unmodified tarball the upstream authors released on their homepage, 2) the .diff.gz: the compressed set of changes we need to make to build it "the debian/ubuntu way" and 3) .dsc file which is meta data like md5sums and so on
[07:19] <@dholbach> balarka: just use dget -x then
[07:19] <@dholbach> silentsno: no, that's our job :)
[07:19] <@dholbach> we'll get to that in a sec
[07:19] <@dholbach> does everything I said above make sense?
[07:19] <@dholbach> any questions right now?
[07:19] <PartyBoi2> yes
[07:19]  * silentsno nods his head.
[07:20] <Hobbsee> silentsno: the stuff that's just been unpacked is what ubuntu currently has in jaunty for that package, fyi
[07:20] <@dholbach> ok perfect
[07:20] <balarka> dholbach, yes.. got the downloaded things
[07:20] <@dholbach> the great thing is: this works for every package in Ubuntu
[07:20] <Pollywog> I got 404's
[07:20] <@dholbach> you have all the source code just seconds away from you
[07:20] <balarka> dholbach, quick ques.. so can i treat a package as a class or module?
[07:20] <balarka> dholbach,  or any spl entity?
[07:20] <Pollywog> nvm I think I had a typo
[07:20] <@dholbach> Pollywog: can you put up the log at  http://paste.ubuntu.com ?
[07:21] <Pollywog> looks good now
[07:21] <@dholbach> balarka: a package is just a piece of software, it can be an end-user application, a small tool or a library that other tools use
[07:21] <balarka> dholbach, ok
[07:21] <@dholbach> in our case it's a "python module", so a piece of code that other packages written in python make use of
[07:22] <balarka> dholbach, got it
[07:22] <@dholbach> super
[07:22] <@dholbach> if you run
[07:22] <@dholbach>   cd subvertpy-0.6.1
[07:22] <@dholbach>   less debian/copyright
[07:22] <tashuiwuhen_> what's the use of the command?
[07:22] <@dholbach> you will see information about the copyright and everything - right now we're just interested in "where do we get the sofware from?"
[07:23] <@dholbach> tashuiwuhen_: which command do you mean?
[07:23] <tashuiwuhen_> less
[07:23] <@dholbach> it will display the content of   debian/copyright  in a "pager"
[07:23] <@dholbach> which means you can scroll up and down using arrow keys, etc
[07:23] <@dholbach> once you're bored, you can type 'q'
[07:24] <@dholbach> "more" or "cat" would have worked too :)
[07:24] <tashuiwuhen_> 0,got it,thanks
[07:24] <@dholbach> super
[07:24] <@dholbach> we're interested in this line
[07:24] <@dholbach> It was downloaded from http://launchpad.net/subvertpy.
[07:24] <@dholbach> if you don't know where a particular package has its code from, debian/copyright should always tell you
[07:25] <@dholbach> so subvertpy is hosted on Launchpad, just like Ubuntu is
[07:26] <@dholbach> the great thing is, we can now do something like
[07:26] <@dholbach>    bzr branch lp:subvertpy
[07:26] <@dholbach> to get the source code
[07:26] <@dholbach> (maybe run    cd ..     beforehand)
[07:26] <balarka> dholbach, didnt we get the code already?
[07:26] <balarka> by dget command?
[07:27] <@dholbach> balarka: that's what's in Ubuntu right now
[07:27] <cel_> Question: lp is because of "launchapd"?
[07:27] <@dholbach> balarka: now we get the current tip of what the upstream developers have been working on
[07:27] <@dholbach> cel_: exactly
[07:27] <cel_> ok, thanks
[07:27] <Pollywog> I get unknown repository format
[07:27] <Crusher> me too
[07:27] <balarka> dholbach, ques.. who are the upstream developers?
[07:28] <@dholbach> balarka: the software authors of "subvertpy"
[07:28] <balarka> dholbach, oh ok
[07:28] <@dholbach> ok, let's take a different approach then
[07:28] <JanC> Pollywog: you need a newer bzr
[07:28] <Pollywog> hmmm
[07:28] <Pollywog> I am running Intrepid how old could it be
[07:28] <balarka> dholbach, it says bzr is not installed
[07:28] <pkpdjh> I get the same error (using Intrepid)
[07:28] <balarka> dholbach,  which version is preferable to install
[07:28] <@dholbach> balarka: install the bzr package then please
[07:29] <ara> balarka: sudo apt-get install bzr
[07:29] <balarka> ok
[07:29] <balarka> dholbach, i get parse error at the end
[07:29] <balarka> dholbach, for sudo apt-get install bzr
[07:29] <balarka> dholbach, command
[07:30] <@dholbach> balarka: anything wrong in /etc/apt/sources.list then?
[07:30] <balarka> /var/lib/scrollkeeper/C/scrollkeeper_extended_cl.xml:5852: parser error : Extra content at the end of the document
[07:30] <JanC> peopel with older distros might need the https://launchpad.net/~bzr/+archive/ppa repository
[07:30] <maco> Pollywog: basically anyone not on jaunty needs that ppa
[07:30] <@dholbach> balarka: that's an unrelated problem
[07:30] <Pollywog> maco: ty
[07:30] <spych102> I get Unknown branch format on hardy
[07:30] <balarka> dholbach,  i dont think so.. as sudo apt-get update went fine
[07:30] <balarka> dholbach,  without any errors
[07:30] <@dholbach> ok... hold off from running    bzr branch lp:subvertpy    then
[07:30] <maco> ***** NON JAUNTY USERS: see the PPA JanC linked
[07:30] <@dholbach> we'll use a different approach
[07:31] <balarka> dholbach, sure
[07:31] <tashuiwuhen_> me,too,spych102
[07:31] <@dholbach> no PPA needed then :)
[07:31] <@dholbach> so if you head to http://launchpad.net/subvertpy - it takes you a few clicks to get to https://code.launchpad.net/~jelmer/subvertpy/trunk-mirrored
[07:31] <@dholbach> which shows the revision history of what the upstream developers of subvertpy been up to
[07:32] <@dholbach> if you click on the "Source Code" link, it will show you the source code
[07:32] <posingaspopular> dholbach: what is the syntax in /etc/apt/sources.list for the ppa?
[07:32] <@dholbach> posingaspopular: forget about the PPA for now
[07:33] <silentsno> "Please try again" Sorry, there was a problem connecting to the Launchpad server.
[07:33] <Adila01> ha ha, I am having the same problem too
[07:33] <balarka> me too
[07:33] <silentsno> Thats from clicking on the SourceCode link
[07:33] <@dholbach> first packaging training session - everything needs to go wrong now
[07:33] <@dholbach> :-))))
[07:33] <silentsno> :)
[07:33] <balarka> :)
[07:33] <balarka> thats the spirit!
[07:33] <@dholbach> I just told the developers :)
[07:33] <silentsno> it just came up for me
[07:33] <@dholbach> ok, so back to https://bugs.launchpad.net/ubuntu/+source/subvertpy/+bug/323270 for a minute
[07:34] <@dholbach> the first comment says:
[07:34] <@dholbach> Using Python 2.6:
[07:34] <@dholbach> ...Lib\site-packages\subvertpy\delta.py:21: DeprecationWarning: the md5 module is deprecated; use hashlib instead
[07:34] <@dholbach>   import md5
[07:34] <balarka> we shldnt leave me too!
[07:34] <@dholbach> what we need to check out now is subvertpy/delta.py - this seems to be where the problem is right now
[07:35] <sianis> dholbach: the source line at line 21
[07:35] <@dholbach> exactly
[07:35] <@dholbach> I'll fast-forward a bit for now
[07:35] <@dholbach> http://bazaar.launchpad.net/%7Ejelmer/subvertpy/trunk-mirrored/changes?filter_file_id=delta.py-20080316001917-xyng7m3jlxvdc4c9-1
[07:35] <@dholbach> shows the changes which have been done to the upstream code repository for that file
[07:36] <@dholbach> does anyone see which revision number might solve our problem?
[07:36] <silentsno> 2016
[07:36] <sianis> dholbach: 2016
[07:36] <Pollywog> yes 2016
[07:36] <@dholbach> does everybody see the connection there? :)
[07:36] <@dholbach> ok, so let's head over to http://bazaar.launchpad.net/%7Ejelmer/subvertpy/trunk-mirrored/revision/2016
[07:36] <Crusher> yes
[07:36] <decumanus_> yes:-)
[07:37] <tashuiwuhen_> yes
[07:37] <@dholbach> and click on the "Download diff" link
[07:38] <balarka> dholbach, i could see someone used a deprecated method i guess
[07:38] <balarka> dholbach, i am not good at python
[07:38] <balarka> :)
[07:38] <@dholbach> in this case we'll trust upstream
[07:38] <@dholbach> if you cd into subvertpy-0.6.1/ again
[07:38] <@dholbach> and (if you have ubuntu-dev-tools installed) run   what-patch
[07:39] <@dholbach> can anyone see the message it puts out?
[07:39] <silentsno> where should we put the diff file
[07:39] <@dholbach> silentsno: just save it somewhere you can find it again :)
[07:39] <sianis> dholbach: It says patchless?
[07:39] <posingaspopular> command not found?
[07:39] <Crusher> dholbach: patchless
[07:39] <@dholbach> Crusher, sianis: exactly
[07:40] <@dholbach> so what does what-patch do?
[07:40] <maco> posingaspopular: you have ubuntu-dev-tools installed?
[07:40] <Crusher> tell you patching system its using
[07:40] <posingaspopular> oh, the command is 'what-patch' not 'run what-patch' :P
[07:40] <@dholbach> it tell us, if the package maintainer decided to store additional patches on top of the regular code
[07:40] <tashuiwuhen_> got it
[07:40] <@dholbach> err, in which way the maintainer decide to store patches
[07:41] <maco> dholbach: you mean as in a patch management system?
[07:41] <balarka> dholbach, what are we trying to achieve
[07:41] <@dholbach> in our case the maintainer decide to just patch the source directly
[07:41] <balarka> here?
[07:41] <@dholbach> maco: exactly
[07:41] <balarka> dholbach, i am kind of lost
[07:41] <@dholbach> balarka: so the packgae in Ubuntu right now is broken
[07:41] <balarka> dholbach, ok
[07:41] <Pollywog> you mean they patched it rather than give us the patch to use?
[07:41] <maco> well that's much cleaner than the grepping in debian/control dtchen told me to do
[07:41] <@dholbach> balarka: we found out that it's fixed by the software authors already, we found out what the fix is and downloaded it
[07:41] <@dholbach> balarka: now we need to apply it to the package
[07:42] <hassanibraheem> dholbach: so, in that case, the ubuntu source is just the upstream code with no additional ubuntu changes... right?
[07:42] <balarka> dholbach, so the diff we downloaded has the patch?
[07:42] <sianis> dholbach: Deprecation is a warning and not an error, isn't it?
[07:42] <@dholbach> hassanibraheem: that we can not tell, you're right "patchless" is a bit misleading there - I'll make a note
[07:42] <@dholbach> hassanibraheem: what it means to say is "patches are directly applied on the source and not stored separately"
[07:42] <JanC> Pollywog: they can't just send the patch to everybody on the internet ;)
[07:43] <Pollywog> k
[07:43] <blfgomes> what other valid output could I expect, other than "patchless?"
[07:43] <Pollywog> I was not sure if I understood
[07:43] <@dholbach> sianis: yes, but may become an error in the future - also the warning might be a bit disturbing if you get it every day :)
[07:43] <hassanibraheem> dholbach: oh, ok
[07:43] <@dholbach> balarka: yep
[07:43] <sianis> dholbach: you got roght :P
[07:43] <balarka> ok
[07:44] <Pollywog> problem here will be the patch level if we all did not put our patch file in the same place, I think
[07:44] <maco> blfgomes: quilt, cdbs, yabba...i assume it just spits out their names directly
[07:44] <balarka> dholbach, so how do we know that. .that the patch is seperate and the patch has not already been applied to the code
[07:44] <Crusher> blfgomes: https://wiki.ubuntu.com/PackagingGuide/PatchSystems
[07:44] <blfgomes> maco, Crusher: thanks
[07:45] <@dholbach> balarka: exactly
[07:45] <Hobbsee> balarka: because if it had been applied already, the bug wouldn't exist, right?
[07:45] <silentsno> balarka: the code that ubuntu has is older and without this updates that we will apply
[07:45] <balarka> Hobbsee, but if the bug is already there.. why dont the devs fix it
[07:45] <balarka> and give?
[07:46] <Hobbsee> balarka: and you know that the bug still exists, thus, it's not been applied.  Also, when you later use patch (or similar tools), it will warn you if it's already been applied, and ask you if you want to revert it
[07:46] <maco> balarka: it has been fixed upstream in a new version. we're backporting the fix.
[07:46] <Hobbsee> balarka: because you're "the dev" in terms of ubuntu, and you're fixing it.
[07:46] <balarka> maco, Hobbsee thanks
[07:46] <Pollywog> maco: thanks that answers my puzzlement as well
[07:47] <@dholbach> so I just tried applying the patch and this is what I got:
[07:47] <@dholbach> patching file subvertpy/delta.py
[07:47] <@dholbach> Hunk #2 FAILED at 86.
[07:47] <maco> (note: you'll sometimes see pulling commits back into an older version referred to as "cherrypicking")
[07:47] <balarka> Hobbsee, so if i am the dev.. why would i put the patch someone else done already?
[07:47] <JanC> to say it simple: some people write software, and others make sure it works in their distro  ;)
[07:47] <balarka> Hobbsee, i am little confused here
[07:48] <Hobbsee> balarka: right, so there are two types of developers, right?
[07:48] <Hobbsee> balarka: there's the people who write the software, and the people who package the software to get it into ubuntu
[07:48] <balarka> Hobbsee, you mean core and MOTU?
[07:48] <sianis> dholbach: mee too
[07:48] <@dholbach> balarka: what Ubuntu does is integrate software from lots of other projects, subvertpy being one of them
[07:48] <Pollywog> am I correct that the upstream authors submitted the patch and it is our job to apply it to the version in Ubuntu?
[07:48] <@dholbach> Pollywog: exactly
[07:48] <Hobbsee> balarka: like authors who write a book, and librarians, who sort books and organise them in their libraries
[07:48] <balarka> Hobbsee, that was perfect example
[07:48] <Hobbsee> balarka: but, if an author changes their book, and republishes it, it doesn't mean that the library shelves magically change
[07:49] <balarka> Hobbsee, thanks
[07:49] <balarka> Hobbsee, got the point
[07:49] <Hobbsee> the librarian still has to do the work in finding another book, etc
[07:49] <Hobbsee> cool :)
[07:49] <@dholbach> ok... cool - are we all clear on where we stand right now
[07:49] <nanbanjin> nice explanation Hobbsee, ty
[07:49] <Pollywog> I think I have it
[07:49] <Hobbsee> nanbanjin: :D
[07:49] <@dholbach> great
[07:49] <pkpdjh> I'm good.  Thanks, Hobbsee for the analogy.
[07:50] <balarka> Hobbsee, appreciated!
[07:50] <Hobbsee> :)
[07:50] <maco> Hobbsee++
[07:50] <@dholbach> :-)))
[07:50] <@dholbach> ok great
[07:50] <brand0con> the dead horse has been beaten
[07:50] <@dholbach> I just tried applying the upstream patch, this is what I got:
[07:50] <@dholbach>  patching file subvertpy/delta.py
[07:50] <@dholbach>  Hunk #2 FAILED at 86.
[07:50] <@dholbach> you get this every now and then when there have been a lot of changes in the upstream code and we didn't catch up yet
[07:51] <balarka> dholbach, so how to apply the patch?
[07:51] <@dholbach> what we'd need to do is apply the changes manually or at least parts of them
[07:51] <@dholbach> balarka: I'll get to that in a sec
[07:51] <balarka> dholbach, any specific command?
[07:51] <Pollywog> when you patch, is there still a "--dry-run" option in patch?
[07:51] <balarka> dholbach, sure..
[07:51] <@dholbach> I just updated the patch to work properly :-)
[07:51] <@dholbach> so if you run
[07:51] <tashuiwuhen_> hehe
[07:51] <@dholbach>   wget http://people.ubuntu.com/~dholbach/patch
[07:52] <@dholbach> you should get the patch file that's going to work for us
[07:52] <Hobbsee> Pollywog: yes
[07:52] <@dholbach> if you
[07:52] <@dholbach> cd into subvertpy-0.6.1 again
[07:52] <@dholbach> and run
[07:52] <@dholbach>   patch -p1 < ~/patch
[07:53] <@dholbach> (or wherever you downloaded the "patch" file to)
[07:53] <@dholbach> it is going to apply the updated changes
[07:53] <@dholbach> you should get something like this as the output
[07:53] <@dholbach> patching file subvertpy/delta.py
[07:53] <@dholbach> did that work for everybody?
[07:53] <PartyBoi2> yes
[07:53] <Pollywog> looks like that worked here
[07:53] <decumanus_> yes, worked
[07:53] <balarka> nope
[07:53] <maco> perhaps an explanation of how to figure out and manually update patches would be in order at some point...even just as a blogpost on that packaging howto blog you've got, dholbach?
[07:54] <balarka> dholbach,  is patch a command?
[07:54]  * silentsno patched file delta.py
[07:54] <@dholbach> maco: definitely
[07:54] <@dholbach> balarka: yes
[07:54] <@dholbach> it should be in the patch package
[07:54] <balarka> it gives No such file or directory
[07:54] <Pollywog> does the patch level depend on where we put the patch file?
[07:55] <maco> Pollywog: it depends on how deeply into the source package it needs to go
[07:55] <@dholbach> sudo apt-get install cdbs bzr ubuntu-dev-tools devscripts                 (should give you all the tools)
[07:55] <maco> Pollywog: i'm told "count the slashes"
[07:55] <Pollywog> maco: ty
[07:55] <tashuiwuhen_> i'm told "No such file or directory"
[07:55] <silentsno> dholbach: what is the difference between the revision we downloaded from LP and your patch we downloaded
[07:55] <aladin> I want to package a java-library. It was called xtvd-lib by upstream and was placed at a directory called xtvd-lib.  My control-file says "Source: xtvd-lib" and "Package: libxtvd". How can I use the same name for the source- and the binary-package?
[07:55] <@dholbach> Pollywog: it depends on from where the "diff" was run
[07:55] <@dholbach> aladin: can we please cover that later on?
[07:55] <Pollywog> dholbach: ty
[07:55] <balarka> dholbach, it gives me No such file or directory
[07:56] <@dholbach> aladin: we're in the middle of a session
[07:56] <balarka> dholbach, when i try the patch -p1 command
[07:56] <maco> silentsno: one will apply cleanly, and one won't
[07:56] <balarka> dholbach, as above
[07:56] <maco> aladin: #ubuntu-motu maybe better
[07:56] <@dholbach> Pollywog: where did you run         wget http://people.ubuntu.com/~dholbach/patch    ?
[07:56] <Pollywog> dholbach: it worked for me, I put the patch in ~
[07:56] <maco> silentsno: you can compare the patches visually to see how he changed it and compare to the source to try to figure out why
[07:57] <Pollywog> and put in the path in the patch line
[07:57] <Pollywog> it worked
[07:57] <@dholbach> silentsno: as I said before: the upstream developers put quite a bit of work into subvertpy and we didn't catch up yet, so the revision we downloaded from launchpad did not "apply cleanly on our source" - I updated it to apply cleanly
[07:57] <balarka> dholbach, it worked too
[07:57] <balarka> now
[07:57] <@dholbach> balarka: perfect
[07:57] <@dholbach> are we all patched up now?
[07:57] <Pollywog> I am patched
[07:57] <Adila01> Same with me
[07:57] <@dholbach> anyone without the ticket? :)
[07:57] <balarka> me too
[07:57] <@dholbach> perfect
[07:58] <@dholbach> you need devscripts installed for the next step
[07:58] <pkpdjh> So, if we run into a situation like this where the patch doesn't apply cleanly, what is usually the next step?
[07:58] <balarka> dholbach, can we apply the patch twice?
[07:58] <@dholbach> what we'll do now as every good package maintainer in the making is: document what we did
[07:58] <@dholbach> balarka: no, it will fail
[07:58] <balarka> dholbach, ideally it shoudl suceeed
[07:58] <balarka> right?
[07:58] <Pollywog> dholbach: that is why we can use --dry-run, right?
[07:58] <@dholbach> pkpdjh: review the patch and apply the "hunks" that failed manually
[07:58] <@dholbach> balarka: yep
[07:58] <balarka> dholbach, if it is a piece of code replacing another one?
[07:59] <@dholbach> Pollywog: yes, exactly
[07:59] <pkpdjh> I was afraid that was the answer.  I hate reading patch files manually.
[07:59] <@dholbach> balarka: that's exactly what patches do: replace other code
[07:59] <balarka> dholbach, ok
[07:59] <Crusher> dholbach: what is a "hunk"?
[07:59] <@dholbach> pkpdjh: remind me of that later on and we chat a bit about it
[08:00] <pkpdjh> dholbach: ok
[08:00] <@dholbach> Crusher: if you take a look at ~/patch (or whever you put it beforehand)
[08:00] <maco> Crusher: parts between lines that have @ in them
[08:00] <@dholbach> you'll noticed "stanzas" that start with something like "@@ -18,7 +18,16 @@"
[08:00] <Crusher> yep
[08:00] <balarka> dholbach, where?
[08:00] <Crusher> so each one is a different hunk
[08:01] <Crusher> didn't know the terminology :)
[08:01] <balarka> dholbach,  wehre are the stanzas?
[08:01] <@dholbach> Crusher: exactly, it basically says "in lines X to Y make these changes"
[08:01] <maco> balarka: all those lines that start with @@ either start or end a stanza
[08:01] <balarka> maco, you mean in the diff file we downloaded?
[08:01] <maco> balarka: yes
[08:02] <@dholbach> exactly
[08:02] <balarka> oh ok
[08:02] <@dholbach> so let's document the changes we did
[08:02] <@dholbach> please run (after you've installed devscripts):
[08:02] <@dholbach>    dch -i
[08:02] <@dholbach> (in subvertpy-0.6.1)
[08:02] <Pollywog> dch is a new one for me
[08:02] <balarka> me too
[08:02] <Pollywog> I have used a different command to do this
[08:03] <@dholbach> dch is a nice tool which makes editing  debian/changelog  easy
[08:03] <@dholbach> this is where package maintainers document what they do and why
[08:03] <@dholbach> this is particularly important where a lot of people work on packages together
[08:03] <@dholbach> you don't want others to guess why you made a change
[08:03] <@dholbach> ... and you don't want to have to guess half a year later :)
[08:04] <cel_> everybody hates documenting, but's it's important to do! :P
[08:04] <balarka> dholbach,  so what all things we need to put here?
[08:04] <@dholbach> so I'll put something like this in there:
[08:04] <@dholbach>   * subvertpy/delta.py: apply revision 2016 from upstream to fix python2.6
[08:04] <@dholbach>     deprecation (LP: #323270)
[08:05] <@dholbach> note a few things:
[08:05] <@dholbach>  - I specify exactly which file we changed
[08:05] <@dholbach>  - we say where the change came from (we didn't invent it ourselves)
[08:05] <@dholbach>  - we say what exactly it fixes
[08:05] <@dholbach>  - we say which Launchpad bug it fixes
[08:06] <maco> (in cases where the patch is attached to a bug, not from upsteram. the 2nd bit can be "patch by Joe Smith")
[08:06] <ara> all that in just one line ;-)
[08:06] <@dholbach> if you use something like "(LP: #323270)", it will automatically close the bug report, when the new source package gets uploaded
[08:06] <@dholbach> maco: exactly - give credit where it's due :)
[08:06] <maco> dholbach: uploaded? or successfully built?
[08:07] <@dholbach> maco: uploaded to the build daemons - I'll get to that later if you remind me
[08:07] <maco> ok
[08:07] <@dholbach> also please replace "0.6.1-1build2" (or whatever changelog version is up there) with "0.6.1-1ubuntu1"
[08:07] <balarka> maco, dholbach i didnt understand where the patch is attached to a bug
[08:07] <balarka> mean
[08:08] <maco> balarka: if instead of grabbing a patch from upstream, someone has written a patch and attached it to the bug report in launchpad, you should give their name
[08:08] <balarka> maco, so they have got the patch and give it to the users to apply
[08:08] <balarka> right?
[08:08] <maco> balarka: yes
[08:09] <balarka> oh ok
[08:09] <@dholbach> balarka: somebody who proposes a solution on a bug report
[08:09] <balarka> users apply themselves and use
[08:09] <@dholbach> balarka: in our case we chased up the solution somewhere else
[08:09] <Pollywog> Does putting ubuntu1 there mean this patch was not brought here from Debian, that it came from Ubuntu?
[08:09] <balarka> ok
[08:09] <@dholbach> Pollywog: it means: on top of the debian version 0.6.1-1 we put an Ubuntu change
[08:09] <nanbanjin> wouldn't a person that proposes solution and supplies a patch build the package himself?
[08:09] <Pollywog> ty
[08:10] <balarka> nanbanjin, i guess he can or cannot depening on his interest
[08:10] <@dholbach> nanbanjin: they probably do, but as part of the overall bug fix discussion they might propose it to others on the bug report
[08:10] <maco> nanbanjin: not necessarily. when i started submitting patches, i didnt know how to package, just how to write C
[08:10] <maco> building a package and putting it in your PPA on launchpad is a *great* way to help users who don't know how to or don't want to deal with patching and compiling manually test proposed fixes
[08:11] <balarka> maco, what is PPA?
[08:11] <@dholbach> balarka: let's get to that later
[08:11] <balarka> dholbach, sure..
[08:11] <@dholbach> all done editing the changelog? everybody put some text in there? changed the version number?
[08:11] <maco> dholbach: sorry :P
[08:11] <@dholbach> maco: no worries
[08:11] <balarka> dholbach, me too
[08:11] <balarka> just few moments
[08:12] <Pollywog> I finished editing the changelog
[08:12] <@dholbach> now save the file
[08:12] <Pollywog> done
[08:13] <@dholbach> and for those of you running Ubuntu and having ubuntu-dev-tools installed, please run     update-maintainer
[08:13] <maco> dholbach: is update-maintainer smart enough to do nothing when the debian version is 0?
[08:13] <@dholbach> it will make a change in the packaging indicating "we changed the package for Ubuntu, don't send emails to the Debian maintainers about this please" :-)
[08:13] <@dholbach> maco: I think it's so dumb that it doesn't care, but I might be wrong
[08:14] <maco> dholbach: heh ok
[08:14] <@dholbach> alright
[08:14] <balarka> dholbach, after editing i tried dch -i
[08:14] <balarka> again
[08:14] <posingaspopular> Latest changelog entry has no Ubuntu version number.
[08:14] <balarka> it says dch fatal error
[08:14] <balarka> the backup file already exists
[08:14] <@dholbach> posingaspopular: did you change the version number to 0.6.1-1ubuntu1?
[08:14] <balarka> please move it before trying again
[08:14] <maco> balarka: you only run dch -i once
[08:15] <balarka> oh
[08:15] <@dholbach> posingaspopular: just change it in debian/changelog
[08:15] <balarka> maco, what exactly is the purpose of it?
[08:15] <silentsno> you meant if we are running Jaunty, to run update-maintainer
[08:15] <Pollywog> so running dch more than once is like running dh_make more than once?
[08:15] <balarka> maco, what if i want to change the log again later?
[08:15] <@dholbach> silentsno: should work in intrepid too
[08:15] <maco> balarka: well you could manually type a new chunk into debian/changelog if you want, but dch adds the your name, version number, what time it is, your email address junk for you automatically
[08:15] <@dholbach> Pollywog: it will introduce a new changelog every time you run it and save the file afterwards
[08:16] <maco> balarka: then you do it manually. there should be only 1 changelog entry per package version
[08:16] <Pollywog> k
[08:16] <posingaspopular> i dont follow dholbach
[08:16] <maco> posingaspopular: in debian/changelog, what's the first line?
[08:16] <@dholbach> posingaspopular: when you edit debian/changelog - which version number does it say?
[08:16] <balarka> maco, got it
[08:17] <posingaspopular> subvertpy (0.6.1-1build2) jaunty; urgency=low
[08:17] <maco> posingaspopular: see how it says build2? change that to ubuntu1
[08:17] <@dholbach> posingaspopular: change it to 0.6.1-1ubuntu1 then, please
[08:17] <maco> posingaspopular: "build" is used when ubuntu has not changed anything but the package has been rebuilt anyway
[08:17] <maco> posingaspopular: "ubuntu" is used when you make changes
[08:19] <@dholbach> save the file and try again
[08:19] <posingaspopular> okay now that works
[08:19] <posingaspopular> yup thanks maco and dholbach
[08:19] <@dholbach> perfect
[08:19] <@dholbach> now please run (when you installed devscripts and cdbs):
[08:19] <@dholbach>      debuild -S -us -uc
[08:20] <@dholbach> remember what I said about source packages in the beginning (orig.tar.gz, diff.gz etc)?
[08:20] <@dholbach> now we're updating the source package for our new version
[08:20] <@dholbach> if you cd .. and run ls
[08:20] <@dholbach> you should see a bunch of new files there
[08:20] <Pollywog> indeed
[08:20] <@dholbach> so not just subvertpy_0.6.1-1build1.dsc and subvertpy_0.6.1-1build1.diff.gz
[08:21] <@dholbach> but subvertpy_0.6.1-1ubuntu1.dsc and subvertpy_0.6.1-1ubuntu1.diff.gz too
[08:21] <@dholbach> I can't cover it in this session, but if you take a look at https://wiki.ubuntu.com/PbuilderHowto you'll learn about a tool that test-builds packages for you
[08:21] <@dholbach> it will expect such .dsc files from you
[08:21] <@dholbach> ok, let's crack on
[08:22] <balarka> dholbach, i didnt find any files there
[08:22] <balarka> on debuild command
[08:22] <Pollywog> is pbuilder an alternative to chroots for this?
[08:22] <@dholbach> Pollywog: it will set up a chroot :)
[08:22] <@dholbach> Pollywog: automatically
[08:22] <@dholbach> balarka: were you in subvertpy-0.6.1 when you ran debuild?
[08:22] <balarka> dholbach, yes
[08:23] <blfgomes> I got this warning: "Exception: apr-config not found. Please set APR_CONFIG environment variable"
[08:23] <@dholbach> balarka: then    cd ..   and    ls    there
[08:23] <balarka> oh ok
[08:23] <@dholbach> blfgomes: safe to ignore for now
[08:23] <blfgomes> ok
[08:23] <@dholbach> ok... another handy tool in devscripts is debdiff
[08:23] <@dholbach> if you run           debdiff subvertpy_0.6.1-1build1.dsc subvertpy_0.6.1-1ubuntu1.dsc
[08:24] <@dholbach> debdiff subvertpy_0.6.1-1build1.dsc subvertpy_0.6.1-1ubuntu1.dsc
[08:24] <balarka> dholbach, oh got it
[08:24] <@dholbach> it will show you the differences between the two source packages
[08:24] <maco> and order matters!
[08:24] <@dholbach> exactly
[08:24] <@dholbach> can you all please put the output into http://paste.ubuntu.com and give us the link here so we can review them together?
[08:25] <balarka> dholbach, maco so what is the purpse of this step?
[08:25] <balarka> to confirm ourselves abt the change we did?
[08:25] <balarka> by generating diff between two versions?
[08:25] <@dholbach> balarka: show the differences between the original source package (we downloaded initially) and the new source package
[08:25] <maco> balarka: many developers in ubuntu prefer debdiffs for updating packages
[08:25] <@dholbach> balarka: it's what you'd attach to a bug report saying "this is how I fixed it"
[08:26] <maco> balarka: this includes the debian/* changes as well as the patch
[08:26] <balarka> ooh
[08:26] <balarka> ok
[08:26] <silentsno> http://paste.ubuntu.com/142603/
[08:26] <maco> it just cuts a few steps out for the people who can actually upload this stuff
[08:26] <maco> namely, all the steps you just did
[08:27] <Crusher> http://paste.ubuntu.com/142607/
[08:27] <balarka> dholbach, when i run the command it says debdiff: fatal error at line 266:
[08:27] <balarka> Can't read file: subvertpy_0.6.1-1ubuntu1.dsc
[08:27] <@dholbach> silentsno: "0.6.1-1ubuntu2" -> "0.6.1-1ubuntu1",  "intrepid" -> "jaunty", I'd also line wrap the changelog entry - other than that: great work!
[08:27] <blfgomes> http://paste.ubuntu.com/142606/
[08:27] <Pollywog> http://paste.ubuntu.com/142608/
[08:27] <@dholbach> blfgomes: perfect
[08:28] <balarka> dholbach, i didnt get the mistake i did
[08:28] <@dholbach> Pollywog: "0.6.1-1ubuntu" -> "0.6.1-1ubuntu1", also the linewrap to 80 characters per line would be nice, other than that: GREAT
[08:28] <posingaspopular> error http://paste.ubuntu.com/142609/
[08:28] <@dholbach> balarka: what's the last 5 lines of output?
[08:28] <@dholbach> posingaspopular: just do   debdiff subvertpy_0.6.1-1build1.dsc subvertpy_0.6.1-1ubuntu1.dsc
[08:29] <balarka>  debdiff subvertpy_0.6.1-1build1.dsc subvertpy_0.6.1-1ubuntu1.dsc
[08:29] <balarka> debdiff: fatal error at line 266:
[08:29] <balarka> Can't read file: subvertpy_0.6.1-1ubuntu1.dsc
[08:29] <balarka> 1st line is the comand i typed
[08:29] <@dholbach> balarka: is there a file named subvertpy_0.6.1-1ubuntu1.dsc?
[08:29] <maco> balarka: did you run debuild -S -us -uc as above?
[08:29] <balarka> dholbach, nope
[08:30] <balarka> maco, i did
[08:30] <balarka> maco, i can do it again
[08:30] <@dholbach> balarka: then something must have gone wrong there before
[08:30] <maco> balarka: what .dsc's *do* you have?
[08:30] <@dholbach> that debdiff output is what you'd attach to the bug report as a solution, https://wiki.ubuntu.com/SponsorshipProcess explains how to get your patch uploaded to Ubuntu!
[08:30] <@dholbach> (after you test-built the package and tested the package a bit)
[08:31] <balarka> maco, i can see only one 1build1.dsc
[08:31] <balarka> here
[08:31] <maco> then it sounds like debuild failed
[08:31] <posingaspopular> right that worked
[08:31] <@dholbach> I'd like to invite you all to #ubuntu-motu and ubuntu-motu-mentors@lists.ubuntu.com to ask questions you have about everything related to packaging stuff
[08:31] <balarka> maco, so what do i do now?
[08:31] <maco> balarka: try it again and see if it errors at all
[08:31] <@dholbach> posingaspopular: can you pastebin it?
[08:31] <@dholbach> there were a bunch of other questions before
[08:31] <balarka> maco, so i try the debuild command inside subverty dir
[08:31] <@dholbach> anything you'd like to ask?
[08:31] <balarka> ?
[08:32] <@dholbach> balarka: yes
[08:32] <maco> dholbach: the LP: #123456 syntax, it closes on upload, but what if its a FTBFS?
[08:33] <balarka> http://paste.ubuntu.com/142612/
[08:33] <@dholbach> maco: the bug will be closed on upload (when the uploaded source package is accepted)
[08:33] <Pollywog> is this all different when the sources use cmake instead of automake?
[08:33] <balarka> maco, this is what i get http://paste.ubuntu.com/142612/
[08:33] <balarka> maco, dholbach after debuild command
[08:33] <silentsno> //time
[08:33] <@dholbach> balarka: I guess you didn't save the changes you made to debian/changelog
[08:34] <posingaspopular> http://paste.ubuntu.com/142613/
[08:34] <@dholbach> balarka: I'd suggest reading up in the log again and re-try - sorry
[08:34] <balarka> oh
[08:34] <balarka> dholbach, sure..
[08:34] <@dholbach> Pollywog: that's a great question
[08:34] <balarka> dholbach, i will do that
[08:34] <@dholbach> balarka: thanks
[08:34] <Pollywog> I have had trouble making debs for KDE4 due to cmake
[08:34] <@dholbach> Pollywog: the great thing about the way that Ubuntu and Debian packages are built is that we have one build process wrapped around all kinds of upstream software
[08:35] <balarka> dholbach, so whats next then?
[08:35] <balarka> dholbach, we got the diff generated
[08:35] <@dholbach> balarka: we're answering a bunch of questions
[08:35] <balarka> oh ok
[08:35] <maco> dholbach: ok so the order of things that happen is fuzzy for me. helpful sponsor uploads the debdiff, buildd does stuff, then accept, then close?
[08:35] <balarka> dholbach,  i mean in the process of sending upstream
[08:35] <@dholbach> so no matter if it's a python distutils package, or it uses autotools or cmake, there's always a way to build the package
[08:36] <maco> balarka: in this case, the patch came from upstream, so nothing to do
[08:36] <@dholbach> Pollywog: I'd suggest taking a look at similar source packages (that use cmake already) and compare
[08:36] <balarka> maco, oh ok
[08:36] <Pollywog> I will do that, thanks
[08:36] <balarka> maco, but if we invent the bug fix
[08:36] <balarka> maco,  how to proceed from here?
[08:36] <@dholbach> posingaspopular: looks great, there's just one thing I'd change a bit:
[08:36] <@dholbach>   * subvertpy/delta.py apply revision 2016 from upstream to fix python 2.6 depreciation. (LP #323270)
[08:36] <@dholbach>   * subvertpy/delta.py: apply revision 2016 from upstream to fix python 2.6 depreciation. (LP: #323270)
[08:37] <@dholbach> posingaspopular: (note the colons)
[08:37] <maco> balarka: in that case, send the patch to upstream (some will want a but + attachment, others want mail on their mailing list, it varies) and give them a link to the LP bug of people saying it works
[08:37] <@dholbach> maco: so the way things would work from here would be something like:
[08:37] <Pollywog> and the debian/rules seem to be different for KDE4 packages, but I suspect that will be covered in a future session  <hint>
[08:37] <@dholbach>  - test-build the package
[08:37] <@dholbach>  - test the package
[08:37] <posingaspopular> what colons dholbach?
[08:37] <maco> posingaspopular: after the filename
[08:37] <@dholbach>  - attach debdiff to bug report
[08:38] <maco> dholbach: yeah the two steps everyone forgets :P
[08:38] <@dholbach>  - subscribe sponsors team who review the patch
[08:38] <@dholbach>  - they review it
[08:38] <@dholbach>  - upload it
[08:38] <@dholbach>  - bug gets automatically closed
[08:38] <@dholbach>  - build attempted
[08:38] <@dholbach>  - fix delivered to the world
[08:38] <@dholbach> sure the package could fail to build
[08:38] <@dholbach> but that's usually a new bug ;-)
[08:38] <maco> ok then
[08:38] <balarka> maco, thanks
[08:38] <posingaspopular> i dont follow, what is wrong there?
[08:38] <@dholbach> posingaspopular: also the colon in (LP: #323270)
[08:39] <balarka> maco, what is LP btw..
[08:39] <maco> hrm that reminds me that i got a build failure email...
[08:39] <@dholbach> posingaspopular: it's the syntax
[08:39] <Pollywog> LaunchPad
[08:39] <maco> balarka: launchpad in two letters
[08:39] <balarka> oh ok :P
[08:39] <@dholbach> Pollywog: can you follow up with that suggestion at https://wiki.ubuntu.com/Packaging/Training ?
[08:39] <@dholbach> pkpdjh: you had a question too?
[08:39] <maco> dholbach: if i got a build failure email due to "its beta, the repos were broken when the buildd went through" how do i try to get it rebuilt for that architecture?
[08:40] <Crusher> dholbach: did my debdiff look alright? (http://paste.ubuntu.com/142607/)
[08:40] <Pollywog> k I thought that was for the ppl who present the trainings
[08:40] <@dholbach> maco: ask in #ubuntu-motu for somebody to attempt a rebuild for you
[08:40] <Pollywog> I will do that
[08:40] <@dholbach> Pollywog: there's a "suggested sessions" or somtehing
[08:40] <maco> dholbach: ok thanks
[08:40] <@dholbach> Crusher: sorry, must have missed it - checking it out
[08:40] <@dholbach> Crusher: that looks perfect
[08:40] <Crusher> cool
[08:40] <@dholbach> wow... great work everybofy!
[08:41] <maco> pbuilder one? please? i have no idea how to make a new pbuilder when i reinstall :(
[08:41] <@dholbach> feel yourselves clapped on the shoulder
[08:41] <@dholbach> maco: please put it on the wiki page
[08:41] <balarka> i did :P
[08:41] <@dholbach> ok... any other questions?
[08:41] <Pollywog> dholbach and others: thanks for the session.  It was great
[08:41] <Crusher> great session dholbach, thankyou
[08:41] <posingaspopular> what syntax?
[08:42] <@dholbach> posingaspopular: (LP: #123456)
[08:42] <cel_> dholbach: many thanks for your time
[08:42] <silentsno> thanks dholbach.
[08:42] <@dholbach> thanks a lot everybody for participating and helping out
[08:42] <ara> dholbach: thanks for the session!
[08:42] <@dholbach> I hope you found it fun and helpful and I'll see you in the next sessions too
[08:42] <brand0con> dholbach: thanks for the session.  look forward to more of them
[08:42] <cel_> See ya all in the next one!
[08:42] <@dholbach> https://wiki.ubuntu.com/MOTU/GettingStarted has some reading material until the next session!
[08:42] <nanbanjin> somebody mentioned some blog of yours dholbach...
[08:43] <@dholbach> nanbanjin: you mean http://daniel.holba.ch/blog ?
[08:43] <@dholbach> nanbanjin: or http://ubuntupackaging.wordpress.com/ ?
[08:43] <maco> the latter
[08:43] <maco> that was me that mentioned it
[08:44] <@dholbach> ah ok
[08:44] <@dholbach> great
[08:44] <pkpdjh> My question before was about what to do when patches don't work the first time.
[08:44] <@dholbach> pkpdjh: ah yes...
[08:44] <pkpdjh> dholbach: I was just curious if there's a way to track changes and find the disconnect.  (Sorry, I'm a noob.)
[08:45] <@dholbach> pkpdjh: that's where revision control systems are really helpful - they make it much much easier to either merge a complete branch (plus its history) or just cherry-pick a certain change
[08:45] <@dholbach> pkpdjh: when you just work with the diff and patch tools, you have to live with their limitations
[08:45] <pkpdjh> Sure.
[08:46] <pkpdjh> dholbach: I had one other problem.  I had some syntax errors or something in my debian/changelog file.
[08:46] <@dholbach> patch is quite clever when thing just moved around a few lines or something like that, but if the context around it changed, it simply gives up and you need to merge manually
[08:46] <@dholbach> pkpdjh: what happened there?
[08:46] <pkpdjh> I got an error that said "unrecognized line"
[08:46] <blfgomes> dholbach: Thank you for your time and patience! The whole concept of having a session like this is really incredible.
[08:47] <@dholbach> pkpdjh: can you put up the log of it somewhere?
[08:47] <@dholbach> blfgomes: I'm very glad you enjoyed it - there's more to come and I hope we'll have a lot of people fixing bugs soon :)
[08:49] <pkpdjh> dholbach: In my noobness, I will have to find time to learn how everyone was pasting their logs before I get too deep over my head.
[08:49] <@dholbach> pkpdjh: oh, don't worry, just load up http://paste.ubuntu.com and paste the log of the error in there
[08:50] <@dholbach> right now I can't tell where the "unrecognized line" error comes from
[08:50] <nanbanjin> thank you very much dholbach. I ran all in the sandbox of my imagination but will go through the logs later and try it on my own
[08:50] <@dholbach> nanbanjin: awesome... hope you enjoyed it
[08:50] <pkpdjh> dholbach: okay it is there.
[08:50] <@dholbach> pkpdjh: can you post the link here?
[08:51] <pkpdjh> http://paste.ubuntu.com/142622/
[08:51] <@dholbach> gracias
[08:51] <@dholbach> pkpdjh: can you paste the top entry of debian/changelog ?
[08:52] <pkpdjh> http://paste.ubuntu.com/142625/
[08:53] <@dholbach> pkpdjh: try putting two spaces instead of one in front of the "*"
[08:53] <@dholbach> so "  * bla bla bla" instead of " * bla bla bla"
[08:53] <@dholbach> (if that makes sense)
[08:54] <pkpdjh> damn whitespace!
[08:54] <pkpdjh> That fixed it.
[08:54] <@dholbach> super
[08:54] <@dholbach> it's very picky, I agree :-)
[08:54]  * maco bets guido van rossum had a hand in this
[08:54] <@dholbach> no, I doubt it
[08:55] <@dholbach> most of the machinery behind devscripts etc is written in perl
[08:55] <pkpdjh> dholbach: Okay.  Now I have to play catch up on the rest of the tutorial.  I followed along, but I couldn't do the steps.
[08:55] <maco> O_O
[08:55]  * maco hides
[08:55] <@dholbach> pkpdjh: just let me know how it goes
[08:55] <@dholbach> once you figured out dch, debdiff, debuild, etc. and used them a couple of times, you'll see that that's just "tools"
[08:55] <posingaspopular> dholbach: you are going to have to point out this syntax you are talking about, i dont see it
[08:56] <@dholbach> and the interesting part is the "detective stuff" like chasing down where to find the patch and so on
[08:56] <pkpdjh> dholbach: I'm sure it will go fine, but it will probably go tomorrow. I'm in the western U.S.A. ;)
[08:56] <@dholbach> posingaspopular: what I meant is: if you want the bug to be automatically closed, you have to use the "(LP: #123456)" syntax
[08:57] <@dholbach> posingaspopular: and can't use "(LP: 123456)" because the build daemons don't understand it
[08:57] <@dholbach> posingaspopular: actually it's    LP: #<number>
[08:57] <maco> as in teh open parenthesis, L, P, colon, space, hash, ....
[08:57]  * maco slaps self
[08:57] <@dholbach> pkpdjh: enjoy it and sleep tight
[08:57] <maco> no more lex!
[08:57] <@dholbach> I'll put up the logs in a bit
[08:57] <@dholbach> have a great day everybody
[08:57] <posingaspopular> oh okay, that makes sense :P
[08:57] <posingaspopular> # is the bug number
[08:58] <@dholbach> yeah
[08:58] <@dholbach> or the bug number is after the "#" sign
[08:58] <posingaspopular> im sitting here getting all worked up because i couldn't figure out what you were talking about
[08:58] <posingaspopular> lol
[08:59] <@dholbach> don't get worked up just because of that :-)
</pre>

----
CategoryPackaging

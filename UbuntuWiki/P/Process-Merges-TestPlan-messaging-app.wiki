{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* '''Test plan for component''': messaging-app
* '''Component Checklist''': https://wiki.ubuntu.com/Process/Merges/Checklists/system-apps
* '''Trunk URL''': lp:messaging-app
* '''Ubuntu Package URL (LP)''': http://launchpad.net/ubuntu/+source/messaging-app

=== Dependents/Clients ===

None

=== Test Plan ===

'''This test plan is not supposed to be complete; use it to guide your manual testing so they dont miss big functional areas that are part in the component; also this should be used as guideline to inspire the exploratory testing which should be adapted smartly based on the real content of a MP'''

* Install latest (trusty-proposed) image on phone
* Install freshly build MPs that are needed for landing
* Ensure that all AP tests pass on the device.
* Test sending an sms message
* Test notification appears on sms receive
* Test sms appears on messaging menu
* Test receiving an sms message
* Test composing message to a new number
* Test adding a new contact from sms
* Test adding to existing contact from sms
* Test making a phone call from sms message
* Test deleting message details
* Test all conversations show up on conversation page
* Test swiping a message from right to left to invoke "copy" menu. Then copy the message and try to paste into the send field (by press and hold "paste").
* Receive an sms that has a url in it (i.e. "Check out espn.com"). Ensure the link is highlighted and clicking on it launches the webbrowser-app loading the site.
* Receive an sms that has a phone number in it (i.e. "Call me at 617-688-0034"). Ensure the phone number is highlighted and clicking on it launches the dialer-app.
* Receive an sms that has the characters "<", ">" and "&" and make sure they show up correctly in the message.
* From the address-book-app, click on the messaging icon from the contact details. Ensure the messaging app is launched directly in the message thread view with the send field focused and OSK visible.
* Ensure all AP testes from dialer-app pass on the device (to avoid breaking inter-app tests).
* Test dual-sim
** If don't have a dual sim phone, setup emulator according to instructions here: https://docs.google.com/a/canonical.com/document/d/1VTl0urE-caZSmv3sUqPQs2A2NKC4VHMf20XSq7n2pKU/edit
** test that sms can be sent on either sim by selecting the sim name in the messaging-app
** test that if no default sim has been set in system-settings that user is prompted when sending their first sms (not supported yet)
** test that messages are sent by default on the sim that was selected in system-settings as the default (not supported yet)
* Test sim-lock and flight mode
** lock your sim cards and try to send a message. verify that a prompt appears explaining that sims are locked.
** turn on flight mode and try to send a message. verify that a prompt appears telling user that no network exists.
** turn off flight mode and unlock sims. close messaging-app and send the phone an sms. now enable flight mode. pull down the messaging menu and try to respond to the sms message. verify that a notification is displayed explaining the message could not be sent. now open the messaging-app and verify that the failed response is displayed in the message view.
* Dual-Sim labels
** install dual sims on the phone
** after installing the silo under test check if:
** sim labels remain the same and in the same order
** if the default sim card for text messages is preserved and pre-selected under the page header
** after this test plan is done, wipe the user data on system-settings->Reset->Erase & Reset Everything, and after reboot check if messaging-app displays SIM 1 and SIM 2 respectively.
** change the default SIM for messages in system-settings to the one in the second slot
** launch messaging-app
** open an existing conversation and check if the second sim card is selected.
** send a few messages from one sim
** select the other sim from the suru divider
** send a few messages from the other sim
** verify a divider is displayed in the thread view displaying information about the sim switch
** remove one of the sim cards and reboot the phone
** open the same messaging thread and verify the sim divider labels still appear
* Test searching:
** receive some messages to populate your history
** search for the contents of an existing message in the conversation view (words of the message text)
** search for a contact name in the conversation view
** click on a search result and make sure it is visible on the next screen
** Pick a contact and send "message1" using sim 1, and "message2" using sim 2, go back to main screen and verify if searches for both "message1" and "message2" work correctly
* Test multiple recipients
** Disable MMS group chat via gsettings (gsettings set com.ubuntu.phone mms-group-chat-enabled false) or via Settings panel in messaging-app if available
** Compose a new message to multiple recipients and send it
** Make sure all recipients receive the message
** Go back to main messaging app screen, click the thread with the multi-recipient conversation and make sure it shows the message you have just sent
* Test MMS
** Send a picture with some text from another device to messaging-app and make sure it is correctly received and displayed (both picture and text)
** Send a picture back to the other device from messaging-app (pick from gallery-app or camera-app) with some text and make sure it is received on the other side
* Test MMS group chat (vivid only)
** Enable MMS group chat via gsettings (gsettings set com.ubuntu.phone mms-group-chat-enabled true) or via Settings panel in messaging-app if available. Note: this option is only used for sending MMS group chat. Receiving group chats will still work even if this setting is off.
** Send a message to multiple destinataries that support the feature
** Make sure that the message that arrive on the other end has all the recipients (NOTE: some carriers might modify the message and some even strip other destinataries than just the recipient itself, so make sure MMS group chat works fine on your carrier)
** From another device, send a MMS group message to the messaging-app and make sure all the destinataries are listed in the received message.
** From another device, send a MMS group message again, but this time with a different list of recipients and make sure another conversation is created in messaging app. Also make sure messages sent to the first and second group are still getting received correctly.
* Test telephony number and link handling
** text the following numbers to the Ubuntu Phone
** 617-688-0034, verify clicking it will open dialer
** +558187042155, verify clicking it will open dialer
** 55555555555, verify it will not be linked
** 15h30-16h, verify it will not be linked
** cnn.com, verify clicking it will open in browser
** 192.168.0.1, verify clicking it will open in the browser
** http://www.google.com, verify clicking it will open in the browser
** Switch phone language to Spanish. Text the following numbers to the Ubuntu Phone
** 666.554.433, verify clicking it will open dialer
** +34666554433, verify clicking it will open dialer
* Test CPU usage
** open messaging-app, open a conversation
** shell into the phone and run 'top -d1'
** send a text message to the phone
** verify that after the message is received that messaging-app is not using excessive CPU
** send a message
** verify that cpu usage increases while the animation spinner is visible and then is reduced when spinner gone.
* Test contacts
** test that you can edit a contact from inside the app
** test that you can create a new contact from inside the app
** Test contacts with similar phone numbers:
** Open address-book-app and add ContactA with number: +352 661 123456, and ContactB with number: +352 691 123456.
** Open messaging-app and send one message to contactA and another one to contactB.
** Make sure the contact name always match the right phone number(ie: ContactA is not displayed as ContactB and vice-versa on both conversation view and thread view).
* Test vcard/contacts preview
** Single contact
*** Send or receive a vcard attachment with one contact with picture
*** Check if the contact avatar and name are correct displayed on vcard message
*** Click on the message and check if the information displayed is correct
*** Click on import button in the header should import the contact to selected app
** Multiple contacts 
*** Send or receive a vcard attachment with multiple contacts
*** Check if the contact message appear with the first contact name "+<number-of-contacts>"
*** Click on the message and check if it shows the correct contact list
*** Click on import button on contact list header should import all contacts to selected app.
*** Click on each contact and check if the correct info is displayed.
*** Click on import button in the header should import individual contact to selected app
* Test Audio Attachments
** press and hold the microphone button on the compose bar, verify that icon animates and counter starts moving
*** release microphone button, verify you can play/pause the recorded audio
*** press the send button and the audio attachment will be sent and should move into the message thread
*** verify you can play/pause the message from the message thread (while it's sending, as well as after it's sending)
*** If MMS is enabled on your data plan, the audio message will be sent, otherwise the sending of it will fail
** repeat above steps, but instead of pressing send button press the "x" and verify entry field is shown again and audio control are hidden
** press and hold, but this time swipe to cancel, verify entry field is shown again and audio control are hidden
** send an audio attachment from one ubuntu phone to another and verify it is received and can be played back correctly from within the messaging app.
* Test Video attachments
** press the "+" button on the compose bar
** choose Videos
** select a video from one of the listed apps
** you should see a thumbnail of the video in the message
** press send button, you will be prompted with a dialog informing about file size > 300kb. This is informative only. verify that the video is added to the message thread, with spinner to indicate it's sending
** You must have MMS enabled data plan to be able to send attachments. Depending on the size of the file and the max allowed by your carrier (At+t==600kb Tmobile=1.2mb others unknown) the video should send correctly if the size limit is not surpassed.
** send a video attachment from one ubuntu phone to another and verify it is received and can be played back correctly from within the messaging app.
* Test convergence
** Make sure that resizing messaging-app horizontally switches between one and two column layouts when in desktop mode (you can also test that by rotating a phone that has a big enough screen or a small enough grid unit value)
** Start composing a message in one column (portrait) layout. Switch to two columns and verify that the compose screen is still there.
** Start composing a message in two columns layout. Switch to one column and verify that the compose screen is still there
** Open an existing conversation, switch between one and two columns and verify that the conversation view is still there
  

   

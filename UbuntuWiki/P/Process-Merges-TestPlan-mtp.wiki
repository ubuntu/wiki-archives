{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* '''Test plan for component''': mtp
* '''Trunk URL''': lp:mtp
* '''Ubuntu Package URL (LP)''': https://launchpad.net/ubuntu/+source/mtp

=== Dependents/Clients ===

None; this is a leaf package.

=== Test Plan ===

'''This test plan is not supposed to be complete; use it to guide your manual testing so they don't miss big functional areas that are part in the component; also this should be used as a guideline to inspire the exploratory testing which should be adapted smartly based on the real content of a MP'''

* Install latest (trusty-proposed) image on phone
* Install the mtp-server binary from silo
* Reboot the device

==== Normal operation ====

===== Detection =====

# Connect the device to a computer
# Verify that it is properly detected:
** It should pop open a nautilus window on Ubuntu.
** It should display the driver install dialogs on Windows.

===== Browsing =====

# Connect the device to a computer
# Browse to the device in nautilus
# Double-click the drive contained in the phone "mountpoint", it is named the same as the product and model of the phone.
# Verify that you can see directories, and that files are displayed if some are on the device.

===== Adding files =====

# Select files from your computer to copy on the device.
# Copy via drag-and-drop or right-clicking and selecting "Paste".
# Verify that the files are added to the directory selected, and that they properly show in File Manager.
/!\ This DOES NOT work at the root of the device, this is on purpose. You need to copy files to a directory already present in the root.

Try copying files:
* In a directory on the internal storage.
* On the root filesystem on SD card.
* In a subdirectory on SD card.
 

===== Deleting files =====

# Select files on the device to delete.
# Right-click and choose Delete, or hit the Del key on your keyboard.
# Verify that the files are deleted, and no longer show in File Manager.

===== Renaming files =====

# Select a file on the device.
# Attempt to rename it.
# Verify that the new name is applied, and that the files is properly renamed on the phone using File Manager.

===== Moving files =====

/!\ Moving files is not supported. This is the same as Android.

===== File detection =====

 /!\ (Not currently working, needs a fix in gvfs)

# Make sure the device is connected via USB
# Open the Pictures folder
# Take a picture
# Verify that the picture appears in the nautilus window.

===== File and directory properties =====

# Select a file or directory on the device.
# Right click and select "Properties".
# Verify that the properties shown (Size, Type) are reasonable.

===== Ejecting =====

# With the device connected; select it and click the eject icon in nautilus. (This is done by right-clicking the device on Windows and selecting "safe removal".
# Verify that the eject icon disappears.

===== Security =====

/!\ This should be tested once on USB 2.0, and again on USB 3.0.

# Connect the mobile device to an USB port.
# Reboot the mobile device.
# Verify that without touching the mobile device; it comes up "locked", and files do NOT show up in Nautilus. The nautilus window for the mobile device should come up blank, not showing Internal Storage or SD cards.

==== Windows support ====

# Connect the device to a Windows system
# Test the above operations

==== SD card support ====

 This test requires the use of a phone with an SD card slot.
# Insert an SD card in the phone.
# Connect the phone to the computer.
# Browse to the phone in nautilus; to where the storage devices are shown.
# Verify that the card appears with the correct label.
# Test normal operations, ensure that they are working on the SD card.

Card removal:
# Disconnect the phone from the computer.
# Remove the SD card.
# Connect the phone to the computer.
# Verify that the SD card is no longer shown.

==== Screen locking ====

===== Storage devices are not shown while locked =====

# Disconnect the phone from the computer.
# Enable locking on the phone.
# Press the power button to lock the phone.
# Connect the phone to the computer.
# Browse to the phone in nautilus.
# Ensure you can not see storage devices, that no files are visible.

===== Unlocking has the storage devices displayed =====

With the steps above done;
# Unlock the phone
# Verify that the storage devices appear.
If they do no immediately appear in nautilus, press F5 to refresh, they should be visible.

===== Locking the phone once connected does not hide storage =====

# Disconnect the phone to the computer.
# Unlock the phone
# Connect the phone to the computer.
# Browse to the phone to see storage devices.
# Lock the phone by pressing the power button.
# Hit the F5 key
# Verify that storage devices are still being shown.

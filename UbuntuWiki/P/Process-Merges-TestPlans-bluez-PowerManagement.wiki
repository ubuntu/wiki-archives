{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Check RFKill state of bluetooth

<pre>
$ rfkill list bluetooth
1: hci0: Bluetooth
	Soft blocked: no
	Hard blocked: no
</pre>

* Verify hci device is listed as in example above. It should be either blocked or not blocked depending on the indicator state.
  

* Start bluetoothctl utility and verify it finds our HCI device

<pre>
phablet@ubuntu-phablet:~$ bluetoothctl 
[NEW] Controller 30:30:3A:41:30:3A Nexus 4 [default]
[bluetooth]# list
Controller 30:30:3A:41:30:3A Nexus 4 [default]
</pre>

* Verify the ccontroller state in BlueZ corresponds to the rfkill/hciconfig state

<pre>
[bluetooth]# show 30:30:3A:41:30:3A
Controller 30:30:3A:41:30:3A
	Name: Nexus 4
	Alias: Nexus 4
	Class: 0x1c0000
	Powered: yes
	Discoverable: no
	Pairable: yes
	UUID: Headset AG                (00001112-0000-1000-8000-00805f9b34fb)
	UUID: Generic Attribute Profile (00001801-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)
	UUID: OBEX File Transfer        (00001106-0000-1000-8000-00805f9b34fb)
	UUID: Generic Access Profile    (00001800-0000-1000-8000-00805f9b34fb)
	UUID: OBEX Object Push          (00001105-0000-1000-8000-00805f9b34fb)
	UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
	UUID: IrMC Sync                 (00001104-0000-1000-8000-00805f9b34fb)
	UUID: Audio Source              (0000110a-0000-1000-8000-00805f9b34fb)
	UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
	UUID: Vendor specific           (00005005-0000-1000-8000-0002ee000001)
	UUID: Message Notification Se.. (00001133-0000-1000-8000-00805f9b34fb)
	UUID: Phonebook Access Server   (0000112f-0000-1000-8000-00805f9b34fb)
	UUID: Message Access Server     (00001132-0000-1000-8000-00805f9b34fb)
	Modalias: usb:v1D6Bp0246d0521
	Discovering: no
</pre>

* The 'Powered' property should correspond to the state of the rfkill and the hci device.
  
* Power controller off and verify it correctly turns off via hciconfig

<pre>
[bluetooth]# power off
Changing power off succeeded
[CHG] Controller 30:30:3A:41:30:3A Powered: no
[CHG] Controller 30:30:3A:41:30:3A Discovering: no
[CHG] Controller 30:30:3A:41:30:3A Class: 0x000000
[bluetooth]# show 30:30:3A:41:30:3A
Controller 30:30:3A:41:30:3A
	Name: Nexus 4
	Alias: Nexus 4
	Class: 0x000000
	Powered: no
	Discoverable: no
	Pairable: yes
	UUID: Headset AG                (00001112-0000-1000-8000-00805f9b34fb)
	UUID: Generic Attribute Profile (00001801-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)
	UUID: OBEX File Transfer        (00001106-0000-1000-8000-00805f9b34fb)
	UUID: Generic Access Profile    (00001800-0000-1000-8000-00805f9b34fb)
	UUID: OBEX Object Push          (00001105-0000-1000-8000-00805f9b34fb)
	UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
	UUID: IrMC Sync                 (00001104-0000-1000-8000-00805f9b34fb)
	UUID: Audio Source              (0000110a-0000-1000-8000-00805f9b34fb)
	UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
	UUID: Vendor specific           (00005005-0000-1000-8000-0002ee000001)
	UUID: Message Notification Se.. (00001133-0000-1000-8000-00805f9b34fb)
	UUID: Phonebook Access Server   (0000112f-0000-1000-8000-00805f9b34fb)
	UUID: Message Access Server     (00001132-0000-1000-8000-00805f9b34fb)
	Modalias: usb:v1D6Bp0246d0521
	Discovering: no
[bluetooth]# quit
[DEL] Controller 30:30:3A:41:30:3A Nexus 4 [default]
phablet@ubuntu-phablet:~$ hciconfig hci0
hci0:	Type: BR/EDR  Bus: UNKNOWN
	BD Address: 30:30:3A:41:30:3A  ACL MTU: 1024:6  SCO MTU: 50:8
	DOWN 
	RX bytes:0 acl:0 sco:0 events:90 errors:0
	TX bytes:0 acl:0 sco:0 commands:0 errors:0
</pre>

* Now do the same again but turn the controller back on.

<pre>
[bluetooth]# power on
[CHG] Controller 30:30:3A:41:30:3A Class: 0x1c0000
Changing power on succeeded
[CHG] Controller 30:30:3A:41:30:3A Powered: yes
[bluetooth]# show 30:30:3A:41:30:3A
Controller 30:30:3A:41:30:3A
	Name: Nexus 4
	Alias: Nexus 4
	Class: 0x1c0000
	Powered: yes
	Discoverable: no
	Pairable: yes
	UUID: Headset AG                (00001112-0000-1000-8000-00805f9b34fb)
	UUID: Generic Attribute Profile (00001801-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control        (0000110e-0000-1000-8000-00805f9b34fb)
	UUID: OBEX File Transfer        (00001106-0000-1000-8000-00805f9b34fb)
	UUID: Generic Access Profile    (00001800-0000-1000-8000-00805f9b34fb)
	UUID: OBEX Object Push          (00001105-0000-1000-8000-00805f9b34fb)
	UUID: PnP Information           (00001200-0000-1000-8000-00805f9b34fb)
	UUID: A/V Remote Control Target (0000110c-0000-1000-8000-00805f9b34fb)
	UUID: IrMC Sync                 (00001104-0000-1000-8000-00805f9b34fb)
	UUID: Audio Source              (0000110a-0000-1000-8000-00805f9b34fb)
	UUID: Audio Sink                (0000110b-0000-1000-8000-00805f9b34fb)
	UUID: Vendor specific           (00005005-0000-1000-8000-0002ee000001)
	UUID: Message Notification Se.. (00001133-0000-1000-8000-00805f9b34fb)
	UUID: Phonebook Access Server   (0000112f-0000-1000-8000-00805f9b34fb)
	UUID: Message Access Server     (00001132-0000-1000-8000-00805f9b34fb)
	Modalias: usb:v1D6Bp0246d0521
	Discovering: no
[bluetooth]# quit
[DEL] Controller 30:30:3A:41:30:3A Nexus 4 [default]
phablet@ubuntu-phablet:~$ hciconfig hci0
hci0:	Type: BR/EDR  Bus: UNKNOWN
	BD Address: 30:30:3A:41:30:3A  ACL MTU: 1024:6  SCO MTU: 50:8
	UP RUNNING 
	RX bytes:0 acl:0 sco:0 events:128 errors:0
	TX bytes:0 acl:0 sco:0 commands:0 errors:0
</pre>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* '''Test plan for component''': upstart
* '''Component Checklist''': 
* '''Trunk URL''': lp:upstart
* '''Ubuntu Package URL (LP)''': https://launchpad.net/ubuntu/+source/upstart

=== Dependents/Clients ===

=== Test Plan ===

* Ensure upstart version XXX is installed.

{| class="wikitable"
|-
| <#FF0000> ''':FIXME: need version :FIXME:'''
|}

* Stop the file bridge job:
   {{{
     $ stop upstart-file-bridge
   }}}
* Force a logrotate:
   {{{
     $ start logrotate
   }}}
* Truncate the xsession log file:
   {{{
     echo > ~/.xsession-errors
   }}}
* Create a ''new'' (temporary) configuration for the upstart-file-bridge by creating file "`~phablet/.config/upstart/upstart-file-bridge.conf`" containing:
   {{{
    exec upstart-file-bridge --user --debug
   }}}
* Start the file bridge:
   {{{
    $ start upstart-file-bridge
   }}}
* Check that it is running:
   {{{
   $ status upstart-file-bridge
   }}}
* Check that it is running in debug mode:
   {{{
   $ pid=$(status upstart-file-bridge|grep process|awk '{print $NF}')
   $ echo "pid=$pid"
   $ ps -f -p "$pid" | grep -- --debug && echo OK || echo FAIL
   }}}
* Create a simple upstart session job that makes use of the upstart-file-bridge(8) by creating file "`~phablet/.config/upstart/test-file-bridge.conf`" containing:
   {{{
     start on file FILE=~/test-file-bridge/*.foo

     echo "FILE='$FILE', EVENT='$EVENT', MATCH='$MATCH'"
   }}}
* Create the test directory:
   {{{
   $ mkdir ~/test-file-bridge/
   }}}
* Create a file in the test directory:
   {{{
   $ touch ~/test-file-bridge/hello.foo
   }}}
* Check that the job ran:
   {{{
   $ cat ~/.cache/upstart/test-upstart-file-bridge.log
   }}}
   The file should contain 1 line:
   {{{
   FILE='~/test-file-bridge/hello.foo', EVENT='create', MATCH='/home/phablet/test-file-bridge/hello.foo'
   }}}
* Check "`~/.xsession-errors`" for any lines referring to "`upstart-file-bridge`".
* Ensure "`/var/crash/`" does not contain any crash files relating to "`/sbin/upstart-file-bridge`".
* Ensure the "`upstart-file-bridge`" job is still running:
   {{{
   $ status upstart-file-bridge
   }}}
   The pid should be the same as before.

----

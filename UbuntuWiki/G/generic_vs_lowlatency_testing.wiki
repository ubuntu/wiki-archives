{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Tests to determine the difference in reliable low latency performance between linux-generic and linux-lowlatency kernels on Ubuntu Natty.

Results can be found here: <nowiki>[[generic_vs_lowlatency_test_results|generic vs lowlatency test results]]</nowiki>

== Quick Instructions ==

Start jackd with the lowest latency frames/period possible without getting xruns. Use Ardour/jack for at least 10-15 minutes while compressing files and opening graphic editing programs to determine that you have reliable performance. Commit results, either by adding them <nowiki>[[generic_vs_lowlatency_test_results|Here]]</nowiki> or mailing them to ubuntustudio or ubuntustudio-devel mail lists.

== Instructions on Testing ==

=== Prerequisites ===

* Ubuntu Studio 11.04 Natty, or Ubuntu 11.04 Natty (Vanilla) installed
* jackd2, Ardour, linux-generic and linux-lowlatency installed
* User has realtime privilege

''To add linux-lowlatency do:''
'''sudo add-apt-repository ppa:abogani/ppa && sudo apt-get update && sudo apt-get install linux-lowlatency'''

=== Jack Settings ===

We are not looking to measure exact latency. The point of this test is to compare -generic and -lowlatency kernels. To do that, we need to make sure we are using the same jack settings on both tests, and using the same audio program. The only jack setting we change in between tests is frames/period.

'''Example jackd commands:'''

* jackd -d alsa -d hw:1 -r 44100 -n 2 -p 64
* jackd -d alsa -d hw:1 -r 44100 -n 2 -p 128

'''Translates as:'''

-d alsa = using alsa driver

hw:1 = using second card in the list of devices (first being 0)

-r 44100 = using 44100kHz samplerate

-n 2 = Using 2 period/buffer

-p 64 = Using 64 frames/period

The resulting line we'll be looking for in the terminal after launching jackd would be:

'''''configuring for 44100Hz, period = 128 frames (2.9 ms), buffer = 2 periods'''''

Note the '''(2.9 ms)''' value. (need to check if this value is the same whether running from terminal or viewing the ms value from qjackctl settings window).

=== Doing the Test ===

* Run jackd with Ardour at the lowest frames/period setting you can without getting xruns for at least 10-15 minutes. 
* Only use record and play functions on Ardour
* Open GIMP and Inkscape during session
* Compress a folder that contains a lot of files, like a source folder. The longer it takes, the better
* If by then you have had no xruns, note the latency value and test the next kernel using the same procedure.

'''Information to include with the test result should be''':

* '''Date''' = 2011-xx-xx
* '''Kernel''' = (-generic / -lowlatency )
* '''Kernel version''' = x-x-xx-x
* '''arch''' = (i386 / AMD64)
* '''audio device''' = (type / name)
* '''session''' = (type of session)
* '''lowest ms value''' = (x.x ms)

'''Example:'''

* '''Date''' = 2011-04-14
* '''Kernel''' = -lowlatency
* '''Kernel version''' = 2.6.38-8
* '''arch''' = i386
* '''audio device''' = pci / M-Audio Delta 66
* '''session''' = Simple Ardour session
* '''lowest ms value''' = 2.9 ms

=== Committing the results ===

Results can be added directly <nowiki>[[generic_vs_lowlatency_test_results|Here]]</nowiki>, or mailed to either ubuntustudio or ubuntustudio-devel mail lists. Just be sure to include all relevant information.

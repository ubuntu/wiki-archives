{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Na początku chciał bym podziękować Sir_Yaro. Program ma olbrzymie możliwości, i ogarniecie go samemu jest bardzo, bardzo ciężkie :) Także Yaro thx za pomoc w powstaniu tego HOW-TO (nie pisze faq bo... już ty wiesz :))

'''1)''' Ściągamy '''Glftpd'''
<pre>
mrrobby@server:/tmp$ wget http://www.glftpd.com/files/glftpd-LNX_2.01.tgz
</pre>
a następnie rozpakowywujemy
<pre>
mrrobby@server:/tmp$ tar -xvf glftpd-LNX_2.01.tgz
</pre>
powinien utworzyć się katalog '''glftpd-LNX_2.01'''
Instalujemy dodatkowo potrzebne paczki
<pre>
mrrobby@server:/$ sudo apt-get install xinetd zip unzip openssl tcpd
</pre>
'''2)''' Wchodzimy do katalogu i odpalamy '''installgl.sh'''
<pre>
mrrobby@server:/tmp/$ cd glftpd-LNX_2.01
mrrobby@server:/tmp/glftpd-LNX_2.01$ sudo ./installgl.sh
</pre>
w tym momencie powinno wyskoczyć menu instalacyjne:) Zaczynamy
<pre>
...
1. TCPD SETUP:
--------------
Use tcpd? [Y]es [N]o: Y

2. JAIL SETUP:
(Ustawiamy katalog, grupę i użytkowników którzy będą mieli dostęp do klatki /jail)
--------------
Use a jailed environment? [Y]es [N]o: Y
Please enter the private directory to install glftpd inside [/jail]:
Use a private group? [Y]es [No]: y
What would you like your private group to be called? [glftpd]:
Who should have access to glftpd? (separate with ,): mrrobby

3. GLFTPD BASE SETUP: 
(Nazwa katalogu serwera w klatce)
--------------
Please enter the directory inside /jail to install glftpd to [/glftpd]:

4. SERVICE SETUP & MULTI INSTALL:
--------------
Press <enter> for the default (glftpd)>     

5. COMPILING SOURCES & COPYING LIBS:
(W tym momencie instalator kompiluje i kopiuje biblioteki)
--------------

6. PORT AND SYSTEM SETUP: 
(Ustawiamy port i strefę czasową)
--------------
Enter the port you would like glftpd to listen on [1337]: 21   
Do you wish to use European weeks? European weeks starts with a Monday.
This is for glftpd's 'reset' binary (see docs for more info) [Y/N]: Y

7. SSL/TLS SETUP: 
(W tej sekcji będzie generowany certyfikat dla naszego serwera)
-----------------
Please specify location, inside /jail/glftpd,
to install the cert (ftpd-dsa.pem) [/etc]:
Please specify a generic name for this certificate.
This can be any name but should say something about the ftp server
like the name for it perhaps (press enter for glftpd):

8. STARTING GLFTPD:
(Pierwszy start serwera)
-------------------

Copying /etc/resolv.conf to /jail/glftpd/etc/resolv.conf . . . Done.
Testing entries in resolv.conf (can take time):
   Testing 10.32.10.2 . . . OK.
   Testing 10.22.10.3 . . . OK.
Configuring xinetd for glftpd . . . Done.
Restarting xinetd . . . Success.

If your system is using RH 7.3, you MUST restart xinetd MANUALLY!

Adding crontab entry to tabulate site stats nightly . . . Done.

chmod'ing the site/ dir . . . Done.
</pre>
Jak widzimy nasz serwer wystartował poprawnie. To by było na tyle jeśli chodzi o instalacje serwera
<pre>
9. FINISH:
----------

Congratulations, glFtpD has been installed. Scroll up and note any errors
that needs fixing. ./installgl.debug contains a log of the installation process.

To get your site running, you must edit /jail/glftpd.conf according to
the instructions in /jail/glftpd/docs/glftpd.docs.
For help, visit #glftpd on EFnet AFTER you've read (not skimmed) the docs/faq.

After configuring glftpd, visit the following websites for additional
scripts to give your site some style!:
        Turranius - http://www.grandis.nu/glftpd
        Jehsoms - http://runslinux.net/
        dn's and ip's - http://www.chimera-coding.com
        D-ViBE's collection - http://www.glftpd.at

The official glftpd homepage is located at http://www.glftpd.com

                                 Thanks for your support!
                                 the glFtpD team
</pre>
Tak jak pisze zabieramy się za konfiguracje'''glftpd.conf''' który jest głównym plikiem konfiguracyjnym naszego serwera. Przed tym wszystkim musimy się jednak przelogować, ponieważ nasz login musi być uwzględniony w grupie glftpd, bez której to nie wejdziemy do katalogu '''/jail'''

'''3)''' Otwieramy plik konfiguracyjny do edycji
<pre>
mrrobby@server:/$ vim /jail/glftpd.conf
</pre>
Ze względu na ogromną złożoność pliku, moje komentarze będą ograniczone znakiem '''$'''
<pre>

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ W tym miejscu możemy ustawić czy serwer ma być dostępny dla 
$$ 0 - wszystkich, jest to domyślne ustawienie
$$ 1 - tylko dla administratorów
$$ !* - serwer działa ale nikt nie może się do niego zalogować
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$

xdupe *.zip *.[Rr][0-9][0-9] *.[Rr][Aa][Rr] *.[mM][pP][3]

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ W tej sekcji ustawiamy nazwę naszego serwera (długą oraz krótką) i adres
$$ @ do administratora serwera, czyli nas :) 
$$ [:space:] - oznacza spacje
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
sitename_long   MrRobby[:space:]FTP
sitename_short  HELL
email           xxx@xxx.pl

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Mamy tu podaną ścieżkę, gdzie znajduje się nasz serwer. Jest nam to 
$$ potrzebne w momencie zmiany jego położenia
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
rootpath /jail/glftpd

datapath        /ftp-data
welcome_msg     /ftp-data/misc/welcome.msg      *
goodbye_msg     /ftp-data/misc/goodbye.msg      *
newsfile        /ftp-data/misc/newsfile         *
banner          /ftp-data/misc/banner

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Bardzo ważna sekcja. Zazwyczaj zwykli użytkownicy nie mają pojęcia
$$ o szyfrowanych połączeniach. Serwer ten świetnie sprawuje się z 
$$ szyfrowaniem TLS z którego to na co dzień korzystam. Standardowo serwer
$$ ustawiony jest tak, że można łączysz się w sesji szyfrowanej bądź nie.
$$ Nic nie szkodzi na przeszkodzie, by wymusić na wszystkich tego typu
$$ połączenie :) Takie „wymuszenie” można poustawiać tylko dla wybranych 
$$ grup, loginów itp. Więcej informacji w /jail/glftpd/docs/readme.tls
$$ Póki co zostawiamy tak jak jest domyślnie czyli do wyboru
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
userrejectsecure        !*
userrejectinsecure      !*
denydiruncrypted        !*
denydatauncrypted       !*

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Czy kolory mają być aktywne czy nie??? Standardowo są wyłączone.
$$ Później opisze co i jak.
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
color_mode 0

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Kolejna bardzo ważna sekcja. Zwróćcie uwagę ze wszystko zaczyna się 
$$ od /site. Serwer jest umieszczony w klatce jail, w której znajduje się katalog 
$$ glftpd, a w nim z kolei site w którym to trzymana jest cała zawartość serwera.
$$ Jeśli chcemy podmontować jakieś katalogi z zewnątrz jail, tak by były widoczne 
$$ w site, to musimy użyć opcji mount --bind. Po więcej informacji zapraszam do 
$$ podręcznika mount. W tej sekcji ustawiamy uprawnienia do katalogów.
$$ *  - oznacza wszyscy
$$ =  - oznacza jakąś grupę  np. =lolki
$$ !   - oznacza zaprzeczenie
$$ -   - określa konkretny login np. -mrrobby
$$
$$ upload     /site/incoming/*    *      - w katalogu incoming mogą wrzucać wszyscy
$$ upload     /site/*    -mrrobby         - we wszystkich katalogach może wrzucać mrrobby
$$ rename    *    1 =staff -mrrobby    - zmian nazw może dokonywać mrrobby oraz $$ grupa staff 
$$ delete      /site/incoming/*    * !-lolek   - w incoming mogą kasować wszyscy oprócz lolek
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
upload         /site/incoming/*        *
upload         /site/*                         -mrrobby
resume         *                               *
makedir       /site/incoming/*        *
makedir       /site/*                         -mrrobby
download     *                               *
dirlog           *                               *
rename         *                               1 =STAFF -mrrobby
renameown  *                               *
nuke             *                               *
delete           *                               2
delete           /site/incoming/*       * !-wsti
deleteown    *                               *

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Kika ważniejszych opcji. Wymienić wszystkich nie sposób. 
$$ Wszystko jest w podręczniku :)
$$ Minimalna ilość miejsca jaka musi być w katalogu by serwer zezwolił
$$ na wrzucanie danych.
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
free_space 20

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ ilu max użytkowników może być na serwerze w danej chwili
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
max_users 15 5

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Maksymalna ilość kont jaka może być założona na serwerze
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
total_users 300

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Opcja sprawdza czy w przeciągu ostatnich 7 dni, wrzucany plik nie pojawił
$$ się już na serwerze. Jeśli został wrzucony identyczny plik, to zostaniemy 
$$ o tym poinformowani, a upload nie zostanie rozpoczęty.
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
dupe_check      7               no

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Zakazujemy ściągać nie wrzucone do końca pliki
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
dl_incomplete 0

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Powyżej tego katalogu nie można przejść. Tak jak pisałem serwer
$$ jest zabezpieczony klatka (jail) dla naszego bezpieczeństwa :)
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
min_homedir     /site

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Możemy sobie poustawiać prywatne katalogi dla użytkowników.
$$ Tylko oni będą mieli dostęp do swoich danych i administrator oczywiście :)
$$ Można tutaj dodawać również grupy oraz wykluczenia tak jak to miało 
$$ miejsce przy ustawianiu uprawnień do katalogów. Katalogi będą widziane tylko
$$ dla mrrobby, loginu i użytkownika z ustawioną flaga nr 1
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
privpath /site/incoming/mrrobby         -mrrobby        1  -mrrobby
privpath /site/incoming/slawek          -mrrobby        1  -slawek
privpath /site/incoming/LOLKI            -mrrobby       1  =lolki

$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
$$ Polecam zachaszować tą opcje. Zabroni ona uruchamiania programów
$$ na serwerze z pozycji klienta FTP za pomocą opcji site
$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$$
</pre>
To tak z grubsza jeśli chodzi o konfiguracje naszego serwera. Glftpd posiada mnóstwo opcji. W bardzo łatwy sposób możemy rozszerzyć jego funkcjonalność ponieważ posiada możliwość podpinania skryptów, pluginów itp. Po więcej informacji zapraszam na stronę producenta i do podręcznika. 

''' 4) ''' Pierwsze logowanie. Otwieramy konsole i łączymy się. Najlepiej do zdalnej administracji nadaje się zwykły, konsolowy program ftp ale linuksowy, bo ten z windowsa zostawia wiele do życzenia. Na początku można się zalogować tylko jako jeden użytkownik, w dodatku tylko na localhost. Jego imię brzmi '''glftpd''', hasło jest identyczne.

<pre>
mrrobby@server:/jail$ ftp localhost
Connected to localhost.
220 MrRobby FTP (glFTPd 2.01 Linux+TLS) ready.
Name (localhost:mrrobby): glftpd
331 Password required for glftpd.
Password:
230-                                _____
230- ______________________________|__   |____ ________________________________
230- \     _      /   _     /  _     /   |    |    _     /  _     /    _      /
230-  \    \     /    /    /   /____/.   |    |    /    /   /____/.    /_____/
230-   \________/____/    /______    |___|____|___/    /______    |____|
230- .-=----------- /____/ ---- |____| --------- /____/ ---- |____| -------=-.
230- `-=-------------------------------------------------------------------=-'
230-       `-----( Type 'site onel MESSAGE' to enter your message )-----'
230 User glftpd logged in.
Remote system type is UNIX.
Using binary mode to transfer files.
ftp>                             
</pre>

Komunikat który wyświetlił się na początku można konfigurować w pliku '''/jail/glftpd/ftp-data/misc/welcome.msg'''. Ja mam ustawione by przy starcie od razu pokazywało mi kto jest zalogowany i co zostało ostatnio wrzucone na serwer. Tak jak pisałem serwer ma bardzo dużo opcji. Przekonamy sie o tym wydając takie oto polecenie będąc oczywiście zalogowanym do serwera.
<pre>
ftp> site help
200- --=--------------------- Available SITE commands ---------------------=--
200-    TAGLINE: Change Your Tagline
200-       WKUP: Show Weektop Uploaders
200-       WKDN: Show Weektop Downloaders
200-       ALUP: Show Alltime Uploaders
200-       ALDN: Show Alltime Downloaders
200-       GPWK: Show Weektop Groups
200-  GPMONTHUP: Show Month Top Groups
200-       GPAL: Show Alltime Top Groups
200-       GPWD: Show Weektop Group Downloaders
200-  GPMONTHDN: Show Month Top Group Downloaders
200-       GPAD: Show Alltime Top Group Downloaders
200-      DAYUP: Today's Top Uploaders
200-      DAYDN: Today's Top Downloaders
200-    MONTHUP: Show MonthTop Uploaders
200-    MONTHDN: Show MonthTop Downloaders
200-    TRAFFIC: Show Site Traffic
200-    REQUEST: Make a Request
200-  REQFILLED: Mark a Request as Filled
200-    WELCOME: Show Welcome Message
200-      RULES: Show Site Rules
200-       USER: Show Users On Site (Type username to see users stats)
200-      NUKES: Show Nukes
200-    UNNUKES: Show UnNukes
200-       DUPE: Search Dupe Database
200-       TIME: Show Local Time
200-        NEW: Show Recent Dirs
200-      GROUP: Join/Leave Groups
200-       ONEL: Add/View Onliners
200-        MSG: Send a Message
200-        WHO: See who's online
200-      COLOR: Toggle Color
200-       SEEN: See when a user was last on
200-     LASTON: Display stats of last users online
200-     SEARCH: Locate a DIR on the site.
200-     PASSWD: Change Password
200-       VERS: Show Daemon Version
200-       STAT: Show Statline
200-       IDLE: Show Minimum and Maximum Idle Timeout
200-      GINFO: Detailed nfo of Groups
200-      USERS: List Users on Site
200-      DELIP: SITE DELIP <yourownusername> # (delete your own IP's)
200-      ADDIP: Add IP To a User
200-      DELIP: Delete an IP From a User
200-      DELIP: Delete an IP From a User
200-    ADDUSER: Add User
200-    DELUSER: Delete User
200-      READD: Readd Deleted User
200-     CHANGE: Change Field For a User
200-   GADDUSER: Add User and put him in a group
200-    RENUSER: Rename User
200-     CHPASS: Change Another User's Password
200-     GRPADD: Add group
200-     GRPDEL: Delete group
200-     GRPNFO: Change Group nfo
200-     GRPREN: Rename group
200-        GRP: Show extended group info
200-      CHGRP: Change a user's group
200-  GRPCHANGE: Change group settings
200-   CHGADMIN: Change the gadmin(s) for a group
200-     LOGINS: Login Log
200-     SYSLOG: Syslog Log of User Changes
200-     UPDATE: Update DirLog Database
200-      PURGE: Purge Deleted Users
200 Use "SITE HELP <command>" for syntax help.
</pre>
Jak widzicie lista poleceń jest bardzo bogata. Wydając '''site help komenda''' dowiemy się co dane polecenie potrafi i jak go używać. Żeby umilić sobie życie obsługi naszego serwera w konsoli polecam włączenie kolorków.
<pre>
ftp> site color on
200 Color Mode On.
</pre>
Może dowiemy się, kim tak naprawdę  jesteśmy 
<pre>
ftp> site user glftpd
200- User Comment: glftpd
200- +=======================================================================+
200- | Username: glftpd                   Created: 0                         |
200- | Added by:                          Expires: Never                     |
200- | Time On Today: 00:13               Last seen: Sun Jan 7 13:31:18 2007 |
200- | Flags: 15                          Idle time: Disabled                |
200- | Ratio: 1:3                         Credits:       4.9 MB              |
200- | Total Logins: 3                    Current Logins: 1                  |
200- | Max Logins: 2                      From same IP: Unlimited            |
200- | Max Sim Uploads: Unlimited         Max Sim Downloads: Unlimited       |
200- | Max Upload Speed:     0.0 K/s      Max Download Speed:     0.0 K/s    |
200- | Times Nuked: 0                     Bytes Nuked:      0 MB             |
200- | Weekly Allotment:     0 MB         Messages Waiting: N                |
200- | Time Limit:    0 minutes.          (0 = Unlimited)                    |
200- | Tagline: Glftpd default user                                          |
200- | Groups:                                                               |
200- | Priv Groups:                                                          |
200- +-----------------------------------------------------------------------+
200- | IP0: *@127.0.0.1                   IP1:                               |
200- | IP2:                               IP3:                               |
200- | IP4:                               IP5:                               |
200- | IP6:                               IP7:                               |
200- | IP8:                               IP9:                               |
200- +=======================================================================+
200 Command Successful.
ftp>
</pre>
Widzimy że użytkownik posiada  flagę 15. Co to jest ta flaga o której wspominałem wcześniej? O to małe wyjaśnienie
<pre>
Flagname Flag Description
-------------------------------------------------------------
SITEOP 1 User is siteop.
GADMIN 2 User is Groupadmin of one of his/her groups
(doesn't work for private groups).
GLOCK 3 User cannot change group.
EXEMPT 4 Allows to log in when site is full. Also allows
user to do "site idle 0", which is the same as
having the idler flag. Also exempts the user
from the sim_xfers limit in config file.
COLOR 5 Enable/Disable the use of color (toggle with "site color").
DELETED 6 User is deleted.
USEREDIT 7 "Co-Siteop"
ANON 8 User is anonymous (per-session like login).
</pre>
Serwer prowadzi statystyki, więc możemy sprawdzać kto najwięcej ściąga, co jest najczęściej ściągane, co ostatnio wrzucono itp. Można zostawiać tzw message dla użytkowników serwera. Glftpd zezwala również zostawiać proźby odnośnie rzeczy jakie potrzebujemy i wiele wiele innych. Może w końcu zrobimy cos pożytecznego i założymy sobie konto.
'''5) ''' Zakładamy 1 użytkownika
<pre>
ftp> site adduser
200-  .-------------------------------------------------------.
200- | USAGE: SITE ADDUSER <username> <password> <IP#1 - 5>    |
200- |                                                         |
200- | <username> The username to add.                         |
200- | <password> The password to set for this user.           |
200- | <IP#1 - 5> Optional: Up to 5 ips may be specified here. |
200- |                                                         |
200- | After you add a user, use "SITE ADDIP" to add IP's to   |
200- | the new account.                                        |
200-  `-------------------------------------------------------'
200 Command Successful.
ftp> site adduser mrrobby mrrobby *@*
200- User created, now adding IPs...
200- IP '*@*' successfully added to mrrobby.
200-
200 User (mrrobby) successfully added.
ftp> site user mrrobby
200- User Comment: Added by glftpd
200- +=======================================================================+
200- | Username: mrrobby                  Created: 01-07-07                  |
200- | Added by: glftpd                   Expires: Never                     |
200- | Time On Today: 00:00               Last seen: Sun Jan 7 13:44:44 2007 |
200- | Flags: 3                           Idle time: Disabled                |
200- | Ratio: 1:3                         Credits:      14.6 MB              |
200- | Total Logins: 0                    Current Logins: 0                  |
200- | Max Logins: 2                      From same IP: Unlimited            |
200- | Max Sim Uploads: Unlimited         Max Sim Downloads: Unlimited       |
200- | Max Upload Speed:     0.0 K/s      Max Download Speed:     0.0 K/s    |
200- | Times Nuked: 0                     Bytes Nuked:      0 MB             |
200- | Weekly Allotment:     0 MB         Messages Waiting: N                |
200- | Time Limit:    0 minutes.          (0 = Unlimited)                    |
200- | Tagline: No Tagline Set                                               |
200- | Groups:                                                               |
200- | Priv Groups:                                                          |
200- +-----------------------------------------------------------------------+
200- | IP0: *@*                           IP1:                               |
200- | IP2:                               IP3:                               |
200- | IP4:                               IP5:                               |
200- | IP6:                               IP7:                               |
200- | IP8:                               IP9:                               |
200- +=======================================================================+
200 Command Successful.
</pre>
Za pomocą '''site change''' można zmieniać ustawienia użytkowników. Mamy flagę 3, a ja chce admina!
<pre>
ftp> site change
200- -----------------------------------------------------------
200-    SITE CHANGE <username> <field> <value>
200-    SITE CHANGE { <user1> <user2> } <field> <value>
200-    SITE CHANGE =<group> <field> <value>
200-    SITE CHANGE * <field> <value>
200- -----------------------------------------------------------
200-
200-    Fields:  ratio
200-             sratio
200-             wkly_allotment [#,]#
200-             max_dlspeed
200-             max_ulspeed
200-             max_sim_down
200-             max_sim_up
200-             timeframe # #
200-             credits
200-             flags
200-             homedir
200-             idle_time
200-             startup_dir
200-             num_logins # [#]
200-             time_limit
200-             tagline
200-             comment
200-             expires [yyyy-mm-dd]
200- -----------------------------------------------------------
200 Command Successful.
ftp> site change mrrobby flags +1
200 Invalid Access. Cannot change flags for other SITEOPS.
ftp> site user mrrobby
200- User Comment: Added by glftpd
200- +=======================================================================+
200- | Username: mrrobby                  Created: 01-07-07                  |
200- | Added by: glftpd                   Expires: Never                     |
200- | Time On Today: 00:00               Last seen: Sun Jan 7 13:44:44 2007 |
200- | Flags: 13                          Idle time: Disabled                |
200- | Ratio: 1:3                         Credits:      14.6 MB              |
200- | Total Logins: 0                    Current Logins: 0                  |
200- | Max Logins: 2                      From same IP: Unlimited            |
200- | Max Sim Uploads: Unlimited         Max Sim Downloads: Unlimited       |
200- | Max Upload Speed:     0.0 K/s      Max Download Speed:     0.0 K/s    |
200- | Times Nuked: 0                     Bytes Nuked:      0 MB             |
200- | Weekly Allotment:     0 MB         Messages Waiting: N                |
200- | Time Limit:    0 minutes.          (0 = Unlimited)                    |
200- | Tagline: No Tagline Set                                               |
200- | Groups:                                                               |
200- | Priv Groups:                                                          |
200- +-----------------------------------------------------------------------+
200- | IP0: *@*                           IP1:                               |
200- | IP2:                               IP3:                               |
200- | IP4:                               IP5:                               |
200- | IP6:                               IP7:                               |
200- | IP8:                               IP9:                               |
200- +=======================================================================+
200 Command Successful.
ftp>   
</pre>
i proszę bardzo:)
Ustawienia defaultowe nowego użytkownika znajdują się w pliku '''/jail/glftpd/ftp-data/users/default.user'''
Można w nim ustawić flagi, ratio, ile może nawiązać połączeń itp.
Praktycznie wszystko w '''/jail/glftpd/site''' może mieć prawa 777 ponieważ serwer sam się zajmuje kontrolą uprawnień.

Tak jak wspomniałem w czasie omawiania pliku konfiguracyjnego, jeśli chcemy udostępnić jakiś katalog leżący po za '''/jail/glftpd/site''' musimy to zrobić juz na poziomie systemu
<pre>
mount --bind /katalog/zrodlowy/ /jail/glftpd/site/katalog/docelowy/
</pre>
i dopisać to np do /etc/rc.local

Na sam koniec powiem tylko ze wszystkie informacje znajdziemy w 
'''/jail/glftpd/docs/glftpd.docs''' oraz na stronie producenta http://www.glftpd.com/. Zapraszam szczególnie na tamtejsze forum gdzie dowiecie sie o setkach skryptów: http://forum.glftpd.com  począwszy od sprawdzania sum kontrolnych wrzucanych plików, poprzez wyświetlanie tagów piosenek i wiele wiele innych.

Na sam koniec pragnę polecić proste statystyki napisane w php dla glftpd z których to korzystam na codzień: http://xferlogdb.sourceforge.net/

Jeżeli będzie mieli jakiekolwiek pytania, w miarę możliwości postaram się odpowiedzieć:)

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


=== Summary ===

The 15.10 !OpenStack Charm release includes updates for the following charms:

* ceilometer
* ceilometer-agent
* ceph
* ceph-radosgw
* cinder
* cinder-ceph
* glance
* hacluster
* heat
* keystone
* neutron-api
* neutron-openvswitch
* nova-cloud-controller
* nova-compute
* openstack-dashboard
* neutron-gateway
* rabbitmq-server
* swift-proxy
* swift-storage
* percona-cluster

=== New Charm Features ===

==== OpenStack Liberty support for 14.04 and 15.10 ====

All !OpenStack charms now support deployment of !OpenStack Liberty on Ubuntu 14.04 LTS and Ubuntu 15.10

To deploy !OpenStack Liberty on Ubuntu 14.04, use the 'openstack-origin' configuration option, for example:

<pre>
cat > config.yaml << EOF
nova-cloud-controller:
  openstack-origin: cloud:trusty-liberty
EOF
juju deploy --config config.yaml nova-cloud-controller
</pre>

!OpenStack Liberty is provided as the default !OpenStack release on Ubuntu 15.10 so no additional configuration is required in 15.10 deployments.

=== Upgrading ===

==== General ====

To upgrade an existing deployment to the latest charm version simply use the 'upgrade-charm' command, e.g.:

<pre>
juju upgrade-charm cinder
</pre>

=== New Charm Features ===

==== Action Managed Upgrades ====

Individual units of a service can now be upgraded one at a time use Juju actions. This allows for rolling upgrades. To use this feature you must be using a version of Juju which supports actions and have set action-managed-upgrade to True.

For example to upgrade a three node keystone service from Kilo to Liberty.

<pre>
juju set keystone action-managed-upgrade=True
juju set keystone openstack-origin='cloud:trusty-liberty'
juju action do keystone/0 openstack-upgrade
juju action do keystone/1 openstack-upgrade
juju action do keystone/2 openstack-upgrade
</pre>

==== Workload Status ====

The !OpenStack charms will now report when they have processed all their required relations making it much easier to see when a deployment has finished.  Long running operations will also be reported via workload status messages - for example, installing packages or performing database migrations on installation or upgrade.

Below is an example of a deployment of the keystone charm without having added a db relation:

<pre>
[Units]    
ID         WORKLOAD-STATE AGENT-STATE VERSION MACHINE PORTS PUBLIC-ADDRESS MESSAGE                     
keystone/0 blocked        idle        1.24.6  1             10.5.55.43     Missing relations: database 
</pre>

After adding the database relation the charm will still not be ready until it has all the information it requires from the database. Once it does the workload status will be 'active' and the message 'Unit is ready' will be displayed:

<pre>
[Units]    
ID         WORKLOAD-STATE AGENT-STATE VERSION MACHINE PORTS PUBLIC-ADDRESS MESSAGE       
keystone/0 active         idle        1.24.6  1             10.5.55.43     Unit is ready 
</pre>

==== Compute Node DHCP and Metadata ====

Support has been added to allow nova-compute nodes to run Neutron DHCP and Metadata agents, supporting deployment without the neutron-gateway charm in VLAN and flat networking configurations.
  
'''NOTE:''' This mode of operation is only useful if L3 routing, VPNaaS, FWaaS and LBaaS services are not required.

This feature can be enabled by setting '''enable-local-dhcp-and-metadata''' to '''True''' in the neutron-openvswitch charm.

=== Deprecation Notices ===

percona-cluster and rabbitmq-server charms will no longer be supported when used with a version of Juju which does not have Leadership election (< Juju 1.24) from release 16.01 onwards.

=== Known Issues ===

<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/nova/+bug/1508428|SSL on Juno]]</nowiki>

<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/python-amqp/+bug/1472712|SSL on Precise/Icehouse]]</nowiki>

=== Bugs Fixed ===

For the full list of bugs resolved for the 15.10 release please refer to https://launchpad.net/charms/+milestone/15.10

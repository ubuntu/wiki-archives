{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


=== Summary ===

The 15.07 OpenStack Charm release includes updates for the following charms:

* ceilometer
* ceilometer-agent
* ceph
* ceph-radosgw
* cinder
* cinder-ceph
* glance
* hacluster
* heat
* keystone
* neutron-api
* neutron-openvswitch
* nova-cloud-controller
* nova-compute
* openstack-dashboard
* quantum-gateway
* rabbitmq-server
* swift-proxy
* swift-storage
* percona-cluster

=== Upgrading ===

==== General ====

To upgrade an existing deployment to the latest charm version simply use the 'upgrade-charm' command, e.g.:

<pre>
juju upgrade-charm cinder
</pre>

==== Neutron Gateway ====

The quantum-gateway charm has been renamed 'neutron-gateway' for the 15.07 charm release; to upgrade existing quantum-gateway charm deployments please use:

<pre>
juju upgrade-charm --switch cs:trusty/neutron-gateway quantum-gateway
</pre>

This will switch the deployment of the quantum-gateway charm to the new charm name.

=== New Charm Features ===

==== Improved HA deployment support ====

The !OpenStack charms have been updated to use a new feature of Juju called 'leadership-election'; this allows a charm to discover early in its life cycle whether its a) going to have peers and b) the leader of those peers.  With this feature, the charms support deployment of HA configuration in a single shot, removing the requirement to deploy charms and relations sequentially or in phases.

'''NOTE:''' Use of this feature requires Juju >= 1.24.

'''NOTE:''' Backwards compatibility with earlier Juju versions not supporting leadership election is maintained, but deploying HA configurations in a single shot is not supported in this configuration.

'''NOTE:''' If deploying percona-cluster with Juju < 1.24 min-cluster-size needs to be set to the size of the target cluster

==== Deployment from source ====

'''EXPERIMENTAL FEATURE'''

The following charms now have support for deploying OpenStack directly from git repositories:

* cinder
* keystone
* glance
* nova-cloud-controller
* nova-compute
* neutron-api
* neutron-gateway
* neutron-openvswitch
* openstack-dashboard

This feature is enabled by using the new 'openstack-origin-git' configuration option; this can be used to configure a minimal or expanded list of repositories to collate and install - see the README in each charm for specific details.

For this release, shallow git clones are performed on all repositories, and full isolation of services deployed from source is maintained in Python virtual environments.

=== Deprecation Notices ===

==== 15.10 - MySQL HA with Ceph ====

The original HA implementation of OpenStack used the MySQL charm in-conjunction with Ceph to provide a traditional active/passive shared block device HA mysql option.

Percona XtraDB Cluster, as provided by the percona-cluster charm, provides an active/active MySQL configuration with no requirement for a shared block device.

Users of the original MySQL HA option should migrate to a Percona XtraDB Cluster deployment between now and the 15.10 charm release, where support for MySQL with Ceph will be removed.

==== 15.10 - hacluster - default transport ====

For the 15.04 charm release, the hacluster charm will continue to use multicast as its default transport option for cluster communications.

Unicast is generally more universally usable across all Juju providers - we'll be switching the default for 15.10 including automatic migration and re-configuration of existing multicast clusters.  Instructions will also be provided for users who wish to continue to use the multicast transport option.

'''NOTE: Originally planned for 15.07 release, deferred to 15.10'''

==== 15.10 - nova-cloud-controller and neutron-api charms ====

Management of neutron configuration and services will be removed from any nova-* charms for the 15.10 charm release.

This means that the neutron-api principle charm needs to be deployed to run the neutron-server service and if openvswitch is being used then neutron-openvswitch subordinate charm needs to deployed and attached to the nova-compute charm.   This is a fully supported migration path for existing deployments not using these charms.

The nova-compute charm now has an option called 'manage-neutron-plugin-legacy-mode'. The default value for this option is True but as of 15.10 this will switch to False which will disable the management of neutron services by default. 

=== Bugs Fixed ===

For the full list of bugs resolved for the 15.07 release please refer to https://launchpad.net/charms/+milestone/15.07

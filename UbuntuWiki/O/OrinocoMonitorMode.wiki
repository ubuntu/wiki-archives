{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

'''IMPORTANT NOTE: You don't need patched orinoco drivers to get monitor mode with Prism2 chipset cards now. Use hostap drivers from Ubuntu linux kernel.'''

Currently, there are 2 forks in orinoco driver development:
* <nowiki>[[https://wiki.ubuntu.com/OrinocoMonitorMode/0%2e15x|Orinoco 0.15x]]</nowiki>
* <nowiki>[[http://www.projectiwear.org/~plasmahh/orinoco.html|Orinoco 0.13e]]</nowiki>

Orinoco 0.15x drivers will support monitor mode but they must be slightly modified (changing one line of c code) to enable it, this is described below. It has been reported that the Orinoco 0.13e driver works fine unpatched (though it seems buggier than the 0.15x drivers with certain versions of the firmware). The following steps will allow you to run the 0.13e driver in a laptop with Ubuntu Linux. Further down the page are instructions to use the 0.15x driver: 

 1. Become root:

<pre>
$ sudo su
</pre>

 1.#2 Backup drivers:
<pre>
$ mkdir /orinoco
$ cd /orinoco
$ mkdir backup
$ cp /lib/modules/`uname -r`/kernel/drivers/net/wireless/orinoco* /orinoco/backup/
$ cp /lib/modules/`uname -r`/kernel/drivers/net/wireless/hermes* /orinoco/backup/ }}}

 1.#3 Install tools and sources:
{{{
$ apt-get install linux-source build-essential gcc-3.4 apt-get install linux-headers-<arch>
</pre>

where <arch> is replaced by your running kernel architechture:
386, 386-smp, 686, 686-smp, k7, k7-smp

 1.#4 Prepare linux sources (replace ''2.6.12'' for current version) :
<pre>
$ cd /usr/src
$ tar -jxvf linux-source-2.6.12.tar.bz2
$ ln -s /usr/src/linux-source-2.6.12 /usr/src/linux
</pre>

 1.#5 Get orinoco driver patched and compile it:
<pre>
$ cd /orinoco
$ wget http://www.projectiwear.org/~plasmahh/orinoco-0.13e-SN-8.tar.bz2
$ tar -jxvf orinoco-0.13e-SN-8.tar.bz2
$ cd orinoco-0.13e-SN-8
$ make
</pre>

 1.#6 Install it:
<pre>
$ cp /orinoco/orinoco-0.13e-SN-8/*.ko /lib/modules/`uname -r`/kernel/drivers/net/wireless
</pre>

 1.#7 Stop wifi card:
<pre>
$ ifdown eth1
</pre>

 1.#8 Eject and insert card. Look & try it:
<pre>
$ dmesg
$ iwpriv eth1
</pre>

 1.#9 Now you can run kismet or whatever hacking wireless tool.

'''How to use monitor mode with the 0.15x driver:'''
Monitor mode support is built in to the 0.15x drivers however because it is unstable with certain firmware versions it is disabled by default. You must enable it and recompile the driver, here is how to do this.

 1.#1 Follow the same steps as above up through step 4. 

 1.#2 Next download the 0.15x driver source code from sourceforge.

* <nowiki>[[http://sourceforge.net/projects/orinoco]]</nowiki>

and untar them, the directory will be named something like orinoco-0.15*

 1.#3 Go into the directory where you have untarred the source and edit the file orinoco.c
On line 115 there is the expression:
<pre>
static int force_monitor; /* =0*/
</pre>
Change this to read:
<pre>
static int force_monitor = 1; /*=0*/
</pre>
Then run make: 
<pre>
$make
</pre>

 1.#4 Follow steps 6 through 8 as above with orinoco-0.13e-SN-8 replaced by orinco-0.15*

This is confirmed to work for a linksys pcmcia card as well as a mini-pci card using the orinoco drivers. One thing I discovered was is that most programs don't exit well from monitor mode. You will often have to do a 
<pre>
$iwpriv eth1 force_reset
</pre>
to get things going again after exiting kismet. 

----
CategoryHardware

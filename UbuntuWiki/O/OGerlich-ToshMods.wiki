{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Modifications for Ubuntu on Toshiba L40-14N laptop - Gutsy ==

=== (TODO) update uvcvideo driver ===
The uvcvideo driver needs to be updated to at least SVN 166 to fix the static video in lower part of video in Skype (see https://developer.skype.com/jira/browse/SCL-331;jsessionid=F44D24A7A2AA53F55744EEE8DA9C430D?page=all).
Refs:
* http://svn.berlios.de/wsvn/linux-uvc/?rev=166&sc=1
* https://help.ubuntu.com/community/UVC

=== install totem-xine (for DVD menu support) ===
The gstreamer-based Totem version doesn't support DVD menus.
(Note: there is supposed to be a devel branch for menu support in gstreamer/totem).

=== fstab: prefer iso9660 format instead of udf ===
This makes DVDs with weird permissions in UDF file system work. See <nowiki>[[https://bugs.launchpad.net/bugs/10550|LP 10550]]</nowiki> and <nowiki>[[https://bugs.launchpad.net/bugs/635499|LP 635499]]</nowiki>.

== Modifications and Notes for Ubuntu on Toshiba L40-14N laptop - Lucid ==

=== Manual changes necessary to hide Grub menu ===

The boot menu is always displayed because update-grub/os-prober finds other OSs installed and decides that a menu is necessary. See <nowiki>[[https://bugs.launchpad.net/bugs/428443|LP 428443]]</nowiki>.

Partial fix: add this to ''/etc/grub.d/40_custom'':
<pre>
if [ ${timeout} != -1 ]; then
  echo "Press `ESC' to enter the menu... "
  if sleep --interruptible 3 ; then
    set timeout=0
  fi
fi
</pre>
Then run ''update-grub''.

(it's only partial because the message is not actually displayed on boot - not sure why)

=== Boot Splash Screen is not displayed ===

This looks weird (because the splash image is sometimes displayed and sometimes not - probably GDM also tries to display it); also output from fsck and apparmor init scripts becomes visible. See <nowiki>[[https://bugs.launchpad.net/bugs/577190|LP 577190]]</nowiki> for my bug report, and <nowiki>[[https://bugs.launchpad.net/bugs/571678|LP 571678]]</nowiki> for the general Plymouth bug (where the workaround comes from).

Workaround: make sure that plymouth package is installed, and add /etc/initramfs-tools/conf.d/splash file with this content:
<pre>
FRAMEBUFFER=y
</pre>
Then run ''update-initramfs -u'' and check with ''zcat /boot/initrd.img-$(uname -r) | cpio -t | grep plymouth'' that plymouth is contained in generated initramfs.

According to <nowiki>[[https://bugs.launchpad.net/bugs/540801|LP 540801]]</nowiki> this is not done by default because loading the splash screen takes some time on its own, just to show a pretty image. I'd be fine with no splash screen, but then it also shouldn't display init messages, and GDM shouldn't show the short splash as well.

=== Bug: Totem doesn't show Language list ===

The Sound -> Language menu always just shows "Empty". Some DVDs play with German sound by default, some (like Quick Change) don't. Apparently it's possible to use the DVD menu to change language.

Interesting output when starting playing DVD in Totem:
<pre>
libdvdnav: Language 'en' not found, using '��' instead
libdvdnav: Menu Languages available: �� 
libdvdnav: Language 'en' not found, using '��' instead
libdvdnav: Menu Languages available: �� 
libdvdnav: Language 'en' not found, using '��' instead
libdvdnav: Menu Languages available: �� 
</pre>

So far has this happened for all three tested DVDs.

=== After resuming from STR, DVD prompt is shown if Video DVD is in drive ===

TBD

=== Shouldn't ask for password after resume from STR/STD ===

Currently there is no password prompt on boot and also not for usual Wifi connection. Resuming should behave similar.

See http://forum.ubuntuusers.de/topic/passwortabfrage-nach-resume-deaktivieren/ for solution: in gconf-editor, in ''/apps/gnome-power-manager/lock/hibernate'' set ''hibernate'' and ''suspend'' to false.

Note: doesn't really work due to <nowiki>[[https://bugs.launchpad.net/bugs/255228|LP 255228]]</nowiki>; brute-force workaround might be to set ''/desktop/gnome/lockdown/disable_lock_screen'' to false.

=== Lid closing detection doesn't work after resuming from STD ===

Usually closing the lid starts suspend-to-ram. But after being resumed from suspend-to-disk, the lid is no longer detected as closed.

Can be seen with this command:
<pre>
while [ true ]; do cat /proc/acpi/button/lid/LID/state; sleep 1 ; done
</pre>
It will keep printing "open" even when the lid is closed.

Interesting point is that backlight is still switched off. Where is that hooked into?

Another thing: when looking at "watch cat /proc/interrupts", the acpi irq fires 10 times in two seconds; but when closing or opening the lid, it fires two more times. However, acpi_listen doesn't show any events. Maybe they are intercepted somehow (by kernel)?

Another thing: when suspending by other means and then closing lid, opening lid does wake up system.

IIRC this was already broken in Gutsy.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

=== Summary ===

We are trying to achieve the goal that users can install a stock Ubuntu image on a certified machine then get full functionality. So far, it's counting on OEM meta on the Ubuntu archive. This page is used to align the expectation and explain how we achieved the goal and the time gap from a machine being certified till stock Ubuntu is ready to support it.

=== Components ===

The target of this session is to list out what components are involved.

==== ISO Images ====

For each Ubuntu LTS release, there're 2 official images related to our goal.

1. OEM factory image: A image included the latest packages for OOBE experience.
2. Stock Ubuntu image: User can download it from 
 <nowiki>[[https://ubuntu.com/download/desktop|Canonical website]]</nowiki>.

==== Kernel favors ====

From 20.04, there are 2 kernel favors in stock Ubuntu ISO image:
* HWE kernel: It is treated as a stable kernel for Ubuntu LTS version. The non-certified machines or certified machines verified on HWE kernel are expected to boot into the HWE kernel by default. It's a rolling kernel and pointed by a linux-generic-hwe-20.04 meta package.
* OEM kernel: It is treated as a dev kernel that keeps supporting the latest device and function. It is mainly used by OEM images before the needed patches are loaded to the HWE kernel.

==== OEM meta packages ====

There are 2 <nowiki>[[https://wiki.ubuntu.com/StableReleaseUpdates/OEMMeta|OEM meta packages]]</nowiki> which are recognized by version and different archives. 

1. Meta-packages in Ubuntu archive: versioned by '''20.04~ubuntu1'''
** This meta is used to decide whether HWE or OEM kernel that a platform should boot by default.
** Ubiquity will install the OEM kernel on ISO automatically when the meta decides to boot from OEM kernel.
2. Meta-packages in OEM archive: versioned by '''20.04ubuntu1'''
** This meta is used to install the target OEM kernel by dist-upgrade.
** This meta is shared between OEM factory image and stock Ubuntu image.  

==== The status of each OEM meta package ====

You can see the full view of all certified platforms on <nowiki>[[https://people.canonical.com/~oem-enablement/oem-meta-packages/|this page]]</nowiki> or apply filter by <nowiki>[[https://people.canonical.com/~oem-enablement/oem-meta-packages/datatables.html|this page]]</nowiki> or feed <nowiki>[[https://people.canonical.com/~oem-enablement/oem-meta-packages/all.json|the json formated data]]</nowiki> to your CI system.

There are 3 stages of the life cycle of an OEM meta package:
* MIR: the platform is certified, the OEM meta package is waiting for <nowiki>[[https://wiki.ubuntu.com/MIRTeam/Exceptions/OEM|MIR]]</nowiki>.
* Proposed: the OEM meta package is ready in -proposed archive.
* Updates: the OEM meta package is ready in -update archive.

E.g. How many OEM meta are ready on -update archive?

Refer to the screenshot below, click ''Certified'' + ''Updates'' on <nowiki>[[https://people.canonical.com/~oem-enablement/oem-meta-packages/datatables.html|filter page]]</nowiki>
Then see it’s 70 entries, so there’re 70 OEM metas are ready in -update archive.

It also shows Dell XPS 13 9310 is expected to boot into <nowiki>[[https://qa.debian.org/madison.php?package=linux-oem-20.04b&table=ubuntu&a=&c=&s=#|the OEM kernel pointed by linux-oem-20.04b]]</nowiki>

<nowiki>[[File:filter1.png|screenshot|width=800 height=700]]</nowiki>

=== Tasks for the goal ===

* {OK} [preGM stage] The device team fixes issues, upstream the solution, creates a factory image for OEM, and gets the Ubuntu certification by OEM image from the certification team.
* {i} [postGM stage] Certification team put the certified machines into the SRU pool for automatic SRU testing.
** The readiness depends on the human resources and lab space.
* {i} [postGM stage] OEM software team kicks off the MIR process, verify the meta-package in the Ubuntu archive on machines in the SRU pool.
** The readiness depends on the human resources, the readiness of machines in the certification pool, and the resource of MIR sponsors.

=== Review for 20.04.4 ===

Take this 20.04.4 as an example. Due to the resource limitation and extra space of the new lab is not ready, there’re some certified machines that won’t be supported by 20.04.4 iso. But users can get supported by online updates after the above tasks are done.

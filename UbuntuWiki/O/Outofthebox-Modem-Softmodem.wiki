{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



* '''Launchpad Entry''': https://launchpad.net/distros/ubuntu/+spec/winmodem-support

=== Summary ===

Ubuntu needs to support as many Winmodems as practical '''out of the box'''. 

=== Scope ===

Winmodems for which a reasonable driver is available (even one containing binary blobs) will be supported.

=== Design ===

For soundcard-like modems compatible with the sl-modem-daemon, we will have full support. This package works but has some wrinkles which need fixing, and it needs putting on the CD.

Other modems typically involve a non-free kernel driver. We will decide on these on a case-by-case basis.

Reasonable drivers use the standard kernel device detection mechanisms. This avoids any need for unpleasant tools like "scanmodem".

=== List of modems and their status ===

There are no reasonable Free Software drivers; all the information in this section refers to non-free drivers usually containing <nowiki>[[http://en.wikipedia.org/wiki/Binary_blob|binary blobs]]</nowiki> of one kind or another.

Of the drivers mentioned in https://help.ubuntu.com/community/DialupModemHowto or which appear to be available elsewhere:

* ALSA-based modems: generally work with sl-modem-daemon on i386 only. ''Polish required''; also, ''Canonical should talk to sl-modem upstream about possible improvements, eg relicensing or at least support for amd64''.
* Lucent: ltmodem driver is in linux-restricted-modules for UP i386 only. It has had some difficulty with SMP systems; this is being reenabled now even for SMP kernels and will be disabled again if it causes trouble.
  Agere: See <nowiki>[[http://martian.barrelsoutofbond.org|Martian]]</nowiki> also, same as Lucent drivers.
* Conexant: payware drivers only. These modems are very common. ''Canonical should talk to Dell about whether there is room for improvement here.''
  I don't know if Canonical talked to Dell, but Dell now <nowiki>[[http://direct2dell.com/one2one/archive/2007/07/17/21325.aspx|provides Conexant HSF driver for free download for ALL Ubuntu 7.04 users]]</nowiki>!
* Modems supported by snd-ali5454-modem: this kernel driver appears to be fictional. If a proper reference becomes available we will consider it.
* Intel 536 and 537: drivers with binary blobs available from Intel; however the licence does not permit us to redistribute and the driver is not compatible with current kernels. Canonical could ask Intel about this but there doesn't currently seem to be any effort available to keep the drivers up to date.
* 3780i Mwave/ACP (eg in older Thinkpads): The "mwavem" package in multiverse allegedly supports these. It is not maintained in Ubuntu and was autosynced from Debian. PTS data in Debian suggests this package is not widely used and not actively maintained. We don't know whether it works.
* PCTel: drivers are not compatible with recent kernels.
* Ambient's "Host Accelerated Modem": from 1999; there do not seem to be any recent drivers.
* CL-MD5620DT (Ambient Tech) chipset: Mikhail Moreyra wrote a driver however it is not suitable. Eg, the driver needs the card PCI address compiling into it, and it has not been modified since 2000.

=== sl-modem-daemon ===

The actual DSP code is a 1.2Mb binary .o for i386 only. The rest is with-source and of reasonable quality.

The following packaging bugs need to be fixed:

* The package is not seeded so does not appear on the CD.
* Tone dialling should be made the default (this is not in the sl-modem package but is relevant and should be changed)
* adduser complains that Slmodemd is an invalid username. This is not correct for a system user and adduser should be fixed.
* adduser reports "The user `Slmodemd' already exists as a system user. Exiting." on subsequent installs.
* The support for USB soundcard-like modems is untested and broken. Amongst other things:
** ships its udev rules broken in /etc/udev not /etc/udev/rules.d; needs moving to /etc/udev/rules.d
** needs splitting into two files, one 45-xxx that sets the permission and another 85-xxx that runs the init script
** needs to give the init script an argument!! (it's trying to use ACTION)

=== Discussion ===

Previous versions of this spec discussed wider publication of DialupModemHowto. However, DialupModemHowto contains some not-ideal instructions and in any case we don't want users to have to jump through hoops as described there. (See https://launchpad.net/bugs/42454; we may want to revisit this.)

Theoretically Intel's HDA has superceded Intel's AC'97.

PetarVasic: Not sure about Gutsy's kernel, but Intel (536EP) drivers takem from either here (http://www.mrgtech.ca/intel_536ep_feisty.tar.gz) or here (http://linmodems.technion.ac.il/packages/intel/Philippe.Vouters/intel-536EP-2.56.76.0_23_02_2007.tgz) work in Feisty. Also, could the permission to distribute the driver be obtained from Intel?

=== Outstanding issues ===

See entries marked ''tbd'' in the modem list, above.

=== Release note ===

  Support for certain softmodems (aka winmodems), is now installed by default, although unfortunately only via proprietary binary-only driver software.

  Modems for which support is intended include those on motherboards based on the following chipsets: Intel ICH0, ICH2, ICH3, ICH4; Via 686A, 686B, 8231, 8233; SiS 630; ALI 1535. Also, support is intended for PCI modem cards based on SmartPCI56/561/562/563 chips, and the SmartUSB56 USB modem.

  Note that '''no certification testing''' of these modems has been performed, and manufacturers may vary the specifications without notice to the Ubuntu developers (and sometimes without changing model numbers!), so '''actual support may vary'''.

=== Test plan ===

On a machine with a modem detected via the soundcard driver
* Install Ubuntu from the livecd or d-i installers, without use of any ethernet networking, or boot the livecd.
* Attempt to connect to the network using the network-manager panel icon, providing details of a suitable dialup ISP account.

This test should be carried out both on a machine with such a modem built-in, and on one with a suitable USB modem.

=== Post-Approval developments ===

Dell's Ubuntu laptops come with a non-free driver for the Conexant modem preinstalled, but this driver is not available in Ubuntu proper. It is not clear whether or not this driver could in principle be redistributed by us.

Some sparse information from Dell is available at:
 http://linux.dell.com/wiki/index.php/Tech/Modems

** <nowiki>[[Warbo]]</nowiki>: When I looked into Conexant modem drivers (admittedly around 2 years ago) there was a no-cost driver which ran at a maximum of 4Kb/sec and a pay-for one which ran at full 56Kb/sec. I assume Dell has made a deal regarding the latter, in which case it not only isn't Free Software but isn't even freeware (ie. no multiverse).
** <nowiki>[[Motin]]</nowiki>: Looked into this in the middle of June 2007. Correct speeds are 14 Kbit/sec and 56 Kbit/sec respectively. Even though the the 14 kbit version is free of charge - and thus can be called freeware (gratisware), the performance is just too lousy for most users. It gives one a possibility to try out if the driver works at all before buying a license (around $20), but the whole concept is too much alike try-before-you-buyware that I agree on if it could be included in multiverse... At the same time, while there are no other drivers around for Conexant AC97 chipsets, it does offer a service shipping with the 14kbit version, as it gives modem dependant users to dial up and buy a license so that they can utilize their hardware, even though they have to pay for it. 
** <nowiki>[[Shirish]]</nowiki>": Same experience as Motin, also a Conexant AC97 chipset. 

=== References ===
* <nowiki>[[http://linmodems.technion.ac.il/#scanModem|scanModem: use alway the last version]]</nowiki>.
* Intel stuff at http://www.intel.com/design/modems/support/drivers.htm 
* Intel 536 and 537 Linux drivers : http://linmodems.technion.ac.il/packages/Intel/Philippe.Vouters/
* PCtel: http://132.68.73.235/linmodems/pctel-linux/ (linked from http://linmodems.org/)
* CL-MD5620DT driver from Mikhail Moreyra: http://www.linmodems.org/CLModem-0.3.0.tar.gz
* Microsoft's guidance to driver softmodem driver developers: http://www.microsoft.com/whdc/archive/softmodem.mspx "...numbers apply to a 300 MHz processor".
* Linspire appear to have already automated some of modem configuration stuff; prod them for details. They include the Intel modem license at: http://wiki.freespire.org/index.php/Intel_Modem_Driver_License http://wiki.freespire.org/index.php/Summary_of_Proprietary_Components.
* Conexant payware driver: http://www.linuxant.com/drivers/

=== Testing results ===

At the gutsy sprint in London, various team members' laptops were tested. Here are the results:

{| class="wikitable"
|-
| ''' Type and model '''
| ''' Chipset / modem '''
| ''' Modem support status '''
|-
| Compaq nx6110
| ICH6
| sl-modem-daemon works
|-
| Asus Pro60
| ATI IXP
| sl-modem-daemon works
|-
| IBM Thinkpad X40
| ICH4
| sl-modem-daemon works
|-
| Compaq Presario R3000
| ICH nForce 3
| sl-modem-daemon works
|-
| Dell Inspiron 8600
| ICH4
| sl-modem-daemon works
|-
| Packard Bell MIT-RHE-B
| ICH4
| sl-modem-daemon works
|-
| Dell Inspiron E1505
| hsfmodem-supported
| not detected by Ubuntu
|-
| IBM Thinkpad R40p
| Ali M5457
| sl-modem-daemon might work but currently no support in Ubuntu kernel
|-
| Toshiba Satellite A205
| ICH7
| not detected by Ubuntu
|-
| HP Pavilion Ze2000
| ATI IXP
| sl-modem-daemon works
|-
| Asus G1
| ICH7
| not detected by Ubuntu
|-
| Dell XPS M1710
| ICH7
| not detected by Ubuntu
|-
| HP dv6245
| ICH7
| not detected by Ubuntu
|}

----
CategorySpec CategoryHardware 

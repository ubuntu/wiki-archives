{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Monitor Mode for ORiNOCO ( Hermes ) cards with Ubuntu drivers 0.15x ==
Using a Notebook ( <nowiki>[[https://wiki.ubuntu.com/HardwareSupportMachinesLaptopsSony|Sony Vaio PCG-SRX51P]]</nowiki> ) with integrated ORiNOCO MiniPCI Wireless Card ( Hermes I chipset ), I have been looking quite a while for WPA and Monitor Mode Support.

To find out your card type for PCMCIA type either check DMESG

{{{

[4294695.525000] eth1: Hardware identity 0005:0002:0001:0002
[4294695.525000] eth1: Station identity  001f:0001:0006:0010
[4294695.525000] eth1: Firmware determined as Lucent/Agere 6.16
[4294695.525000] eth1: Ad-hoc demo mode supported
[4294695.525000] eth1: IEEE standard IBSS ad-hoc mode supported
[4294695.525000] eth1: WEP supported, 104-bit key
[4294695.525000] eth1: MAC address 00:02:2D:5B:63:9D
[4294695.525000] eth1: Station name "HERMES I"
[4294695.526000] eth1: ready}}}

or use cardctl

{{{
~$ cardctl info}}}

The output looks something like:

{{{
Socket 1:
               product info: "Lucent Technologies", "WaveLAN/IEEE", "Version 01.01", ""
               manfid: 0x0156, 0x0002
               function: 6 (network)}}}

==== The driver 0.13e patch variant ====
Originally I was following suit with the patched 0.13e variant described here: 

https://wiki.ubuntu.com/OrinocoMonitorMode

and here: 

http://airsnort.shmoo.com/orinocoinfo.html

The problem with this variant is a lot of work, like configuring Kernel, downloading, patching and compiling the driver. (Which has to be repeated after every Kernel-Update, as the driver will be replaced by the ditributions copy)

==== The driver 0.15x distribution variant ====
I noticed recently, that Snax mentions on the latter page: "The orinoco drivers now suppport monitor mode in CVS. Monitor mode is now handled via the iwconfig interface."

'''''This means, that you plainly have nothing more to do, just rely on the distributed driver.'''''

'''Update:''' Although monitor mode is supported by the 0.15x drivers it disabled by defaulte in the 0.15rc4 version and this is coded into the source. The dapper drivers will not let you go into monitor mode as they are. To recompile the drivers with monitor mode enabled see the bottom  of http://wiki.ubuntu.com/OrinocoMonitorMode. It only requires changing one line in the driver source code (=0 to =1). Downgrading firmware is not necessary as the above mentioned change lets the driver force the card into monitor mode, however some firmware versions may work better than others.

Further down the page he states, that the card has to be downgraded to a firmware version pre 8.10 and gives some links to firmware releases.

If your DMESG output listed the Firmware being below 8.10 like

{{{
[4294695.525000] eth1: Firmware determined as Lucent/Agere 6.16}}}

You are already there, if not you need to downgrade.

Alas all the links are broken, googling around finds me

http://ftp.lucky.net/pub/radio/software/ORINOCO/PC_Card/Firmware/ 

which has copies of most firmware releases available. After some trial and error I settled for the 6.16, which runs stable for a few weeks now.

The Firmware comes as Windows executable and requires setting up the card under Windows with some older driver ( if you are not running it anyway, if the WSU.EXE works, everything is OK ), that does not bypass the Firmware. Again

http://ftp.lucky.net/pub/radio/software/ORINOCO/PC_Card/ 

provides drivers for all kinds of Windows OS for that purpose.

After having run the WSU successfully, you will want to upgrade Windows to the latest driver from 

http://www.agere.com/mobility/docs/windows_drivers_sr02-2.3.zip 

which also provides WPA support.

Back in Ubuntu you will now be able to use monitor mode with the packaged drivers in Breezy (0.15rc2) and Dapper (0.15rc3)

The Agere Site also offers Linux drivers with WPA support, alas only for Kernels 2.4.x, I wonder if someone will be able to adapt them for 2.6.x

==== Helpful links ====

http://savannah.nongnu.org/projects/orinoco/

http://www.hpl.hp.com/personal/Jean_Tourrilhes/Linux/

http://www.holtmann.org/linux/wlan/

http://www.proxim.com/support/downloads/Orinoco_downloads.html

http://www.seattlewireless.net/OrinocoDriver

http://www.seattlewireless.net/LucentWirelessCard

http://www.projectiwear.org/~plasmahh/orinoco.html

http://www.wireless-bern.ch/modules.php?op=modload&name=Reviews&file=index&req=showcontent&id=10

http://www.nervous.it/hw/dlink_dwl660_orinoco.html#flash

http://www.wardrive.net/wardriving/tools

http://www.ubuntuforums.org/archive/index.php/t-79160.html

http://lists.nycwireless.net/pipermail/nycwireless/2003-March/006249.html

http://www.lincomatic.com/wireless/software.html

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Issues with opening archives ==
The goal of this page is to identify current issues with how an archive is opened and to confront currently proposed solutions to each of these issues, in order to determine how well they are addressed.

{| class="wikitable"
|-
| <tablestyle="background: #eee; color: #000; margin: 0 2em 1em;" style="padding: 0.5em 1em;"> Let's user test this. My intuition is that users expect double-clicking a file to "open" it, and "open" means extract for most users when they open an archive. The idea of opening an archive as viewing its contents without extracting is very technical...<<BR>><<BR>>Keep in mind that File Roller represents an entirely new interface for users to learn. My mother and grandmother, for example, cannot figure out how to extract compressed files in Ubuntu because File Roller is (1) an unfamiliar interface and (2) expresses an unfamiliar concept of looking "inside" a compressed file without extracting it.<<BR>><<BR>>— David Siegel, <nowiki>[[https://bugs.edge.launchpad.net/hundredpapercuts/+bug/389176/comments/6|see comment]]</nowiki>
|}
=== Use cases for archives ===
''You are welcome to add more valid use cases, try to avoid duplicates.''

May opens an attached archive in Gmail from within Firefox.

Jorge opens an attached archive in Evolution.

Harry has downloaded an icon pack.

Pat opens a file from an archive and wants to save changes he's made.

Merry opens a photo from an archive and wants to move to the next photo or play a slideshow.

=== Identified Issues ===
''You are welcome to add more valid issues, try to avoid duplicates. Don't modify or remove someone else's issue without discussion. Please explain why they are issues, and what are the negative consequences they have.''

These issues stem from a bug report at <nowiki>[[https://bugs.edge.launchpad.net/hundredpapercuts/+bug/389176]]</nowiki>. Rather than saying "users want to extract files more often than not", I have tried to identify some issues resulting from not extracting by default.

==== 1. Dealing with files in the Archive Manager is significantly different from using the File Browser on normal files ====

Browsing an archive includes similar elements to nautilus, such as a location bar and navigation buttons, but does not have the same layout or 'Places' sidebar, and uses list view rather than icons.

To a user just trying to open a file, the toolbars and buttons of Archive Manager may feel unfamiliar and behave unexpectedly.

==== 2. Open a photo in an archive and you cannot move to the next photo ====
Merry opens a photo from an archive with Photo Viewer and wants to move to the next photo or play a slideshow but the buttons are grey.

==== 3. Making changes to a file opened from an archive is troublesome ====
Changes will be saved to the unlikely /tmp folder. If, while a program is still opening, the Archive Manager is closed, the user will get an error saying the file could not be opened.

The user expects changes made to be kept but the best he can hope for is to notice a new Archive Manager dialog, somewhere among his other windows, asking him whether to update the file "foo-bar.xcf" in archive "some-pictures-of-foo-1.tar.gz".

==== 4. Thumbnails are not shown ====
It can be hard to find the photo you are looking for.

=== Template For Ideas ===
==== Idea name ====
===== Rationale =====
This is primarily designed to solve issue #X and #Y.

===== Description =====
Describe the idea in a few short paragraphs, almost '''exhaustively''' , ie. I should make sure that what I propose can be interpreted only one way, so that if people like my idea but think it is perfectible, they can edit it and make it better, without leaving too much room for differences of interpretation that would provoke the need for a rewrite and reevaluation during the implementation if my idea.

===== Consequences for issue #X =====
Describing the expected result for the issue you are trying to address. It should be done for all the aimed issues, and also the issues for which you suspect there will be negative consequences. I shall not do it at all for issues which are not concerned and upon which my idea visibly has no consequences at all. I can give an explicit rating between -5 and +5 (that's all about feelings though).

===== Conclusion =====
Here try to explain why you think the downsides are worth the upsides, and propose ideas that may be able to make the user experience even better if used with this one.

''Sidenote : one may disagree with another, but in order to keep things constructive, i think one should comment the idea directly but keep the original description. One comment per person sounds fair, and people can then edit their own comments for each idea. Also, don't hesitate to give a mark to other ideas so that we can see which ideas have a consensus and which need debate. Thanks for reading till here ! (Template is very probably perfectible)''

=== Ideas ===
''If you think you have an idea that could address one of the above issues, please describe it and evaluate it's influence on '''all''' the listed issues. You can use the template for adding your own proposals .''

==== Use Archive Mounter ====
===== Rationale =====
This will allow people to use a familiar UI without having to extract the files first.
Since the files are actually FUSE-mounted under ~/.gvfs/, all applications should be able to access them.
A notification bar is needed to warn that access is read-only, and provide easy way to extract.

===== Description =====
Using 'Archive Mounter' by default, and <nowiki>[[https://bugs.launchpad.net/bugs/296585 having nautilus open a new window]]</nowiki> or navigate to the mounted archive when opened would remove the additional interface of Archive Manager roller without the need to extract the data each time.

Users should still be notified that they are browsing an archive, so a infobar at the top of the nautilus browser pane could say:

    "You are viewing a ZIP archive.  To modify files, you'll want to extract it.  [Extract...] [Open in Archive Manager]"

*** maybe just "[Advanced]" instead of "[Open in Archive Manager]"?
*** be consistent with <nowiki>[[https://bugs.launchpad.net/hundredpapercuts/+bug/15495|bug #15495]]</nowiki> for the final "Archive" wording.

When the user presses the [Extract] button, they get to pick a directory which could then be navigated to when done extracting, maybe even unmount the archive at the same time.

===== Solves issue #1 =====
Users use familiar nautilus, instead of Archive Manager to access archive contents.

This is ''basically'' the method that Windows uses to avoid an additional UI for Zip archives, and Mac OS X for disk images.
(But Windows just fakes it at the GUI level, without exposing a real filesystem.)
So this is both an improvement and what new users would expect.

===== Solves issues #2, #4 =====
This is a full filesystem!  All files are accessible at once, thumbnails are shown.

* Some people claimed that non-Gnome applications might not be able to access the files in the mounted archive.  ‎There is little reason for this - it's not just a GVFS fiction, it's a real FUSE mount exposed at the kernel level.  ''If you know of any application that doesn't work with mounted archives, please provide details.''

===== Consequences for issue #3 =====
The exposed file system is read-only, so you can't modify files.
However an prominent button is provided to extract files, with guidance that it's needed if you want to modify files.

* Archive Manager can update the archive in-place when it detects that the tmp copy of a file was modified.
   The FUSE archive mounting implementation could in principle do that, even more reliably.  But:
    1. The user might not want to modify the archive.  Archive Manager asks the user for confirmation.
    2. With large monolithic archives (think .tar.bz2), it could be very slow.

===== Conclusion =====
This is the best that can be achieved without actually extracting the files, and provides an easy way to edit files after they were extracted.

This would eliminate an additional UI for users to learn while still making it clear that files are still in an archive. It would allow users to have access to the files, and iterate over them in EoG. It would provide a one-button way for users to extract the files somewhere on their computer from nautilus.

<<BR>>
— Nathaniel [edited by Beni Cherniavsky]

=== External Links ===

* <nowiki>[[http://www.glyphnotes.com/gn-zip.cfm|Zip handling on Windows and Mac OS X]]</nowiki>

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Using Juju ==

Currently, we use a small wrapper around the juju command in order access the correct juju for the installation type. For example, running ''openstack-juju'' on a single install will make sure to run against the juju environment inside the toplevel container.

=== Running Juju outside of the OpenStack Cloud ===

You can add services to the existing deployment before switching over to your OpenStack private cloud.

Some examples of getting the status, deploying services, and adding units:

<pre> bash 
$ openstack-juju status

$ openstack-juju deploy jenkins

$ openstack-juju add-unit mysql

$ openstack-juju set mysql 'tuning-level=fast'

$ openstack-juju get mysql
</pre>

=== Juju inside your private cloud ===

Once the OpenStack cloud has been deployed there are only a couple of steps to
enable juju to deploy charms into the private cloud.

Generate necessary image metadata for Juju to utilize:

<pre> bash
$ openstack-juju switch openstack
$ openstack-juju metadata generate-image -i <image_id> -s trusty

$ openstack-juju sync-tools
$ openstack-juju bootstrap --metadata-source /home/ubuntu
</pre>

  More information on setting up private clouds can be found at <nowiki>[[https://jujucharms.com/docs/stable/howto-privatecloud|How Set up a Private Cloud using Simplestreams]]</nowiki>

Now you can deploy charms within your OpenStack cloud.

<pre> bash
$ openstack-juju deploy jenkins
$ openstack-juju deploy -n 5 jenkins-slave
$ openstack-juju add-relation jenkins jenkins-slave
$ openstack-juju set jenkins password=AseCreTPassWoRd
$ openstack-juju expose jenkins
</pre>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Ubuntu 8.04 LTS and later ==
'''PLEASE NOTE''' Zabbix is now packaged and part of the Universe repositories since Ubuntu 8.04 LTS. Please consult <nowiki>[[http://packages.ubuntu.com/search?keywords=zabbix&searchon=names&suite=all&section=all|the full list of packages available]]</nowiki> to see what applies to your version of Ubuntu.

To install the server:
<pre>
sudo apt-get install zabbix-server-mysql
</pre>

or

<pre>
sudo apt-get install zabbix-server-pgsql
</pre>

The common opinion seems to be that using mysql on the server will require more fine tuning in order to have proper performance.

Then point your browser to <code>http://<servername or ip>/zabbix/</code>

The default credentials are:
* user name: admin
* password: <empty> (don't type anything, justleave the field empty)

== Outdated: Zabbix 1.4 on Ubuntu Feisty Fawn 7.04 ==

Install pre-requisites:<<BR>>Apache<<BR>>MySQL-Server<<BR>>PHP5<<BR>>Net-Snmp libraries

{| class="wikitable"
|-
| sudo aptitude install build-essentials mysql-server php5 php5-gd snmp libsnmp9-dev snmpd fping
|}

'''1 - Make the zabbix user and group:'''

{| class="wikitable"
|-
| sudo adduser zabbix
|}
 enter in new password<<BR>>confirm<<BR>>use the remaining defaults.

Add zabbix to the admin group:

{| class="wikitable"
|-
| sudo adduser zabbix admin
|}

'''2 - Download and Untar the sources:'''

{| class="wikitable"
|-
| su - zabbix<<BR>>wget http://internap.dl.sourceforge.net/sourceforge/zabbix/zabbix-1.4.tar.gz <<BR>>tar zxvpf zabbix-1.4.tar.gz
|}

'''3 - Create a zabbix database and populate it:'''

{| class="wikitable"
|-
| mysql -u root -p<<BR>>create database zabbix;<<BR>>quit;
|}

{| class="wikitable"
|-
| mysql -u root -p zabbix < /home/zabbix/zabbix-1.4/create/schema/mysql.sql<<BR>>mysql -u root -p zabbix < /home/zabbix/zabbix-1.4/create/data/data.sql
|}

'''4 - Configure, compile and install the server:'''

{| class="wikitable"
|-
| cd zabbix-1.4/<<BR>>./configure --prefix=/usr --with-mysql --with-net-snmp \<<BR>>--enable-server --enable-agent &&<<BR>>make<<BR>>sudo make install
|}

'''5 - Prepare the rest of the system:'''

{| class="wikitable"
|-
| sudo nano /etc/services
|}

Add at the end:

<code>zabbix_agent 10050/tcp # Zabbix ports</code><<BR>><code>zabbix_trap 10051/tcp</code>

Save and exit.

{| class="wikitable"
|-
| sudo mkdir /etc/zabbix<<BR>>sudo chown -R zabbix.zabbix /etc/zabbix/<<BR>>cp misc/conf/zabbix_* /etc/zabbix/
|}

Edit /etc/zabbix/zabbix_agentd.conf:

{| class="wikitable"
|-
| nano /etc/zabbix/zabbix_agentd.conf
|}

Make sure that the Server parameter points to the server address, for the agent that runs on the server it is like this:

<code>Server=127.0.0.1</code>

Edit /etc/zabbix/zabbix_server.conf:

{| class="wikitable"
|-
| nano /etc/zabbix/zabbix_server.conf
|}

For small sites this default file will do, however if you are into tweaking your config for your 10+ hosts site, this is the place.

Change this:

<code># Database password</code><<BR>><code># Comment this line if no password used</code><<BR>><<BR>><code>DBPassword=Secret</code>

Start the server :

{| class="wikitable"
|-
| zabbix_server
|}

Start the client:

{| class="wikitable"
|-
| zabbix_agentd &
|}

'''6 - Configure web interface'''

{| class="wikitable"
|-
| mkdir /home/zabbix/public_html<<BR>>cp -R frontends/php/* /home/zabbix/public_html/
|}

Edit /etc/apache2/sites-enabled/000-default:

{| class="wikitable"
|-
| sudo nano /etc/apache2/sites-enabled/000-default
|}

Work into file:

<code>Alias /zabbix/ /home/zabbix/public_html/</code><<BR>><code><Directory /home/zabbix/public_html></code><<BR>><code>  AllowOverride FileInfo AuthConfig Limit Indexes</code><<BR>><code>   Options MultiViews Indexes SymLinksIfOwnerMatch IncludesNoExec</code><<BR>><code>   <Limit GET POST OPTIONS PROPFIND></code><<BR>><code>     Order allow,deny</code><<BR>><code>     Allow from all</code><<BR>><code>   </Limit></code><<BR>><code>   <LimitExcept GET POST OPTIONS PROPFIND></code><<BR>><code>     Order deny,allow</code><<BR>><code>     Deny from all</code><<BR>><code>   </LimitExcept></code><<BR>><code></Directory></code>

Save and exit.

Make php.ini adjustments:

{| class="wikitable"
|-
| sudo nano /etc/php5/apache2/php.ini
|}

Change the following values:

||max_execution_time = 300     ; Maximum execution time of each script, in seconds<<BR>>date.timezone = America/Kentucky/Louisville||<<BR>>(use this url to find your correct timezone format: http://us3.php.net/manual/en/timezones.php )

Restart Apache:

{| class="wikitable"
|-
| sudo /etc/init.d/apache2 restart
|}

----

Now point your browser to:

'''''http://<servername or ip>/zabbix/'''''

'''1. Introduction'''

read and click Next

'''2. License Agreement'''

Read, check 'I Agree', click Next

'''3. Check of Pre-Requisites'''

Fix any problems, click retry.  Click Next when all pre-requisites are OK.

'''4. Configure DB Connection'''

Enter appropriate settings and click Test Connection.
Click Next when OK.

'''5. Pre-Installation Summary'''

Verify installation settings, click Next.

'''6. Install'''

Click Save Configuration file and save to machine.
Copy zabbix.conf.php to /home/zabbix/public_html/conf/zabbix.conf.php

One way to do this from a desktop machine (requires ssh installed):
scp zabbix.conf.php zabbix@<serverip>:/home/zabbix/public_html/conf/

Click Retry and click Next when OK.

'''7. Finish'''

Click Finish to complete installation.

----

Your New Zabbix install will now be shown.

Log in with username: Admin
No Password

First go to the tab Configuration and then Hosts.

Now create a host-group, see that you can give it some templates, e.g: Application.MySQL, Host.SNMP, Host.Standalone, Host.Unix.

Then some hosts:

Select your host-group and use Link with Template Host.Unix

Now a lot of triggers are imported and the game begins.

Go to the monitoring tab and watch the latest values roll in.

For specifics on configuration, please refer to the Zabbix user manual.

http://www.zabbix.com
----
CategoryLookMergeDelete

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This page describes some points that you have to keep in mind when you merge a package containing a Mozilla extension from Debian.

For those which do not know it, Mozilla related packaging is somewhat tricky as because of trademark concerns Debian has renamed their products, but Ubuntu keeps the original names.

== Dependencies ==

First of all, lets make the package installable. For that, you'll have to change the dependencies from Debian's names to the real ones. The equivalences are the following ones:

* iceweasel -> firefox
* iceape -> seamonkey (iceape-browser becomes seamonkey-browser, etc.)
* icedove -> thunderbird

If the package description mentions application names, it's good to change them there, too.

== Symlinks ==

As most extensions can be used for more than one application, they are usually installed in ''/usr/share/mozilla-extensions/<extension_name>'' and the appropriate files are then symlinked to the different application specific directories so that the applications detect the extension.

Those directories also have different names, so it's important to change them to the ones used in Ubuntu, as else the package won't do anything at all. So, don't forget to look into debian/links (or debian/rules if the package calls dh_link directly)!

Also note that Firefox 2.0 uses ''/usr/lib/firefox/extensions/'' but Firefox 3.0 uses ''/usr/lib/firefox-addons/extensions/''. You can see which versions the extension supports by looking at the file ''install.rdf''.

== Maintainer scripts ==

Maintainer scripts (such as postinst or postrm) may also have name dependant stuff in them, which then needs to be changed for Ubuntu. Here is a real world example:

<pre>
if which update-iceape-chrome >/dev/null 2>&1; then
    update-iceape-chrome
fi
</pre>

The ''update-iceape-chrome'' here is named ''update-seamonkey-chrome'' in Ubuntu, so it has to be changed to it, resulting in the following command:

<pre>
if which update-seamonkey-chrome >/dev/null 2>&1; then
    update-seamonkey-chrome
fi
</pre>

== The ideal solution ==

Of course, the best solution would be to convince the Maintainer to fix the package in Debian so that it isn't necessary to merge it. To achieve this, he can just use both names in the depends (eg., "Depends: iceweasel | firefox"), description (writing "Iceweasel/Firefox" instead of just "Iceweasel") and everywhere else.

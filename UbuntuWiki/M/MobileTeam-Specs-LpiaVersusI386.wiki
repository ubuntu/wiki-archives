{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:lpia-versus-i386
* '''Created''': 20090120
* '''Contributors''': 
* '''Packages affected''':

=== Summary ===

Is the lpia architecture a necessary pain or is i386 good enough? How many lpia specific changes do we still carry? Can we provide a tool to upgrade existing lpia installs to i386 (or i386 to amd64 or arm to armel...)?  What can we do with the lpia architecture right now?

=== Release Note ===

Probably not release notes worthy in the current state.

=== Rationale ===

The lpia architecture is a maintenance burden for Ubuntu; we need to make sure it's useful enough or dropped: either by asserting that it is useful enough, or by changing it into something more useful.  The lpia architecture also creates problems of its own (incompatibility with third party .debs).

=== Review of the lpia architecture ===

* Little perceived performance gain
* Some delta with Debian
* Incompatibility with third party i386-only .debs
* Not a clear use case

==== Changes which might warrant keeping lpia ====

* Additional changes to the toolchain to improve performance for upcoming new
   CPU generation
* Expected future architecture changes that may benefit from optimisation
* Incompatible future architectures: actually wont happen anytime soon as
   Moorestown will be binary compatible

==== Compiler flags considerations ====

On some the Moblin list, an Intel person suggested to use:
* -O3: does not show significant improvement in testing: modprobe is counter-example with -Os
* SSE: several applications are expected to benefit
* -static: performance improvements do not justify additional maintenance efforts
* -march=nocona: implies OOE which Atom is documented not to support - unlikely to be adopted

However the correct flags to use as explained by Rusty Lynch (Moblin) are:
* -march=core2
* -mtune=generic
* -mfpmath=sse
* -Os
[ citation needed! ]

=== Arch conversion tools ===

 Tools would generally need lots of love, and aren't ready yet, but there are some good use cases.

* archtakeover / debtakeover
** arm -> armel, but could be repurposed
** Not complete in Debian, fragile
** Consider for i386 -> amd64
* Leverage ubiquity-preserve-home for cross-arch applications

=== Follow-up ===

 Keep the lpia architecture in maintenance mode.  Discuss the use of the best compiler flags for lpia with the Ubuntu Foundations Team.

----
CategorySpec

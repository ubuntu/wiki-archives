{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== Agenda ===

Items we will be discussing:

* Review ACTION points from previous meeting.
* Review progress made on the specification listed on the <nowiki>[[ServerTeam-Roadmap| Roadmap]]</nowiki>.
* <nowiki>[[WebArchitecture]]</nowiki> - We (ubuntu-eu) have problems setting up a simple web server - problem exposed, solution proposed, discussion welcomed :) (Yann Hamon)
* Open Discussion.
* Agree on next meeting date and time.

=== Minutes ===

===== Screen profiles =====

kirkland reported that he had uploaded <nowiki>[[http://blog.dustinkirkland.com/2009/01/ubuntu-jaunty-testing-screen-profiles.html|a new version of the screen-profiles package]]</nowiki> to universe which changes the default escape sequence back to ctrl-a. nijaba also implemented a new functionality to allow to customize the escape sequence when choosing the screen profile. Now that the main inclusion report has been accepted kirkland is planning to seed the screen-profile by making it a dependency of the screen package.

kirkland plans to start a discussion about enabling screen by default on server installs. He will outline the implementation details in a post to the ubuntu-server mailing list to start gathering feedback on the idea.

ACTION: kirkland to seed screen-profiles in main as dependency of screen.

ACTION: kirkland to ask on ubuntu-server@ for screen by default on login.

ACTION: nijaba to provide a way to customize the escape sequence when configuring screen profiles.

===== SRU for ebox =====

sommer and foolano reported that the SRU for intrepid is waiting for the upload of new packages to jaunty. Bugs have been filed and added to the universe sponsorship queue.

ACTION: mathiaz to look into ebox packages for jaunty sponsoring.

===== MySQL 5.1 in jaunty =====

mathiaz looked into the state of the mysql-dsfg-5.1 package in jaunty. For now mysql-server-5.1 is not installable because the skip-bdb option is used in the configuration file (which is part of the mysql-common (from mysql-dfsg-5.0) package). He also <nowiki>[[http://lists.alioth.debian.org/pipermail/pkg-mysql-maint/2009-January/001433.html|asked the Debian MySQL maintainers about their plans]]</nowiki>: Lenny will ship 5.0 while the next Debian release would ship 5.1 only. As a consequence they don't have a huge interest in supporting both 5.0 and 5.1 in the archive. mathiaz added that doing so in a way similar to postgresql packages would require a significant amount of work on both mysql-dfsg-5.{01} packages. Implementing such an infrastructure would lead to being able to run both 5.0 and 5.1 at the same time in one system.

ACTION: mathiaz to ask the Debian maintainers opinion on supporting both 5.0 and 5.1 using an infrastructure similar to postgresql.

ACTION: mathiaz to look in other ways to fix 5.1 in jaunty.

===== ACL by default =====

ivoks reported that he had sent patches to add support for ACL to tar to the Debian maintainer. The answer was to wait for upstream to integrate the patches. Other packages may require to be modified to support ACL: cpio, zip.

ACTION: ivoks to create wiki page to keep track of ACL support in packages

===== DRBD in jaunty =====

ivoks announced that his DRBD patches had been applied by the Ubuntu kernel team. Once the new kernel is uploaded he will merge DRBD 8.3.0. Testing will be welcome at that time.

ACTION: ivoks to merge DRBD 8.3.0 userspace tools once the kernel has been uploaded.

===== Agree on next meeting date and time =====

Next meeting will be on Tuesday, January 27th at 16:00 UTC in #ubuntu-meeting.

=== Log ===
<pre>
[16:01] <mathiaz> #startmeeting
[16:01] <mathiaz> today's agenda:
[16:01] <mathiaz> https://wiki.ubuntu.com/ServerTeam/Meeting
[16:02] <mathiaz> last week minutes: https://wiki.ubuntu.com/MeetingLogs/Server/20090113
[16:02] <mathiaz> [TOPIC] Screen Profiles
[16:02] <mathiaz> kirkland: I saw your post on screen-profiles
[16:02] <kirkland> mathiaz: yessir
[16:02] <nijaba>   /o\
[16:02] <kirkland> mathiaz: i have uploaded a new copy, that changes the default escape sequence back to ctrl-a
[16:02] <mathiaz> what happened on this front last week?
[16:03] <kirkland> mathiaz: that seemed to be the overwhelming opinion on the ubuntu-server@ list
[16:03] <kirkland> mathiaz: nijaba is working on some new functionality that would allow that to be configurable
[16:03] <mathiaz> kirkland: agreed.
[16:03] <kirkland> mathiaz: basically, all of the documentation out on the internet, and in all other distributions, the escape sequence is ctrl-a
[16:03] <kirkland> mathiaz: there are some good reasons for it to be something else
[16:04] <mathiaz> kirkland: nijaba: are there other plans for screen-profiles?
[16:04] <kirkland> mathiaz: but i'm thinking it's not our place to force that change on others
[16:04] <kirkland> mathiaz: allowing for easy adjustment, however, would be a very good thing!
[16:04] <mathiaz> (beside escape sequence customization)
[16:04] <mathiaz> kirkland: agreed.
[16:04] <kirkland> mathiaz: it has also been promoted to Main
[16:04] <nijaba> mathiaz: we are going to have a chat later today with kirkland so that he can merge my changes, but AFAIK, we should be feature complete
[16:04] <kirkland> mathiaz: the next thing i'd like to do is make the 'screen' package depend on it, to get screen-profiles on the server cd
[16:05] <mathiaz> should it be installed by default?
[16:05] <kirkland> mathiaz: also, i'd like to make a minor modification to the screen package, to install the ubuntu profile created in screen-profiles to our default /etc/screenrc
[16:05] <kirkland> mathiaz: i agree with 'feature-complete'
[16:05] <mathiaz> kirkland: if -profiles is in main, where is it seeded for now?
[16:05] <nijaba> mathiaz: after some serious testing, I would vote for it being installed by default
[16:05] <kirkland> mathiaz: it's not seeded yet
[16:05] <mathiaz> nijaba: for jaunty or jaunty+1?
[16:05] <mathiaz> kirkland: well - then it's not in main yet
[16:05] <kirkland> mathiaz: i'm going to do that later today, with the screen dependency on screen-profiles
[16:05] <kirkland> mathiaz: okay, then it's been 'approved' for main
[16:06] <kirkland> mathiaz: sorry
[16:06] <nijaba> kirkland: it is for you to seed it, core-dev ;)
[16:06] <mathiaz> kirkland: ok - dependency on screen.
[16:06] <kirkland> mathiaz: right
[16:06] <mathiaz> [ACTION] kirkland to seed screen-profiles in main as dependency of screen
[16:06] <kirkland> mathiaz: once that's done, i'm going to start another thread on ubuntu-server@, about whether or not we should launch screen on login
[16:07] <kirkland> mathiaz: i suspect there will be some resistance to that, but we're going to suggest it
[16:07] <kirkland> mathiaz: it's easy to configure that way, post install
[16:07] <kirkland> mathiaz: but I'm using it on all of my systems, and I'm *loving* it
[16:07] <nijaba> kirkland: let's make sure people understand HOW we are proposing this
[16:07] <mathiaz> [ACTION] kirkland to ask on ubuntu-server@ for screen by default on login
[16:07] <kirkland> nijaba: okay, what do you mean by that?
[16:07] <nijaba> kirkland: most people think it is replacing the default shel by screen
[16:07] <nijaba> kirkland: which is not what we are doing
[16:07] <kirkland> nijaba: right
[16:08] <kirkland> nijaba: it's just a one-liner, added or removed from .bashrc and .bash_profile
[16:08] <nijaba> kirkland: yes, but that changes everything, as it avoids launching screens in screen
[16:08] <mathiaz> [ACTION] nijaba to provide a way to customize the escape sequence when configuring screen profiles
[16:08] <nijaba> kirkland: when connecting to another server
[16:09] <kirkland> mathiaz: okay, so that's all from me on this item
[16:09] <nijaba> mathiaz: [ACTION] already done, now at merging stage
[16:09] <mathiaz> kirkland: ok - seems that you'd have outline the technical implementation in your email
[16:09] <kirkland> mathiaz: right
[16:09] <mathiaz> kirkland: great - thanks for the report.
[16:09] <mathiaz> let's move on.
[16:09] <mathiaz> [TOPIC] SRU for ebox
[16:09] <mathiaz> sommer: how is it going?
[16:10] <sommer> mathiaz: the questions about the patches have been answered, and foolano is working on the packages for jaunty
[16:10] <foolano> yep
[16:10] <sommer> mathiaz: so once those are uploaded, I guess we'll re-upload to proposed
[16:11] <mathiaz> foolano: where do you plan to publish your jaunty package?
[16:11] <foolano> mathiaz: they are already published, they in our  ppa
[16:12] <foolano> i have opened bugs to request sponsorship, attached diff.gz and so on
[16:12] <mathiaz> foolano: which bug number?
[16:12] <mathiaz> foolano: from https://launchpad.net/~ebox/+archive - 0.12.4?
[16:12] <foolano> let me see, they are a few...
[16:13] <foolano> i opened a bug for every package: 318697, 318710, 318717, 318729, 318730, 318810, 318813, 318814, 318817, 318822, 318825, 318827, 318829,318830
[16:13] <foolano> mathiaz: they are in ~ebox-unstable becasue they need some testing...
[16:13] <foolano> https://launchpad.net/~ebox-unstable/+archive
[16:14] <mathiaz> foolano: ok - is ebox-unstable ready for inclusion in jaunty?
[16:14] <mathiaz> bug 318697
[16:14] <ubottu> Launchpad bug 318697 in libebox "Please upgrade libebox to 0.12.2" [Undecided,Confirmed] https://launchpad.net/bugs/318697
[16:15] <foolano> mathiaz:  it's our stable version,  it's in ebox-unstable because the pacaking for jaunty hasn't been tested  a lot
[16:15] <nealmcb> bug 318710
[16:15] <ubottu> Launchpad bug 318710 in ebox "Please upgrade ebox to 0.12.4" [Undecided,Confirmed] https://launchpad.net/bugs/318710
[16:16] <mathiaz> foolano: I'm confused by the version numbers: libebox 0.12.2 and ebox 0.12.4?
[16:16] <mathiaz> foolano: is it normal that these packages don't have the same version number?
[16:16] <foolano> mathiaz: yep, let me explain it to you
[16:16] <foolano> mathiaz: we release 0.12.0 as our first stable version
[16:17] <foolano> as we do bufgfixing we increase the last number 0.12.1, 0.12.2...
[16:17] <foolano> and we release every module separated
[16:17] <mathiaz> foolano: ok - makes sense.
[16:17] <mathiaz> foolano: thanks for explaining that.
[16:18] <mathiaz> I'll look at the packages.
[16:18] <foolano> great :)
[16:18] <mathiaz> [ACTION] mathiaz to look into ebox packages for jaunty sponsoring.
[16:18] <mathiaz> once the updated packages are in jaunty, what's next for intrepid?
[16:19] <foolano> we can request a SRU for intrepid then, right?
[16:20] <sommer> can't we re-upload to proposed, and ask for sponsorship from motu-sru?
[16:21] <mathiaz> yes - I think so. Has the package been rejected from the intrepid-proposed queue?
[16:21] <mathiaz> Or the motu-sru didn't give their ACK?
[16:22] <sommer> I believe the orginal one's chuck uploaded for me have been rejected
[16:22] <mathiaz> Were any change made to the intrepid packages?
[16:23] <mathiaz> ok - we'll sort this out once the new packages have been upload to jaunty.
[16:23] <mathiaz> as this is the first step to get a SRU working properly
[16:23] <sommer> I don't think there have been yet, but I believe foolano attached a patch to one of the bugs
[16:23] <sommer> ya, should be quick to do once the jaunty packages are in
[16:24] <mathiaz> anything else on the ebox front?
[16:24] <sommer> I think that's it
[16:25] <sommer> at least from me :)
[16:25] <foolano> nothing further :)
[16:25] <mathiaz> ok - let's move on
[16:25] <mathiaz> [TOPIC] MySQL 5.1 in jaunty
[16:25] <mathiaz> so I've looked into that
[16:25] <mathiaz> and things are not fixed yet.
[16:25] <mathiaz> the deeper I look the scarier it gets.
[16:26] <sommer> heh, when you look into the abyss the abyss looks back
[16:26] <mathiaz> I've emailed the Debian mysql maintainers and they don't have plans (for now) to support both 5.0 and 5.1 in archive
[16:26] <mathiaz> their plans is to release lenny with 5.0
[16:26] <zul> mathiaz: welcome to the party
[16:26] <mathiaz> and once lenny is released 5.1 would be uploaded to unstable
[16:27] <mathiaz> and library transition would be done at the very begining of the cycle.
[16:27] <mathiaz> The maintainer might consider having a interim period with 5.0 and 5.1 in the archive.
[16:27] <nealmcb> mathiaz: what are some of the challenges?
[16:28] <mathiaz> http://lists.alioth.debian.org/pipermail/pkg-mysql-maint/2009-January/001433.html
[16:29] <mathiaz> the biggest problem is that /etc/mysql/my.cnf are both used by 5.0 and 5.1 but they're incompatible
[16:29] <mathiaz> right now installing mysql-server-5.1 pulls in the 5.0 my.conf which doesn't work
[16:30] <nealmcb> sounds like a confusing version name
[16:30] <nealmcb> if it isn
[16:30] <nealmcb> if it isn't compatible like that
[16:30] <mathiaz> well - it's incompatible at the Debian/Ubuntu level, not upstream
[16:31] <mathiaz> we ship 5.0 my.cnf with skip-bdb (because it's deprecated in 5.1)
[16:31] <mathiaz> and the skip-bdb option is not recognized in 5.1
[16:31] <nealmcb> ahh
[16:31] <mathiaz> (which makes the server fail to start and the package fails to install)
[16:32] <mathiaz> so one of the option I've looked into is to support both 5.0 and 5.1 at the same time
[16:32] <mathiaz> since we plan to have 5.0 in main and 5.1 in universe in jaunty for now
[16:32] <mathiaz> having a structure similar to postgresql
[16:32] <mathiaz> with /etc/mysql/5.0/my.cnf and /etc/mysql/5.1/my.cnf
[16:34] <mathiaz> but that would require significant packaging work on both 5.0 and 5.1
[16:34] <ivoks> would they have uniq conf.d?
[16:34] <mathiaz> ivoks: yes. everything would move under /etc/mysql/5.X/
[16:34] <mathiaz> init scripts have to be updated.
[16:35] <mathiaz> all the scripts would be under /usr/share/mysql/5.X/
[16:35] <ivoks> with /etc/mysql/conf.d/ or /etc/mysql/5.x/conf.d?
[16:35] <mathiaz> with wrapper scripts in /usr/bin/ using the correct installed version
[16:35] <mathiaz> ivoks: /etc/mysql/5.X/conf.d
[16:35] <mathiaz> this is how the postgresql packages are setup
[16:36] <mathiaz> you can install and run 8.2 and 8.3 at the same time in hardy
[16:36] <ivoks> i know
[16:36] <mathiaz> which help in upgrading since you have access to the old version of the program
[16:36] <sommer> is it against debian policy to say have /etc/mysql/my.5.0.cnf and /etc/mysql/my.5.1.cnf and symlink one or the other to /etc/mysql/my.cnf?
[16:36] <mathiaz> one of the question I have is if that would be usefull for MySQL?
[16:36] <mathiaz> ie having access to both 5.0 and 5.1 at the same time?
[16:37] <mathiaz> since MySQL provides support for upgrading existing databases.
[16:38] <ivoks> i think these ideas would take too much time to realize, and probably fail in the process
[16:38] <ivoks> i don't even want to think how to handle /var/lib/mysql on updates
[16:39] <mathiaz> ivoks: well in the new scheme, you'd have /var/lib/mysql/5.0/ and /var/lib/mysql/5.1/
[16:39] <ivoks> mathiaz: so, if i upgrade my 5.0 to 5.1, i'll loose all my databases?
[16:39] <mathiaz> an upgrade would dump from mysq/5.0/ into mysql/5.1/
[16:40] <ivoks> what if someone would drive both of them?
[16:40] <ivoks> i'm sure someone will try 5.1, set up databases and then realize that 5.0 was more stable :)
[16:41] <mathiaz> ivoks: hm.. seems that we should discuss this a bit more in depth.
[16:41] <mathiaz> another solution is to just remove the skip-bdb from my.cnf
[16:41] <ivoks> but... don't get me wrong, if someone thinks this is worthwile, i don't mind :)
[16:42] <mathiaz> ivoks: I understand. As I said, setting up such a infrastructure would require significant packaging work
[16:42] <ivoks> right
[16:42] <mathiaz> ivoks: and we should definetly get the opinion of the Debian maintainers
[16:42] <ivoks> let's start diuscussion on mailing list
[16:43] <mathiaz> I'll reply to the thread mentionned above
[16:43] <mathiaz> I'll also look into other solution to fix the issue in jaunty
[16:43] <ivoks> (i'll check logs, since i was late :)
[16:43] <mathiaz> [ACTION] mathiaz to ask Debian maintainer about supporting both 5.0 and 5.1 using a concept similar to postgresql
[16:44] <mathiaz> [ACTION] mathiaz to look in other ways to fix 5.1 in jaunty
[16:44] <mathiaz> ok - that's all I have from last week minutes
[16:44] <mathiaz> anything else to add wrt to last week minutes?
[16:45] <mathiaz> nope
[16:45] <mathiaz> [TOPIC] Open Discussion
[16:45] <mathiaz> anything else to add/discuss/brainstorm?
[16:45] <ivoks> umm... at uds i mentioned ACL by default
[16:46] <ivoks> i've sent patches for tar to debian matinainer
[16:46] <ivoks> and it looks like support for acl, xattrs and selinux will get accepted in upstream in new version
[16:47] <mathiaz> ivoks: do you mean turning on ACL by default on new installs?
[16:47] <mathiaz> ivoks: is this in time for jaunty?
[16:47] <ivoks> so, i would rather wait for those things to become part of upstream
[16:47] <ivoks> mathiaz: i doubt
[16:47] <ivoks> tar has 1-2 releases in a year
[16:47] <ivoks> last release was in december, iirc
[16:48] <mathiaz> ivoks: what was the answer from the Debian maintainer?
[16:48] <ivoks> he liked the idea, but he doesn't want to fork tar
[16:48] <mathiaz> ivoks: are there any other package that would be modified to support ACL by default?
[16:48] <ivoks> so he keeps it clean as from upstream
[16:49] <ivoks> mathiaz: cpio could be one of them, i didn't check it
[16:49] <ivoks> zip also
[16:50] <mathiaz> ivoks: is there a wiki page to keep track of what needs to be done?
[16:50] <ivoks> mathiaz: i'll set it up
[16:50] <mathiaz> ivoks: it seems that we'd make sure that all relevant packages have ACL support before turning it on by default
[16:50] <ivoks> mathiaz: of course
[16:51] <mathiaz> ivoks: ok. So the first step would be to identify which packages need to support ACL
[16:52] <ivoks> i'll set up wiki page with all the revelant stuff
[16:52] <mathiaz> ivoks: great. Thanks
[16:52] <mathiaz> [ACTION] ivoks to create wiki page to keep track of ACL support in packages
[16:52] <mathiaz> ok - anything else to add?
[16:52] <ivoks> and i'll start working on mail stack, now that bacula/drbd stuff are covered
[16:53] <mathiaz> is drbd working in jaunty?
[16:53] <mathiaz> ivoks: did you test it?
[16:53] <ivoks> kernel team just commited my patch
[16:53] <ivoks> once we get new kernel, i'll merge drbd 8.3.0 userspace
[16:53] <ivoks> i allready have it builded and tested
[16:54] <mathiaz> ivoks: ok. But we have to make sure that it works in jaunty too.
[16:54] <ivoks> i'm talking about jaunty :)
[16:54] <mathiaz> [ACTION] ivoks to merge drbd 8.3.0 userspace tools once the kernel has been uploaded.
[16:55] <mathiaz> ivoks: I meant the jaunty archive, not your personal jaunty environment
[16:55] <ivoks> hehe
[16:55] <mathiaz> ivoks: what's the state of bacula in jaunty?
[16:56] <ivoks> mathiaz: mostly working, i've sent patches for hardy/intrepid/jaunty to zul
[16:56]  * nijaba needs to run.  see you later all
[16:56] <ivoks> mathiaz: with those patches, everything should be fixed in all versions
[16:56] <zul> its on my pile
[16:56] <mathiaz> ivoks: are there bugs filed for these?
[16:57] <ivoks> if anyone else is interested in sponsoring uploads?
[16:57] <ivoks> mathiaz: not really
[16:57] <mathiaz> ivoks: are you using the sponsorship queues?
[16:57] <ivoks> mathiaz: jaunty doesn't have a bug; it just doesn't work yet and probably no one tested it
[16:57] <mathiaz> ivoks: if you wanna get them fixed in hardy/intrepid you'll have to file bugs to get the SRU process going
[16:58] <ivoks> and as for intrepid and hardy; bug pops up in rare cases
[16:58] <ivoks> mathiaz: i know
[16:58] <mathiaz> ivoks: ok - we're running out of time
[16:58] <ivoks> mathiaz: don't worry about that
[16:58] <ivoks> sorry :)
[16:58] <mathiaz> ivoks: I'd suggest to file bug in LP and use the sponsorship queue.
[16:58] <mathiaz> [TOPIC] Agree on next meeting date and time
[16:58] <mathiaz> next week, same time, same place?
[16:59] <sommer> +1
[16:59] <ivoks> sure
[16:59] <ivoks> sommer: o/
[16:59] <mathiaz> oh - and a reminder - FeatureFreeze is in one month.
[16:59] <mathiaz> ok - so see you all in one week, same place, same time.
[16:59] <mathiaz> keep up the good work!
[16:59] <mathiaz> #endmeeting
</pre>

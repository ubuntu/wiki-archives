{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Launchpad Entry''': <nowiki>[[https://blueprints.edge.launchpad.net/ubuntu/+spec/desktop-karmic-firefox-3.5|desktop-karmic-firefox-3.5]]</nowiki>
* '''Creator''': AlexanderSack
* '''Don't edit this spec page without contacting the Author or the Spec Approver first'''; feel free to add comments in ''Comments'' section.

==== Use-Cases ====

 A. Randy installs the karmic desktop CD and expects the latest stable firefox (3.5) to be the default
 A. Rick upgrades its existing (default) jaunty install to karmic and expects firefox 3.5 to be the new main browser installed
 A. Rama requires some extensions that only work on firefox 3.0 and wants firefox-3.0 to be easily available from the archive until those extensions become available for ffox 3.5.

==== Design ====

Transitioning to Firefox 3.5 involves various high level steps:
# file bugs for all detailed tasks below
# finish firefox 3.5 and xulrunner 1.9.1 main transition in PPA
# do trademark review on patches with mozilla
# switch firefox 3.5 to default and use official branding
# send patches developed upstream

To ease maintainability we aim to migrate all gecko embedding API consumers in main to use webkit; those that cannot be migrated should be ported to xulrunner 1.9.1

==== Detailed Tasks ====

===== Firefox Transition =====
* Profile Migration
  => drop patches, profile chooser dialog, stop creating versioned profiles
* Move Meta 'firefox' package to 3.5
* Enable Branding
* Open up versioned xulrunner build/dependency
* Demote firefox 3.0 to universe
* Consider to drop firefox 3.0 for final depending on the availability of common extensions for firefox 3.5 at release-time.
* update description
* review apport hooks (profile directory, are they in sync with ffox 3?)

===== Xulrunner Transition =====
* move meta-dev package (xulrunner-dev) to xulrunner-1.9.1
* Port all rdepends (just a respin?)
* drop xul 1.9 from archive
* move -addons directories to xulrunner-1.9.1 and make xulrunner-1.9 depend on 1.9.1 until EOL

===== Translation =====
* ensure that that 3.5 goes into rosetta
* fix langpack-o-matic to understand about more than one firefox version

===== Ubufox =====
* fix it so it works in ffox 3.5
* ensure that plugin database can cope with different versions? maybe not necessary.

===== Cleanup =====
* drop empty firefox-(x.x)-dev package or make it useful - see: <nowiki>[[https://bugzilla.mozilla.org/show_bug.cgi?id=421168|mozilla bug 421168]]</nowiki>
* review patches (drop as many)
* sync patches and rename them in trunk + 3.5
* disable testsuite package unless it becomes ready for release (keep trunk testsuite)

===== Extension =====
* review all extensions and update as needed.

===== Important cleanup tasks =====
* get rid of xul 1.8 forever (LP: #352968)

===== system lib tasks =====
* ship latest NSS/NSPR version that allows xul 1.9.1 to be build against system libs
* reconsider how we do nss/nspr in xulrunner sdk -> use links instead .pc patches
* update sqlite to latest version
* make mozilla jpeg the system jpeg in ubuntu
  -> ask for testing in PPA

===== build-rdepends =====

'''Main''': ''1.9.1 migration is mandatory in main, unless we can move to webkit or demote''
* Package: epiphany-browser (migrate to webkit)
* Package: epiphany-extensions (migrate to webkit)
* Package: gluezilla (used by mono in main; check with mono folks)
* Package: gnome-python-extras (demote python-gtkmozembed to universe)
* Package: gtk-vnc (gecko-plugin, migrate to 1.9.1)
* Package: liferea (migrate to webkit)
* Package: mozvoikko (firefox extension; migrate to 1.9.1)
* Package: openjdk-6 (gecko plugin)
* Package: openoffice.org (gecko plugin)
* Package: openoffice.org-l10n (gecko plugin)
* Package: packagekit (gecko plugin)
* Package: seahorse-plugins (migrate to webkit)
* Package: totem (gecko plugin)
* Package: yelp (migrate to webkit)

'''Universe''': ''migration tasks to 1.9.1 are optional in universe for karmic''
* Package: chmsee (fileviewer using gecko; try to move to xul 1.9.1)
* Package: evolution-rss (maybe migrate to webkit?)
* Package: fennec (xulapp, move to 1.9.1)
* Package: galeon (mostly dead, try to move to 1.9.1; consider to remove from archive)
* Package: gnome-web-photo (gecko only, move to 1.9.1)
* Package: google-gadgets (can be moved to webkit)
* Package: kazehakase (has -webkit, try move to 1.9.1, check the status, consider to drop gecko part it)
* Package: libgtk2-mozembed-perl (migrate to 1.9.1)
* Package: libjdic-java (TBD)
* Package: listen (check webkit; migrate to 1.9.1)
* Package: midbrowser (dead, remove from archive)
* Package: miro (check webkit; migrate to 1.9.1)
* Package: moon (gecko plugin; keep at 1.9)
* Package: mozzemberek (spell checker; check 1.9.1; keep at 1.9)
* Package: ruby-gnome2 (migrate gecko part to 1.9.1)
* Package: sugar-hulahop (migrate gecko part to 1.9.1)
* Package: swt-gtk (migrate gecko part to 1.9.1; file bug upstream for webkit support)
* Package: videolink (TBD)
* Package: virt-viewer (migrate gecko part to 1.9.1)
* Package: banshee (migrate to webkit)

=== Comments ===
 (Add your comments here - remember to give info how to contact you)

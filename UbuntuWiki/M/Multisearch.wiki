{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* ''written by an outsider, blame sladen for any errors''
'''Multisearch''' is an attempt to improve the browser search experience in the default configuration of Firefox on Ubuntu.  It may also be identified as me001''''''@canonical.com (Mozilla Experiment v0.0.1).

The experiment was finished when the plugin patch was '''removed on 2009-08-11''', with the upload of `firefox-3.0 (3.0.13+nobinonly-0ubuntu3)`.

It had ''only'' been added to the developer (alpha) versions of  Ubuntu and '''had not''' been released into the main general use version of Ubuntu.

-----
The first step in improving an experience is to observe how it is used, for example usability testing performed by videoing people and their mouse-movements in a laboratory environment.  The Ubuntu community is much larger than can all fit in a laboratory at once and are busy people who don't have time to.  For a temporary period during July/August 2009, a sample of searching ''habits'' (not searching ''results'') has been made.

Don't worry about searching for Microsoft Windows, or Mac OS from Ubuntu---nobody other than Google is going to know exactly what anyone else has searched for, and there is no way that Launchpad cookies will get sent to Google (or anyone else) either.

=== Quicklinks ===
* Launchpad: <nowiki>[[https://launchpad.net/bugs/402767|#402767 multisearch CSE breaks l18n+setfocus+images+cached+I'm feeling lucky functionality and violates user trust]]</nowiki>
* * Launchpad: <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/firefox-3.0/+bug/402767/comments/24|Comment #24]]</nowiki> ("official reply")
* LWN: <nowiki>[[http://lwn.net/Articles/345945/|Ubuntu's multisearch surprise]]</nowiki>, 2009-08-07
* Slashdot: <nowiki>[[http://yro.slashdot.org/story/09/08/07/1521208/Ubuntus-New-Firefox-Is-Watching-You|Ubuntu's New Firefox Is Watching You]]</nowiki>
* Launchpad: <nowiki>[[http://bazaar.launchpad.net/~asac/firefox/ubuntu.me001/revision/407?remember=407|commit #407 in firefox/ubuntu.me001]]</nowiki> showing diff
* Multisearch plugin: <nowiki>[[http://people.canonical.com/~asac/tmp/multisearch.tgz|multisearch.tgz source code]]</nowiki> (full plugin source, rather than diff)
* Blog update: <nowiki>[[http://www.asoftsite.org/s9y/archives/162-What-is-this-Multisearch-thing-in-my-Firefox-about.html|What is this "Multisearch" thing in my Firefox about?]]</nowiki> ("official annoucement")

=== Patches ===
There are currently four ways that Firefox browser searches are forwarded to Google; 

{| class="wikitable"
|-
| '''Input area'''
| '''Upstream Mozilla'''
| '''Ubuntu 9.10 alpha'''*
|-
| URL bar
| sourceid=navclient
| cx=partner-pub-2070091971271392:''getzo5-xcfi''
|-
| Search box
| cx=firefox/cx=firefox-a
| cx=partner-pub-2070091971271392:''hsw1kx-3zxg''
|-
| Default page
| 
| <nowiki>[[http://start.ubuntu.com/9.10/|cx=partner-pub-2070091971271392:]]</nowiki>''6ra8wy-1zdk''
|-
| New (blank) tab
| n/a
| cx=partner-pub-2070091971271392:''jhy8zj-qv39'' *
|}

Mozilla's partner IDs are "firefox" and "firefox-a";  Canonical's is "partner-pub-2070091971271392"... the "random" numbers after the colon (':') allow the source of the query (the "channel")to be attributed to one of the four search inputs.

* (*In the case of the experimental/statistics blank tab, the page is loaded locally, but the favicon is still fetched from <nowiki>[[http://start.ubuntu.com/favicon.ico]]</nowiki>).

==== Versions ====
The Multisearch statistics gathering plugin has only been added to the Firefox-'''3.0''' package.  Because of the way that plugins are shared between Firefox browser versions, it '''will''' also appear ''in'' Firefox-3.5, ''if you also'' have the Firefox-3.0 browser installed.

* ''Confirmed, I just installed firefox-3.5 package on a clean and up to date Karmic install, and multisearch extension is active, and the expected cse behaviour is observed'' --AlanPope

==== Removal ====
The statistics gathering exercise was started at the end of July 2009.   The numbers coming in were checked once shorty after deployment (to confirm that it was working), but will not be analysed until the statistics gathering-code has been disabled/removed.

The multisearch plugin will ''not'' exist in its current form in the final Ubuntu 9.10 release.  What to do next, or for Ubuntu 9.10 itself will be reviewed after the the Alpha 4 milestone has been released.

If the meantime, if helping to testing the Alpha 3+4 (and helping to improve Ubuntu) is getting in the way of '''your''' daily workflow, we're sorry.  It was not intended;  you can disable the temporary plugin by going to:

* Firefox->Tools->Add-ons->Extensions->Select 'Multisearch'->Disable. Restart Firefox.

'''Note:''' This will disable the extension, so new tabs will no longer have the new search, but will instead be blank. Disabling the extension will '''not''' reset the default browser home page. To change the home page go to:-

* Edit->Preferences->Main. Specify a URL or use the shortcut buttons to use an existing tab or tabs. Click Close.

==== Bugs ====
A number of bugs were filed that the use of the the Google Custom Search Edition (CSE) page rather than the default Google page had introduced loss of functionality.  For the moment, (Paul Sladen) has duped all of these to the same bug report, as they are all caused by the same root cause---the introduction of CSE---and are probably only fixable by avoiding the use of CSE.

Please add the "multisearch" tag to any bugs you find.  When the main bug is closed, the dups will be checked individually and any not solved de-duped.

===== CSE =====
In the case of purely wanting result statistics, CSE is not really the best tool for the job.  It is sub-optimal because of various bits of "normal" Google functionality are removed.  One reason for Multisearch being an ''experiment'' has been to get a detailed list of issues.

An example of a ''correct'' use of Google CSE is to restrict search results to a sub-set of pages;  for instance this example by Dustin to narrow results down to Ubuntu Developer documentation:

* http://people.canonical.com/~kirkland/search.html

=== Longer-term ===
The deployed research experiment is about getting some automated feedback on how people use the various browser functions;  this may lead into work that can try to reduce the time spent when searching (eg. going straight from a highlighted address, to map directions).

Mozilla have been working (and funding) initiatives aimed at this:

* <nowiki>[[http://blog.mozilla.com/blog/2008/04/21/a-little-something-awesome-about-firefox-3/|AwesomeBar]]</nowiki>
* <nowiki>[[http://labs.mozilla.com/2009/03/new-tab-page-proposed-design-principles-and-prototype/|New Tab page]]</nowiki>

Rather than aiming duplicate effort, the time and effort spent by Ubuntu users (and developers) should help feed into this process.  As it stands, the current Ubuntu multisearch code needs more work:

## Awesome''''''Bar does not have I'm feeling lucky support
## chrome changes the Google searchplugin
## New Tab is not configurable

In the process of making usability improvements, there may also be a way to get adverts added...

==== Revenue ====
Ubuntu is free (no money) aswell as Free (to modify), and it takes developers.  If a way can be found for Ubuntu users to support Ubuntu via adverts on the default Google results page, then that means '''more Ubuntu talented developers can be funded''' to work on Ubuntu and upstream projects.

There are probably three possibilities:

## Arrange "special page" with Google (best outcome, equivalent to upstream Mozilla arrangement)
## Try to make the CSE page look equivalent to the "normal" Google results page.
## Drop CSE all together and work on other stuff.

The first would be ideal.  In the case of the second options, there is a trade-off between seeing which options can be mitigated (if possible).  The trade-off between that and the third option (walking away) is that less future developer time to make other improvements may be available.

As always, ideas are welcomed, both via the bug tracker, and at #ubuntu-mozillateam on Freenode;

* https://bugs.launchpad.net/ubuntu/+source/firefox-3.0/+filebug

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Makedumpfile SRU Exception ==

This document describes the policy for introducing new upstream releases of makedumpfile into supported Ubuntu releases, including LTS.

=== About Makedumpfile ===
makedumpfile creates a system memory dump file by compressing dumpdata and by excluding unnecessary pages for posterior analysis. It is used by default by kdump-tools, Ubuntu's facility for recovering crash dump artifacts after a kernel crash.

This tool is critical for supporting Ubuntu Pro users, distro partners, and the general Ubuntu community. It relies on kernel interfaces that can change between versions, so it often breaks with the release of newer kernels (e.g. HWE kernels). Upstream makes great effort to preserve backwards compatibility, so it is safer to keep the tool updated to the latest necessary version for all the supported releases, rather than to SRU individual patches. This will also ensure LTS releases have a modern functioning crash dump ecosystem, supporting new architectural kernel facilities and compression algorithms.

* <nowiki>[[https://github.com/makedumpfile/makedumpfile|Project page]]</nowiki>
* <nowiki>[[https://github.com/makedumpfile/makedumpfile/wiki|Wiki]]</nowiki>
* <nowiki>[[http://lists.infradead.org/pipermail/kexec/|Kexec mailing list archives]]</nowiki>

=== SRU Process ===
For every target release, the proposed packages should be tested as follows:

1. Configure <nowiki>[[https://ubuntu.com/server/docs/kernel-crash-dump|Linux Crash Dump]]</nowiki> on the test system.
2. Trigger a crash and make sure the dump and dmesg files are created correctly.
<pre>
### echo 1 > /proc/sys/kernel/sysrq
### echo c > /proc/sysrq-trigger
</pre>
1.#3 After the reboot, verify that the directory `/var/crash/<timestamp>` exists, with the contents: 
<pre>
     dmesg.<timestamp>
     dump.<timestamp>
</pre>

Testing makedumpfile from a crash kernel context is strongly preferred, as this covers the day-to-day usage of the tool. In case there are any restrictions for that approach, makedumpfile can be ran against `/proc/kcore` from a regular "live" kernel with proper justification, subject to approval from a member of the SRU team.

The above procedure '''must''' be completed for both GA and HWE kernels, to ensure backward and forward compatibility. Additionally, x86_64 and ARM64 should be considered mandatory; other supported Ubuntu architectures are desired but left at the discretion of the SRU requester.

=== Requesting the SRU ===
The SRU should be requested as usual (StableReleaseUpdates), with an additional note about having completed the steps documented in the “SRU Process” section.
=== Past SRUs ===
Links to past SRUs using this process are below:

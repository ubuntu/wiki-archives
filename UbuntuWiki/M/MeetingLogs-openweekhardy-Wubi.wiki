{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== Ubuntu Open Week - Wubi - Agostino Russo - Fri, May 2, 2008 ===
<pre>
=== jcastro changed the topic of #ubuntu-classroom to: Ubuntu Open Week | Information and Logs: https://wiki.ubuntu.com/UbuntuOpenWeek | How to ask questions: https://wiki.ubuntu.com/UbuntuOpenWeek/Rules | Ask questions in #ubuntu-classroom-chat, prefaced with "QUESTION:" |See https://wiki.ubuntu.com/UbuntuOpenWeek/JoiningIn to filter out channel noise | "Wubi" - Agostino Russo

[20:54] <jcastro> Ok, about 5 minutes until "Wubi" with Agostino Russo

[21:00] <jcastro> ok xivulon, take it away!

[21:00] <xivulon> thanks jcastro

[21:00] <xivulon> Hi all,

[21:01] <xivulon> I am Agostino Russo,  some of you may know me as ago

[21:01] <xivulon> If it is ok, I would like to start with an introduction to Wubi, a few 
insights, some explanation on how it works and how to contribute.

[21:01] <xivulon> Then we move to Q&A

[21:01] <xivulon> To get some basic information on Wubi you might also be interested in these 
2 links:

[21:01] <xivulon> http://wubi-installer.org/faq.php

[21:01] <xivulon> http://wiki.ubuntu.com/WubiGuide

[21:02] <xivulon> As you may know, Wubi allows users to install Ubuntu into a file within a 
Windows filesystem.

[21:02] <xivulon> The aim driving the project has always been to make Wubi one of the easiest 
OS installers ever

[21:02] <xivulon> in order to expand the user base by reaching out to new users

[21:03] <xivulon> and slash urban legends about Linux "difficulty"

[21:03] <xivulon> There might be some road to cover still, but I think we are on track :)

[21:03] <xivulon> And the community has been Key and I would like to spend a couple of words 
on that!

[21:03] <xivulon> Wubi itself in fact was born as an Ubuntu community project.

[21:04] <xivulon> The original idea came from my involvement in helping users on the forum, 
and observing common stumbling blocks, such as ISO burning, repartitioning, and concerns 
about bootloader changes.

[21:04] <xivulon> And it grew from there

[21:04] <xivulon> (see http://wubi-installer.org/faq.php#development for the rest of the 
story and a full list of credits)

[21:05] <xivulon> If you visit the wubi forum http://ubuntuforums.org/forumdisplay.php?f=234 
you will notice that myself  and the other developers have answered most user requests.

[21:05] <xivulon> Keeping a very direct link with the users is how we improve Wubi in a 
direction that is close to user needs.

[21:05] <xivulon> This is true for all of Ubuntu, whose community truly rocks!

[21:05] <xivulon> and Wubi is just one of the many examples of what we can do together!

[21:06] <xivulon> Hence I would like to thank all the users that helped testing and 
contributed to Wubi.

[21:06] <xivulon> Thank YOU!

[21:06] <xivulon> And of course Wubi is only the tip of the iceberg.

[21:07] <xivulon> If an installation goes smoothly, if your hardware is well detected and 
works out of the box, and your desktop experience is great and cool,

[21:07] <xivulon> there is tons of work behind the scenes well outside of the Wubi project 
boundaries.

[21:08] <xivulon> What makes up the user experience is not just wubi, it is the effort of 
thousands of developers, from the devs that contributed to the Debian installer and Ubiquity, 
to the upstream developers, to all the kernel hackers!

[21:08] <xivulon> (Incidentally that works the other way too: if something does not work, it 
is not always Wubi fault... )

[21:08] <xivulon> :)

[21:08] <xivulon> How does Wubi work?

[21:08] <xivulon> Many think it is a virtual machine or similar

[21:08] <xivulon> It is not

[21:09] <xivulon> It is a 100% real installation

[21:09] <xivulon> everything runs on real iron, except for some trickery used for the hard 
disk access

[21:09] <xivulon> If you wish, you can think of Wubi as a virtual machine that only 
virtualises the hard disk, while keeping everything else native.

[21:10] <xivulon> This for instance allows you to get full 3D acceleration and enjoy the 
wonderful Compiz desktop effects.

[21:10] <xivulon> And this is why a dual boot is required.

[21:10] <xivulon> Also some people are confused by the fact that Wubi "requires" Windows.

[21:11] <xivulon> Of course the front-end would need Windows to run, but once installed, Wubi 
requires only the Windows filesystem

[21:11] <xivulon> Do you know what happens to a Wubi installation if you delete all of 
C:\Windows?

[21:11] <xivulon> Absolutely

[21:11] <xivulon> nothing

[21:11] <xivulon> You can still boot and use Ubuntu.

[21:11] <xivulon> Wubi uses 4 main technologies:

[21:12] <xivulon> 1) It beverages the ability of a Linux kernel to access a file as if it was 
a real device (loop mounts).

[21:12] <xivulon> Most of you might have used that when mounting ISO files.

[21:13] <xivulon> 2) It uses grub4dos, which is a special version of grub that can run on a 
Windows filesystem.

[21:13] <xivulon> Grub4Dos does not actually replace the Windows bootloader, we keep the 
Windows bootloader and add an entry so that it will "pass the ball" to grub4dos, which in 
turn can launch a Linux kernel and initrd

[21:13] <xivulon> 3) ntfs-3g which is the Linux user-space drivers that allows r/w access to 
ntfs.

[21:14] <xivulon> Without that it would not be possible to perform write operations to the 
virtual disks in the ntfs filesystem

[21:15] <xivulon> 4) On the Linux side, wubi uses an unattended installation techniques known 
as "preseeding", courtesy of the Debian-Installer and Ubiquity that then read such 
instructions and deliver you the finished product.

[21:16] <xivulon> If you are interested about preseeding Evan Dandrea gave a talk on the 
subject https://wiki.ubuntu.com/MeetingLogs/openweekhardy/PreseedingUbiquity

[21:16] <xivulon> Also on the Linux side there were quite a few changes that were required 
for Ubuntu to be able to target a loopfile, and be able to boot and reboot off a loopfile.

[21:17] <xivulon> Such changes were originally in the Lupin project, but have now been 
integrated upstream within Ubuntu, thanks to the efforts of myself, Colin J Watson, and Evan 
Dandrea.

[21:17] <xivulon> The changes involved packages such as grub-installer, grub, sysvinit 
scripts, initamfs-tools, partman-auto-loop and a few others.

[21:18] <xivulon> As it stands today the use of a loopfile instead of a real hard-disk is the 
only difference between a Wubi installation and an installation to a dedicated partition.

[21:18] <xivulon> This is not to be taken lightly though

[21:18] <xivulon> And I would like to expand on the subject a bit:

[21:19] <xivulon> One implication is lower I/O performance because of the extra overhead (see 
also http://lkml.org/lkml/2008/1/9/50).

[21:20] <xivulon> Your performance will also depend on the state of the host filesystem, so 
if fat/ntfs is very fragmented the disk I/O performance of Ubuntu will deteriorate.

[21:20] <xivulon> In normal circumstances you should not expect very noticeable changes, but 
there are scenarios where the performance hit might be more evident.

[21:20] <xivulon> Another related issue is that you have a nested filesystem, this makes the 
configuration less robust, particularly to power outages.

[21:21] <xivulon> This is because data loss in the host filesystem can result in journal loss 
in the nested filesystem.

[21:21] <xivulon> While we have taken some measure to minimize the risks, it is unlikely that 
we can eliminate them altogether.

[21:22] <xivulon> Unless we can achieve native fs installations...

[21:22] <xivulon> Finally the swap device is also a file, and hibernation does not work in 
such circumstances.

[21:22] <xivulon> Because of the above, as a long term installation I always suggest to go 
for the "good old way" and install to a dedicated partition.

[21:23] <xivulon> Wubi is a great way to take Ubuntu for a ride.

[21:23] <xivulon> But if you know about ISO burning and partitioning and/or like Ubuntu and 
want to use it on a permanent basis, a full installation is the way to go.

[21:24] <xivulon> Of course we will provide ways to migrate a Wubi installation to a 
dedicated partition.

[21:24] <xivulon> At the moment projects such as LVPM do not support 8.04, but you can expect 
the situation to improve rapidly.

[21:24] <xivulon> How smooth is Wubi 8.04?

[21:25] <xivulon> I think it is a major leap forward from previous versions and initial 
feedback is very positive.

[21:25] <xivulon> There were a few bugs that emerged late in the process (not all of them 
strictly related to Wubi),

[21:25] <xivulon> but they are being ironed out and you can expect the 8.04.1 release in July 
to be even smoother

[21:25] <xivulon> Contributing to Wubi:

[21:26] <xivulon> Software system are affected by network externalities (check wikipedia).

[21:26] <xivulon> In short: the more we are, the better it is for all of us!

[21:26] <xivulon> As mentioned, the motivation behind Wubi was to help bring Ubuntu/Linux to 
less experienced users and expand the user base.

[21:27] <xivulon> But, if people do not know about Wubi/Ubuntu to begin with, that can hardly 
be achieved.

[21:27] <xivulon> Spreading the word out is a big help!!!

[21:27] <xivulon> In this regard, after the point release in July, I would like to start a 
Wubi banner campaign :)

[21:27] <xivulon> do join in!

[21:27] <xivulon> Of course if you know how to code, make yourself at home:

[21:28] <xivulon> http://wiki.ubuntu.com/InstallerDevelopment

[21:28] <xivulon> https://launchpad.net/wubi

[21:28] <xivulon> If you want to help translating Wubi, see

[21:28] <xivulon> https://translations.launchpad.net/wubi

[21:28] <xivulon> If you want to add Wubi support to your very own distro, absolutely 
great!!!

[21:28] <xivulon> (any debian devs around?)

[21:29] <xivulon> Wubi is GPL

[21:29] <xivulon> v2

[21:29] <xivulon> but I am flexible...

[21:29] <xivulon> In fact there is a customization section in the 
https://wiki.ubuntu.com/WubiGuide that covers the topic.

[21:29] <xivulon> Also we do ship testing builds, with new and experimental features and/or 
tentative bug fixes.

[21:29] <xivulon> Testing them out and reporting back is extremely helpful.

[21:30] <xivulon> Such builds are usually available in 
http://wubi-installer.org/devel/minefield

[21:30] <xivulon> And if you are a user and things do not work well enogh for you, do 
something about it!

[21:30] <xivulon> report your bug!

[21:30] <xivulon> Many more points if you can provide the relevant logs 
(https://wiki.ubuntu.com/WubiGuide#head-8823bb81b6e0ecd10006d3d226c1f7e8f6f705b1)

[21:31] <xivulon> and if you can double-check first whether your issues have already been 
addressed in the past

[21:31] <xivulon> relevant links are:

[21:31] <xivulon> https://wiki.ubuntu.com/WubiGuide

[21:31] <xivulon> http://ubuntuforums.org/search.php?f=234

[21:31] <xivulon> https://bugs.launchpad.net/wubi

[21:32] <xivulon> Now Q&A

[21:32] <xivulon> If you are still alive, shoot!

[21:32] <evand> ok, I'm going to start pasting questions

[21:32] <evand> just say next when you're ready for the next one

[21:32] <evand> < Bagnaj97> QUESTION: I've noticed on my (non-wubi) installation that ntfs-3g 
is quite cpu intensive. Does this  mean installing on fat32 gives a faster system as the 
driver is in the kernel?

[21:32] <xivulon> the last performance stats I saw, ranked ntfs-3g better than fat32 in 
several tests

[21:33] <xivulon> you still have same chunks of overhead (loop, ext-3...)

[21:33] <xivulon> I would stick to ntfs though

[21:34] <xivulon> do not have the link handy on the performance tests unfortunately

[21:34] <xivulon> next

[21:35] <evand>  < artir> QUESTION: Why is ubuntu 64 bits installed by Wubi instead of 
32(which gives less problems to new users)

[21:35] <xivulon> I do think that 64bit is advanced enough, and far better than it used to 
be.

[21:36] <xivulon> Spreading also helps to make it better even faster, by gathering relevant 
user feedback

[21:36] <xivulon> I use amd64 myself for instance

[21:36] <xivulon> It is still possible to select 32 bit as default

[21:37] <xivulon> not too obvious but if you care enough about 32/64 bit installation,

[21:37] <xivulon> you can probably find your way through the FAQ :)

[21:37] <xivulon> <evand> Flash, Wine, etc all work on 64bit now

[21:37] <xivulon> next

[21:37] <evand> < _MMA_> QUESTION: Ubuntu Studio support wasn't included because of the 
performance overhead of the loopback  mounted filesystem. Are their any plans to have a 
different install method to reduce the overhead and thus  maybe support for Ubuntu Studio?

[21:38] <xivulon> that was one of the reasons

[21:38] <xivulon> of course wubi might not be the best option for heavy video editing

[21:38] <xivulon> another reason is that wubi requires a Ubiquity based installer

[21:39] <xivulon> and on CD

[21:39] <xivulon> for instance Edubuntu was not included because there was no Live CD ISO

[21:40] <xivulon> you can still get Ubuntu-Studio (and Edubuntu) after installing via Wubi

[21:40] <xivulon> using synaptic and selecting the appropriate packages

[21:40] <xivulon> as for the future

[21:40] <xivulon> we will probably extend support to the alternate ISO (which was the 
original installation method in 7.04)

[21:41] <xivulon> filesystem efficiency should improve somewhat

[21:41] <xivulon> via kernel patches

[21:42] <xivulon> such as http://lkml.org/lkml/2008/1/9/50

[21:42] <xivulon> and farther back into the future, native installations might be supported 
(at least for ntfs)

[21:42] <xivulon> so that there will be no need for loopfiles and nested filesystems

[21:43] <xivulon> next

[21:43] <evand> < SgtMuffins> QUESTION: What are you "few bugs" you mentioned that were being 
ironed out?

[21:43] <evand> (you might want to touch on some of the more important ones, like the m-a 
madness)

[21:43] <evand> or you can just pass and say next :)

[21:43] <xivulon> You can check bugs.launchpad.net/wubi for a full list

[21:43] <xivulon> but the main ones were the following

[21:44] <xivulon> 1) we discovered late in the process that vista with latest patches will 
make wubi jameonce the CD is ejected

[21:44] <xivulon> fixing that would have meant postponing the release. A fix is already 
available.

[21:44] <evand> (by late, you mean the day of the release) :)

[21:45] <xivulon> the same morning in fact :)

[21:45] <xivulon> 2) we found out late also that when accented chars are used in the OS name, 
the installer will jam

[21:46] <xivulon> French users were not too happy... But that too has been fixed

[21:47] <xivulon> 3) Non really a wubi bugs, but an old issue due to 
https://bugs.launchpad.net/ubuntu/+source/grub/+bug/8497

[21:47] <xivulon> a proper fix is very difficult and it affects Ubuntu too

[21:47] <xivulon> but in a recent brainstorm it occurred to us that it can be fixed in the 
case of Wubi

[21:47] <xivulon> Those are the main reasons for complaints at the moment

[21:48] <xivulon> Then of course Wubi is no magic wand

[21:48] <xivulon> Any issue that affects Ubuntu will also affect Wubi

[21:48] <xivulon> If you have ACPI problems in Ubuntu, the same will hold for Wubi

[21:48] <xivulon> If you have video problems in Ubuntu, the same will hold for Wubi

[21:49] <xivulon> in such  case it is important to report the issues, so that they can be 
properly addressed

[21:49] <xivulon> next

[21:49] <evand> < Waistless> QUESTION: What other debian or non-debian based distributions 
could be maintained by Wubi, provided  the relevant projects provided support?

[21:50] <xivulon> As mentioned Wubi requires some upstream changes on the Linux side

[21:50] <xivulon> What used to be the Lupin project.

[21:50] <xivulon> In order to be able to install/boot/reboot off a loopfile

[21:50] <xivulon> Such changes are now in Ubuntu.

[21:51] <xivulon> So most Ubuntu derivatives should work with very little change

[21:51] <xivulon> Provided a Live CD ISO is available (Ubiquity)

[21:51] <xivulon> D-I (alternate installer) will be supported in next release (hopefully)

[21:52] <xivulon> That should open the way to all Debian derivatives

[21:52] <xivulon> Provided the patches can be merged upstream

[21:53] <xivulon> Other distros that do not use preseeding or grub, might require some 
further changes

[21:53] <xivulon> See also 
https://wiki.ubuntu.com/WubiGuide#head-46a259e526b3dbc67c622a327cb8ff2e243ea52b

[21:53] <xivulon> next

[21:54] <evand> that's it!

[21:54] <xivulon> great

[21:54] <xivulon> Thank you all then!

[21:54] <jcastro> Thanks so much Agostino!

[21:54] <evand> Thanks Ago!

[21:54] <xivulon> You are most welcome
</pre>

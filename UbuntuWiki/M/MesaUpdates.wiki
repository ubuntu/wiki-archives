{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Background ==

Backporting the Mesa stack from an interim release to the latest LTS does fall under the HWE exception, but it makes sense to document the verification process so that it doesn't need to be duplicated on the SRU bug.

The stack consists of mesa and it's dependencies, usually:

* libdrm
* llvm-toolchain-NN
* spirv-llvm-translator-NN
* directx-headers

Sometimes we might need to backport a newer meson as a separate, versioned source package, like src:meson-1.5 on noble.

The main reason to do this all is to provide support for newer GPU series in the LTS.

== Verification ==

We want to cover at least 2-3 different, widely used and already previously supported GPU generations from both AMD and Intel which are supported by this release, as those are the ones that cover most bases; nvidia users tend to switch to the NVIDIA driver after installation. No need to test ancient GPU's supported by mesa-amber. And best to focus on the newer generations (~5y and newer) as the older ones are less likely to break at this point.

* AMD: Vega, Navi1x (RX5000*), Navi2x (RX6000*), Navi3x (RX7000*)

* Intel: gen9 (SKL/APL/KBL/CFL/WHL/CML), gen11 (ICL), gen12 (TGL/ADL/RKL/RPL/DG2), Xe* (LNL, ARL, BMG)

Install the new packages and run some tests:

* check that the desktop is still using hw acceleration and hasn't fallen back to swrast/llvmpipe

* run freely available benchmarks that torture the GPU (Unigine Heaven/Valley/Superposition)

* run some games from Steam if possible

and in each case check that there is no gfx corruption happening or worse.

Note that upstream releases have already been tested for OpenGL and Vulkan conformance by upstream/vendor CI.

== SRU Bug Template ==

Title: Backport packages for NN.NN.N HWE stack

[Impact]

The graphics HWE stack from $release needs to be backported for NN.NN.N

<list packages and their major changes and reason for being included>

package

- foo

[Test case]

The testing will be carried out as detailed on the https://wiki.ubuntu.com/MesaUpdates page.

[Where things could go wrong]

This is a major update of Mesa, there could be regressions but we'll try to catch any with testing. And since it shares bugs with origin of the backport, we'd already know if there are serious issues.

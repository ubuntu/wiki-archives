{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== Requirements ===

# ''Availability:'' <nowiki>[[http://archive.ubuntu.com/ubuntu/pool/universe/d/dnsmasq]]</nowiki>; available for all supported archictecutres
# ''Rationale:''.
** Dependency of libvirt-bin.
0. ''Security:''
** No current <nowiki>[[http://cve.mitre.org/cgi-bin/cvekey.cgi?keyword=dnsmasq|CVE]]</nowiki> entries.
** No current <nowiki>[[http://secunia.com/search/?search=dnsmasq|Secunia]]</nowiki> history.
** No binaries running as root or suid/sgid.  Runs the dnsmaaq daemon as the dnsmasq user.
** Due to the nature of this package it listens for incoming and outgoing DNS requests on port 53.
** No source code review taken.
** I (SorenHansen) believe the software is in use in many embedded environments (OpenWRT, for instance), so is widely deployed, and quite well tested.
0. ''Quality assurance:''
** Due to the nature of the package it requires manual configuration.
** No debconf questions are asked.
** <nowiki>[[http://bugs.debian.org/src:dnsmasq|Debian bugs]]</nowiki> nothing critical.
** <nowiki>[[http://packages.qa.debian.org/d/dnsmasq.html|Maintenance in Debian]]</nowiki> is vigorous.
** <nowiki>[[http://www.thekelleys.org.uk/dnsmasq/|Upstream]]</nowiki> is vigorous.
** No upstream bug tracker.
** No special hardware is required.
0. ''Standards compliance:'' 
** <nowiki>[[http://www.pathname.com/fhs/|FHS]]</nowiki>, <nowiki>[[http://www.de.debian.org/doc/debian-policy/|Debian Policy]]</nowiki> compliant
** <nowiki>[[http://www.netfort.gr.jp/~dancer/column/libpkg-guide/libpkg-guide.html|Debian library packaging guide]]</nowiki> standards compliant
** dnsmasq does not use debhelper. Nevertheless, the packaging is very straightforward.
0. ''Dependencies:''
** gettext libdbus-1-dev gawk netbase adduser
** All in main.

dnsmasq was designed to provide dns and dhcp services to a smallish lan in a network topology with a clear "upstream" sense as is exactly the case for virtual networks in libvirt's world.

Maybe it's easier to explain what would need to be done to not use dnsmasq, but only what we have in main now:

* Both dhcp3-server and bind9 would need to be configured in order to fully replace dnsmasq.
* Every application that needs dnsmasq would need to be patched to write out configuration files and start an instance of both dhcp3-server and bind9 instead of dnsmasq.
* Something would need to monitor resolv.conf for changes, poke those into bind9 and have it reload its configuration.
* Something would need to extract information from the dhcp leases file and poke it into bind's database, and have it reload its configuration.

=== Reviewers ===

MIR bug: <nowiki>[[https://bugs.edge.launchpad.net/ubuntu/+source/dnsmasq/+bug/190905]]</nowiki>

''ChuckShort''

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* Launchpad entry: UbuntuSpec:software-library
* Created:  by MatthewPaulThomas

Ubuntu Software Center is a utility for installing, purchasing, and removing software in Ubuntu, a major part of Ubuntu’s overall <nowiki>[[SoftwareHandling|software handling]]</nowiki>. This document is a living specification, describing for designers, developers, testers, and potential contributors how USC is supposed to work. The next version will be 5.0, featuring a new layout, more ways of featuring interesting software, and any features you contribute. USC is implemented using Python, <nowiki>[[https://launchpad.net/aptdaemon|Aptdaemon]]</nowiki>, and GTK, with a QML interface also in development. The project is <nowiki>[[https://launchpad.net/software-center|hosted in Launchpad]]</nowiki>.

=== How you can help ===

<nowiki>[[http://www.ubuntu.com/community/ubuntuvalues|We welcome useful contributions from anyone]]</nowiki>, regardless of age, gender, or experience. If your expertise is in one of these areas, search through this specification for the color-coded sections relevant to you:

Otherwise, if you are a '''Python programmer''', <nowiki>[[https://code.launchpad.net/software-center|get the latest code]]</nowiki> and try <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/software-center|fixing existing bugs]]</nowiki>, or <nowiki>[[#future|implementing something for version 5.0]]</nowiki>. When you have something ready, <nowiki>[[https://help.launchpad.net/Code/Review|propose it for merging]]</nowiki>.

If you are a '''tester''', look through this specification and compare the behavior described, sentence by sentence, to the behavior you see in <nowiki>[[https://code.launchpad.net/~software-store-developers/software-center/trunk|the trunk version]]</nowiki>. If something has been implemented but behaves differently from how the specification describes it, <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/software-center|report a bug]]</nowiki> if it hasn’t been reported already.

=== Rationale ===

Early versions of Ubuntu shipped many graphical utilities for installing and removing software: Add/Remove Applications, Synaptic Package Manager, Update Manager, Software Sources, apturl, GDebi, and Computer Janitor. This redundancy increased the amount of interface people had to learn, wasted space on the Ubuntu CD, fragmented development effort, and made people more likely to think that unsanctioned software installation methods were safe. Ubuntu Software Center replaces Add/Remove Applications, Synaptic, apturl, and GDebi, and acts as the main entry point to Software Sources.

Beyond providing a central point for installing and removing software, USC plays a small but important part in encouraging application development on Ubuntu, by providing application developers with a prominent way to offer their software for installation.

=== Ubuntu Software Center 5.0 ===

* Packages affected: `software-center`

==== Branding ====

The program itself, as well as application launchers, help pages, and marketing materials, should consistently use the term “Ubuntu Software Center” (''not'' just “Software Center”). This name should be localized, for example as “Centre” in Commonwealth countries. It is not necessary to translate it word-for-word, but:
* Translations should include the word “Ubuntu”, to reduce confusion about whether some software is available in ''Ubuntu'' Software Center, as opposed to being available in <nowiki>[[http://packages.qa.debian.org/s/software-center.html|Debian Software Center]]</nowiki> or any other OS using the Center code.
* Translations should not use a word that means “applications” in particular rather than “software” in general, because as of version 2, the Center allows installation of non-application software such as fonts and themes.

The package name and executable name should both be `software-center`.

The application Comment should be “Lets you choose from thousands of applications available for Ubuntu” (without a period), and the summary in the About window should be “Lets you choose from thousands of applications available for Ubuntu.” (with a period).

The package Summary should be “Utility for browsing, installing, and removing applications” (without a period).

The package Description should be:
{| class="wikitable"
|-
| Ubuntu Software Center lets you browse and install thousands of free and paid applications and other software available for Ubuntu. You can view available software by category, or search quickly by name or description. You can also examine the software already installed, and remove items you no longer need.<<BR>><<BR>>To install, purchase, or remove software using USC, you need administrator access on the computer.
|}

The application icon should be of an attractive shopping bag with handles, such as you might get from a high-class department store.

{| class="wikitable"
|-
| <nowiki>[[File:softwarestore.svg]]</nowiki>
| <:><nowiki>[[File:icon-v2.jpg]]</nowiki>
|-
| <:>Versions 1~4
| <:>Version 5
|}

==== Main window ====

<nowiki>[[File:window-layout.png]]</nowiki>

The main window should be a normal, resizable window containing a '''navigation bar''' and a '''main pane'''. Initially, the window should be centered on the main display, but its size and position should persist between sessions.

The navigation bar should contain:

 1. Back and Forward buttons.

 1. Tab-like buttons for navigating between sections. Exactly one should be selected at any time:

  a. <nowiki>[[#available|Available software]]</nowiki>, defaulting to “All Software”, with a menubutton for all <nowiki>[[#channels|available software sources]]</nowiki>.

  a. The individual available software source you are currently looking at, if any. (Before this item appears, all those on the trailing side should slide out to make room, and after it disappears they should slide back.)

  <nowiki>[[File:navigation-bar-transitions.png]]</nowiki>

  a. <nowiki>[[#installed|Installed software]]</nowiki>, defaulting to “All Installed” (appearing as “Installed” in the navigation bar), with a menubutton for all <nowiki>[[#channels|installed software sources]]</nowiki>.

  a. The individual installed software source you are currently looking at, if any. (Before this item appears, all those on the trailing side should slide out to make room, and after it disappears they should slide back.)

  a. “<nowiki>[[#history|History]]</nowiki>”

  a. (“Popular”, “<nowiki>[[#updates|Updates]]</nowiki>”, and/or “Account” sections may be added later.)

  a. “<nowiki>[[progress|Progress]]</nowiki>”, appearing when tasks are in progress or have just completed.

 1. <nowiki>[[#search-field|The search field]]</nowiki>, visible for any <nowiki>[[#searching|searchable]]</nowiki> screen.

'''Test case:''' (sc-002) Launch USC. From the “All Software” menu, choose “Canonical Partners”. All following items in the navigation bar should slide to the right, making room for a “Canonical Partners” item, highlighted, between “All Software” and “Installed”. Next, from the “Installed” menu choose “For Purchase”. The “Canonical Partners” item should disappear, and the “Installed” item should slide to the left, making room for a “For Purchase” item, highlighted, between “Installed” and “History”. Click Back; the “For Purchase” item should disappear from the navigation bar, and the “Canonical Partners” item should reappear, highlighted once more.

===== Navigation =====

====== Navigation in general ======

Whenever USC navigates to a screen, whether directly (with mouse or keyboard) or indirectly (''e.g.'' when it first launches), it should:
# immediately reveal (if necessary) and highlight the appropriate item in the navigation bar, if it has changed;
# begin displaying the corresponding screen in the main pane;
# if the corresponding screen has not displayed within 1 second, display a blank screen with a horizontally and vertically centered spinner, until the screen is available.

 '''Test case:''' (sc-003) On a slow computer, choose “View” > “All Software”, then “Provided by Ubuntu” on a slow computer. The spinner screen should appear until the full list is available.

====== Section navigation ======

The '''section navigation commands''' — “All Software”, “Installed”, and so on — should always navigate to the ''top level'' of that section. (The alternative would have been to remember your exact position in each section, as in previous versions of USC, but that made it harder to understand how to navigate up to the top level in each. Instead, we rely on Back and Forward navigation to preserve state.) '''Test case:''' (sc-006) In the “All Software” section, navigate to Abi``Word. In the navigation bar click on “Installed”, then on “All Software”. USC should return to the home screen.

====== Back/Forward navigation ======

The '''navigation history''' (not to be confused with USC’s “History” section) is a browser-like history of which screens USC has navigated to, either directly (for example, by clicking a link or using the navigation bar) or indirectly (for example, by following an `apt:` link), since it opened. Unlike previous versions of USC, it should include screens from any section.

The '''Back and Forward commands''' should navigate through this navigation history, as with a Web browser: navigating using the history should not add items to it, and navigating without using the history should discard all forward items from the history. The Back command should be unavailable whenever no previous screens exist in the history, and the Forward command whenever no later screens exist in the history.

 '''Test case:''' (sc-007)
  1. Launch USC. In both the navigation bar and the menus, the Back and Forward commands should be unavailable.
  2. Choose “History”. The Back command should become available.
  3. Choose Back. USC should return to the home screen, Forward should become available, and Back should no longer be.
  4. Choose Forward. USC should return to the History screen, Back should become available, and Forward should no longer be.

Each item in the history should remember its scroll position, whether <nowiki>[[#software-list-view-disclosure|items hidden by default were shown]]</nowiki>, what software item was selected (if any), and what element was focused (if any). These attributes should persist if you return to the screen using Back/Forward navigation, but not if you navigate to the screen any other way.

If the search field was non-empty when you navigated to a separate screen, the search you had entered just before you navigated should be stored as its own history item. Intermediate searches should not be in the history.

Whenever a screen in the navigation history does not currently exist (for example, the “Progress” screen when no tasks are in progress, or the software item screen for an item that was uninstalled and doesn’t exist in any software source), the Back and Forward commands should skip over that screen in the history — and the commands should be unavailable if all previous or later screens, respectively, consist of screens of that sort.

 '''Test case:''' (sc-008)
  1. Launch USC. In Software Sources, add a new PPA. In USC, choose “All Software From Source” > that PPA. Back should become available.
  2. Choose Back. Back should become unavailable, and Forward should become available.
  3. In Software Sources, remove the PPA. Forward should no longer be available.
  4. In Software Sources, re-add the same PPA. Forward should become available once more.
  5. Choose Forward. USC should return to the screen for that PPA.

===== “All Software” section =====

The “All Software” section should present ''the union of'' {all software that is available, from any of the computer’s current software sources, plus any software source represented by a `X-AppInstall-Channel` attribute in `app-install-data`} ''and'', unlike previous versions of USC, {all software that is installed, regardless of whether it is installed from any of the computer’s current software sources}.

The section encompasses a <nowiki>[[#home|home screen]]</nowiki>, as well as screens for top-level search results, <nowiki>[[#category|individual categories]]</nowiki>, category search results, <nowiki>[[#subcategory|subcategories]]</nowiki>, subcategory search results, software sources and search results, and individual software items.

In the navigation bar, “All Software” should be represented by the USC icon itself. It may have <nowiki>[[#broken-catalog|an emblem overlaid for a broken software catalog]]</nowiki>.

Whenever you are in the “All Software” section, the “View” > “Software Maintained by Anyone” and “View” > “Software Maintained by Canonical” items should be sensitive. Changing the selection should determine whether all software or just Canonical-maintained software is are shown. The selection should persist regardless of which screen in the “All Software” section is being displayed.

Whenever a software item is selected — whether searching from the <nowiki>[[#home|home screen]]</nowiki>, in a <nowiki>[[#category|category]]</nowiki>, in a <nowiki>[[#subcategory|subcategory]]</nowiki>, or implicitly because you are at a <nowiki>[[#software-item-screen|software item screen]]</nowiki> itself:
* If it is an item that is not currently installed nor being installed, “File” > “Install” should be sensitive. Selecting it should <nowiki>[[#installing|install the selected item]]</nowiki>.
* If it is an item that is currently installed and not currently being removed, “File” > “Remove” should be sensitive. Selecting it should <nowiki>[[#removing|remove the selected item]]</nowiki>.

====== Home screen ======

{| class="wikitable"
|-
| <tablestyle="float:right;margin:0 0 1em 1em;" style="border:none;"><nowiki>[[File:home.png]]</nowiki>
|}

The home screen should be a <nowiki>[[#searching|searchable]]</nowiki> screen containing as many of these elements as have been implemented so far:
* <nowiki>[[#exhibits|exhibit banners]]</nowiki>
* <nowiki>[[#categories|categories]]</nowiki>
* <nowiki>[[#whats-new|“What’s New”]]</nowiki>
* “Recommended For You”
* “Latest Videos”
* <nowiki>[[#top-rated|“Top Rated”]]</nowiki>
* “Most Downloaded”
* “Give Your Feedback”
* a footer of the form “29 079 items available”.

''In future, “Top Rated” and “Most Downloaded” might move to a separate “Popular” screen, since they’ll be relatively static.''

Arrow keys should change focus between the selectable items in the home screen.

The “Categories” section of the home screen should list (without icons) <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> all categories, as defined and sorted under “<nowiki>[[#Genre|Genre]]</nowiki>”, which contain any items matching the current repositories and view options.

====== Exhibit banners ======

An '''exhibit''' is either a single item, or a collection of items on a theme, that is temporarily promoted at the top of the home screen. Exhibits are stored and transmitted as mini-HTML documents from the USC server.

Whenever the server provides exhibits for your Ubuntu version, and any of those exhibits are for — or are collections that contain any — items available with your current filters, the banner area on the home screen should show a carousel of those particular exhibits. When there are multiple applicable exhibits, the current one should fade into the next one after ten seconds. The carousel should pause whenever the USC window is not focused.

In any other case (for example, if there is no Internet connection, or there are no exhibits for the Ubuntu version you’re running), the banner area should show a fallback banner (included in the USC code) that links to the canned list of Featured applications.

Activating the banner for a single-item exhibit should navigate to the <nowiki>[[#software-item-screen|software item screen]]</nowiki> for that item. Activating the banner for a multi-item exhibit should navigate to a list view, with the appropriate heading, showing whichever items match your current filters.

''Future work: Switch from a list view to a tile view.''

====== “What’s New” ======

On the home screen, the “What’s New” area should use <nowiki>[[#tile|tiles]]</nowiki> to list, newest first, the applications that appeared most recently in any of your software channels, ''excluding items'' that you have already installed. (For this purpose, an “application” is any package containing a `.desktop` file.) The number of applications should be as many as fills the height of the “Categories” area next to it (or, if “Recommended For You” has been implemented, half the height).

<nowiki>[[File:whats-new.png]]</nowiki>

Choosing “More” in the home screen area should navigate to a separate “What’s New” screen that uses a <nowiki>[[#software-tile-view|software tile view]]</nowiki> to list, newest first, the 60 applications that appeared most recently in any of your software sources, ''regardless of'' whether they are installed.

====== “Top Rated” overall ======

An item’s '''dampened rating''' (DR) should be 3 plus the sum, for each possible number of stars (1, 2, 3, 4, and 5), of (that number of stars – 3) multiplied by the <nowiki>[[http://evanmiller.org/how-not-to-sort-by-average-rating.html|lower bound of the Wilson score confidence interval]]</nowiki> with a 90% confidence level for the proportion of ratings that had that number of stars.

For example:
{| class="wikitable"
|-
| ★☆☆☆☆
| ★★☆☆☆
| ★★★☆☆
| ★★★★☆
| ★★★★★
| DR
|-
| 0
| 0
| 0
| 0
| 0
| 3.0
|-
| 16
| 0
| 0
| 0
| 0
| 1.19
|-
| 8
| 0
| 0
| 0
| 0
| 1.34
|-
| 4
| 0
| 0
| 0
| 0
| 1.58
|-
| 2
| 0
| 0
| 0
| 0
| 1.90
|-
| 1
| 0
| 0
| 0
| 0
| 2.24
|-
| 0
| 1
| 0
| 0
| 0
| 2.62
|-
| 0
| 0
| 1
| 0
| 0
| 3.00
|-
| 0
| 0
| 0
| 1
| 0
| 3.38
|-
| 0
| 0
| 0
| 0
| 1
| 3.76
|-
| 0
| 0
| 0
| 0
| 2
| 4.10
|-
| 0
| 0
| 0
| 0
| 4
| 4.42
|-
| 0
| 0
| 0
| 0
| 8
| 4.66
|-
| 0
| 0
| 0
| 0
| 16
| 4.81
|}

Sorting items by “Top Rated” should sort them by their DR, so that (for example) an item with ten reviews, nine 5-star and one 4-star, is appropriately ranked higher than an item that has only two reviews, both 5-star.

On the home screen, the “Top Rated” area should use <nowiki>[[#tile|tiles]]</nowiki> to list, in descending order of DR, the items with the highest DR (out of all items that USC is configured to display). The number of items shown in this area depends on whether “Most Downloaded” has also been implemented: 24 if it hasn’t, 12 if it has.

Choosing “More” in the “Top Rated” area should navigate to a separate “Top Rated” screen that uses a <nowiki>[[#software-tile-view|software tile view]]</nowiki> to list, in descending order of DR, the 60 items with the highest DR. (As usual, the number of stars shown for each item should represent the median rating, not the DR itself.)

<nowiki>[[File:top-rated.png]]</nowiki>

====== Category screen ======

A category screen should be <nowiki>[[#searching|searchable]]</nowiki>. It should always begin with a heading giving the name of the category, and end with centered text of the form “1234 items available” (this count should include items in any subcategories). The rest of the screen should depend on what the category contains:

* If it <nowiki>[[#Genre|has any subcategories]]</nowiki> that contain any items matching the current repositories and view options, the screen should have buttons for each subcategory, a “Top Rated” area listing the 12 top rated items in that category, and (once implemented) a “Most Downloaded” area listing the 12 most installed items in that category. (Using 12 items produces a filled last row whether there are 1, 2, 3, or 4 items per row.)

 <nowiki>[[File:category-with-subcategories.png]]</nowiki>

* Otherwise, if “Most Downloaded” has been implemented ''and'' the category contains more than 60 items, the screen should consist only of the “Top Rated” and “Most Downloaded” areas, each listing 12 items.

 <nowiki>[[File:category-without-subcategories-large.png]]</nowiki>

* Otherwise, if “Most Downloaded” has ''not'' yet been implemented ''or'' the category contains up to 60 items, the screen should consist of a <nowiki>[[#software-tile-view|software tile view]]</nowiki> listing every item in the category. Opposite the heading should be an option menu for choosing the sort order, “By Rating” (the default), “By Name”, or “Newest First”.

 <nowiki>[[File:category-without-subcategories-small.png]]</nowiki>

Whenever the screen contains a “Top Rated” area, that area should list, in descending order of <nowiki>[[#top-rated|dampened rating]]</nowiki>, the 12 items with the highest DR in that category.

If the category is not set to “<nowiki>[[#Genre|Show non-applications by default]]</nowiki>”, non-application items should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

====== Subcategory screen ======

{| class="wikitable"
|-
| <^><nowiki>[[File:subcategory-listing.png]]</nowiki>
| <^><nowiki>[[File:subcategory-tiles.png]]</nowiki>
|}

A subcategory screen should be <nowiki>[[#searching|searchable]]</nowiki>. If the subcategory is set to “<nowiki>[[#Genre|Show non-applications by default]]</nowiki>”, it should use a <nowiki>[[#software-listing-view|software listing view]]</nowiki>. Otherwise, it should use a <nowiki>[[#software-tile-view|software tile view]]</nowiki>, and non-application items should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

Regardless of layout, the screen should begin with a link to the parent category, and a heading naming the subcategory. If more than one sort order has been implemented, opposite the heading should be an option menu for sorting “By Rating” (the default), “By Most Downloaded” (once implemented), “By Name”, or “Newest First”.

''Where to show the number of items in the subcategory? We can’t nicely show them at the bottom, because in a tile view the bottom will always be scrolling out of view.''

===== “Installed” section =====

{| class="wikitable"
|-
| <tablestyle="float:right;margin:0 0 1em 1em;" style="border:none;"><nowiki>[[File:installed.png]]</nowiki>
|}

In the navigation bar, “Installed” should have an icon of a computer. It may have <nowiki>[[#broken-catalog|an emblem indicating a broken software catalog]]</nowiki>.

The “Installed” screen should show all software items currently installed, regardless of whether they are available from any of the computer’s current software sources.

The items should be grouped into the <nowiki>[[#Genre|primary categories]]</nowiki> (but not the subcategories) to which they belong. Categories for which no items are installed should not be shown. The expanded or collapsed state of every category should be remembered between sessions.

At the end of the list should be centered text of the form “1047 items installed”.

Whenever you are in the “Installed” section, the “View” > “All Software” and “View” > “Canonical-Maintained Software” items should be sensitive. Changing the selection should determine whether all software or just Canonical-maintained software is shown. The selection should persist regardless of which screen is being displayed.

The “Installed” screen should be <nowiki>[[#searching|searchable]]</nowiki>. Whenever the search field is non-empty, a software item should be visible only if it matches the search text. A category should be visible only if either (a) it contains any matching software items, or (b) the category name itself matches the search text. Searching should not cause a category to expand or collapse by itself.

Software items in the “Installed” screen should show their icon, title, and summary. The icon should be indented so that it lines up with the start of the category name above.

Apart from that extra indentation, individual items in the “Installed” section should look and behave just as in <nowiki>[[#software-list-view|any other software list view]]</nowiki>.

===== Software item screen =====

{| class="wikitable"
|-
| <tablestyle="float:right;margin:0 0 1em 1em;width:520px;" style="border:none;"><nowiki>[[File:software-item-screen.png]]</nowiki>
|-
| <style="border:none;"><nowiki>[[File:software-item-screen-artwork.png]]</nowiki>
|-
| <style="border:none;"><nowiki>[[https://wiki.ubuntu.com/SoftwareCenter?action=AttachFile&do=view&target=softwareCentre_Item.png|Full-size mockup]]</nowiki>. Except for the rating stars position, where the wireframe and mockup layouts differ, the wireframe is authoritative.
|}

A software item screen should show information about an item, let you <nowiki>[[#installing|install]]</nowiki> or <nowiki>[[#removing|remove]]</nowiki> it or change any <nowiki>[[#add-ons|add-ons]]</nowiki>, and (if you have currently or previously installed it) <nowiki>[[RatingsAndReviews|rate and review it]]</nowiki>.

A software item screen is not <nowiki>[[#searching|searchable]]</nowiki>.

Whenever a software item screen is being displayed:
* If it is installed or currently being removed, “Installed” should be highlighted in the <nowiki>[[#navigation-bar|navigation bar]]</nowiki>. Otherwise, “All Software” should be highlighted. '''Test case:''' (sc-012) Navigate to an item that isn’t installed; “All Software” should be highlighted. Install it; once installation finishes, “Installed” should be highlighted. Now remove it; once removal finishes, “All Software” should be highlighted once more.
* If it is an item that is neither currently installed nor being installed, “File” > “Install” should be sensitive. Selecting it should <nowiki>[[#installing|install the selected item]]</nowiki>.
* If it is an item that is currently installed and not currently being removed, “File” > “Remove” should be sensitive. Selecting it should <nowiki>[[#removing|remove the selected item]]</nowiki>.
* Whenever text is selected in the screen, the copy action (“Edit” > “Copy” and Ctrl C) should be sensitive. Choosing it should copy the selected text to the clipboard.
* “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the relevant package]]</nowiki>.
* If the relevant package is not maintained by Canonical and you then choose “View” > “Canonical-Maintained Software”, USC should automatically navigate up to the subcategory screen; or, if the entire subcategory contains no Canonical-maintained items, up to the category screen; or, if the entire category contains no Canonical-maintained items, up to the <nowiki>[[#home|home screen]]</nowiki>).

Except where specified elsewhere, a software item screen should contain:

 1. A link to its <nowiki>[[#Genre|primary category]]</nowiki>.

 1. A triangle (▶) and a link to its <nowiki>[[#Genre|primary subcategory]]</nowiki>, if it has one.

 1. Its <nowiki>[[#software-icon|icon]]</nowiki>, except that the installed emblem should not be shown for an installed application (because it’s shown in the installation state bar immediately below instead, which clarifies that the emblem is not part of the application icon itself).

 1. On the trailing side, stars representing the item’s average rating.

 1. Its <nowiki>[[#software-title|title]]</nowiki>, wrapping to multiple lines if necessary.

 1. Its <nowiki>[[#software-summary|summary]]</nowiki>, wrapping to multiple lines if necessary.

 1.  An <nowiki>[[#software-item-screen-state-installed|installation state bar]]</nowiki>:

** If the item is not installed nor queued for installation, the price of the item (''e.g.'' “Free”) at the leading end (except for Ubuntu Software Center itself, which should say “Removed (close it and it’ll be gone)”), and an “Install” button at the trailing end.

** If the item is installed and not queued for removal, the installed emblem and the text “Installed” (or, if known, “Installed on {date}”) at the leading end (except for Ubuntu Software Center itself, where it should say “Installed (you’re using it right now)”), and a “Remove” button at the trailing end.

** If the item is being installed or removed, or is queued for installation or removal (but ''not'' if its add-ons are being changed), the status text for the installation at the leading end, and a progress bar at the trailing end.

  <nowiki>[[File:software-item-screen-state-available-installing.jpg]]</nowiki>

  <nowiki>[[File:software-item-screen-state-installed-removing.jpg]]</nowiki>

 1. Its <nowiki>[[#software-description|description]]</nowiki>. If the item is in `app-install-data` and refers to a package that is not present in the `apt` cache, the text “To show information about this item, the software catalog needs updating.”, and an “Update Now” button. Choosing “Update Now” should update the screen to its usual format. And if the item is not available for this architecture, instead of the description should appear the text “Sorry, <Title> is not available for this type of computer (<Architecture>).”.

 1. A “Developer Web site” link to the URL in the package’s `Homepage:` field, if there is one.

 1. A “Report a Problem” link, if <nowiki>[[#isv-support|implemented]]</nowiki>.

 1. A mini gallery of available screenshots and videos of the item, if there are any. (If there are none, the description should extend to the space they would normally occupy.) If you activate a screenshot (by clicking it, or pressing Enter when it is focused), a small determinate progress meter should appear centered on the thumbnail, showing download progress for the full-size screenshot, followed by a spinner for two seconds while the screenshot or video opens in your preferred image viewer.<<BR>>
 <nowiki>[[File:software-item-screen-screenshot-progress.jpg]]</nowiki>

 1. The <nowiki>[[#add-ons|add-ons]]</nowiki> section.

 1. Text describing the “Total size:” of the item:
** if it is not downloaded or installed, “{``X} to download, {Y} when installed”, where X is the download size including not-yet-installed dependencies, and Y is the installed size including not-yet-installed dependencies;
** if it is already downloaded but not installed, “{Y} when installed” (bug Bug:851222);
** if it is installed, and you have not specified any changes to add-ons, “{Y} on disk”
** if it is installed, and you have specified changes to add-ons, “{``X} to download, {Y} on disk”.

 1. Text of the form “Version: {package name} {version number}”.

 1. The text “License:” followed by its <nowiki>[[#license|license label]]</nowiki>.

 1. The text “Updates:” followed by the maintenance status for the item.

 1. A “People also installed” area, if implemented.

 1. The item’s <nowiki>[[RatingsAndReviews#reviews-reading|ratings and reviews]]</nowiki>.

{| class="wikitable"
|-
| <style="background:LightCoral">Copy-editors
|-
| Within USC, examine the title, summary, and description of an item. Is it concise and helpful? Is the spelling, grammar, and paragraph formatting correct? If it’s a non-geek application, does the description avoid geek language? Is it in the appropriate category? If you find a problem, and you are comfortable diving into code to fix it yourself, follow the <nowiki>[[https://wiki.ubuntu.com/DistributedDevelopment/Documentation|distributed development instructions]]</nowiki> with the <nowiki>[[https://code.launchpad.net/ubuntu/+source/app-install-data-ubuntu|app-install-data-ubuntu]]</nowiki> package to fix problems in an application’s title or summary, or <nowiki>[[https://launchpad.net/ubuntu|the package itself]]</nowiki> to fix problems with its description. Otherwise, <nowiki>[[https://bugs.launchpad.net/ubuntu|report a bug]]</nowiki> with (a) the current text, (b) what needs improving, and (c) your proposed replacement text, and give the bug report the `metadata` tag.
|}

{| class="wikitable"
|-
| <style="background:Peru">Packagers
|-
| Please look for <nowiki>[[https://bugs.launchpad.net/ubuntu/+bugs?field.tag=metadata|bugs that people have reported]]</nowiki> about inappropriate application names or summaries, or package descriptions or categories, and fix them. Thanks for your help.
|}

{| class="wikitable"
|-
| <style="background:Peru">Packagers
|-
| If a single package contains multiple applications, and people might reasonably want to install these applications separately, work to separate the packages into one per application.
|}

===== “History” section =====

The “History” section should display all installations, removals, updates, and other changes, in reverse chronological order.

<nowiki>[[File:history.png]]</nowiki>

Below the navigation bar, a '''filter bar''' should have items for “All Changes”, “All Installations”, “Purchases”, and “Removals”. (It does not need an item for “Updates”, because the use case for seeing those — debugging a problem — involves seeing all other package changes too.)

History entries should be grouped in branches labelled by day. Clicking anywhere on a branch — or pressing Space when it is selected — should expand it if it is collapsed, and collapse it if it is expanded. When a branch is selected, pressing Right should also expand it, and Left collapse it. For the day on which the most recent events happened, that branch should be expanded by default from the start of every USC session.

The “History” screen should be <nowiki>[[#searching|searchable]]</nowiki>. Whenever the search field is non-empty, a history entry should be shown only if it matches the search text, and a date branch should be shown only if it contains any items matching the search text. Searching should not cause a date branch to expand or collapse by itself.

Each history entry should consist of an icon, text, a time, and a price.
* The icon should be <nowiki>[[#software-icon|that of the relevant software item]]</nowiki>.
* The text should be of the form:
** “{<nowiki>[[#software-short-name|short name]]</nowiki>} installed”
** “{short name} removed”
** “{short name} updated from version {version} to {version}”
** “{short name} downgraded from version {version} to {version}”
* The time should be of the form “4:08 PM”.
* The price should be of the form  “$4.99” if it was a purchase, or “—” otherwise.

===== “Progress” section =====

<nowiki>[[File:progress.png]]</nowiki>

The “Progress” section should be visible only when items are being installed or removed, or when the last installation or removal finished less than five seconds ago. If the section disappears while being displayed, USC should return to the section that was previously being displayed.

In the navigation bar, the section should have an animated icon of two semicircular arrows chasing each other clockwise. The icon should be overlaid with an emblem showing the number of tasks yet to be completed.

The section itself should list the items requested for installation or removal, earliest first. The rows in the list should be based on a <nowiki>[[#software-list-view|software item list view]]</nowiki>, with these differences:
* the second row of text is status text, rather than the package summary or package name;
* each row has a progress bar (which itself never contains any text);
* each row representing an installation has a cancel button (which can be triggered by the Esc key when the row is selected), while each row representing a removal has a gap the same size as a cancel button (so that its progress bar lines up with the progress bars of installation rows).

<nowiki>[[File:1.0-in-progress-row.jpg]]</nowiki>

The cancel button for an individual item should be sensitive only when the item has not yet started or is still downloading.

==== Common interface components ====

===== Menus =====

<pre>
_File
=====  ==
  _Install
  _Remove
---------------------------
  Reinstall _Purchases…
  _Deauthorize Computer…
  Sync Between Computers…
---------------------------
  _Close            Ctrl W
</pre>

“Install” and “Remove” should be disabled by default. “Close” should, by default, close the window and exit the Center.

''In future this menu will contain items for more advanced package operations.''

<pre>
_Edit
=====  ==
  _Undo                     Ctrl Z
  _Redo               Shift Ctrl Z
-----------------------------------
  Cu_t                      Ctrl X
  _Copy                     Ctrl C
  Copy _Web Link      Shift Ctrl C
  _Paste                    Ctrl V
  _Delete
-----------------------------------
  Select _All               Ctrl A
-----------------------------------
  Searc_h…                  Ctrl F
-----------------------------------
  _Software Sources…
</pre>

“Software Sources…” should open the Software Sources control panel. (`software-properties-gtk` <nowiki>[[http://launchpad.net/bugs/523755|should be responsible]]</nowiki> for focusing an existing copy of itself if it is already open.)

All other items in this menu should be insensitive by default; their availability and behavior is defined elsewhere in this specification.

<pre>
_Go
===  ==
  Back                        [
  Forward                     ]
---------------------------------
  All Software           Ctrl 1
  All From Source               >
  Installed              Ctrl 2
  Installed From Source         >
  History                Ctrl H
  Progress               Ctrl 0
</pre>

The “Go Back” and “Go Forward” items should represent <nowiki>[[#navigation-back-forward|the Back and Forward actions]]</nowiki>.

The “All From Source” submenu should consist of an item, with icon, for each <nowiki>[[#channels|available software source]]</nowiki>. The “Installed From Source” submenu should consist of an item, with icon, for each <nowiki>[[#channels|installed software source]]</nowiki>.

The screen for each individual software source should present a <nowiki>[[#software-list-view|software list view]]</nowiki> of all the items in that source, followed by centered text of the form “141 items”. In the “Provided by Ubuntu” screens, non-application packages should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

<pre>
_View
=====  ==
* Software Maintained by Anyone
  Software Maintained by Canonical
</pre>

The “Software Maintained by Anyone” and “Software Maintained by Canonical” software items should be insensitive by default; their availability and behavior is defined elsewhere in this specification.

'''Test case:''' (sc-003) Start installing something in the Center. While it is installing, navigate to the “In Progress” section, and open the “View” menu. Its items should be insensitive.

''In future this menu may include items for different view types (Icons, List, Gallery).''

<pre>
_Help
=====  ==
  Ubuntu Software Center _Help…
--------------------------------
  _About This Version
</pre>

By default, “Ubuntu Software Center Help…” should open the help viewer to the front page of the help.

“About This Version” should open the About window, or focus it if it is already open.

===== Software item tiles =====

<nowiki>[[File:software-item-tiles.png]]</nowiki>

''Errata:
* The installed emblem should be at the bottom left of the icon, not the bottom right.
* “Games — Puzzles” should be “Puzzles”.''

Tiles are used to present software items on <nowiki>[[#home|the home screen]]</nowiki>, category screens, subcategory screens, search results, and other listings.

Tiles have a minimum width. In an area that is to be filled with tiles, the number of tiles on each row should be based on the minimum width, with each tile stretching equally to fill any remaining width.

A '''normal software item tile''' contains the item’s:
# <nowiki>[[#software-icon|Icon]]</nowiki>. If the icon is scalable, or larger than 4 em in either dimension, it should be scaled down proportionally so that it is 4 em in its largest dimension. To subtly encourage developers to produce large/scalable icons, if the icon is already smaller than 4 em in both dimensions, it should be drawn at actual size and centered (both horizontally and vertically) inside a 4 em square that has a 0.05-em-wide border of color 170,170,170 (#aaaaaa).
# <nowiki>[[#software-title|Title]]</nowiki>, ellipsized in the middle if necessary to fit on one line.
# Average rating (omitted entirely if there are not enough ratings).
# <nowiki>[[#Genre|Subcategory name]]</nowiki> if it has one, otherwise its <nowiki>[[#Genre|Category name]]</nowiki>, either ellipsized at the trailing end if necessary to fit on one line.
# Price (or “FREE” if the price is zero).

A '''category-specific software item tile''' is identical except that it omits the category name (because it would be identical for every item). And a '''subcategory-specific software item tile''' omits the category ''and'' subcategory names.

If the package is not available for this computer’s architecture, the whole tile should have 50% opacity, but should still be clickable.

The whole tile should produce a pointing-hand pointer when moused over, and single-clicking should navigate to that item.

===== Software tile view =====

A software tile view is used to present <nowiki>[[#def-software-item|software items]]</nowiki> on various screens. It includes a heading, followed by a grid of <nowiki>[[#software-item-tile|software item tiles]]</nowiki>.

Where there is no limit on the number of items shown, initially only 60 items should be loaded and shown initially (60 because that will produce a decent batch of complete rows whether there are 2, 3, 4, 5, or 6 tiles per row). If there are more items, the bottom of the view should have enough space for a spinner. When you scroll to the bottom of the view, the spinner should appear until the next 60 items load and replace it.

===== Software list view =====

A software list view is used for the “<nowiki>[[#history|History]]</nowiki>” and “<nowiki>[[#progress|Progress]]</nowiki>” sections. A variation of the list view is used in the “<nowiki>[[#installed|Installed]]</nowiki>” section. In future it may also be used in “All Software” for technical categories and subcategories (instead of the usual tile view), and for search results in those categories and subcategories.

<nowiki>[[File:software-item-list-basic.png]]</nowiki>

In a list view, each <nowiki>[[#def-software-item|software item]]</nowiki> should have a row displaying the item’s <nowiki>[[#software-icon|icon]]</nowiki>, <nowiki>[[#software-title|title]]</nowiki>, and <nowiki>[[#software-summary|summary]]</nowiki>. The row’s accessible name should be the item’s title, and its accessible description should be the item’s summary. If either row of text is wider than the space available, it should be ellipsized at the trailing end.

In “All Software” and “Installed”, the titles of items with ratings should be followed by stars for the average rating, and the number of ratings in brackets. If the width of those three things is greater than the width of the list, the stars and number should together be flush at the trailing end of the row, while the title is ellipsized at its end. (Previously the stars were always flush at the trailing end, making it difficult to see which rating belonged to which item. Moving them next to the title means stars are not aligned for different rows, but that matters little, because the ratings will much more often be used for sorting than for direct comparison.)

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:software-item-list-with-ratings.png]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:software-item-list-selected.png]]</nowiki>
|}

In the “All Software”, “Installed”, and “History” sections, when (and only when) an item is selected, the row should expand to reveal buttons: “More Info” and “Remove” for an item that is installed, queued for removal, or being removed, and “More Info” and “Install” for an item in any other state.

The “More Info” button should have Enter as its access key. Activating it should navigate to the <nowiki>[[#software-item-screen|software item screen]]</nowiki>.

The “Install” button should be insensitive if the item is currently installing or queued for installation. Similarly, the “Remove” button should be insensitive if the item is currently being removed or queued for removal, or if its add-ons are being changed or queued for change. Neither button should have an access key (because that would interfere with typing letters to navigate the list).

The “More Info” in the row should, if it is sensitive, be focused by default (otherwise no button should be focused); pressing Tab should cycle through any remaining buttons before leaving the list. '''Test case:''' (sc-005) Navigate to “All Software” > “Fonts”. Select “A Lee’s free Hangul True``Type fonts (ttf-alee)”. Press Ctrl F; the search field should be focused. Press Tab; the ttf-alee row and its “More Info” button should be focused. Press Tab again; the “Install” button should be focused.

<nowiki>[[File:software-item-list-installing.png]]</nowiki>

When an item is being installed, being removed, having its add-ons changed, or queued for any of those tasks, the trailing end of the row should have a progress bar showing progress of the task. If the item is being installed or is having its add-ons changed, it should also have an icon-only cancel button. During this time the secondary text for the row should be the status text for the task, instead of the item’s <nowiki>[[#software-summary|summary]]</nowiki>.

If the item is not installable for this computer’s architecture, the icon and the text — but not any buttons when the row is expanded — should have 50% opacity, but the item should still be selectable.

By default, none of the rows in a software list view should be selected. If the view allows selection, clicking anywhere in an row should select that item, and Ctrl+clicking on a selected item should deselect it. If no item is selected, pressing the Down arrow key should select the first row, and conversely pressing the Up arrow key should select the last row. If the view does not allow selection, the arrow keys should scroll the view without highlighting rows.

Whenever an item is selected in a software list view, “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the relevant package]]</nowiki>.

Unless otherwise specified, a software list view should always have a vertical scrollbar. (This prevents elements at the trailing end from jumping about when the view contents switches between shorter than, and longer than, the container’s height). A software list view should never have a horizontal scrollbar.

If a software list view has '''items hidden by default''', the bottom of the pane containing the view should have a panel (below the bottom of the scrollbar) containing a hyperlink of the form “__Show 17 technical items__”. Following the link should display the items that were hidden by default, and make the link change to the form “__Hide 17 technical items__”. Except <nowiki>[[#navigation-back-forward|in Back-Forward navigation]]</nowiki>, revisiting the software list view should not persist in showing items; it should resume hiding them by default.

<nowiki>[[File:software-list-view-disclosure.jpg]]</nowiki>

===== Software sources =====

In most cases, the collection of software that USC presents should consist of the aggregate of available software items from all enabled software sources, plus any software currently installed that has no known source.

When it is appropriate to list individual software sources separately, they should be listed as follows:

{| class="wikitable"
|-
| <tablestyle="clear:both; float:right; margin:0 0 1em 1em;" style="border: none;"><nowiki>[[File:software-sources.png]]</nowiki>
|}

# Main, Universe, Restricted, and Multiverse for the current Ubuntu version should be aggregated into a single first item, with the Ubuntu logo as its icon, and the label “Provided by Ubuntu”.
# Next should be any sources represented by an `X-AppInstall-Channel` attribute in `app-install-data`, sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. The Canonical partner repository for the current Ubuntu version should have the Canonical logo as its icon, and the label “Canonical Partners”. Any others should have a generic repository icon, and should have a label equal to the contents of the `Label:` field from their `Release` file.
# Next should be the collection of purchasable items, with money as its icon, and the label “For Purchase”.
# Next should be the Independent repository for the current Ubuntu version, with a cluster of people as its icon, and the label “Independent”.
# Next should be any PPAs (not including those for purchased items), sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. Each should use the same PPA icon that Launchpad uses, and should have a label equal to the contents of the `Label:` field from its `Release` file. Until this label has been retrieved from Launchpad, a PPA item should use the same naming scheme as any other non-CD source.
# Next should be any other network sources, sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. Each should use a generic repository icon, and a label consisting of its URI with the protocol stripped, ''e.g.'' “packages.example.org/ubuntu/”. (We don’t use the `Label:` here because we don’t trust third-party repositories as much as we trust PPAs.)
# Next should be any volumes (such as CDs, DVDs, or USB sticks) containing packages, sorted alphabetically. Each should have the same icon as it has in the file manager. If a volume contains a `/.disk/info` file, its label should be of the form “{OS version}”, where the OS version is the contents of `/.disk/info` up to but not including the first `"` character nor any spaces immediately preceding it. Otherwise, the label should be the same as it is in the file manager.

The '''available software sources''' should consist of this full list.

The '''installed software sources''' should consist of whichever items in this list from which you have installed any software, followed by an “Other” item (with a question mark as its icon) for any installed software that has no known source.

'''Test case:''' (sc-013)
# Launch USC.
# Add a PPA in Software Sources.
# Open the “All Software” menu; the PPA should be shown in the menu.
# Open the “Installed Software” menu; the PPA should not be shown in the menu.
# Install a package from that PPA. When it finishes installing, open the “Installed Software” menu again; the PPA should now be present.
# Select that menu item, and remove the package; when it finishes uninstalling, the PPA should disappear from the “Installed” menu, and USC should automatically navigate to the main “Installed” screen.
# Select the PPA from the “All Software”, then remove the PPA from Software Sources. The PPA should disappear from the “All Software” menu, and USC should automatically navigate to the home screen.

'''Test case:''' (sc-014)
# Download and install a standalone .deb package, such as <nowiki>[[http://www.opera.com/browser/download/|Opera]]</nowiki>.
# Open the “Installed Software” menu; it should have an “Other” child item that, if selected, shows the item you installed.
# Open the “All Software” menu; it should have an identical “Other” child item.
# Uninstall the package; the “Other” item should disappear from both menus, if that was the only standalone item installed.

====== Software list view for individual software sources ======

When any individual software source inside “All Software” is selected, the main pane should show a <nowiki>[[#software-list-view|software list view]]</nowiki> of all the packages that source contains, with status text of the form “17 items available”.

When any individual software source inside “Installed” is selected, the main pane should show a <nowiki>[[#software-list-view|software list view]]</nowiki> listing all the packages currently installed (or in the process of being removed) from that source, with status text of the form “3 items installed”.

For all sources except “Provided by Ubuntu”, the items in the “View” menu should be insensitive, because they do not apply.

==== Determining software item information ====

For any <nowiki>[[#def-software-item|software item]]</nowiki> (a package, or an application with a `.desktop` file inside a package), USC presents information derived from the item’s entry in the `app-install-data` package, the archive index, the Debian control file for the package, or a combination of these.

The '''icon''' should be the icon supplied for the application by your current theme, if there is one; otherwise the icon provided by `app-install-data`, if there is one; otherwise the generic package icon. ''This may be enhanced later for more specialized generic icons.'' Except where otherwise specified, whenever a package is currently installed, its icon should be overlaid in the bottom left corner with the installed checkmark emblem.

The '''title''' should be the application Name, if there is one; otherwise the package synopsis (the first line of <nowiki>[[http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Description|the Description field]]</nowiki>) with its first word capitalized. If this leaves multiple packages with the same title, the package name should be appended in brackets to the title of each of them: “{Previous Title} ({package name})”. (This is the same approach used for <nowiki>[[SessionMenu#account-switching|disambiguating account names in Ubuntu’s session menu]]</nowiki>.) '''Test case:''' (sc-015) Search for the “backintime-gnome” package. The item should have the title “Back In Time (backintime-gnome)”.

The '''short name''' should be the application Name, if there is one; otherwise the package name. (This is for use in more technical contexts than the Title; for example, in the <nowiki>[[#history|History section]]</nowiki>.)

The '''summary''' should be the application Comment, if there is one; otherwise the package synopsis with its first word capitalized, if the application has a Name but not a Comment; otherwise the package name (because if you’re looking at a non-application package in the first place, you’re fairly likely to be the sort of user who wants to know the package name).

The '''license label''' for an item should be:
* “Open source”, if it is in Main or Universe;
* “Proprietary”, if it is in Restricted or archive.canonical.com;
* “Unknown”, if it is anywhere else (including Multiverse and standalone packages).

''If you want this to be more specific (bug Bug:435183), do what you can to get <nowiki>[[http://dep.debian.net/deps/dep5/|DEP-5]]</nowiki> implemented. When it is implemented in USC, the words “Open source” (or their localized equivalent) should be included in the string for each license, rather than in a separate string (bug Bug:811489).''

Finally, every item has a genre represented by a '''primary category''', and sometimes also by a '''primary subcategory''' and/or a '''secondary category'''. If an item has a secondary category, it may also have a '''secondary subcategory'''. Each category, and each subcategory, should have its own icon.

As used elsewhere in this specification, an item’s '''category''' means its primary category, and its '''subcategory''' means its primary subcategory.

These are the categories and subcategories, in the order in which they should be presented when presented together:
{| class="wikitable"
|-
| <^ rowstyle="background: #ddd; color: #000;">'''Category'''
| <^|2>'''Equivalent <nowiki>[[http://standards.freedesktop.org/menu-spec/latest/apa.html|menu spec]]</nowiki> categories'''
| <^|2>'''Equivalent <nowiki>[[http://www.debian.org/doc/debian-policy/ch-archive.html#s-subsections|sections]]</nowiki>'''
| <^|2>'''Package name pattern'''
| <^|2>'''Show non-application packages by default'''
|-
| <rowstyle="background: #ddd; color: #000;"> - Subcategory
|-
| '''Accessories'''
| Utility, System
| -
| 
| -
|-
| '''Education'''
| Education
| -
| 
| -
|-
| '''Fonts'''
| -
| -
| `(t,o)tf-*`
| yes
|-
| '''Games'''
| Game, Sports
| -
| 
| -
|-
| - Board Games
| Board``Game
| -
| 
| -
|-
| - Card Games
| Card``Game
| -
| 
| -
|-
| - Puzzles
| Logic``Game
| -
| 
| -
|-
| - Role-Playing
| Role``Playing
| -
| 
| -
|-
| - Sports
| Sports``Game
| -
| 
| -
|-
| '''Graphics'''
| Graphics
| -
| 
| -
|-
| - 3D
| 3DGraphics
| -
| 
| -
|-
| - Drawing
| Vector``Graphics
| -
| 
| -
|-
| - Painting
| Raster``Graphics
| -
| 
| -
|-
| - Photography
| Photography
| -
| 
| -
|-
| - Publishing
| Publishing
| -
| 
| -
|-
| - Scanning & OCR
| Scanning, OCR
| -
| 
| -
|-
| - Viewers
| Viewer
| -
| 
| -
|-
| '''Internet'''
| Network
| -
| 
| -
|-
| - Chat
| Instant``Messaging, IRCClient
| -
| 
| -
|-
| - File Sharing
| File``Transfer
| -
| 
| -
|-
| - Mail
| Email
| - (''not'' mail)
| 
| -
|-
| - Web Browsers
| Web``Browser
| - (''not'' web)
| 
| -
|-
| '''Office'''
| Office
| -
| 
| -
|-
| '''Science & Engineering'''
| Science
| science
| 
| yes
|-
| - Astronomy
| Astronomy
| -
| 
| -
|-
| - Biology
| Biology
| -
| 
| -
|-
| - Chemistry
| Chemistry
| -
| 
| -
|-
| - Computing & Robotics
| Artificial``Intelligence, Computer``Science, Robotics
| -
| 
| -
|-
| - Electronics
| Electronics
| -
| 
| -
|-
| - Engineering
| Engineering
| -
| 
| -
|-
| - Geography
| Geography
| -
| 
| -
|-
| - Geology
| Geology, Geoscience
| -
| 
| -
|-
| - Mathematics
| Data``Visualization, Math, Numerical``Analysis
| math, gnu-r
| 
| yes
|-
| - Medicine
| Medical``Software
| 
| 
| -
|-
| - Physics
| Electricity, Physics
| 
| 
| -
|-
| '''Sound & Video'''
| Audio``Video, Audio, Video
| - (''not'' sound or video)
| 
| -
|-
| '''Themes & Tweaks'''
| Settings
| 
| 
| -
|-
| - Background Pictures
| -
| -
| `*-backgrounds`, `*-wallpapers`
| yes
|-
| - Themes
| -
| -
| `*-theme`
| yes
|-
| '''Universal Access'''
| Accessibility
| 
| 
| -
|-
| '''Developer Tools'''
| Development
| devel
| 
| yes
|-
| - Debugging
| Debugger
| - (''not'' debug)
| 
| -
|-
| - Graphic Interface Design
| GUIDesigner
| -
| 
| -
|-
| - Haskell
| -
| haskell
| 
| yes
|-
| - IDEs
| IDE
| -
| 
| -
|-
| - Java
| -
| java
| 
| yes
|-
| - Libraries
| -
| libdevel (''not'' libs or oldlibs)
| 
| yes
|-
| - Lisp
| -
| lisp
| 
| yes
|-
| - Localization
| Translation
| - (''not'' localization)
| 
| -
|-
| - Mono/CLI
| -
| cli-mono
| 
| yes
|-
| - OCaml
| -
| ocaml
| 
| yes
|-
| - Perl
| -
| perl
| 
| yes
|-
| - Profiling
| Profiling
| -
| 
| yes
|-
| - Python
| -
| python
| 
| yes
|-
| - Ruby
| -
| ruby
| 
| yes
|-
| - Version Control
| Revision``Control
| vcs
| 
| yes
|-
| - Web Development
| Web``Development
| -
| 
| -
|-
| '''System'''
| -
| -
| 
| yes
|}

{| class="wikitable"
|-
| <style="background:Plum">Librarians
|-
| Once <nowiki>[[http://launchpad.net/bugs/57418|debtags are available]]</nowiki>, we will be refining this classification scheme. For example, what subcategories could the “Games” category have? And how could the items in the “Internet” menu be redistributed? Tell us your ideas on <nowiki>[[Classification|the Classification page]]</nowiki>. Thanks!
|}

The algorithm for determining an item’s primary category and subcategory should be:
# If it has a `.desktop` file with at least one `Category:` value that matches one of the ''subcategories'' listed above, then:
## Use the first recognizable `Category:` value to determine the subcategory from the table.
## Determine the category from the subcategory’s location in the table.
## Stop.
# If it has a `Section:` that matches one of the ''subcategories'' listed above, then:
## Use the `Section:` value to determine the subcategory from the table.
## Determine the category from the subcategory’s location in the table.
## Stop.
# If it has a `.desktop` file with at least one `Category:` value that matches one of the ''categories'' listed above, then:
## Use the first recognizable `Category:` value as the category.
## Stop.
# If it has a `Section:` that matches one of the ''categories'' listed above, then:
## Use the `Section:` value to determine the category from the table.
## Stop.
# Use “System” as the primary category, with ''no'' primary subcategory.

The algorithm for determining an item’s secondary category and subcategory should be:
# If the `.desktop` file has at least one `X-Ubuntu-Category-Secondary:` field that matches one of the known categories, then:
## Use the first `X-Ubuntu-Category-Secondary:` value as the subcategory.
## Determine the category from the subcategory’s location in the table above.
## Stop.
# The item has no secondary category or subcategory.

'''Test case:''' We should have a test repository containing packages with various combinations of `Category:` and/or `X-Ubuntu-Category-Secondary:`.

==== Searching ====

Whenever the current screen is '''searchable''', the navigation bar should contain a search field (with accessible label “Search”), and the “Edit” > “Search…” command should be sensitive. Activating that command should focus the search field, and (even if it is focused already) select its entire contents.

===== The search field =====

<nowiki>[[File:search-field.jpg]]</nowiki>

Whenever the search field is focused, the “Edit” > “Undo”, “Redo”, “Cut”, “Copy”, “Paste”, “Delete”, and “Select All” items should have their usual sensitivity and operation for a text field.

Inside the leading end of the field should be a symbolic magnifying glass icon. Clicking the icon should focus the field and select its entire contents.

When (and only when) the search field is not empty, the trailing end of the field should have a symbolic clear icon. Clicking the icon should focus the field and clear its contents.

Besides the normal behavior for text fields, whenever the insertion point (caret) is at the trailing end of the search field, pressing the Down arrow key should focus the contents of the main pane and select the first item — such as the first category in the <nowiki>[[#home|home screen]]</nowiki>, or the first result in any list of search results.

===== Interpreting search text =====

When searching anywhere in USC, any word in the search string that is followed by a space or punctuation should be treated as a a complete word, while any word that is not should be treated as if it may be either a complete word or the beginning of a word. '''Test case:''' (sc-004) From the top-level “All Software” screen, search for “atom”; it should return both Atomix and Liferea (an Atom feed reader). Now search for “atom ” (with a trailing space); it should return only Liferea.

For the sake of people who are unfamiliar with how they should use the search, there should be a greylist of words that are downplayed when searching. “Downplayed” in this sense means that:
* A search that consists only of greylisted words should work just as if none of the words were greylisted.
* In any other search that contains one or more greylisted words, the greylisted words should be ignored: only the words that are not greylisted should be searched for. However, once the results are chosen, the presence of any greylisted words should cause a result to appear higher in the list.

For English, the greylist should be “app application package program programme suite tool”. The greylist should have a translation note: “Do not translate this list directly. Instead, provide a list of words in your language that people are likely to include in a search but that should normally be ignored in the search.”

'''Test case:''' (sc-011) From the home screen, search for “drawing ” (with a trailing space). Then search for “drawing program”. The Center should return exactly the same results for both searches, though possibly in a different order.

===== Search results and behavior =====

Whenever the search field contains any text, or has been empty for less than two seconds, the current search should become the last item in the <nowiki>[[#navigation-back-forward|Back-Forward navigation history]]</nowiki>, with the previous item being the same screen without any search text. (That is, if you click Back once, the search should be cleared.)

'''Test case:''' (sc-010) Launch USC. Type Ctrl F; the search field should be focused. Type “fire” (without quotes or pressing Enter); the main pane should be replaced by search results, with Firefox first. Press the down arrow key once; Firefox should be selected in the results. Press Enter; USC should navigate to the software item screen for Firefox. Choose Back once; USC should return to the “fire” search results. Choose Back again; USC should return to the home screen.

<nowiki>[[File:search-results.png]]</nowiki>

If there are no results, the main pane should temporarily be replaced by a screen of this form:

  '''No results for “google mail”'''

  No items in '''Internet''' ▸ '''Chat''' match “google mail”.

  Suggestions:
** Try the __2 items in '''Internet'''__ that match.
    [Present only if there is a parent category that has any matches.]
** Try the __1 item__ that matches in software not maintained by Canonical.
    [Present only if you’re viewing “Canonical-Maintained Software” and there are matches in “All Software”.]
** Try using a different word. / Try using fewer words or different words. 
    [Text dependent on how many words are in the search string.]
** Check the search is spelled correctly.

If there are any results, then at the top of the main pane should be a heading, “Search results”, opposite a menu (if there’s more than one result) for sorting the results “by Relevance” (the default), “by Rating”, or “by Name”. The rest of the main pane should contain search results for that scope. (For example, in a subcategory, the results should be limited in scope to that subcategory.)

In search results, a non-application item should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>:
* from a subcategory screen, if that subcategory does not “Show non-application packages by default”;
* from a category screen, if (a) it is in one subcategory of that category and that subcategory does not “Show non-application packages by default”, (b) it is in multiple subcategories of that category, and its <nowiki>[[#Genre|primary subcategory]]</nowiki> does not “Show non-application packages by default”, or (c) it is not in any subcategories and the category itself does not “Show non-application packages by default”;
* from the home screen, if its primary subcategory (or, if it has no subcategory, its primary category) does not “Show non-application packages by default”;
* never, in any other screen (such as “History”).

If the search terms exactly match a package name, that package should be returned first in the results, ''even if'' the package was <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

{| class="wikitable"
|-
| '''Testers'''
|-
| You can help us improve the search function by <nowiki>[[SearchTesting|testing it in successive versions]]</nowiki>.
|}

==== Custom package lists ====

For ease of sharing lists of software, USC should allow “searches” that return ad-hoc package sets.

From <nowiki>[[#home|the home screen]]</nowiki>, whenever a search string consists entirely of <nowiki>[[http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Source|characters allowed in package names]]</nowiki>, interspersed with commas (and no spaces), and optionally followed by a comma:

* The main pane should display a <nowiki>[[#get-software-list-view|“All Software” list view]]</nowiki> of the <nowiki>[[#def-software-item|software items]]</nowiki> corresponding to those package names. Unlike usual search results, this list should be sorted in exactly the same order as the search string. If any of the package names does not have a corresponding package in your current software sources, its item in the list should have a question mark as its icon, “Not found” as primary text, and the package name as secondary text; the icon and text should both be greyed out, and selecting the row should not expand it.

* The bottom of the pane should have an action bar. At its leading end should be text of the form “{X} items”, where X = the number of recognized items (''not'' including any “Not found” items). If any of the recognized items are not currently installed, its trailing end should have a button of the form “Install {``X} Items”, where X = the number of items not currently installed (regardless of whether they are queued for installation).

'''Test case:''' (sc-016) On a machine that has Gobby and Gimp installed but neither `9base` nor `abcde`, with “View” > “All Software” selected:
# Navigate to the home screen and enter “gobby,gimp” (without quotes) in the search field. The main pane should list “Gobby” and “GIMP Image Editor”, and the action bar should say “2 items”.
# Add “,9base” to the search text (“gobby,gimp,9base”). The list should change to “Gobby”, “GIMP Image Editor”, and “Plan 9 userland tools”, in that order; an action bar should appear offering to “Install 1 Item”; and the action bar should say “3 items”.
# Add a comma to the end of the string (“gobby,gimp,9base,”). Nothing should change.
# Add the letters “abcd” to the end of the string (“gobby,gimp,9base,abcd”). A greyed-out item should appear at the end of the list: “Not found”/“abcd”. The button should still say “Install 1 Item”, and the action bar should still say “3 items”.
 <nowiki>[[File:custom-list.png]]</nowiki>
 1. Finally, add the letter “e” to the search string (“gobby,gimp,9base,abcde”). The “Not found” item should change to “A Better CD Encoder”/“abcde”, and “Install 1 Item” should change to “Install 2 Items”.

''Future work: Consider whether it makes sense to use custom lists within “Installed Software”, or within <nowiki>[[#channels|individual software sources]]</nowiki>.''

==== Handling a broken apt cache ====

Whenever USC detects that the apt cache of packages is currently broken and is not currently being rebuilt:

* The “Installed” icon in the navigation bar should be overlaid with a /!\ emblem. When you navigate to the “Installed” section, it should have a banner saying “The software catalog needs rebuilding.” and containing a “Rebuild” button.

* Choosing “Install” or “Remove” for any item should automatically queue a rebuild task ahead of the installation or removal.

In “Progress”, a software catalog rebuild task should have the Ubuntu Software Center icon as its icon, and the primary text “Rebuilding software catalog”. Unlike other tasks, it should not be possible to reorder it.
 
'''Test case:''' (sc-017)
# Break the cache using the command: `sudo apt-get install 4g8 && sudo dpkg --force-depends -r libnet1`
# Navigate to a different category or subcategory. The /!\ icon should appear next to “Installed Software”.
# Select “Installed Software”, press Tab, then press Space. The custom Policy``Kit alert should appear.
# Cancel the alert. The /!\ icon should persist.
# Start installing something. The /!\ icon should disappear.
# Switch to “Progress”. The “Rebuilding software catalog” task should be underway.
# Once the test is complete, reset with `sudo apt-get remove 4g8 libnet1`

==== Copying a Web link for a package ====

Whenever you choose to copy a Web link for a package, the Center should copy to the clipboard text of the form `http://apt.ubuntu.com/p/`''`package-name`'' (without a leading or trailing line break).

==== Installing software ====

When you request to install a software item:
# The “Install” button should be made insensitive for that item, and remain insensitive until the installation has been completed or cancelled.
# The Center should <nowiki>[[#broken-catalog|handle a broken apt cache if necessary]]</nowiki>.
# If the relevant package cannot be installed, an error <nowiki>[[#def-alert|alert]]</nowiki> should appear:
 <nowiki>[[File:transaction-error-uninstallable.jpg]]</nowiki><<BR>>
 The alert should have the primary text “Sorry, {<nowiki>[[#software-title|title]]</nowiki>} can’t be installed at the moment. Try again in a day or two.”, and a secondary “Details” expander control that reveals a text frame containing the `dpkg` error. It should have an “OK” button which is the default.
# If necessary, a Policy``Kit <nowiki>[[#def-alert|alert]]</nowiki> (with the USC window as its parent) should appear to enter authentication details.
# The Center should begin blocking session exit.
# The item should appear in the “Progress” section. If the item is queued waiting for another package manager to close, the status text for the item should be “Waiting for {Application Name} to exit”. If the item is queued waiting for any other activity to complete, the status text for the item should be “Waiting”.
# While the download is taking place, the status text should be set to “Downloaded {``X``} of {Y}”.
# While the installation script is running, the status text for the item should be set to the normal text issued by `dpkg`.
# If at any point installation is blocked by a `debconf` question, the status text for the item should be set to “Waiting for your response…”
# When installation completes, the Center should stop blocking session exit.
# The “installed” emblem should be applied to the item icon, and the status text should be set to “Installation complete”.
# Five seconds later, the item should disappear from the “Progress” section.

For an item being installed, 50 % of the progress bar length should be allocated to the downloading process, and 50 % to running the installation script.

{| class="wikitable"
|-
| <style="background:Peru">Packagers (and testers)
|-
| Wait, what? Fifty percent? That’s not accurate! Perhaps not, but even a progress bar that varies a bit in speed is <nowiki>[[http://andrewtrumper.blogspot.com/2009/03/have-you-ever-seen-progress-bar-that.html|infinitely more accurate]]</nowiki> than one that fills up completely only to jump back to zero for the next step. And you can <nowiki>[[SmoothProgress|help us make it even better]]</nowiki>.
|}

==== Removing software ====

When you request to remove a software item:

 1. The “Remove” button should be made insensitive for that item, and remain insensitive until the removal has been completed or cancelled.

 1. The Center should <nowiki>[[#broken-catalog|handle a broken apt cache if necessary]]</nowiki>.

 1. If the relevant package is part of the `ubuntu-desktop` metapackage, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: “{<nowiki>[[#software-title|title]]</nowiki>} is a core item in Ubuntu. Removing it may cause future upgrades to be incomplete.” The alert should have “Cancel” and “Remove Anyway” buttons; neither button should be the default.

 1. If you request to remove a package that is part of any other metapackage, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: ‘If you uninstall {<nowiki>[[#software-title|title]]</nowiki>}, future updates will not include new items in the “{metapackage <nowiki>[[#software-title|title]]</nowiki>}” set.’ Again, the alert should have “Cancel” and “Remove Anyway” buttons; neither button should be the default.

 1. If you request to remove a package that is depended on by any other package, or an application that shares a binary package with any other application, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: “To remove {<nowiki>[[#software-title|title]]</nowiki>}, these items must be removed as well:” — with any affected applications, followed by any other affected packages, listed <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> in an inset <nowiki>[[#software-list-view|software list view]]</nowiki> that does not allow selection but is focused by default. The alert should have “Cancel” and “Remove All” buttons; neither button should be the default.<<BR>><<BR>><nowiki>[[File:remove-depended-alert.jpg]]</nowiki>

 1. The Center should, if necessary, ask for authentication details in a Policy``Kit <nowiki>[[#def-alert|alert]]</nowiki> with the USC window as its parent.

 1. The Center should begin blocking session exit.

 1. The item should appear in the “Progress” section. If the item is queued waiting for another package manager to close, the status text for the item should be “Waiting for {Application Name} to exit”. If the item is queued waiting for any other activity to complete, the status text for the item should be “Waiting”.

 1. If at any point removal is blocked by a `debconf` question, the status text for the item should be set to “Waiting for your response…”

 1. When removal completes, the Center should stop blocking session exit.

==== Add-on packages ====

{| class="wikitable"
|-
| <tablestyle="float: right; margin: 0 0 1em 1em;" style="border: none;"><nowiki>[[File:add-ons.jpg]]</nowiki>
|}

Package ''A'' should be treated as a '''recommended add-on''' of package ''X'' if either of these are true:
* ''X'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Recommends]]</nowiki> ''A''
* ''X'' is the only known package that Depends (directly or indirectly) on some other package ''Y'', and ''Y'' Recommends ''A''.

Package ''A'' should be treated as a '''suggested add-on''' of package ''X'' if any of these are true:
* ''X'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Suggests]]</nowiki> ''A''
* ''X'' is the only known package that Depends (directly or indirectly) on some other package ''Y'', and ''Y'' Suggests ''A''
* ''A'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Enhances]]</nowiki> ''X'' (or Enhances a virtual package that ''X'' Provides), and ''A'' is not a language pack (''i.e.'' does not match a name or pattern in `/usr/share/language-selector/data/pkg_depends`)
* ''A'' Enhances some other package ''Y'', where ''X'' is the only known package that Depends (directly or indirectly) on ''Y''.

''What about where X depends on a virtual package that A1 or A2 provide? Perhaps show a menu of the options? This applies not just to add-ons but to dependencies too. Also consider the possibility that installing A1 requires uninstalling something else, while installing A2 does not…''

''What if A Enhances X or X Suggests A, but another installed package Y Depends on A? Maybe checked and insensitive?''

''What if A Enhances X or X Suggests A, but another installed package Y Recommends A? Maybe checked by default?''

If a software item has any add-ons, it should have an “Add-ons” section in its <nowiki>[[#software-item-screen|software item screen]]</nowiki>. The list of add-ons for the item should be presented as a series of checkboxes. Recommended add-ons should be listed first <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>, then suggested add-ons alphabetically.

The add-on’s package name, in brackets, should follow the trailing end of the label for each checkbox. The package name should be a link that navigates to the software item screen for the package.

At the leading end of the label for each checkbox should be a text-sized version of the add-on’s <nowiki>[[#software-icon|icon]]</nowiki>. This should be followed by as much of the add-on’s <nowiki>[[#software-title|title]]</nowiki> as fits in the rest of the window width (without obscuring the package name), ellipsized at the trailing end if necessary.

If the main package is not installed already, the checkboxes for recommended add-ons should be checked by default, while the checkboxes for suggested add-ons should be unchecked by default. If the main package ''is'' installed already, the checkboxes for add-ons that are currently installed should be checked by default, while those that are not should be unchecked by default. The “Total size:” text should update immediately whenever checking or unchecking a checkbox.

<nowiki>[[File:software-item-screen-state-changing-add-ons.jpg]]</nowiki>

If the main package is already installed, whenever the current checkbox values no longer match the add-ons currently installed, an '''add-ons state bar''' should appear immediately below the list of checkboxes. Initially, this bar should contain the total price of any newly-selected add-ons (''e.g.'' “Free”) at its leading end, and “Cancel” and “Apply Changes” buttons at its trailing end.

Activating “Cancel” should reset the checkboxes to match the add-ons currently installed (and therefore cause the bar to disappear). Activating “Apply Changes” should install and/or remove the add-ons as specified, showing the status of this process in the add-ons state bar itself.

In <nowiki>[[#in-progress|the “Progress” section]]</nowiki>, when installing an item, installing any of its add-ons should be presented as part of the same task. But changing add-ons for an installed item should be presented as a separate task for each add-on.

==== Commercial software ====

(This section covers the small subset of commercial use cases that involve Ubuntu Software Center specifically and are scheduled for 3.0.)

Human participants: Ubuntu user, software vendor
Software participants: Ubuntu Software Center, Ubuntu Single Sign-On, Launchpad, billing system

{| class="wikitable"
|-
| '''Use case'''
| '''Maverick alpha 2'''
| '''Maverick alpha 3'''
| '''10.10 beta'''
| '''10.10 post-release'''
| '''11.04'''
|-
| - <nowiki>[[#system-requirements|finds system requirements for software]]</nowiki>
| 
| 
|-
| - <nowiki>[[#commercial-price|sees up-to-date price for software]]</nowiki>
| 
| 
|-
| <nowiki>[[#commercial-buying|Ubuntu user buys software]]</nowiki>
| data transfer
| user interface
| <-3>yes
|-
| <nowiki>[[#commercial-reinstalling|Ubuntu user who has purchased software reinstalls Ubuntu]]</nowiki>
| -
| <-4>yes
|}

===== Buying software =====

<nowiki>[[File:software-item-screen-state-available-buy.jpg]]</nowiki>

For any software item that costs money and that (to USC’s knowledge) you have not already purchased:
* When it is selected in a <nowiki>[[#software-list-view|software list view]]</nowiki>, the text at the leading end should display the price instead button at the trailing end should be “Buy…” instead of “Install”.
* Both when it is selected in a software list view, and when you are at its software item screen, “File” > “Install” should instead be “File” > “Buy…”.

If you choose the “Buy…” command by any of these routes:

 1. If necessary, an Ubuntu Single Sign-On/Registration dialog should appear.

 1. If you sign on successfully and USC realizes you have already purchased this item, it should return to the software item screen, which should now be showing the download and installation progress. ''Do we need to show more feedback?''

 1. <nowiki>[[File:buy-connecting.jpg]]</nowiki><<BR>>Otherwise, USC should navigate to a new screen that is blank initially except for a spinner and the text “Connecting to payment service…”.

 1. <nowiki>[[File:buy-screen.jpg]]</nowiki><<BR>>Once it has loaded completely, the main pane should display the <nowiki>[[https://launchpad.net/canonical-payment-service|Canonical Payment Service]]</nowiki> screen for buying the item.

 1. Once you complete the payment, USC should return to the software item screen, which should now be showing the download and installation progress.

''Need to handle the edge case where the price changes while you’re purchasing. Perhaps highlight the change and ask you to reconfirm.''

''Maybe we should show a clickable padlock somewhere for reassurance.''

===== Reinstalling previous purchases =====

<nowiki>[[File:software-item-screen-state-available-purchased.jpg]]</nowiki>

Whenever an item is not currently installed (or queued for installation) but USC knows that it has been previously purchased:
* Its “Buy…” button in a <nowiki>[[#software-list-view|software list view]]</nowiki> should instead be “Reinstall”.
* When it is selected or navigated to, “File” > “Buy…” should instead be “Reinstall Purchase”.
* The “Install” button at the trailing end of its <nowiki>[[#software-item-screen-state-installed|installation state bar]]</nowiki> should be “Reinstall” instead.

Choosing “Reinstall” should <nowiki>[[#installing|install the item]]</nowiki> without any further interaction.

<nowiki>[[File:previous-purchases-menu.jpg]]</nowiki>

To make it easier to find previous purchases, the “File” menu should contain a “Reinstall Previous Purchases…” item.

<nowiki>[[File:previous-purchases-authorize.jpg]]</nowiki>

If you are not already signed in, activating the item should open a sign-on dialog that allows only sign-on, not registration, with primary text “To reinstall previous purchases, sign in to the Ubuntu Single Sign-On account you used to pay for them.”.

<nowiki>[[File:previous-purchases-screen.jpg]]</nowiki>

Once you are successfully signed in, USC should navigate to an “All Software” > “Previous Purchases” screen, listing purchased items most recent first. Whenever this screen is displayed, the top-level “All Software” item should be selected in the navigation bar (as it is when viewing a category screen, for example). In addition to the “Reinstall” command for each individual item, the screen should have an action bar containing a “Reinstall All” button.

==== Ratings and reviews ====

For the spec ''see'' SoftwareCenter/RatingsAndReviews.

For the review guidelines see SoftwareCenter/RatingsAndReviewsGuidelines.
For the moderation guidelines see SoftwareCenter/RatingsAndReviewsModerationGuidelines

==== Help ====

The help should cover these topics:
* What is the Ubuntu Software Center?
* Why are all the programs free?
* Installing a program
* Using a program once it’s installed
* Removing a program
* Why is it asking me to remove several programs together?
* “Provided by Ubuntu” — what’s that?
* “Canonical-maintained” — what’s that?
* What if a program I want isn’t in the Center?
* Using software from multiple sources
* What if a program doesn’t work?

There is also an online FAQ for issues with purchases.  These are based on the questions most frequently asked by real customers:

<nowiki>[[Pay-FAQs|Software Center purchase issues]]</nowiki>

==== About window ====

The About window should be a standard window (not a <nowiki>[[#def-dialog|dialog]]</nowiki>) following the standard Gnome About window layout, using <nowiki>[[#metadata|the appropriate application summary]]</nowiki>.

=== Other changes planned for 5.0 ===

==== Learning how to launch an application ====

If Unity is running, at the end of the “View” menu should be a checkmark item, “New Applications in Launcher”, which is checked by default.

At the moment you choose to install a graphically launchable application, if “New Applications in Launcher” is checked:
# If the Launcher was in auto-hide mode, it should temporarily reveal itself.
# A copy of the item’s icon shown in USC (in the software list view or software item screen, whichever was being used) should be hoisted from that spot to a space the launcher has just freed for it, resizing as necessary as it moves.
# If the Launcher was in auto-hide mode, it should then hide again.
# For as long as the item is waiting for other package transactions, the Launcher should show it as a greyed-out icon, with the help tip “Waiting to install”. Trying to launch the item should do nothing.
# While the item is installing, the Launcher should show installation progress by proportionally filling the icon with color. Trying to launch the item should still do nothing.
# When installation is complete, the launcher item should flash and become usable.

'''Draft implementation plan:''' USC should calculate where on screen it is displaying the application’s icon, then issue a D-Bus call of the form “com.canonical.Unity.Launcher Add``Launcher``Item``From``Position (icon, title, icon_x, icon_y, icon_size, desktop_file, aptdaemon_task)”, where:
* `icon` is the icon USC was displaying
* `title` is the <nowiki>[[#software-title|title]]</nowiki> of the item
* `icon_x` and `icon_y` are the screen coordinates of the center of the icon inside the USC window
* `icon_size` is the maximum of the width and height of the icon
* `desktop_file` is the desktop file that the item will launch once the installation is complete
* `aptdaemon_task` is the aptdaemon transaction ID.
The Launcher should handle the rest.

''For alternative designs that were considered, see /LaunchingApplications.''

=== Definitions used in this specification ===

 alert:: A <nowiki>[[#def-dialog|dialog]]</nowiki> that emits the standard alert sound (if any) when it opens, and requests attention if it opens in the background.

 alphabetically:: Following the <nowiki>[[http://unicode.org/reports/tr10/|Unicode Collation Algorithm]]</nowiki> for the user’s locale. For example, in an English locale, “Déjà Dup Backup Utility” should be sorted alphabetically between “Debian Documentation Browser” and “Desk``Scribe”.
 There are some <nowiki>[[https://bugs.edge.launchpad.net/ubuntu/+source/software-center/+bug/633238|existing bugs]]</nowiki> with categories not being sorted alphabetically.

 dialog:: A window that is modal to its parent (if it has one), only ever minimizes together with its parent (if it has one), and does not have any buttons in its title bar (except Minimize if it has no parent).

 em:: The height of the Gnome application font setting. For example, if the current Gnome application font setting works out to be 12 pixels, then 3 em = 36 pixels.

 leading:: Left whenever the system is using a left-to-right language. Right whenever the system is using a right-to-left language. (All mockups in this specification are of left-to-right layouts.)

 software item:: A package or an application. If `app-install-data` or an archive index refer to one and only one application in a package, the package itself should not be treated as a software item, because it is represented by the application instead. But if there are multiple applications in a package, or none at all, the package should be treated as a software item in itself.

 trailing:: Right whenever the system is using a left-to-right language. Left whenever the system is using a right-to-left language.

=== Roadmap ===

In Ubuntu 9.10 (October 2009), we shipped Ubuntu Software Center 1.0.2. This included:
* a graphical main entrance, that invited searching or browsing software by category
* fast search
* attractive, informative, and easy-to-understand presentation of individual applications within the interface
* the ability to continue browsing available software, and queue up installation/removal tasks, while other changes were being made
* better security than Add/Remove Applications (''i.e.'' use of Policy``Kit instead of `gksudo`)
* a redirector Web service (redirecting from `http://apt.ubuntu.com/p/package-name` to `apt:package-name`), to better cater for forums and other CMSes that do not allow direct `apt:` links.

In Ubuntu 10.04 LTS (April 2010), we shipped Ubuntu Software Center 2.0.2. This version:
* presented non-application packages in an understandable way
* helpfully subcategorized applications such as games, and also categorized non-application packages such as programming utilities, fonts, database software, and screensavers
* offered distinct listings for PPAs and other third-party repositories.

In Ubuntu 10.10 (October 2010), we shipped Ubuntu Software Center 3.0.4. This version:
* let people buy software from within USC
* incorporated apt: URL handling (replacing `apturl`)
* handled standalone `.deb` packages (replacing `gdebi`)
* showed a history of past installations/removals/purchases, including the ability to undo specific changes
* improved the presentation of category (then “department”) screens
* improved search results.

In Ubuntu 11.04 (April 2011), we shipped Ubuntu Software Center 4.0, with ratings and reviews for software, and many performance improvements.

In Ubuntu 11.10 (October 2011), we plan to ship Ubuntu Software Center 5.0, with a simpler layout and new ways of featuring interesting software.

=== Eventual scope ===

You should be able to:

* find software by: [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18315/|idea 18315]]</nowiki>``]
** name
** purpose (''e.g.'' “wireframe” → Dia)
** category and subcategory (''e.g.'' Games: Card Games) [``<nowiki>[[http://brainstorm.ubuntu.com/idea/14857/|idea 14857]]</nowiki>``]
** name of competitor (''e.g.'' “excel” → Open``Office.org Spreadsheet, Gnumeric, KSpread)
** misspelling (''e.g.'' “pigeon” → Pidgin)
** needed right now (by MIME type, codec, font, etc)
** vendor?
** class (debug vs. non-debug, applications vs. not [``<nowiki>[[http://brainstorm.ubuntu.com/idea/3144/|idea 3144]]</nowiki>``], etc)
** recommendation [Andrew Sayers]
** alternatives to programs you used in Windows (via Migration Assistant)
** software to make use of your custom hardware
** results previously returned by `command-not-found`
** habit (people who installed X also installed Y) (<nowiki>[[http://www.enricozini.org/2006/debtags/debtags-interesting-times/|suggested by Enrico Zini]]</nowiki>)
** suite (software for Java developers, software for film makers)
** what’s new [``<nowiki>[[http://brainstorm.ubuntu.com/idea/13762/|idea 13762]]</nowiki>``]
** whether it was recently installed or removed [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16953/|idea 16953]]</nowiki>``]

* get information about software
** what it does
** what people think of it (ratings and reviews) [UserReviewsInSynaptic] [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18729/|idea 18729]]</nowiki>``]
** what it looks like (screenshots or short videos) [``<nowiki>[[http://brainstorm.ubuntu.com/idea/15774/|idea 15774]]</nowiki>``]
** what the current version number is [``<nowiki>[[http://brainstorm.ubuntu.com/idea/13036/|idea 13036]]</nowiki>``]
** whether it is installed by default in Ubuntu
** whether it’s installed right now [``<nowiki>[[http://brainstorm.ubuntu.com/idea/19068/|idea 19068]]</nowiki>``]
** if it’s installed, how to launch it [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16216/|idea 16216]]</nowiki>``]
** if it’s not installed, how much there is to download, including dependencies [``<nowiki>[[http://brainstorm.ubuntu.com/idea/4613/|idea 4613]]</nowiki>``]
** whether it’s localized into your native language
** what it costs
** what its license is
** who provides updates for it, and for how long
** who provides tech support for it, and for how long
** how many of your friends have it installed already
** whether you have it installed already (and if so, how to find it)
** … all in your native language

* install software
** purchasing commercial software [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18538/|idea 18538]]</nowiki>``]
** quickly
** unpack — and maybe even install — downloaded packages while downloading the rest
** download a package only once when installing it over a LAN [``<nowiki>[[http://brainstorm.ubuntu.com/idea/19265/|idea 19265]]</nowiki>``]
** asynchronously (browse and select more stuff while other stuff is installing)
** pausing if you need to use your bandwidth for something else [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16643/|idea 16643]]</nowiki>``]
** downloading it once for multiple computers (subsuming APTonCD)
** read about updates while they are installing
** using Policy``Kit to install/uninstall/etc, but not needing authorization to update package lists

* get an overview of installed software
** how much is maintained for how long
** how much receives tech support from whom, and for how long
** how much is under which license
** even applications you installed from a .deb or compiled yourself [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18408/|idea 18408]]</nowiki>``]

* upgrade to the next version of Ubuntu
** know why you should upgrade
** without breaking PPAs
** insert an Ubuntu CD in Ubuntu and get an understandable result

=== Similar efforts ===

* <nowiki>[[http://catlingmindswipe.blogspot.com/2010/05/review-linux-mint-9-software-manager.html|Mint Software Manager]]</nowiki>
* <nowiki>[[http://packagekit.org/pk-screenshots.html|PackageKit Gnome]]</nowiki>
* <nowiki>[[http://www.getdeb.net|GetDeb.net]]</nowiki>
* <nowiki>[[http://www.dotdeb.com|dotdeb.com]]</nowiki> (Ubuntu software)
* <nowiki>[[http://appnr.com/|Appnr]]</nowiki>
* <nowiki>[[http://allmyapps.com/|AllMyApps]]</nowiki>
* <nowiki>[[http://www.playdeb.net|PlayDeb.net]]</nowiki>
* <nowiki>[[http://apperi.com/|Apperi]]</nowiki>
* <nowiki>[[http://appbodega.com/|Bodega]]</nowiki>
* <nowiki>[[http://listaller.nlinux.org/|Listaller]]</nowiki>
* <nowiki>[[http://ubuntu-tweak.com/|Ubuntu Tweak]]</nowiki>
* <nowiki>[[http://en.djl-linux.org/?q=node/18|djl]]</nowiki> (games only)
* <nowiki>[[http://en.opensuse.org/GameStore|Game Store]]</nowiki> (games only)
* <nowiki>[[http://www.intel.com/consumer/products/appup.htm|Intel® AppUp℠ Center]]</nowiki>

=== Unresolved issues ===

* Popularity measurements are skewed by default installs. [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16411/|Idea #16411: Do not rate the popularity of default apps]]</nowiki>``]
* Need to define keyboard navigation order.
* How to expose the package names in application lists, for those people who want to see them? Perhaps an off-by-default column in the listing.
* What the Center should do differently when it is running in a live CD session.
* What if the dependencies of something you choose to install conflict with the dependencies of something already waiting in the queue?
* How should we present items that Recommend (but do not Depend on) an item that you are about to remove?
* How should we present items that Recommend (but do not Depend on) an item that is about to be removed because of an item you are about to install?
* How to prioritize toolkits?
** For applications that have both GTK and Qt versions (''e.g.'' GDebi, Jockey, Qalculate), we should display the GTK+ version more prominently than the Qt version.
** To manage expectations, perhaps an application that uses a strange toolkit (''e.g.'' Tk, Gnustep) should be indicated with some sort of warning that it will behave differently from most Ubuntu applications.
* Handling broken packages.
* Handling packages with recommended add-ons that aren’t installed. [Seeker]
* We need keyboard equivalents for the common functions. This might include key combos for various sections (''e.g.'' a key combo for “Get Software”). [Jorge Castro]
* When a PPA maintainer changes the label of the PPA, when will USC update it?
* How do we use font screenshots from <nowiki>[[http://fonts.debian.net/]]</nowiki> instead of screenshots.debian? 
* How to provide better search results (facet search tags/categories on e.g. the left hand?)

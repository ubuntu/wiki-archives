{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This is the Kernel Team Meeting, started on 04 September 2007, 15H00 - 16H00 ( Etc/GMT).

== Attendance ==

* BenC
* rtg
* Hobbsee
* pkl_
* elkbuntu
* amitk
* zul
* Mithrandir
* pkern

== Agenda ==

* Team status
* Distro-qa bugs
* Open discussion

== Minutes ==
* Team Status
** pkl_: 
** Working on some kernel flavours for Gutsy,
** some bug work.
** '''ACTION''': pkl_ to follow up with Colin re. status of ntfs-write-support for userspace side.
** Busy with: Putting AUFS into the kernel, and testing Unionfs 2.1 (that Kyle added) with liveCDS

** amitk:
** Working on mainly changes to the build system to decouple UME patches from core Gutsy
** Moving LPIA to use the same configuration for UME custom builds

* Canonical-qa bugs
** bug #130804:
** '''ACTION''': Ben to test livecd on weybridge

** bug #131626:
** Seems to be a nv bug.

** bug #131661:
** '''ACTION''': Ben to get in touch with AMD/ATI to see about resolving the fglrx+slub+hibernate bug

** Sponsorship for UDS
** '''ACTION''': Everyone to submit blueprints for UDS.

* Community Patches
** None reported.

* Any Other Business
** None reported.

== IRC Logs ==

<pre>
05:01	zul	umm..
05:01	BenC	I'm trying to retrieve the rest of the team :)
05:03	zul	ok
05:03	Hobbsee	BenC: offer coffee
05:04	BenC	might take beer
05:05	Hobbsee	BenC: or beer.  beer is good too, it seems.
05:05	elkbuntu	add pizza to the offer and you're likely to have a winner
05:05	Hobbsee	mmm...pizza...
05:05	Hobbsee	BAD ELKBUNTU!
05:06	BenC	Well I know rtg isn't going to be here
05:06	elkbuntu	caffeinated beer (surely america has this, right?) and pizza
05:06	BenC	kyle left ottowa for cambridge last night
05:06	BenC	so just waiting on amitk
05:07	BenC	I, nm, he's here :)
05:07	amitk	Sorry..i am already here
05:07	elkbuntu	i win!
05:07	amitk	a few minutes late
05:07	BenC	Ok, welcome to the kernel team meeting
05:07	BenC	Meeting info (past and present) is at https://wiki.ubuntu.com/KernelTeam/Meeting
05:08	BenC	We'll start of with team status
05:08	BenC	pkl_: You're first up in reverse alpha order
05:10	BenC	pkl_: What's your current work load right now?
05:10	pkl_	working on some kernel flavours for Gutsy.
05:10	pkl_	some bug work and that's more or less been it.
05:11	BenC	pkl_: Do you know the status of ntfs-write-support for userspace side?
05:12	pkl_	No, I believe it should be in place now.
05:12	pkl_	but that's a guess.
05:12	BenC	Ok, can you check up on it, just to make sure someone isn't secretly blocking on some unknown issue
05:12	pkl_	Yeah, I'll check with Colin,
05:13	BenC	ok, thanks
05:13	BenC	what's your expected work for the next couple of weeks, other than the normal bugs+fixes?
05:14	pkl_	Um, bug fixing is probably going to be the main focus.
05:14	pkl_	I anticipate putting AUFS into the kernel, and testing Unionfs 2.1 (that Kyle added) with liveCDS
05:14	BenC	yeah...the unionfs seems to be high prio
05:15	amitk	pkl_: what is AUFS used for?
05:15	pkl_	AUFS = Alternative Unionfs File System.
05:16	pkl_	It is basically a re-implemented Unionfs by a third-party, which is commonly believed not to have as many bugs or issues than Unionfs
05:16	BenC	is AUFS something you just want to add for people who want to use it...not for livecd this late in the cycle, right?
05:16	pkl_	It would probably be useful to have in the Gutsy kernel, especially as a fall back for people having problems with Unionfs.
05:17	pkl_	It's probably too risky for the livecd now :)
05:17	BenC	ok...so the unionfs 2.1 is in lum now, expected to be included and used with this next upload?
05:17	pkl_	I think so, yes.
05:18	BenC	then yeah, testing livecd with that needs to be done asap
05:18	pkl_	Kyle was having some problems with the apparmor patches and Unionfs.  But that should be resolved.
05:19	BenC	sounds like you've got plenty to work on :)
05:19	pkl_	hopefully...
05:20	BenC	amitk: so how's things been going in the mobile team?
05:21	amitk	mainly changes to the build system to decouple UME patches from core Gutsy
05:21	BenC	are all the patches for lpia/ume included now?
05:21	amitk	Far from it
05:22	BenC	what's left to include
05:23	amitk	Let me rephrase it - All that is available is included now. But there are many things that are WIP e.g. the new upstream MMC stack to support SD/SDIO, ACPI thermal optimisations, peripheral drivers, etc.
05:24	BenC	Ah, ok
05:24	amitk	Last couple of weeks, after changing the build system, I have committed the thermal optimisation patches to UME. All a GPL driver for Marvell SD8686 SDIO WLAN chip was committed to LUM
05:24	BenC	earlier you had mentioned getting lpia arch/flavour building using the same patches, moving it to a custom-binary target
05:24	amitk	s/All/also
05:25	amitk	that is a next step yes - Moving LPIA to use the same configuration for UME custom builds
05:25	BenC	either we need to rename one of those flavours to match the other, or add another capability to the build system to use the ume custom-binary patches so we don't have duplicated in debian/binary-custom.d/{ume,lpia}/patchset/*
05:27	amitk	BenC: agreed. I would prefer dropping UME in favour of LPIA, but since we don't yet have a complete set of packages for LPIA, I will hold back until that happens
05:29	BenC	amitk: ok...does ubuntu-mobile expect for ume flavour to become obsolete by gutsy release?
05:29	BenC	if so, perhaps it isn't too important, knowing we'll just be ditching it in the end
05:31	amitk	BenC: yes, with a caveat - LPIA should be equivalent to current UME
05:31	BenC	userspace wise, or kernel wise?
05:32	amitk	package repository-wise
05:32	BenC	ok, that's what I figured
05:32	BenC	Ok...anything new and exciting in the power side for general desktop users?
05:33	BenC	I imagine you haven't had much time to look at that
05:33	amitk	not yet. However there isn't much on the UME side this week. So I hope to go over the powertop recommendations to make sure Gutsy already support them.
05:34	BenC	excellent, I've been looking forward to that
05:35	amitk	that is all from my side
05:36	BenC	everything's moving along it seems
05:36	BenC	amitk: thanks
05:37	BenC	Now we need to go over the canonical-qa bugs real quick...see if we can get some resolution on them
05:37	Mithrandir	amitk: hopefully, you'll be able to drop UME in a week or two.
05:37	BenC	link is on the agenda
05:37	BenC	Mithrandir: ah, good to know, thanks
05:37	amitk	Mithrandir: \o/
05:37	BenC	one less build on i386 is always a plus
05:38	Mithrandir	that's pending us having working lpia images by then, but it's on my plan for next week, so.
05:39	BenC	Damn, I'm not sure which of the bugs are hidden from public view...
05:39	BenC	bug #130804
05:39	ubotu	Launchpad bug 130804 in linux-source-2.6.22 "[Ubuntu Tribe3]  Cannot install by LiveCD (weybridge)" [High,Confirmed]  https://launchpad.net/bugs/130804
05:40	BenC	That one looks like a failure to detect IDE on the weybridge
05:40	BenC	amitk: this reminds me, I have to send you a weybridge...
05:41	BenC	ACTION: Ben to test livecd on weybridge
05:41	amitk	BenC: if that would spare my laptop from compiling our kernels, it would be much appreciated :)
05:42	BenC	amitk: I'll get it out this week :)
05:43	BenC	bug #131626
05:43	ubotu	Launchpad bug 131626 in linux-source-2.6.22 "Sleep wakes up but screen is blank" [Medium,Triaged]  https://launchpad.net/bugs/131626
05:46	BenC	that seems to be a nv bug
05:46	BenC	wonder if nvidia proprietary driver fixes it
05:47	BenC	bug #131661
05:47	ubotu	Launchpad bug 131661 in linux-source-2.6.22 "Hibernate button on keyboard doesn't work on System76 Z62F" [Medium,Incomplete]  https://launchpad.net/bugs/131661
05:47	BenC	that one doesn't really sound like a kernel bug
05:52	pkern	At least fglrx suspend-to-RAM breaks with SLUB allocator activated. Which is why I am here and waiting for open discussion. ;o) Maybe that could be switched back to SLAB at least until ATI fixes that issue.
05:52	BenC	pkern: doubtful, slub fixes more things :)
05:53	BenC	ATI just needs to fix their driver
05:53	pkern	BenC: It was the only option I switched to make it work again with 2.6.22.
05:53	pkern	BenC: Of course, but in the meantime we break suspend-to-RAM with fglrx for all users of Gutsy.
05:54	BenC	pkern: but that's not a fault of ours
05:54	BenC	slub fixed way too many things to make fglrx an exception for switching
05:55	BenC	but we can definitely look into
05:55	pkern	BenC: What did it fix? I thought it's only a speed advantage.
05:55	BenC	I wont say there's no chance of us switching back...just that it's very unlikely
05:55	BenC	pkern: turning it on exposed so many bugs that were hard to find with slab
05:56	BenC	slub has better error checking
05:56	BenC	and the speedup and reduced fragmentation is a huge advantage
05:56	BenC	we should talk with some folks at AMD/ATI to see about fixing this properly, instead of disabling slub just to accomodate it
05:57	pkern	BenC: I guess there can't be another flavour, right? There was a thread on LKML about it some time ago and all agree that it's ATI's fault, but so far there was no response. (It's listed in their inofficial bug tracker, but then I don't know who reads it.)
05:58	BenC	we don't do separate flavours just to work around a broken proprietary driver
05:58	BenC	sets a bad precedent :)
05:59	pkern	It would be really nice to see this fixed in fglrx, of course. But I don't know if suspend-to-RAM should be broken if SLUB mainly helps finding bugs easier. (Which I agree with for a development version.)
05:59	BenC	ACTION: Ben to get in touch with AMD/ATI to see about resolving the fglrx+slub+hibernate bug
05:59	pkern	BenC: Thanks (:
05:59	BenC	any other open items?
05:59	zul	yep just sponsorship for uds
06:00	BenC	pkern: thanks for bringing it up, I'll definitely see about getting it resolved
06:00	zul	since i have an expired passport ;)
06:00	BenC	zul: we're in the process of looking at who will be sponsored
06:00	zul	ok
06:01	BenC	kernel related sponsors have been submitted, but it's upper management that has final say
06:01	zul	other than that none from me
06:01	pkern	BenC: https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.22/+bug/121653/comments/15
06:01	ubotu	Launchpad bug 121653 in linux-source-2.6.22 "[gutsy]  Suspend to Ram does not work on Z61m" [Undecided,Confirmed]
06:01	BenC	pkern: thanks
06:02	BenC	Speaking of UDS, this is a good time to remind everyone that now's when you should start submitting blueprints for UDS
06:02	BenC	not the day UDS starts :)
06:03	BenC	So if there are any features you would like to see for gutsy+1, get to crackin
06:03	BenC	And I think that ends the meeting
06:04	BenC	Thanks everyone, and have a good week
</pre>

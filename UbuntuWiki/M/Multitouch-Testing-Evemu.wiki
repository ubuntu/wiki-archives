{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


=== Introduction ===

As part of the effort to produce an MT device and gesture testing framework, meet evemu, which provides tools to emulate kernel evdev devices.

Compared to evtest, the major differences are that these tools allow you to:
* first setup a device based on a description
* hook something to it like pymt or mtview, and
* then playback events through the device.

=== Overview ===

To describe a device in your machine:
<pre>
  $ sudo evemu-describe /dev/input/eventX > device.prop
</pre>
To record data from your device:
<pre>
  $ sudo evemu-record /dev/input/eventX > device.event
</pre>
To remotely setup a copy of the device:
<pre>
  $ sudo evemu-device device.prop
</pre>
The device node will be printed on the terminal, and will stay valid until the
program is terminated. To replay the input stream (beware that pointer clicks
can execute commands in your window manager):
<pre>
  $ sudo evemu-play /dev/input/eventY < device.event
</pre>
More interestingly, one can first setup a program like mtview to grab the input:
<pre>
  $ sudo mtview /dev/input/eventY
</pre>
and then replay the data, which will show every individual finger on the screen.

Given the evemu lib, one can time gestures by first setting up the device,
replay gestures on the device, and time the appearance of gestures in grail.

=== Debugging ===

The following are sample instructions for debugging an issue with touch:

# Install the software
# Determine the <code>/dev/input/event*</code> node for your device (See <nowiki>[[Multitouch-Testing-CheckingMTDevice|Checking your MT device]]</nowiki>)
# Switch to a virtual terminal (VT) by pressing ctrl-alt-f1 or running <code>$ sudo chvt 1</code>
# log in to the VT
# <code>$ sudo evemu-describe (insert event node here) > device.prop</code>
# <code>$ sudo evemu-record (insert event node here) > device.record</code>
# Swipe a few times on the touch device (touch screen, trackpad, etc.)
# Hit ctrl-c to stop the recording
# Switch back to X by pressing ctrl-alt-f7 or running $ sudo chvt 7 (If that doesn't work, try f8 or f9 or chvt 8 or chvt 9)

<code>evemu-record</code> will end when no activity has occurred for about 10 seconds. So after starting the recording, begin swiping within a few seconds. Then wait until the process finishes.

You can now send the device.prop and device.record files to your friends for their play-back and viewing pleasure :-)

To playback the recorded touch events/gestures, you only need do this:

# <code>$ sudo evemu-device device.prop</code> - this will create a new <code>/dev/input/event*</code> node for the virtual device
# <code>$ sudo evemu-play (/dev/input/event* node from step 1) < device.record</code>

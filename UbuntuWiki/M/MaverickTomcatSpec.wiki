{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-maverick-tomcat
* '''Created''': 2010-05-20
* '''Contributors''': ThierryCarrez
* '''Packages affected''': tomcat6

=== Summary ===

This spec is about further improvements to the Tomcat stack in Debian and Ubuntu.

=== Release Note ===

Apache Tomcat support in Ubuntu 10.10.10 is taken one step further with out of the box support for running the system instance under a specific user and other preseedable deployment options. More documentation makes it clearer how to package your applications for use with the tomcat6 package.

=== Rationale ===

Tomcat 6.0.x is the key Java deployment stack in Ubuntu. We must build on the improvements already delivered in 10.04 LTS to enhance even further the experience of using Tomcat in Ubuntu.

=== User stories ===

As a Java application deployer, I want to run Tomcat under a specific user name. I use the tomcat6 package available in Ubuntu 10.10.10 and I can preseed the user name I want to use.

As a Java application packager, I want to package my application for Ubuntu. I read the documentation on application packaging and I know the recommended options that I can follow.

=== Assumptions ===

None.

=== Design ===

==== Support running under a different user ====
* Fix tomcat to respect the user defined in /etc/default/tomcat6 (Bug Bug:557300)

==== Permissions review ====
* Fix issue with adm group (Bug Bug:569118)
* General directory permissions review

==== Add debconf/preseed options ====
* User to run under
* Default JVM values (-XmX)

==== Transition from libservlet2.[34]-java to libservlet2.5-java ====
* Ubuntu main packages have already been transitioned (before Lucid release)
* Those changes will be merged back in Debian in the following weeks
* Ubuntu universe packages are still to be transitioned, this will be done directly in Debian SVN

==== Documentation ====
* How to package applications with tomcat6
** When to use the system instance
** When/how to use a private instance
* Documentation workaround for ipv6/authbind situation

=== Implementation ===

==== Ubuntu team work ====

See work items in UbuntuSpec:server-maverick-tomcat whiteboard for details.

All this work will be submitted to Debian SVN for sync to Ubuntu.

==== Debian/Ubuntu common work ====
* libservlet2.5-java transition for universe packages

==== Debian-side work ====
* Documentation workaround for ipv6/authbind situation

=== Test/Demo Plan ===

''tbd''

=== Unresolved issues ===

None.

=== BoF agenda and discussion ===

==== UDS discussion notes ====

===== Maverick plans =====
* Improve default values (-XmX) (preseed)
* Support running under a different user (preseed ?)
* Permissions review/fix
* full transition from old libservlet2.[34]-java to libservlet2.5-java
* Documentation for how to package with tomcat6
** Using the system instance
** tomcat6-user

===== Maybe =====
* Apparmor profile (might be difficult to confine)
* Potential delta with debian ?
** Apport hook ?
** Upstartification ?
* ARM optimizations if needed
* Documentation workaround for ipv6/authbind situation

===== Idea brainstorm =====
* Deployment tools ?
* application packaging howto (liferay...)

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Git Implementation ==

See NoMoreSourcePackages for more advantages and/or implementation ideas.

This implementation uses two git repositories per package.  The source code itself (including ubuntu/debian specific patches) and debian/*.

A key difference of this approach is putting the patches directly with the source code.  This means git can manage merges, conflicts with the patches.  Upstream developers (more easily if they use git) can  pull the latest ubuntu/debian version, review the changes, and then merge.  

Another advantage is that the package will no longer need rules to clean, apply, or deapply patches.  Currently there are many packages that fail when built twice.

Initial Conversion to a git package <pre>
apt-get source nano
dpkg-source -x nano_2.0.2-1.dsc
cd nano-2.0.2
mv debian ../
git init-db
git add .
git commit
mv ../debian .
cd debian
git init-db
git add .
git commit
</pre>

Making a change to the package's source code <pre>

fakeroot debian/rules build-arch

git update-index CHANGED FILES
git commit

git push

git log
git diff REVA REVB

git push MY PERSONAL REPO
</pre>

To build <pre>
fakeroot debian/rules build-arch
</pre>

To clean <pre>
debian/rules clean
</pre>

For debian/ubuntu to remain in sync, it will be a matter of the devs running git pull with all hard merging work done for them.

Upstream Devs <pre>
git clone URL OF SOURCE PACKAGE
git log

git diff

git cherry-pick

</pre>

Bumping Packages <pre>
git pull #with version tag

[Download old version]
[Download new version]
[extract]
diff -Nru oldversion newversion > changeset
cd debianpackage
patch -p1 < changeset
git commit
dch -i
cd debian
git commit
</pre>

gitdeb.mk <pre>

clean:
        git-ls-files --ignored -x \* -o --directory | grep -v debian | xargs rm -rf
        cd debian && git-ls-files --ignored -x \* -o --directory | xargs rm -rf
</pre>

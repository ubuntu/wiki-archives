{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Howto connect to the Internet with a Nokia N70

'''Step 1''': Plug the data cable into your mobile phone and into your computer. Then see whether it was recognised by the kernel.

    tail /var/log/messages

Should result in something like the following output:
<pre>
    localhost kernel: [4295346.417000] usb 1-1: new full speed USB device using ohci_hcd and address3
    localhost kernel: [4295348.125000] cdc_acm 1-1:1.8: ttyACM0: USB ACM device
    localhost kernel: [4295348.133000] usbcore: registered new driver cdc_acm
    localhost kernel: [4295348.133000] drivers/usb/class/cdc-acm.c: v0.23:USB Abstract Control Model driver for USB modems and ISDN adapters
</pre>
We can deduce from the second line that linux can see the device at /dev/ttyACM0.

'''Step 2''': Configure Ubuntu to be able to communicate with your phone and use it to connect to the Internet.

Install ppp (handles modems and dialing) if it's not installed already:

<code>    sudo apt-get install ppp </code>

You will need to create a configuration file that tells Ubuntu how to handle communication with the phone. The files should be empty to start with.

<code>    sudo gedit /etc/ppp/peers/mobile </code>

Enter the following text:

<pre>
debug
noauth
connect "/usr/sbin/chat -v -f /etc/chatscripts/mobile"
usepeerdns
/dev/ttyACM0 115200
defaultroute
crtscts
lcp-echo-failure 0
</pre>

If the /var/log/messages output above showed something other than ttyACM0, substitute that in the above code.

Ubuntu will need to send some commands to your phone to tell it to connect to the Internet. These commands are stored in a chat script, and are sent when you try to connect.

<code>    sudo gedit /etc/chatscripts/mobile </code>

Enter the following text:

<pre>
TIMEOUT 35
ECHO ON
ABORT '\nBUSY\r'
ABORT '\nERROR\r'
ABORT '\nNO ANSWER\r'
ABORT '\nNO CARRIER\r'
ABORT '\nNO DIALTONE\r'
ABORT '\nRINGING\r\n\r\nRINGING\r'
'' \rAT
OK 'AT+CGDCONT=1,"IP","INTERNET"'
OK ATD*99***1#
CONNECT ""
</pre>

INTERNET has to be replaced with the name of the Access Point Name (APN) of your provider. It can (probably) be found in your phone's settings - I can get to it through the following path on my phone: Menu > Tools > Settings > Connection > Access Points. From there choose the access point you use to connect to the Internet (maybe the first one on the list or one which contains the abbreviation "GPRS" in it). Substitute what it says there where I have put "INTERNET" above. For Vodafone Germany this would be for example web.vodafone.de.

If you can connect to the Internet on your phone (without your computer), the configuration scripts above should work. If not, look around in the links given below and see whether you can resolve the problem. The most likely points of failure are the 'AT+CGDCONT=1,"IP","INTERNET"' and ATD*99***1# sections.

The user account also needs to be able to dial out. You are probably allowed to do this already, but this should take care of it if you're not (using your Ubuntu login name):

<pre>
    sudo adduser your-username-here dialout
</pre>

'''Step 3:''' You should now be ready to connect. To dial, use the "pon" command, and to disconnect, use the "poff" command.

    pon mobile

    poff mobile

'''Troubleshooting'''

Whatever messages are communicated between Ubuntu and your phone, should show up in /var/log/syslog. The easiest way to see what's happening in the process is to open another terminal and use the following command before connecting with the commands above:

<code>    tail -f /var/log/syslog </code>

Whatever messages are written to the log, will now be displayed on your terminal "live".

Useful Commands

<pre>
tail /var/log/messages 
lsusb 
pon 
poff 
tail -f /var/log/syslog
</pre>

'''External Resources'''

*** http://help.ubuntu.com/community/BluetoothDialup
*** http://www.orthodox.org.za/Community...daphone3g.html
*** http://mybroadband.co.za/vb/showthread.php?t=21726
*** http://bitubique.com/content/view/26/42/

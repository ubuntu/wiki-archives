{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== About me ===

* Occupation: Student (economical informatics)
* Location: Oldenburg, Germany

=== Contact ===

* ICQ: 72752966
* Email: 
=== ATI Installation Script ===

Installation script for the ATI Radeon drivers (>=8.28.8) for Ubuntu Version 0.1 beta

<code> ati-driver-installer.sh </code>: 
<pre>

export VERSION="8.29.6"
export UBUNTU="dapper"

echo "Script for installing the ATI Radeon drivers in Ubuntu"
echo
echo "*** Download the ATI Driver Installer from www.ati.com and save the installer into this directory."
sleep 2
if [ `ls -al /bin/ | grep -c sh.old` != "1" ]; then
	echo
	echo "*** If you get a syntax error saying: Bad substitution there's probably a problem with the Shell 'dash'. This problem can be fixed by replacing the Shell 'dash' with 'bash'." 
	echo -n ">>> Do you want to temporarly replace the Shell for this installation? [yes/no]: "
	read qtint
	if [ "$qtint" = "yes" ]; then 
		echo "*** Replacing the Shell 'dash' with 'bash'..."
		sudo mv /bin/sh /bin/sh.old
		sudo ln -sf /bin/bash /bin/sh
		export tmpinst="1"
		sleep 2
	else 
		echo "*** Check for yourself that the packages are generated successfully."
		sleep 2 
	fi
fi

echo
echo "*** IMPORTANT: Make sure the universe section of the Ubuntu repositories is enabled."
echo "*** Installing necessary tools for compiling..."
sudo apt-get update
sudo apt-get install fakeroot module-assistant build-essential debhelper linux-headers-386  linux-restricted-modules-386  linux-restricted-modules-common
sleep 2

echo
if [ `gcc --version | grep -c " 4."` != "0" ]; then
	echo "*** The current ATI drivers need gcc version >= 4.0. Your version of gcc seems to be ok."
else
	echo "*** The current ATI drivers need gcc version >= 4.0. Your version of gcc seems to be too old. Please install a newer version of gcc."
	echo -n "Your version of gcc is "
	gcc --version | grep gcc
	echo
	echo ">>> Installation aborted!"
	exit
fi
sleep 2

echo
echo "*** Removing old ATI installation packages in this folder..."
sudo rm -f fglrx-*.deb
sudo rm -f xorg-driver-fglrx*.deb
sudo rm -f fglrx*.changes
sleep 2

echo
echo "*** Creating ATI driver packages for Ubuntu..."
chmod +x ati-driver-installer-$VERSION.run
bash ati-driver-installer-$VERSION.run --buildpkg Ubuntu/$UBUNTU
sleep 2

echo
echo "*** Removing old ATI driver packages..."
sudo apt-get remove -y fglrx-control fglrx-kernel-$(uname -r) fglrx-kernel-source fglrx-sources xorg-driver-fglrx xorg-driver-fglrx-dev
sleep 2

echo
echo "*** Installing new ATI driver packages..."
sudo dpkg -i xorg-driver-fglrx*.deb
sudo dpkg -i fglrx-*.deb
sleep 2

echo
echo "*** Removing old fglrx packages from linux kernel..."
sudo rm -f /usr/src/fglrx*.deb
sleep 2

echo
echo "*** Compiling the fglrx kernel module..."
sudo module-assistant prepare,update
sudo module-assistant a-i fglrx-kernel-source
sudo depmod -a
sleep 2

echo
echo "*** Updating the X.org configuration..."
sudo aticonfig --initial
sudo aticonfig --overlay-type=Xv
sleep 2

echo
echo "*** Removing ATI installation packages in this folder..."
sudo rm -f fglrx-*.deb
sudo rm -f xorg-driver-fglrx*.deb
sudo rm -f fglrx*.changes
sleep 2

echo
echo "*** Linking DRI modules..."
sudo ln -s /usr/lib/dri /usr/lib/xorg/modules/dri
sleep 2

if [ "$tmpinst" = "1" ]; then 
	echo "*** Setting back the Shell to 'dash'..."
	sudo rm /bin/sh
	sudo mv /bin/sh.old /bin/sh
	sleep 2
fi

echo
echo ">>> Installation finished."
echo "*** Finally disable the module 'fglrx' in /etc/default/linux-restricted-modules-common."

</pre>

----
Invovled at:
<nowiki>[[LaptopTestingTeam/AsusA6V]]</nowiki>
----
CategoryHomepage

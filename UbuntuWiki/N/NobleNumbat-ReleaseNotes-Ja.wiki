{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;">
|}

== Noble Numbat リリースノート ==
== 目次 ==

* <nowiki>[[#heading--introduction | イントロダクション]]</nowiki>
* <nowiki>[[#heading--new-features-in-24-04-lts | Ubuntu 24.04 LTS の新機能]]</nowiki>
* <nowiki>[[#heading--known-issues | 既知の問題]]</nowiki>
* <nowiki>[[#heading--official-flavours | 公式フレーバー]]</nowiki>
* <nowiki>[[#heading--more-information | より詳しい情報]]</nowiki>

== イントロダクション ==

このリリースノートには、 '''Ubuntu 24.04 LTS'''（Noble Numbat）のリリース概要とUbuntuとそのフレーバーに関する既知の不具合を記述しています。

=== サポート期間 ===
Ubuntu 24.04 LTS は2029年6月までの5年間サポートされます。もし、Long Term Support（長期サポート）版が必要な場合、24.04.1 リリースされるまでは <nowiki>[[https://wiki.ubuntu.com/JammyJellyfish/ReleaseNotes/Ja |Ubuntu 22.04 LTS]]</nowiki>を利用してください。

=== アップグレード ===

Ubuntu 23.10 のユーザーは、リリース後すぐに24.04への自動アップグレードが提供されます。
ただし、22.04 LTSのユーザーには、8月15日に予定されている24.04.1 LTSのリリース時に、自動アップグレードが提供されます。

== Ubuntu 24.04 LTS の新機能 ==

=== armhf 2038問題へのサポート ===
Ubuntu 24.04 LTSは、armhfに存在した<nowiki>[[https://en.wikipedia.org/wiki/Year_2038_problem | 2038年問題]]</nowiki>を解決します。1000以上のパッケージが更新され、32ビットではなく64ビットの値を使って時間を扱うようになり、2920億年先までの時間を扱えるようになりました。

=== 更新されたパッケージ ===

=== Linux kernel 🐧 ===
Ubuntu 24.04 LTS は、多くの新しい機能を伴った、新しい Linux Kernel 6.8 とともに提供されます。

詳細な変更点は、<nowiki>[[https://discourse.ubuntu.com/t/introducing-kernel-6-8-for-the-24-04-noble-numbat-release | Noble Kernel リリースノート]]</nowiki>の投稿で報告されています。

=== systemd v255.4 ===

init システムは systemd v255.4 に更新されました。より詳細な、各機能に関する情報は <nowiki>[[https://github.com/systemd/systemd/releases/tag/v255 | upstream changelog]]</nowiki> を確認してください。

=== Netplan v1.0 🌐 ===

ネットワークスタックは<nowiki>[[https://github.com/canonical/netplan/releases/tag/1.0 | Netplan バージョン 1.0]]</nowiki>に更新されました。WPA2 と WPA3 の同時使用、高性能 SR-IOV ネットワーキングのための Mellanox VF-LAG、VXLAN の改良をサポートしています。また、<nowiki>[[https://netplan.readthedocs.io/en/stable/apidoc/ | stable libnetplan1 API]]</nowiki> や、設定とシステム状態の違いを見つけるための新しい `netplan status --diff` サブコマンドも提供します。詳しくは、<nowiki>[[https://ubuntu.com/blog/introducing-netplan-v1 | Introducing Netplan v1.0]]</nowiki>のブログ記事をご覧ください。

=== ツールチェインのアップグレード🛠️ ===

* GCC 🐮 14 に、 binutils は 2.42 に、glibc は 2.39 に更新されました。
* Python 🐍 はデフォルトでは 3.12 に更新されました。
* OpenJDK ☕ はデフォルトでは LTS バージョン 21 に更新されました。
* LLVM 🐉 はデフォルトではバージョン 18 に更新されました。
* Rust 🦀 ツールチェインはデフォルトではバージョン 1.75 に更新されました。
* Golang 🐀 は 1.22 に更新されました。
* .NET 8 がデフォルトになりました。

==== OpenJDK ====
Ubuntu 24.04 LTS は、バージョン 17、11、8 のサポートを維持しながら、OpenJDK LTS 21がデフォルトになりました。OpenJDK 17と21は Java 標準に準拠し、他の Java プラットフォームとの相互運用性を確保した TCK 認証も受けています。Ubuntu Pro ユーザー向けに、FIPSに準拠した特別な OpenJDK 11 パッケージも利用できます。

==== .NET ====
.NET 8 の導入によって、Ubuntu は .NET コミュニティのサポートにおいて重要な一歩を踏み出します。.NET 8 は、Ubuntu 24.04 LTS と 22.04 LTS の両リリースのライフサイクル全体で完全にサポートされます。これによって、開発者は Ubuntu リリースをアップグレードする前に、アプリケーションを新しい .NET バージョンにアップグレードできます。24.04 LTS からは、.NET のサポートが IBM System Z プラットフォームにも拡張されました。

.NET 6 と.NET 7 の限定サポートパッケージは、<nowiki>[[https://launchpad.net/~dotnet/+archive/ubuntu/backports | PPA]]</nowiki>から入手できます。

==== Apport ====
Apport クラッシュを取り扱うため、 systemd-coredump との統合を追加しました。Ubuntu の開発者は systemd-coredump をまとめてインストールし、coredumpctl を使ってクラッシュデータを解析できるようになりました。Apport は引き続きクラッシュ情報を収集し、Ubuntu Error Tracker と Launchpad に送信します。

=== セキュリティ対策の改善🔒 ===

==== 非特権ユーザーネームスペースの制限 ====

`apparmor`パッケージと組み合わせて、Ubuntu カーネルは、非特権ユーザーネームスペースの使用を制限するようになりました。これは、システム上の非特権で制限されていないすべてのプログラムに影響します。デフォルトのAppArmorプロファイルが提供され、非特権および非制限アプリケーションのユーザーネームスペースの使用は許可されますが、その後のユーザーネームスペース内でのあらゆる機能の使用は拒否されます。非特権ユーザーネームスペースの一般的な利用ケースは、独自のサンドボックスを構築するアプリケーションや、コンテナワークロードのスタイルで動作するアプリケーションです。そのため、非特権ユーザーネームスペースの利用を許可する AppArmor プロファイルは、Ubuntu アーカイブから来る一般的なアプリケーションやフレームワーク、Google Chrome、Discord などの人気のあるサードパーティ製アプリケーションにも提供されています。これは、非特権ユーザーネームスペースによってもたらされる、より大きな攻撃対象領域を軽減しようとする、次のステップとなります（最初のステップは、デフォルトでは有効になっていなかった Ubuntu 23.10 でのこの機能の導入でした）。

このようなプロファイルを必要とする可能性のある、すべてのアプリケーションを特定するため、多大な努力が払われていますが、追加のプロファイルが必要となるケースもあることが予想されます。

この場合、問題が発生した場合のために、いくつかのオプションがあります。

** アプリケーションを AppArmor プロファイルで制限します。これは潜在的にわずらわしくなる可能性があるため、新しい `unconfined` プロファイルモード/フラグが AppArmor に追加されました。これは、基本的にアプリケーションが制限されない AppArmor の unconfined モードのように動作するプロファイルを指定するもので、 `userns,` パーミッションのような追加のパーミッションを許可することができます。このようなプロファイルは、例えば<nowiki>[[https://www.google.com/chrome/?platform=linux | Google Chrome]]</nowiki>の場合、以下のようになり、 `/etc/apparmor.d/chrome` ファイル内に配置されます :
  
<pre>
    abi <abi/4.0>,

    include <tunables/global>

    /opt/google/chrome/chrome flags=(unconfined) {
      userns,

#### Site-specific additions and overrides. See local/README for details.
      include if exists <local/chrome>
    }
    </pre>
 
    あるいは、アプリケーションの完全な AppArmor プロファイルを作成することもできます（<nowiki>[[https://ubuntu.com/server/docs/security-apparmor | AppArmor]]</nowiki> ドキュメントを参照してください）。

** 非特権ユーザーネームスペースを使用しない方法で、アプリケーションを起動します（例: `google-chrome-stable --no-sandbox` など）。しかし、これはアプリケーション内部のセキュリティ機能を無効にするため推奨されません。代わりとして、上記で説明した `unconfined` プロファイルモードを使用してください。

** 1回のブートで `echo 0 | sudo tee /proc/sys/kernel/apparmor_restrict_unprivileged_userns` を実行し、システム全体でこの制限を無効にします。この設定は再起動すると失われます。これは以前の動作と似ていますが、非特権ユーザーネームスペース機能を悪用するカーネルの脆弱性に対する攻撃への緩和にはなりません。

** 以下の内容で新しいファイル（`/etc/sysctl.d/60-apparmor-namespace.conf`）を追加し、永続的な設定としてこの制限を無効にします:
  
    <pre>
    kernel.apparmor_restrict_unprivileged_userns=0
    </pre>
    
    再起動します。これは以前の動作と似ていますが、非特権ユーザーネームスペース機能を悪用するカーネルの脆弱性に対する攻撃を緩和するものでありません。

==== TLS 1.0、1.1、およびDTLS 1.0は強制的に無効化されます ====

* openssl を使用するソフトウェアについては、20.04 から無効化されるようになりました
* gnutls を使用するソフトウェアについては、強制的に無効化されます（ openconnect は例外となります）

==== opensslとgnutlsのシステム設定をより一貫したものにしました ====

一部のライブラリでは、設定にアクセスできない場合でもエラーとならない場合があります。これは apparmor が設定ファイルへのアクセスを許可していない場合に発生する可能性があります。openssl と gnutls が広く普及しているため、apparmor のルールはデフォルトで設定ファイルへのアクセスを許可するようになりました。そのため、システム全体の設定がより適切に行われるようになります。

==== 1024 ビット RSA による APT リポジトリ署名キーの非推奨と無効化 ====

24.04のAPTは、リポジトリに 2048 ビットより小さくない RSA 鍵か、Ed25519、または Ed448 で署名することを要求します。古い Launchpad PPA をより強力な鍵で再署名する作業はまだ何週間か続いているため、これは当初は警告に過ぎません。

Launchpad PPA が再署名されたら、影響を受ける PPA を削除して再度追加し、警告を停止することで新しい署名鍵に手動で移行する必要があります。

この警告がエラーとなる最終的な APT 2.8.0 のリリースは、再署名が完了した後しばらくしてから安定版として公開されるはずです。

==== pptpd は削除されました ====
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/2041751 | pptpd と bcrelay は削除されました]]</nowiki>

==== 依存性を削減した OpenSSH ====

XZ-utils のバックドアにより、ubuntu の openssh は libsystemd に依存しなくなり、依存関係の数が減り、将来的なセキュリティの問題が発生しにくくなります。

==== パッケージのセキュリティ強化の改良 ====

パッケージは現在、セキュリティ強化機能でビルドされており、未発見のセキュリティ脆弱性の多くを阻止し、これらを悪用できないようにしています。

<nowiki>[[https://wiki.ubuntu.com/ToolChain/CompilerFlags | gcc コンパイラ]]</nowiki>と dpkg のデフォルトが `-D_FORTIFY_SOURCE=2` から `-D_FORTIFY_SOURCE=3` に変更され、バッファオーバーフローの検出と緩和が大幅に向上しました。

dpkg のデフォルトが `-mbranch-protection=standard` 利用するように変更され、arm64 におけるコード再利用攻撃を軽減できるようになりました。

=== パフォーマンス ⚡ ===

==== パフォーマンスエンジニアリングツール ====

パフォーマンスエンジニアリングツールのセットは、関連する Ubuntu システムにデフォルトでインストールされています。さらに、パフォーマンスと信頼性の問題のデバッグを支援するため、 performance-tools メタパッケージが作成されています。詳しくは<nowiki>[[https://discourse.ubuntu.com/t/spec-include-performance-tooling-in-ubuntu/43134 |仕様]]</nowiki>を参照してください。

=== デフォルト設定の変更 ⚙ ===

いつものように、デフォルトには多くの変更があり、ほとんどはパッケージの新しいバージョンによるものです。ただし、以前の自動化、設定、チューニングがこれらの設定になんらかの形で依存していた場合、いくつかは説明する価値があります。

==== proposed ポケットの apt プライオリティ ====

proposed ポケットは、ソフトウェア更新におけるステージング領域で利用されます。これらの更新は広く一般ユーザーに公開される前に、proposed ポケットに置かれます。

しかし、過去には誰かがテストのために proposed ポケットを有効にすると、proposed ポケットにあるものすべてがシステムに溢れかえってしまう問題がありました。
もし、その中のパッケージの1つだけが奇妙に壊れていたら、あなたの環境でも同じように壊れているでしょう。そして、それはあなたが本当に気にかけていることと無関係なところであれば、定期的なテストに多くの労力を費やすことになり、魅力は半減してしまいます。

デフォルトの優先度を変更することで、ユーザーが意図せずに不安定な可能性のあるアップデートをインストールする可能性が低くなります。そのため、 proposed ポケットのデフォルトのaptの優先度は500から100に下げられました。この変更は Ubuntu Lunar にてすでに行われていましたが、Noble はこれを適用する最初の Ubuntu LTS であり、したがって、以前の proposed ポケットからの消費時間がはるかに長くなります。

この変更により、ユーザーは proposed ポケットから選択的にパッケージをインストールできるようになりました。また、より意識的にアップデートの選択とテストが可能になります。
新しいバージョンのパッケージは、例えば `apt-cache policy` 経由で常に見ることができますが、自動インストールはされなくなります。
proposed からパッケージをインストールするには、`apt install <package>/<release>-proposed` のように、インストールしたいポケットを選択する必要があります。

上記は、変更を意識的にテストするのに大いに役立ちます。一方で、自動化された（ほぼ）すべての新バージョンのパッケージを定期的にテストする人にとっては大きなシグナルとなります。特に、独自のワークロードを持つカナリアセットアップでは、他の場所でテストされたものと異なる可能性があるため、意図せず特定のセットアップを壊してしまうことを防ぐことができます。

したがって、こういった状況で、常に proposed とされたものからすべてを取得するといった古い動作に戻りたい場合は、proposed ポケットのバージョンが残りの Ubuntu アーカイブと同じレベルで競合するように、適切なピンの優先順位を 500 に戻す必要があります。これを行うには、`/etc/apt/preferences.d/bump-proused-prio` のようなファイルに次の内容を記述します:

<pre>
Package: *
Pin: release a=noble-proposed
Pin-Priority: 500
</pre>

==== deb822 によるソース管理 ====

Ubuntu のソース設定は、 去年既に deb822 に移行した PPA にあわせて、`/etc/apt/sources.list` から、より機能の高い deb822 形式である `/etc/apt/sources.list.d/ubuntu.sources` に移動しました。 詳細については、<nowiki>[[https://discourse.ubuntu.com/t/spec-apt-deb822-sources-by-default/29333/19 |仕様]]</nowiki>を参照してください。

==== unattended-upgrade によるサービスの再起動 ====
`needrestart` パッケージが修正され、ライブラリのアップグレードを影響を受ける場合、体系的サービスを再起動するようになりました。そして、これは `unattended-upgrade` のような非対話的なシナリオにも適用されます。この変更の理由は `unattended-upgrade` のデフォルトではセキュリティアップデートのみであり、サービスの再起動の失敗は、アップデートにより修正されるはずのセキュリティ問題に実行中のデーモンが晒されたままになるということを意味するためです。

`/etc/needrestart/needrestart.conf` の `override_rc` に特定のサービスを追加することで、そのサービスを自動的な再起動から除外することもできます。

詳細は<nowiki>[[https://discourse.ubuntu.com/t/needrestart-changes-in-ubuntu-24-04-service-restarts/44671/1 | Discourseの投稿]]</nowiki>を参照してください。

==== irqbalance はデフォルトでインストールおよび有効ではなくなりました ====
`irqbalance` サービスはマルチプロセッサーシステムでプロセッサー間にハードウェア割り込みを分散させることでパフォーマンスの向上をさせるために設計されています。これは特に複数のデバイスが CPU からの注目を競い合うようなサーバー構成で特に便利です。また、 <nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel/2010-January/029939.html | あるディスカッション]]</nowiki>に基づいてきたことや、<nowiki>[[https://git.kernel.org/pub/scm/linux/kernel/git/torvalds/linux.git/commit/?id=8b8e8c1bf7275eca859fe551dfa484134eaf013b | カーネルが積極的にこれをユーザー空間に委任していたこと]]</nowiki>に関連し、　`irqbalance` サービスは Ubuntu において 14 年にわたりデフォルトで有効となり、利用されてきました。

しかしながら、より広範なエコシステムの発展に伴い、ほとんどの状況において irqbalance は時代に追いつけなくなっています。 `irqbalance` は引き続き有用ではあるものの、システム管理者が調整しない限り、 `irqbalance` の提供するポリシーでは、カーネルに組み込まれたデフォルトのポリシーに対して有意な改善が見られません。

それと同時に、 `irqbalance` が問題を引き起こすケースもいくつか報告されているため、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubuntu-meta/+bug/1833322 | 長期間にわたり議論が続けられています]]</nowiki>。 `irqbalance` は通常、仮想化ゲストに対しては意味をなさず、手動でのチューニングやその他の電力消費やレイテンシーターゲットと競合することもあります。さらに、カーネル、特に多数のデバイスドライバーは当時より進化しており、大抵は同等以上の仕事をこなしなす。

特に cloud images のようないくつかの特定のシナリオでは、すでに以前から  `irqbalance` はデフォルトで無効になっています。同じようなやり方で、別のいくつかの(そしてもっとあるかもしれない)シナリオでは、このプラットフォームではそれがより有用であるという証拠があり、デフォルトで有効のままとしているものもあります。

=== tzdata パッケージの分割 ===
tzdata パッケージは tzdata、 tzdata-icu、 tzdata-legacy に分割されました。 tzdata パッケージは地理的な地域(大陸ないしは大洋)および都市名の現在のルールに従ったタイムゾーンのみを提供しています。すべてのレガシーなタイムゾーンのシンボリックリンク(アップストリームの backward ファイルで言及されている古いないしは統合されたタイムゾーン)は tzdata-legacy パッケージに移動しました。これには US/* タイムゾーンが含まれます。

レガシーなタイムゾーンや以前の挙動を復元する必要があるケースでは、 tzdata-legacy をインストールしてください。この操作はシステムがネットワーク越しにタイムゾーンを認識するデータを提供する(例: SQL データベース)場合に必要となるかもしれません。

=== Ubuntuデスクトップ ===

==== インストーラーとアップグレード ====

* 私たちは、"device bootstrap"ステージに続いて、"first boot initialization" と "desktop welcome" ステップを包含する、より一般的な "provisioning" アプローチへの第一歩を踏み出しました。
*** これは、ubuntu-desktop-installer がより大きな ubuntu-desktop-provision プロジェクトの一部となり、ubuntu-desktop-bootstrap に名前が変更されたことを意味します。
*** 中心となる設定ファイル経由でカスタマイズ可能な、改良された UI デザインが付属しています。デフォルトの画像アセットは、カスタマイズされたアクセントカラーに自動的に従うことも、フレーバーや OEM プロバイダーのニーズに応じて、全体的に交換することもできます。

* 上級ユーザが subiuity/cloud-init の自動インストール機能の恩恵を受けられるように、インストール中にネットワーク URL から autoinstall.yaml をサイドロードできる専用ページを追加しました。

* '''ZFS guided installations''' のサポートを再導入し、ストレージ管理のニーズに合わせて利用できる柔軟性と選択肢を強化します。 これは、 Subiquity ベースのインストーラーの新しい実装であり、デフォルトでは暗号化がありません。 暗号化された ZFS ガイド付きオプションは、将来のリリースで開発される予定です。

* Ubuntu 23.10 から '''TPM-backed full-disk encryption''' (FDE) が実験的機能として導入されています。これは Ubuntu Core での複数年にわたる経験を元にしています。サポートされている環境では、ブート字に毎回手動でパスフレーズを入力する必要がなくなります。この面倒な作業の代わりに、TPM が複合鍵を安全に管理し、物理的な攻撃に対するより高度なセキュリティを提供します。この新機能はスムーズなユーザー体験を提供するとともに、セキュリティに関する新しい機能を提供します。これは特にエンタープライズ環境で役に立つでしょう。なおこれまでのパスフレーズ入力を必要とする FDE も、これらを利用するユーザー向けに残されています。この新機能はあくまで実験的なもので、テストするときには注意が必要です。より詳細は <nowiki>[[https://ubuntu.com/blog/tpm-backed-full-disk-encryption-is-coming-to-ubuntu|TPM-backed Full Disk Encryption is coming to Ubuntu]]</nowiki> ブログ投稿を参照してください。また、<nowiki>[[https://bugs.launchpad.net/ubuntu-desktop-installer/+filebug|Launchpad上でのubuntu-desktop-installer projectへのバグ報告もお願いします]]</nowiki>。

  既知の制限: 

** TPM 2.0が必須。
** 一部のハードウェア構成のみをサポート。
** 外部カーネルモジュールは未サポート。たとえば NVIDIA 製のグラフィックカード。
 
* 設定ファイル <code>/etc/netplan/01-network-manager-all.yaml</code> (Network Manager 用に Netplan が『レンダリング』するもの) は、 <code>/lib/netplan/00-network-manager-all.yaml</code> に移動され、編集されるべきでないこと明確化するようになりました。また、<code>ubuntu-settings</code> パッケージの所有物になりました。アップグレードする場合、これまで変更されていない場合はこの移動は暗黙で実施されます。もし変更されている場合も移動は行われますが、既存の古いファイル <code>/etc/netplan/01-network-manager-all.yaml.dpkg-backup</code> に残されます(<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubuntu-settings/+bug/2020110|LP: #2020110]]</nowiki>)。

 
* '''NetworkManager が Netplan を使うようになりました:''' NetworkManager は、デフォルトの設定保存バックエンドとして Netplan を利用するようになりました。アップグレードにおいて、全ての接続プロファイルは <code>/etc/NetworkManager/system-connections/</code> から <code>/etc/netplan/90-NM-*.yaml</code> へ暗黙で移動され、Netplanによってレンダリングされる <code>/run/NetworkManager/system-connections/</code> に配置される一時ファイルによる設定に移行されます。オリジナルプロファイルのバックアップは、自動的に <code>/var/lib/NetworkManager/backups/</code> に保持されます。(詳しくは <nowiki>[[https://netplan.readthedocs.io/en/stable/netplan-everywhere|NetworkManager YAML settings backend]]</nowiki> と <nowiki>[[https://bugs.launchpad.net/netplan/+bug/1985994|LP: #1985994]]</nowiki> を参照してください)。

* '''ADSys による Active Directory における証明書の自動登録:''' Windows Server では、グループポリシーによる証明書の自動登録機能を備えています。この証明書自動登録インターフェースは Microsoft によって提供されており、Windows クライアントでは自動的に動作します。

  ADSys は、AD の提供する証明書自動登録機能を、 Wi-Fi や VPN ネットワークの構成のスムーズな構成用に導入します。自動登録により、証明書を手動で事前導入する、たとえば事前に生成した証明書を用いて証明局とやりとりをするような、面倒な手順が省略されます。これによりIT管理が簡便になり、さらに秘匿されるべきデータの取り扱いに伴うセキュリティリスクを最小限にすることができます。 

* インストーラーは自ら更新できるようになり、新しいバージョンが利用可能であれば、インストールの初期段階でユーザーに更新を促すようになりました。

* '''Power Profiles Manager''' は<nowiki>[[https://gitlab.freedesktop.org/upower/power-profiles-daemon/-/releases/#0.21 | 改良および最適化された]]</nowiki> ことで、より優れた新しいハードウェア機能 (特に AMD) をサポートし、複数の最適化ドライバーをサポートできるようになり、バッテリーのみで実行する場合に最適化レベルを自動的に高めるバッテリー対応機能も追加されました。

* '''fprintd''' が更新され、<nowiki>[[https://gitlab.freedesktop.org/libfprint/libfprint/-/releases#v1.94.7 | libfprint が他の多くの指紋ドライバやデバイスをサポートするようになりました]]</nowiki>。

==== 新しいストアアプリケーション ====

* 新しいストアアプリケーション、 '''Ubuntu App Center''' が登場しました。これは既存の Snap Store を置き換えるものです。このアプリケーションは、Flutterツールキットを用いてゼロから開発されました。
** 23.10 以降の新機能として、Ubuntu App Center にゲームページが追加されました

* 新しいスタンドアロン '''Firmware Updater''' アプリケーションが amd64 と arm64 の両方で利用可能となりました。これにより、完全なアプリストアをバックグラウンドで継続的に実行することなく、ファームウェアを更新できるようになりました。

==== GNOME 👣 ====
 
* GNOME はアップデートされ、最新の <nowiki>[[https://release.gnome.org/46/|GNOME 46]]</nowiki> ベースの新機能と改善を提供します。

==== デフォルトアプリケーションの変更 ====
* デフォルトの Ubuntu Desktop のインストールは、 '''minimal''' になりました。このバージョンでも "Expanded installation" オプションが維持されており、初回ブートの時点で LibreOffice や Thunderbird などのようなアプリケーションを導入することができます。

* 拡張インストールでは、ウェブカメラアプリは Cheese ではなく GNOME Snapshot によって提供されるようになりました

* ゲームはデフォルトではインストールされなくなりました

==== 更新された Ubuntu font ====

Ubuntu フォントファミリーのよりモダンでスリムなバージョンが標準としてリリースされました。22.04 で使用していた古い Ubuntu フォントに戻したい場合は、`fonts-ubuntu-classic` パッケージをインストールしてください。

==== 更新されたアプリケーション ====

* <nowiki>[[https://mozilla.org/firefox/releases/ | Firefox]]</nowiki> 124 🔥🦊
** Firefox は、このリリースからネイティブの <nowiki>[[https://discourse.ubuntu.com/t/firefox-snap-with-wayland-enabled-by-default-in-ubuntu-23-10-mantic-minotaur/38660 | Wayland application]]</nowiki> になりました
* <nowiki>[[https://wiki.documentfoundation.org/ReleaseNotes/24.2 | LibreOffice 24.2]]</nowiki> 📚
* <nowiki>[[https://blog.thunderbird.net/2023/07/our-fastest-most-beautiful-release-ever-thunderbird-XY-supernova-is-here/ | Thunderbird 115 "Supernova"]]</nowiki> 🌩🐦
** Thunderbird は Snap パッケージのみの提供となりました

==== 更新されたサブシステム ====
* <nowiki>[[https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/ChangeLog?id=5.72 | BlueZ 5.72]]</nowiki>
* <nowiki>[[https://cairographics.org/news/cairo-1.18.0/ | Cairo 1.18]]</nowiki>
* <nowiki>[[https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/blob/nm-1-46/NEWS | NetworkManager 1.46]]</nowiki>
* <nowiki>[[https://gitlab.freedesktop.org/pipewire/pipewire/-/blob/1.0.4/NEWS | Pipewire 1.0.4]]</nowiki>
* <nowiki>[[https://gitlab.freedesktop.org/poppler/poppler/-/blob/poppler-24.02.0/NEWS | Poppler 24.02]]</nowiki>
* <nowiki>[[https://github.com/flatpak/xdg-desktop-portal/blob/1.18.2/NEWS | xdg-desktop-portal 1.18]]</nowiki>

=== Ubuntu WSL ===

==== Cloud-init のサポート ====
`cloud-init` はクロスプラットフォームなクラウドインスタンスの初期化の''業界標準の''方法です。cloud-init はすべての主要なクラウドプロバイダー、プライベートクラウドのインフラストラクチャのためのプロビジョニングシステムやベアメタルのインストールにまたがってサポートされています。

WSL 上で `cloud-init` を使用することで、利用者は自動的かつ繰り返し、お使いの WSL インスタンスを初回ブートで設定できるようになります。<nowiki>[[https://canonical-ubuntu-wsl.readthedocs-hosted.com/en/latest/tutorials/cloud-init/ | このチュートリアル]]</nowiki>を見て、最初の一歩を踏み出しましょう。

==== 新しいドキュメンテーション ====
Ubuntu on WSL に固有のドキュメンテーションが <nowiki>[[https://canonical-ubuntu-wsl.readthedocs-hosted.com/en/latest/ | Read the Docs 上で利用できます ]]</nowiki>。この進化するプロジェクトは WSL 上の Ubuntu 固有の情報について定期的に新しいコンテンツでアップデートされていきます。

==== 強化 ====
* '''削減されたフットプリント'''
24.04 では イメージサイズで 200 MB 削減されたため、より早い、ダウンロードおよびインストール時間を体感できます。

* '''systemd はどこでもデフォルトに'''
  端末から `wsl.exe` コマンドでインスタンスを直接起動した場合でも、インポートされたルートファイルシステムから起動した場合でも、 `systemd` がデフォルトで有効になっています。

=== Ubuntu Server ===

==== Apache2 ====

Apache2 パッケージはバージョン 2.4.58 にアップデートされました。 Ubuntu Jammy からの主な変更点は次のとおりです:

* mod_http2 では接続とストリームをどのように取り扱うかの方法が部分的に書き直されました。 APR pollset と pipes は stuttered timed waits の代わりに監視をおこないます。誤った振る舞いをするクライアントに対するリソースの取り扱いが改善されました。新しいディレクティブ `H2ProxyRequests`, `H2MaxDataFrameLen`, `H2WebSockets` および `H2EarlyHint` が増えました。
* mod_md に mod_proxy_balancer に似たフォーマットを使う auto status が追加され、tailscale secure networking service 経由での証明書の管理をサポートしました。
* mod_md は特定の状況で発生する証明書の更新の問題を修正しました。また、新しいディレクティブ `MDCertificateAuthority` を更新のフェイルオーバー用に追加し、これにより、立体的なディレクティブである `MDRetryDelay` と `MDRetryFailover` と合わせて、この挙動の制御ができます。
* mod_md にはさらに新しいディレクティブ MDMatchNames および MDChallengeDns01Version が追加され、 MDomain および チャレンジに対するより立体的な制御が可能になります。
* ローカルの tailscale デーモン経由での md_mod の設定の管理のサポート
* すでに end-of-life となった pcre (8.x) を使った正規表現の評価に代わり、 pcre2 (10.x) ライブラリをサポート
* mod_proxy に対する様々な改善と修正。これには AJP/CPING サポートを適切に検出することにできるようになったことも含みます。
* MPM イベントが再起動およびアイドルメンテナンス中の問題を修正しました。
* BCTLS および BNE RewriteRule フラグが mod_rewrite に追加され、セキュリティの問題といくつかのバグを修正しました

Ubuntu にも含まれるようになった Apache2 2.4.53 から 2.4.58 までの変更でについてのより詳細な情報は次から確認できます: https://www.apachelounge.com/changelog-2.4.html

==== Clamav ====

Ubuntu 22.04 から今回までの間に clamav アンチウイルスツールキットの 1.0.0 がリリースされました。 Ubuntu Jammy 以来の主な変更のいくつかには以下を含みます:
* 読み取り専用の OLE2-based XLS ファイルでデフォルトのパスワードを使って暗号化されたものに対する復号をサポート
* all-match 機能の実装の全面的なやり直し。(訳注: The newer code 以下、原文が切れているため、カット)
* 新しいコールバック cl_engine_set_clcb_file_inspection() の追加。これにより、アーカイブ展開の各レイヤーでスキャンする際にファイルの内容を検査することができるようになりました。
* CVD 署名アーカーイブを展開する cl_cvdunpack() という新しい API 機能の追加

ClamAV 1.0.0 LTS リリースの完全な変更リストは https://blog.clamav.net/2022/11/clamav-100-lts-released.html で見ることができます。 1.0.5 を含む 1.0 ブランチのその後のバグフィックスの詳細については、 Clamav のブログポストを https://blog.clamav.net/ で確認してください。

==== Chrony ====

Chrony は 4.5 にアップデートされました。このバージョンでは、 systemd のソケットアクティベーションのサポート、1つのPHC上での複数 refclock、 PTP transparent clock からの是正、 GnuTLS での AES-GCM-SIV および長さに起因するいくつかの NTP ブロッキングを回避するよう NTScookies を短くできる AES-GCM-SIV with Nettle >= 3.9 が追加されました。 DSCP は IPv6 パケットに対してセットされています。新しいオプションがあり、その中には低いパケットレートで PHC トラッキングを改善する hwtimestamp ディレクティブに対する maxpoll、 server/pool/peer ディレクティブへの quantile-based なフィルタリングを追加する maxdelayquant、それに、より安定的で free-running なクロック(例: TCXO, OCXO)でシステムクロックを安定させるための、 refclock ディレクティブのローカルオプションがあります。新しい hwtstimeout ディレクティブは late timestamps のタイムアウトを設定するために追加され、 selectopts コマンドは source-specific な選択オプションを修正するコマンドとして追加されました。

バージョン 4.5 以降のリリースのさらなる情報については、 Chrony のニュースページで確認できます: https://chrony-project.org/news.html

==== cloud-init v.24.1.3 ====

特筆すべき機能:
* Windows Subsystem for Linux(WSL) datasource の設定の管理のサポート
* azure: pre-provisioning stage(PPS) における DHCP のハンドリングとリトライの改善
* ec2: multi-NIC/IP インスタンスのサポート
* oracle: 早期ネットワーク問題に対する回復性の追加
* network: (isc-dhclient の後継である) dhcpcd をプライマリの DHCP クライアントとしてサポート
* デフォルトソースとして APT deb822 のサポート
* cloud-init status は recoverable_error(warning) の可視性を改善しました

破壊的な変更:
* cloud-init status は warning の場合に 2 で exit、 error の場合は 1 で exit します
* SSH は DSA ホストキーのサポートを削除しました
* 起動時の最適化: snapd.seed に対する systemd の循環参照を削除
* グローバル DNS に対して network v2 DNS を追加するのを停止
* datasource_list で指定されている場合、単一のデータソースを使用するように強制
 
Ubuntu Jammy 以来の機能(詳細は <nowiki>[[https://github.com/canonical/cloud-init/releases/ | cloud-init's Github releases page]]</nowiki>)
* Clouds: NWCS と Akamai(Linode) の追加
* Config Modules: ansible と wireguard モジュール、 sodoers doas および opendoas サポートの追加
* Ephemeral network IPv4/IPv6 dual-stack support setup, support ucdhcp client (訳注: 文意不明。cloud-init のリリースノートにぴったり該当するが記載ない)
* Netplan スキーマの検証および設定のパススルー
* NetworkManager および networkd レンダラーのサポート
* jinja template が /etc/cloud/cloud.cfg.d でサポート
* cloud-init schema: usesr-datta、vendor-data および network-config の検証
* cloud-init clean: ゴールデンイメージのための /etc/machine-id のサポート

==== Containerd ====

containerd パッケージはバージョン 1.7.12 にアップデートされました。これには複数のバグフィックスや Golang の新しいバージョンのサポート、依存関係の更新などが含まれます。次の2つの機能は Ubuntu の最後のリリースから、このバージョンでの新機能です:
* blockfile snapshotterの追加。
* remote/proxy differ の追加

いくつかの機能は非推奨とマークされているため、もう使わないようにしてください。非推奨の警告は次の通り:
* `containerd.io/restart.logpath` ラベルを使うと非推奨警告が出ます。
* AUFS snapshotter を使うと非推奨警告が出ます。
* v1 runtime を使うと非推奨警告が出ます。
* 非推奨な CRI の設定を使うと非推奨警告が出ます。
* CRI v1alpha1 の利用を使うと非推奨警告が出ます。
* CRI の CRIU 設定を使うと非推奨警告が出ます。

さらなる情報は <nowiki>[[https://github.com/containerd/containerd/releases | アップストリームの changelog]]</nowiki> を参照してください。

==== Django ====

Django はバージョン 4.2.11 にアップデートされ、最新の LTS バグフィックスおよびセキュリティフィックスが提供されます。さらなる情報はアップストリームの <nowiki>[[https://docs.djangoproject.com/en/4.2/releases/4.2.5/ | 4.2.5]]</nowiki> から <nowiki>[[https://docs.djangoproject.com/en/4.2/releases/4.2.11/ | 4.2.11]]</nowiki> の changelog を確認してください。

==== Docker ====

docker.io パッケージがバージョン 24.0.7 にアップデートされました。これにはバグフィックスや依存関係の更新が含まれます。中でも特筆すべきは、 zstd output にまつわるデータ破損の修正および containerd のストレージバックエンドの多数の改善です。
さらなる情報については、 <nowiki>[[https://docs.docker.com/engine/release-notes/24.0/ | アップストリームの changelog]]</nowiki> を確認してください。

'''注記''': AppArmor 関連のバグがあります。これは `runc` のために最近追加された AppArmor profile に起因して、コンテナがすぐに停止しないというものです。シグナルを受信しようとしたときに拒否されることから、コンテナは常に `SIGKILL` で kill されます。このバグについての詳細は <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/docker.io/+bug/2063099 | こちら]]</nowiki>で、ワークアラウンドについては <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/docker.io/+bug/2063099/comments/4 | こちら]]</nowiki> で確認できます。

==== Dovecot ====

DovecotはUbuntu Jammyの2.3.16から、今回の新しいLTSにおける2.3.21までに、いくつかのマイナーリリースがありました。

新しいdsync_features=no-header-hashes設定が導入され、同じIMAP UIDsが同じメール内容を含むと仮定する最適化が可能になりました。これは、Date/Message-IDヘッダーをキャッシュしないIMAPサーバーで役立ちます。

* <nowiki>[[https://doc.dovecot.org/admin_manual/list_of_events/ | 新しいイベント]]</nowiki>が追加されました。
* 新しいLua HTTPクライアント設定と新しいdoveadm replicator statusコマンドが追加されました。
* fts: generic tokenizerを用いてFTSインデックスに<nowiki>[[https://doc.dovecot.org/configuration_manual/fts/tokenization | インラインbase64エンコードされたコンテンツをインデックスしない]]</nowiki>ようになりました。これにより、検索される可能性が非常に低い入力を削除することでFTSインデックスサイズが削減されます。libftsを使用する場合にのみ適用されます。
* stats: メトリックにフィールドが指定されている場合、これらのフィールドはすべてprometheus expositionに<nowiki>[[https://doc.dovecot.org/configuration_manual/stats/openmetrics/. | カウンターとして公開されます]]</nowiki>。
* lua: <nowiki>[[https://doc.dovecot.org/admin_manual/lua/#dovecot.http.client | HTTPクライアントにより多くの設定が追加されました]]</nowiki>。
* メールユーザーセッション（たとえばimapやpop3、lmtp）が終了した際に発生する<nowiki>[[https://doc.dovecot.org/admin_manual/list_of_events/ | mail_user_session_finishedイベント]]</nowiki>が追加されました。これにはプロセス統計情報のフィールドも含まれます。
* auth: passdb/userdbの認証完了イベントに<nowiki>[[https://doc.dovecot.org/admin_manual/list_of_events/ | キャッシュヒットインジケーター]]</nowiki>を追加しました。
* lib-lua: DovecotのHTTPクライアントライブラリに<nowiki>[[https://doc.dovecot.org/admin_manual/lua/ | Luaインターフェイス]]</nowiki>を追加しました。
* <nowiki>[[https://doc.dovecot.org/admin_manual/event_reasons/ | イベントには現在「reason_code」フィールドが存在]]</nowiki>し、イベントが発生した要因のリストを提供します。
* fts: インデックスするヘッダーを指定するための<nowiki>[[https://doc.dovecot.org/settings/plugin/fts-plugin#plugin-fts-setting-fts-header-excludes | fts_header_excludesおよびfts_header_includes設定]]</nowiki>を追加しました。

Ubuntu Jammy以降の変更の詳細については、Dovecotのリリースアナウンス（<nowiki>[[https://dovecot.org/pipermail/dovecot-news/2021-October/000465.html | 2.3.17]]</nowiki>、<nowiki>[[https://dovecot.org/pipermail/dovecot-news/2021-December/000468.html | 2.3.18]]</nowiki>、<nowiki>[[https://dovecot.org/list/dovecot-news/2022-May/000473.html | 2.3.19]]</nowiki>、<nowiki>[[https://dovecot.org/pipermail/dovecot-news/2022-December/000479.html | 2.3.20]]</nowiki>および<nowiki>[[https://dovecot.org/mailman3/archives/list/dovecot-news@dovecot.org/thread/KYDR7WWPEQOBZA3IA4NL5XDSLODZLG6N/ | 2.3.21]]</nowiki>）を参照してください。

==== Exim4 ====

Exim4メールトランスポートエージェントはバージョン4.97に更新されました。これには、${run...}、${if}、${filter }構造を含む構文解析の修正が数多く含まれています。Query-style lookupは引用符をチェックするようになりました。これは現在のところログに記録されるだけですが、将来のリリースではエラーとして扱われる予定です。長いヘッダーラインを折り返すための拡張オペレーターが追加されました。

その他の注目すべき変更は次のとおりです：

* 複数のキューのキューランナーを単一のデーモンから起動できるようになりました。
* 新しいACL条件：「seen」は、キーに対してタイムスタンプを記録/テストします。
* SMTP AUTHの失敗、クライアントおよびサーバー操作の失敗、およびデーモンへのTLS接続の失敗に対するイベント。
* ACL「verify = helo」の結果である$sender_helo_verified変数。
* smtpトランスポートオプション「max_rcpt」は使用前に展開されるようになりました。
* 拡張テスト機能（exim -be）は変数を設定できます。
* 「allow_insecure_tainted_data」メイン設定オプションと「taint」log_selectorが削除されました。これらは4.95リリースで非推奨とされていました。

新規インストール時に生成されるデフォルトの設定（/etc/default/exim4）は過去の慣習と異なっており、いくつかの設定（QFLAGS、QUEUEINTERVAL、COMMONOPTIONS、QUEUERUNNEROPTIONS、SMTPLISTENEROPTIONS）は置き換えられていることに注意してください。また、`update-exim4defaults` スクリプトはもはやEximデーモンの実行パラメータを設定するためには使用されず、ユーザーは/etc/default/exim4を直接編集してカスタマイズすることが推奨されています。また、メッセージに使用される内部的（ただしログ、Received:ヘッダーおよびMessage-ID:ヘッダーに公開される）識別子は、前のリリースよりも長くなっています。

Exim4 4.96および4.97で導入された変更の詳細については、<nowiki>[[https://github.com/Exim/exim/blob/master/doc/doc-txt/ChangeLog | Exim4プロジェクトの変更履歴]]</nowiki>を参照してください。

==== GlusterFS ====

GlusterFSクラスタリングファイルシステムパッケージはバージョン<nowiki>[[https://lists.gluster.org/pipermail/gluster-devel/2023-February/058414.html | 11.1]]</nowiki>に更新されました。このアップデートに伴い、GlusterFSおよび依存パッケージのパッケージレイアウトにいくつかの変更が加えられました：

* GlusterFSのアップストリームはもはや32ビットアーキテクチャをサポートしていません（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2052734 | LP: #2052734]]</nowiki>参照）。したがって、Ubuntu NobleではGlusterFSのarmhfパッケージが存在しません。さらに、GlusterFSにリンクまたは依存していた他のパッケージも、armhfアーキテクチャではサポートされなくなりました。
* GlusterFSはuniverseに降格されました（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2045063 | LP: #2045063]]</nowiki>）。
* mainにあるパッケージはuniverseのパッケージに依存できないため、GlusterFSに依存していたmainのパッケージは、その依存関係も含めてuniverseに移動されました。

以下のパッケージが変更されました：

* qemu： `qemu-block-extra` パッケージは、提供していたglusterストレージモジュールのためにGlusterFSに依存していました。そのモジュールは現在、新しいバイナリパッケージである `qemu-block-supplemental` に移動されています。

* samba： `samba-vfs-modules` パッケージは、VFSモジュールのためにGlusterFSに依存していました。すべてのGlusterFS VFSモジュールは、新しい `samba-vfs-modules-extra` パッケージに移動されました。

GlusterFSがもはや32ビットアーキテクチャで利用できないため（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2052734 | LP: #2052734]]</nowiki>参照）、上記の新しいパッケージはarmhfでは存在しません。

===== qemuおよびsambaのアップグレードに関する注意事項 =====

qemuまたはsambaのデプロイメントでglusterfsストレージまたはVFSモジュールを使用していた場合、いくつかの考慮が必要です。つまり、次の場合が該当します：
* `qemu-block-extra` がインストールされており、 `block-gluster.so` モジュールを使用していた場合
* `samba-vfs-modules` がインストールされており、 `glusterfs.so` または `glusterfs_fuse.so` VFSモジュールのいずれかを使用していた場合

Ubuntu Nobleへのリリースアップグレードにより、これらのパッケージはglusterfsモジュールを '''含まない''' 新しいバージョンに置き換えられます。その場合、リリースアップグレードが完了した後に新しいパッケージを手動でインストールする必要があります：
* `sudo apt install qemu-block-supplemental` もしくは
* `sudo apt install samba-vfs-modules-extra`

Ubuntuリリースアップグレードツールにこのロジックを含めることも検討されましたが（<nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel/2024-January/042872.html | ubuntu-develメーリングリストのスレッド]]</nowiki>）、今回はアップグレードツールの複雑さを増やさないことに決定しました。この変更によりデプロイメントに大きな影響を与える異なるシナリオがある場合は、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2045063 | LP: #2045063]]</nowiki>にコメントしてください。

==== HAProxy ====

<nowiki>[[https://www.haproxy.org | HAProxy]]</nowiki>パッケージはバージョン2.8.5に更新されました。この新しいバージョンにはいくつかの改善とバグ修正が含まれています。詳細については、<nowiki>[[https://www.haproxy.org/download/2.8/src/CHANGELOG | アップストリームの変更履歴]]</nowiki>を参照してください。

==== Kea ====

<nowiki>[[https://www.isc.org/kea/ | Kea]]</nowiki>パッケージはバージョン2.4.1に更新されました。これはUbuntuで現在サポートされているDHCPサーバーであり、ISCのメンテナンスが終了したISC DHCPを置き換えます。

`keama` という新しいバイナリパッケージが利用可能になり、NobleにおいてISC DHCPの設定ファイルをKeaに移行するのに役立ちます。

Ubuntu Jammy以降のKeaの主な変更点は以下の通りです。

* ネイティブTLSサポート。
* PostgreSQL設定バックエンド。
* HTTP APIクレデンシャルを保存するためのpassword-filesのサポート。
* マルチスレッディングがデフォルトで有効になりました。
* 解放されたleaseのaffinity。Keaでは、leaseが解放されたあとにそのleaseを保持する期間を設定できるようになりました。これはデバイスが再起動時にRELEASEを送信する場合に役立ちます。これにより、再起動処理が完了したときに同じleaseを取得する可能性が高くなります。

詳細については、アップストリームの<nowiki>[[https://downloads.isc.org/isc/kea/2.4.0/Kea-2.4.0-ReleaseNotes.txt | バージョン2.4]]</nowiki>や<nowiki>[[https://downloads.isc.org/isc/kea/2.2.0/Kea-2.2.0-ReleaseNotes.txt | バージョン2.2]]</nowiki>のリリースノートを参照してください。

==== libvirt ====

<nowiki>[[https://libvirt.org | libvirt]]</nowiki> パッケージがバージョン 10.0.0 にアップグレードされました。以下は Ubuntu Jammy からの変更点です。

* `dirtyrate` 計算のためのモードオプションのサポート。
* ドメインの保存・復元スループットの改善。
* libvirt 外で連携するための手動ディスクスナップショットモードの導入。
* メモリ割り当てスレッドの導入(大量にメモリが割り当てられたゲストに有用です)。
* `virtio-iommu` 用のサポートの追加。
* PPC64 Power10 プロセッサーのサポート。
* 絶対クロックオフセットの導入。
* post-copy migration recovery 用のサポートの追加。
* qemu: zero-copy migration 用のサポートの追加。
* qemu: vCPU の物理アドレスサイズをビットで指定するサポートの追加。
* qemu: virDomainUndefineFlags 用の TPM ステートの維持・削除するためのフラグの追加。
* QEMU: コアスケジューリングサポート(デフォルトでは有効ではありません)。
* 外部スナップショットの削除。
* swtpm のための外部バックエンド。
* `<disk>` 用のファイルを開く代わりに、ファイルディスクリプタを渡すようになりました。
* 希望するポリシーのために複数のノードを許可する。
* `domcapabilities` に Hyper-V Enlightenments を報告。
* SGX EPC (enclave page cache)のサポート。
* 共有ストレージ上で QEMU の仮想マシンの vTPM ステートの移行をサポート。
* `igb` ネットワークインターフェースモデル用のサポートの追加。
* 並行的な移行のための圧縮のサポート。
* apparmor: すべての profile と abstraction でローカルの上書きをサポートするようになりました。
* Sapphire Rapids CPU モデルの追加。
* SCSI ディスクに対するリムーバブル属性のサポート。
* qemu: ARM と RISC-V のマシンタイプのデフォルトを 'virt' に変更
* QEMU: `postcopy-preempt` 移行のケーパビリティを有効化
* QEMU: iothreads を `virtio-blk` デバイスの virtqueues にマッピングするためのサポートの追加。
* QEMU: ブロックデバイスバックドなディスクをそのデバイスのフルサイズに自動的にリサイズするすることを許可。
* QEMU: VFIO バリアントなドライバーの自動的な選択とバインディング。
* qemu: vDPA ブロックデバイス用のサポートの追加。
* QEMU: nbdkit 用のランタイムの設定オプションの追加。
* QEMU: `virtiofsd` 用の ID マッピングサポートの追加。
* QEMU: 移行先で仮想マシンを永続化させるときの移行 XML の利用を改善。
* QEMU: raw ブロックデバイスへの非共有ストレージマイグレーションを簡素化。
* QEMU: `virtiofsd` を非特権で実行することを許可
* RBD/Ceph ストレージドライバー(`libvirt-daemon-driver-storage-rbd`)が64ビットアーキテクチャのみで利用できる様になりました。
 

詳細については、 <nowiki>[[https://www.libvirt.org/news.html | アップストリームの changelog]]</nowiki> を確認してください。

==== LXD ====

Ubuntuの合理化を続けるという考えのもと、このリリースからUbuntuサーバーにはLXD snapがプリインストールされなくなりました。代わりに、ubuntu-minimalイメージと同様のロジックを適用し、最初の使用時にLXDをインストールする小さなスクリプト（lxd-installer）を使用します。

LXD 5.21.0 LTSがリリースされ、いくつかの便利な機能の追加とその他の操作方法の変更が行われています。詳細については、<nowiki>[[https://discourse.ubuntu.com/t/lxd-5-21-0-lts-has-been-released/42476/1 | リリースアナウンス]]</nowiki>を参照してください。

==== Monitoring Plugins ====

今回のUbuntu LTSリリースでのmonitor-pluginsの4回のマイクロバージョンリリース、バージョンは2.3.5になり、多くの修正と機能強化が提供されています。特に注目すべき項目は以下の通りです：

* check_dhcp：不正なDHCP検知を追加
* check_icmp：Jitter、MOS、Scoreのサポートを追加
* check_smtp：SMTP over TLSのサポートを追加
* check_smtp：SNIのサポートを追加
* check_http：チャンクエンコーディングのデコードを実装
* check_curl：IPv6の検出
* check_by_ssh：ホストが有効かどうかをSSHに判断させ、SSHの.configファイルの使用を可能にする
* check_curl：システムのCAでピアの証明書とホストを検証するオプションをcheck_curlに追加
* check_fping：'host-alive'モードを実装
* check_http：HTTPリダイレクトをサポート
* check_ping：ping6を解釈するように
* check_smtp：LMTP（LHLOの代わりのHELO/EHLO）をサポートするために-Lフラグを追加
* check_snmp：null zero length文字列の終了コードのオプションを追加

詳細については、<nowiki>[[https://www.monitoring-plugins.org/news/release-2-3-2.html | 2.3.2]]</nowiki>、<nowiki>[[https://www.monitoring-plugins.org/news/release-2-3-3.html | 2.3.3]]</nowiki>、<nowiki>[[https://www.monitoring-plugins.org/news/release-2-3-4.html | 2.3.4]]</nowiki>、および<nowiki>[[https://www.monitoring-plugins.org/news/release-2-3-5.html | 2.3.5]]</nowiki>のリリースアナウンスメントを参照してください。

==== Net SNMP ====

<nowiki>[[http://www.net-snmp.org/ | Net SNMP]]</nowiki>パッケージはバージョン5.9.4に更新されました。

いくつかのセキュリティと安定性に関する修正に加えて、Dockerコンテナに対して `snmpwalk` 実施する時のような、Dockerのオーバーレイファイルシステムを認識するようになりました。

詳細は<nowiki>[[https://github.com/net-snmp/net-snmp/blob/v5.9.4/CHANGES | アップストリームの変更履歴]]</nowiki>を参照してください。

==== Nginx ====

Ubuntu 24.04においてNginx Webサーバーがバージョン1.24に更新され、前のLTSのバージョン1.18から大きく変更されました。これには、OpenSSL 3.0の互換性、PCRE2ライブラリのサポート、デフォルトでTLSv1.3プロトコルの有効化、ストリームモジュールのためのアプリケーション層のプロトコルネゴシエーション（ALPN）のサポート、クライアントSSL証明書のオンライン証明書ステータスプロトコル（OCSP）の検証、HTTP/2サポートの改善などが含まれます。

完全な変更点のリストについては、Nginx <nowiki>[[https://nginx.org/en/CHANGES-1.20 | 1.20]]</nowiki>、<nowiki>[[https://nginx.org/en/CHANGES-1.22 | 1.22]]</nowiki>および<nowiki>[[https://nginx.org/en/CHANGES-1.24 | 1.24]]</nowiki>のリリースノートを参照してください。

==== OpenLDAP ====

<nowiki>[[https://openldap.org | OpenLDAP ]]</nowiki>パッケージがバージョン2.6.7に更新され、いくつかの不具合修正が行われました。詳細については、<nowiki>[[https://www.openldap.org/software/release/changes.html | アップストリームの変更履歴 ]]</nowiki>を参照してください。

==== OpenVmTools ====

Ubuntu 24.04ではopen-vm-toolsが12.3.5になりました。ここまでのバージョンにおいて、いくつかの重要な問題、脆弱性、Coverity問題が解決されました。さらに、Salt Minionの管理や、Linuxゲスト内で実行されているコンテナのリストを収集して公開する機能がサポートされました。tools.conf設定によって、ファイルシステムがすでにフリーズされていることを無視するopen-vm-tools 12.2.0以前の挙動を復元し、Linuxの静止スナップショットが一時的に利用可能になっています。

12.3.5および11.3.5以降のリリースのアナウンスは、<nowiki>[[https://github.com/vmware/open-vm-tools/releases | open-vm-toolsのGithubリリースページ]]</nowiki>で確認できます。

==== PAM ====

`pam_lastlog.so` は2038年問題に対応していないため、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/shadow/+bug/2060676 | 削除されました]]</nowiki>。

==== Percona Xtrabackup ====

Percona XtrabackupがMySQL 8.0.xと共に動作するよう、新しくパッケージングされました。これは、MySQLデータベースのバックアップを作成および復元するツールであり、可用性を維持しながら実行されます。詳細については、Percona Xtrabackupの<nowiki>[[https://docs.percona.com/percona-xtrabackup/8.0/ | ドキュメント]]</nowiki>を参照してください。

==== PHP ====

<nowiki>[[https://php.net | PHP]]</nowiki>パッケージがバージョン8.3.6に更新されました。Ubuntu Jammy以降の主な変更点は以下の通りです。

* アップデート時、PHPはapache2を再起動します。これはPHPを使用したWebサーバーの不具合の修正が、アップグレード時にすぐに反映されるようにするためです。
* 読み取り専用クラス
* union型とintersection型を組み合わせて利用できるDisjunctive Normal Form（DNF）型
* `null` 、 `false` 、 `true` が独立した型で利用可能に
* 新しい「random」拡張機能が導入されました。これは乱数生成生成のための乱数のオブジェクト指向APIを提供します。
* トレイトで定数を宣言できるようになり、トレイトを使用するクラスからアクセスできます。
* ミスや誤字を避けるため、動的プロパティの作成が非推奨になりました。
* 型指定されたクラス定数
* クラス定数を動的に取得できるようになりました
* 新しい `#[\Override] `属性が導入されました。これは、親クラスまたは実装されたインターフェイスに同名のメソッドが存在することを保証します。
* 読み取り専用プロパティのディープクローンが許可されるようになりました。
* 新しい `json_validate()` 関数が導入されました。これは文字列が文法的に正しいJSONであるかをチェックします。
* コマンドラインのlinterが一度に複数のファイルの解析をサポートするようになりました。

さらに、apache2の変更により、PHPパッケージが更新された後にapache2サービスが再起動されるようになりました。これはパッケージ側の動作の変更によるです。以前は、needrestartがサービスの再起動の必要性をユーザーに通知していましたが、サービスは自動的には再起動されませんでした。この変更の詳細に関しては、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/apache2/+bug/2038912 | LP: #2038912]]</nowiki>を確認してください。

詳細は<nowiki>[[https://www.php.net/ChangeLog-8.php#PHP_8_3 | アップストリームの変更履歴]]</nowiki>を参照してください。

==== PostgreSQL ====

<nowiki>[[https://www.postgresql.org | PostgreSQL]]</nowiki>パッケージがバージョン16.2に更新されました。新バージョンにはいくつかのパフォーマンス改善が含まれています。Ubuntu Jammy以降に含まれる主な変更点は以下の通りです。

* SQL標準の `MERGE` コマンドが利用可能になりました。これにより、1文で `INSERT` 、 `DELETE` 、 `UPDATE` アクションを含む条件付きSQL文を記述できます。
* 新しい正規表現関連の機能。
* JSON構造を使用してログを出力する新しい `jsonlog` 形式。
* ユーザーはスタンバイインスタンスから論理レプリケーションを実行できるようになりました。
* `SQL/JSON` から、 `JSON_ARRAY()` 、 `JSON_ARRAYAGG()` 、 `IS JSON` などの、さらなる構文が追加されました。
* ユーザーは、 `_` を区切り文字として使用して千の単位を表現できるようになりました（例： `5_100_042` ）。
* `0x1234A` 、 `0o777` 、 `0b0101011` などの非十進数整数リテラルに対応しました。
* いくつかのセキュリティ指向のクライアント接続パラメータが追加されました。たとえば、要求された認証パラメータを指定する `require_auth` や、クライアント側のオペレーティングシステムによって提供される信頼された証明機関（CA）ストアを使用する `sslrootcert="system" `などが該当します。

上記変更の詳細や、PostgreSQL 16で導入されたすべての変更点は、<nowiki>[[https://www.postgresql.org/docs/16/release-16.html | アップストリームのリリースノート]]</nowiki>を参照してください。

==== QEMU ====

<nowiki>[[https://qemu.org | QEMU]]</nowiki> パッケージが 8.2.1 にアップデートされました。 Ubuntu Jammy からの変更点は次のとおりです。

* ユーザーモードエミュレーション (`linux-user`, `bsd-user`) はゲストにアライメント制約を強制し、 `SIGBUS` をゲストプログラムに適切に raise します。
* `qemu-nbd` プログラムは新しい `--tls-hostname` パラメータが増え、異なるホスト名に対して TLS の検証ができるようになり、 TCP トンネルを通じて TLS をセットアップするときのように UNIX ソケット越しの TLS をサポートするようになりました。
* ARM
** ARM Cortex-A76, Cortex-A35, Cortex-A710, Neoverse-N1, Neoverse-N2 CPU のエミュレーション。
** virt board は GICv4.0 のエミュレーションをサポートします。
** いくつかの新しい PCPU アーキテクチャの機能もエミュレーションされるようになりました。
** MTE (Memory Tagging Extension)をサポートするホスト上の KVM の仮想マシンはゲストでも MTE を使用できます。
* RISC-V
** privileged spec バージョン 1.12.0 用のサポートの追加。
** `Zbkb`, `Zbkc`, `Zbkx`, `Zknd`/`Zkne`, `Zknh`, `Zksed`/`Zksh`, `Zkr` エクステンション用のサポートの追加。
** `Zmmul` エクステンション用のサポート。
** virt board に対する TPM サポートの追加。
** virt machine デバイスツリーの改善。
** 様々な RISC-V エクステンションのためのサポートの追加。この中でハイパーバイザーエクステンションは experimental とマークされなくなり、デフォルトで有効になっています。
*** RISC-V ベクター暗号命令セットのサポートの追加。
*** RISC-V ベクター暗号が v1.0.0 に準拠するようにアップデート。
* s390x
** s390x Vector-Enhancements Facility 2 with TCG のエミュレート。
** `s390-ccw` BIOS が修正され、典型的な DASD ドライブとは異なるジオメトリを持つ、 非 512 バイトセクターサイズのドライブからもブートできるようになりました。
** `LZRF`, `VISTR`, `SACF` 命令のエミュレーションの修正。
** KVM ゲスト用の zPCI インタープリテーションサポートの強化。
** Message-Security-Assist Extension 5 ( `PRNO` 命令を経由したランダムな数字の生成)の実装
*** KVM における s390x CPU トポロジのサポート (books and drawers, `STSI` 15.1.x 命令, `PTF` 命令)。
* さらに
** Linux 上での zero-copy-send のためのサポート。これにより移行元ホストの CPU 使用率を減らすことができます。 locked memory がこのサポートのために必要であることに注意してください。
** Intel AMX 要のサポートの追加。
** フルシステムエミュレーションにおける TCG パフォーマンスの改善。
** `AVX`, `AVX2`, `F16C`, `FMA3` および `VAES` 命令のための TCG サポート。
* Sapphire Rapids および Granite Rapids CPU モデルのサポート。
* 32-bit x86 ホスト上でのシステムエミュレーションは非推奨になりました。 QEMU プロジェクトは、システムエミュレーションにおける 32-bit x86 ホストのサポートは、限られたプロジェクトリソースの有効活用とは考えて無く、これは開発終了を意図しています。ユーザーモードエミュレーションは 32-bit ホストでもサポートを継続します。
* `igb` デバイスエミュレーション用のサポートの追加。
* 最大 1024 vCPU を持つ仮想マシンのサポート (詳細は <nowiki>[[https://ubuntu.com/server/docs/create-qemu-vms-with-up-to-1024-vcpus | こちら]]</nowiki> を参照のこと)
* GlusterFS の降格( <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2045063 | LP: #2045063]]</nowiki>を参照)のため、 GlusterFS ブロックストレージモジュールは `qemu-block-extra` パッケージ外に移動され、新しい `qemu-block-supplemental` パッケージに移動しました。もし qemu を GlusterFS ブロックストレージモジュールと組み合わせて使用している場合、アップグレードの考慮事項については、これらのリリースノートの GlusterFS のセクションを御覧ください。
* GlusterFS はもはや 32 bit アーキテクチャでは利用できません。 (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2052734 | LP: #2052734]]</nowiki> を参照のこと) そのため、  `block-gluster` ストレージモジュール(今や  `qemu-block-supplemental` で提供されます)は armhf では利用できません。

詳細については、関連するアップストリームの changelogs をご覧ください:
* <nowiki>[[https://wiki.qemu.org/ChangeLog/8.2 | 8.2]]</nowiki>
* <nowiki>[[https://wiki.qemu.org/ChangeLog/8.1 | 8.1]]</nowiki>
* <nowiki>[[https://wiki.qemu.org/ChangeLog/8.0 | 8.0]]</nowiki> [Mantic]
* <nowiki>[[https://wiki.qemu.org/ChangeLog/7.2 | 7.2]]</nowiki>
* <nowiki>[[https://wiki.qemu.org/ChangeLog/7.1 | 7.1]]</nowiki>
* <nowiki>[[https://wiki.qemu.org/ChangeLog/7.0 | 7.0]]</nowiki>
* <nowiki>[[https://wiki.qemu.org/ChangeLog/6.2 | 6.2]]</nowiki> [Jammy]

==== Ruby 3.2 ====

デフォルトのRubyインタープリターがバージョン3.2.3に更新されました。多くの新機能とバグ修正があり、いくつかのハイライトは以下の通りです：
* YJIT（Ruby用JITコンパイラ）が本番環境で使用可能になりました。
* `Data.define` （新しい `Data` クラス）における不変オブジェクト。
* WebAssemblyのサポート。
* `bundle gem` に `--ext=rust` オプションが追加され、Rust拡張機能を持つgemのビルドが可能になりました。

いくつかの定数やメソッドはすでに非推奨とされており、今回削除されました。このRubyバージョンに移行する際は、以下に注意してください：
* `Fixnum` および `Bignum`
* `Random::DEFAULT`
* `Struct::Group`
* `Struct::Passwd`
* `Dir.exists?`
* `File.exists?`
* `Kernel#=~`
* `Kernel#taint` 、 `Kernel#untaint` 、 `Kernel#tainted?`
* `Kernel#trust` 、 `Kernel#untrust` 、 `Kernel#untrusted?`

上記のすべてがRuby 3.2から削除され、もはや使用できません。詳細については、<nowiki>[[https://www.ruby-lang.org/en/news/2022/12/25/ruby-3-2-0-released/ | アップストリームのリリースアナウンス]]</nowiki>を参照してください。

==== Runc ====

runcパッケージはバージョン1.1.12に更新されました。このバージョンには特にcgroup v2サポートに関連するバグ修正が含まれており、最も重要なこととして、riscv64のサポートが追加されました。詳細については、<nowiki>[[https://github.com/opencontainers/runc/releases | アップストリームの変更履歴]]</nowiki>を参照してください。

runcパッケージをカスタマイズしたいユーザーや開発者のために、ソースパッケージは `runc` （ライブラリパッケージ）と `runc-app` （アプリケーションパッケージ）に分割されました。これはcontainerdやdocker.ioで行われたものと同じで、安定版へのバックポートを含む将来のメンテナンスの容易さ目的です。

==== Samba ====

Sambaパッケージは4.19.xシリーズに更新されました。4.19.0に対するアップストリームのリリースノートはこちらを参照してください： https://www.samba.org/samba/history/samba-4.19.0.html

GlusterFSの（訳注：universeへの）格下げにより（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/2045063 | LP: #2045063]]</nowiki>、およびこのリリースノートのGlusterFSセクションを参照）、Sambaのパッケージでもこの変更に対して少し調整する必要がありました。

以前は `samba-vfs-modules` パッケージにバイナリとして含まれていたGlusterFS VFSモジュールは、 `samba-vfs-modules-extra` という新しいバイナリパッケージに移動されました。具体的には、以下のモジュール（およびそれらのマニュアルページ）が `samba-vfs-modules-extra` に移動されました：
* `glusterfs.so`
* `glusterfs_fuse.so`

`fuse` モジュールはglusterライブラリに依存していませんが、一貫性を保つために `glusterfs.so` と一緒に移動されました。

もし、これらの二つのVFSモジュールのいずれかを使用していたUbuntuリリースからアップグレードする場合は、アップグレード後に `samba-vfs-modules-extra` をインストールする必要があります：

    sudo apt install samba-vfs-modules-extra

もしUbuntu Nobleを新規にインストールし、Sambaでglusterfs VFSモジュールを使用したい場合も、`samba-vfs-modules-extra` をインストールする必要があります。

==== Spamassassin ====

Apache SpamAssassin 4.0.0には、過去のリリースよりも多くの調整とバグ修正が含まれています。特に、国際言語のテキスト処理の大幅な改善を含む大きな変更が行われています。

他のメジャーリリースの場合と同様に、4.0.0へのアップグレードには数え切れないほどの機能追加パッチの適用と改善が行われています。Apache SpamAssassin 4.0.0には、分類とパフォーマンスを大幅に向上させる数年間の修正が含まれています。

ExtractText、DMARC、DecodeShortURLsなどの新しいプラグインが追加されました。以前に非推奨とされていたHashCashモジュールは完全に削除されました。do_not_use_mail_spf、do_not_use_mail_spf_queryと同様にMail::SPF::Queryの使用は非推奨とされています。Mail::SPFは、SPFプラグインによって使用される唯一のサポートモジュールとなりました。

その他の注目すべき変更点は以下の通りです：

* Bayesプラグインは、英語以外の言語で書かれた一般的な単語（ノイズワード）をスキップするように改善されました
* 特定のルールで「捕捉」したタグを、他のルールで使用できる「Captured Tag」が使えるようになりました
* sa-updateにおいて、新しい3つのオプション、forcemirror、score-multiplier、score-limitが使えるようになりました
* DKIMプラグインは、ARC署名を検出できるようになりました
* normalize_charsetオプションは、デフォルトで有効になりました
* SPF lookupは非同期で行われなくなりました
* デフォルトのsa-updateルールセットは、もはやASN lookupやヘッダー追加を行わなくなりました

<nowiki>[[https://svn.apache.org/repos/asf/spamassassin/trunk/build/announcements/4.0.0.txt | SpamAssassin 4.0.0のリリースアナウンス]]</nowiki>には、これらの変更に関するより詳細な情報が提供されています。

==== Squid ====

<nowiki>[[http://www.squid-cache.org | Squid]]</nowiki>パッケージはバージョン6.6に更新されました。Ubuntu Jammy以降の主な変更点は以下の通りです。

* Squidは、 `tls-cert=` の設定ミスに対してより寛容になりました。CAチェーンを整理し、必要な順序で証明書を送信しようとします。
* Squidは、接続を受け入れたり確立したりしたTLS接続の通信詳細をログに記録するようになりました。
* 新しい `to_linklocal` ACLが、169.254.0.0/16およびfe80::/10からのリクエストに一致するように事前定義されるようになりました。
* `X-Cache` および `X-Cache-Lookup` HTTPヘッダーが、RFC 9211に従って新しい `Cache-Status` HTTPヘッダーに置き換えられました。 `X-` ヘッダーに依存していたツールやシステムは、新しいヘッダーを使用するようにアップグレードする必要があります。
* Gopherプロトコルのサポートが削除されました。

詳細については、<nowiki>[[http://www.squid-cache.org/Versions/v6/squid-6.6-RELEASENOTES.html | アップストリームのリリースノート]]</nowiki>を参照してください。

==== SSSD ====

<nowiki>[[https://sssd.io | SSSD]]</nowiki>パッケージはバージョン2.9.4に更新されました。Ubuntu Jammy以降の変更点は以下の通りです。

* すべてのSSSDクライアントライブラリ（ `nss` 、 `pam` など）は、デフォルトではリクエストをシリアライズしなくなりました。つまり、複数のスレッドからのリクエストが並行して実行されるようになります。古い動作（シリアライズ）は、環境変数 `SSS_LOCKFREE` を `NO` に設定することで有効化できます。
* 新しいkrb5プラグイン `idp` と、FreeIPAに対して '''OAuth2''' 認証を行う新しいバイナリ `oidc_child` が追加されました。しかし、この機能はFreeIPAサーバーサイドでの開発がまだ進行中であるため、テストできません。
* `sss_simpleifp` ライブラリは非推奨とされ、今後のリリースで削除される可能性があります。
* 「Files provider」（つまり、 `id_provider = files` ）は非推奨とされ、今後のリリースで削除される可能性があります。代わりに `proxy_lib_name = files` による「Proxy provider」の使用を検討してください。
* `ldapi://` URLのサポートが追加され、ローカルLDAPサーバーへの接続が可能になりました。
* `proxy` providerは、証明書のマッピングとマッチングルールを扱うことができるようになり、proxy providerによって管理されるユーザーは、ローカルのスマートカード認証を設定できます。ローカルのスマートカード認証のマッピングルールは、バックエンドの `local_auth_policy` オプションおよびPAMレスポンダーの `pam_cert_auth` で有効にする必要があります。

==== Intel® QuickAssist Technology (Intel® QAT) ====

Intel® QATは第4世代およびそれ以降のIntel® Xeon® Scalable Processorsに組み込まれたアクセラレーターで、CPUコアからの機密データの圧縮・解凍、暗号化・復号、公開鍵データ暗号化タスクをオフロードし、それらの操作を高速化し、貴重な計算リソースを節約します。

Ubuntu 24.04で有効化されたコンポーネントは次のとおりです：
* qatlib 24.02.0
このパッケージは、Intel® QATデバイスへのアクセスを可能にし、Intel® QAT APIを提供し、そのサンプルコードが含まれるユーザーランドのライブラリです。
詳細についてはプロジェクトの<nowiki>[[https://github.com/intel/qatlib?tab=readme-ov-file#features | リポジトリ]]</nowiki>を参照してください。
* qatengine 1.5.0
このパッケージは、OpenSSLとQATライブラリの間に位置する、Intel® QAT OpenSSLエンジンプラグインを共有ライブラリとして提供します。このエンジンを使うと、Intel最適化ライブラリ（ipp-cryptoやintel-ipsec-mb）の使用やそれらの操作をQATにオフロードするよう設定できるようになります。
詳細についてはプロジェクトの<nowiki>[[https://github.com/intel/QAT_Engine/blob/master/docs/features.md | リポジトリ]]</nowiki>を参照してください。
* qatzip 1.2.0
このパッケージは、<code>deflate*</code>および<code>lz4*</code>アルゴリズムを使用して、圧縮および解凍の作業をIntel QATデバイスにオフロードすることにより、それらのサービスを高速化するユーザー空間のライブラリを提供します。
詳細についてはプロジェクトの<nowiki>[[https://github.com/intel/QATzip?tab=readme-ov-file#features | リポジトリ]]</nowiki>を参照してください。
* ipp-crypto 2021.10.0
Intel® Integrated Performance Primitives Cryptography（Intel® IPP Cryptography）は、各種Intel® CPUに高度に最適化された、セキュアで高速かつ軽量な暗号化機能を構築するためのライブラリです。
詳細についてはプロジェクトの<nowiki>[[https://github.com/intel/ipp-crypto | リポジトリ]]</nowiki>を参照してください。
* intel-ipsec-mb 1.5-1
Intel® Multi-Buffer Crypto for IPsec Libraryは、主に対称暗号アプリケーションに焦点を当てた暗号の高速化ソフトウェアです。
詳細はプロジェクトの<nowiki>[[https://github.com/intel/intel-ipsec-mb | リポジトリ]]</nowiki>を参照してください。

==== Subiquity ====

サーバーインストーラー向けの新しいSubiquityがリリースされました。詳しいことはGitHub上の<nowiki>[[https://github.com/canonical/subiquity/releases/tag/24.04.1 | 24.04.1のリリースノート]]</nowiki>を参照してください。

==== Ubuntu HA/クラスタリング ====

===== Pacemaker =====

<nowiki>[[https://clusterlabs.org/pacemaker/ | Pacemaker]]</nowiki>パッケージはバージョン2.1.6に更新されました。jammy以降にいくつかの修正と、APIの変更、新機能の追加が行われています。詳細については、<nowiki>[[https://github.com/ClusterLabs/pacemaker/releases | アップストリームの変更履歴]]</nowiki>を参照してください。

===== Resource Agents =====

<nowiki>[[https://github.com/ClusterLabs/resource-agents | Resource Agents]]</nowiki>パッケージはバージョン4.13.0に更新されました。

注目すべき変更として、PostgresSQLサポートがアップストリーム側で改善されたことです。pgsqlエージェントはresource-agents-baseパッケージに移動され、我々が厳選したリソースエージェントの一部となりました。

さらに、移行用のresource-agentsパッケージは削除されました。リソースエージェントをインストールするには、resource-agents-baseパッケージ化resource-agents-extraパッケージをインストールしてください。それぞれのパッケージからエージェントが利用できます。利用できるエージェントはパッケージの説明欄にリストアップしてあります。

さらなる情報については、<nowiki>[[https://github.com/ClusterLabs/resource-agents/blob/main/ChangeLog | アップストリームの変更履歴]]</nowiki>を参照してください。

==== OpenStack ====

OpenStackは<nowiki>[[https://releases.openstack.org/caracal/ | 2024.1 (Caracal)リリース]]</nowiki>に更新されました。これにはAodh、Barbican、Ceilometer、Designate、Glance、Heat、Horizon、Ironic、Keystone、Magnum、Manila、Masakari、Mistral、Neutron、Nova、Octavia、Swift、Watcher、Zaqarのパッケージが含まれます。

Murano、Senlin、Sahara、Freezer、Solumはすべて、2024.1において<nowiki>[[https://governance.openstack.org/tc/reference/emerging-technology-and-inactive-projects.html#current-inactive-projects | inactiveであると宣言されました]]</nowiki>ので、Ubuntuから削除されています。

このリリースは、Ubuntu Cloud Archiveを通じてUbuntu 22.04 LTSにも提供されます。

==== Ceph ====

<nowiki>[[http://ceph.com | Ceph]]</nowiki>は19.2.0（Squid）リリースの準備段階のスナップショットに更新されました。正式リリース版がSRUが提供される見込みです。

このリリースは、Ubuntu Cloud Archiveを通じてUbuntu 22.04 LTSにも提供されます。

==== Open vSwitch (OVS)およびOpen Virtual Network (OVN) ====

<nowiki>[[https://www.openvswitch.org/ | Open vSwitch]]</nowiki>は3.3.0リリースに更新されました。

<nowiki>[[https://www.ovn.org/ | Open Virtual Network]]</nowiki>は24.03リリースに更新されました。

このリリースは、Ubuntu Cloud Archiveを通じてUbuntu 22.04 LTSにも提供されます。

=== 各種プラットフォーム ===

==== パブリッククラウド・クラウドイメージ ====

===== 全体 =====

* <nowiki>[[https://bugs.launchpad.net/cloud-images/+bug/2038894 | 23.10のクラウドイメージが予期せぬUDPポート5353をlistenする問題]]</nowiki>は修正されました
* cloud-initはsnapの事前設定時にブロックしないようになりました
** snapに依存するユーザースクリプトの修正方法については<nowiki>[[https://cloudinit.readthedocs.io/en/latest/reference/breaking_changes.html#removed-ubuntu-s-ordering-dependency-on-snapd-seeded | cloud-initのドキュメント]]</nowiki>を参照してください
* クラウドイメージは、デフォルトではどのsnapパッケージも事前設定を行わないようになりました
** <nowiki>[[https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890#lxd-45 | 前述したLXDの変更により]]</nowiki>、LXD snapパッケージは、non-minimalなパブリッククラウドイメージにはインストールされなくなりました。その結果、non-minimalなイメージにはsnapパッケージはインストールされません。
*** LXD snapパッケージを取り除く決定については、 https://bugs.launchpad.net/ubuntu/+source/ubuntu-meta/+bug/2051346 を参照してください。あらゆるsnapパッケージを事前設定しない決定については https://bugs.launchpad.net/ubuntu/+source/ubuntu-meta/+bug/2051572 を参照してください
** 例外として、AWSとGCEについてはクラウド固有のsnapパッケージが事前設定されています
* 以前のリリースからのアップグレードについて
** do-release-upgradeを用いてUbuntu 24.04にアップグレードすると、複数のインタラクティブなプロンプトが表示されます。そのひとつはgrub-pcに関するもので、起動デバイスの選択を要求します。chronyがインストールされていたら、「ディスク上の設定」か「パッケージの設定か」を選択するよう求められるでしょう。これらは想定通りの挙動で、アップグレード機能には影響ありません。
* 最小イメージのサイズが削減されました
** <nowiki>[[https://wiki.ubuntu.com/ManticMinotaur/ReleaseNotes/Ja#Minimal_download.2Fqcow2_cloud_images | 23.10の開発期間に導入されたように]]</nowiki>、最小のクラウドイメージはUbuntu 22.04のそれよりも小さくなっています。パッケージの数は426個から288個（差は138個）に減少し、イメージサイズが大幅に小さくなりました。たとえばqcow2イメージは337.19MiBから226.75MiB（差は110.44MiB）になっています。
** これは、Ubuntuのクラウドインスタンスを動かすために必要だと思われるもののみをインストールすること、さらに「Recommends」パッケージのインストールをやめることで実現されています。

===== Vagrant =====

Ubuntu 24.04から、CanonicalはVagrantイメージの提供を行わなくなりました。これはアップストリームの変更に伴う、<nowiki>[[https://bugs.debian.org/cgi-bin/bugreport.cgi?bug=1049999 | Debian側でのメンテナンスに関する疑問]]</nowiki>と、<nowiki>[[https://packages.ubuntu.com/jammy/vagrant | Canonical]]</nowiki>がUbuntuのパッケージリポジトリからvagrantを削除したことによるものです。Vgrantイメージを生成するコードは、参照用に、さらに将来的にCanonicalがもしサポートできたときのために<nowiki>[[https://git.launchpad.net/livecd-rootfs/tree/live-build/ubuntu-cpc/hooks.d/base/vagrant.binary | livecd-rootfs]]</nowiki>に残されています。スクラッチからUbuntu Base Imageを作成する方法については、 https://documentation.ubuntu.com/public-images/en/latest/public-images-how-to/build-vagrant-with-bartender/ にて提供されています。

===== パブリックイメージ（cloud-images.ubuntu.com） =====

* リリースノート/イメージの差分
** 2024年4月19日以降、 https://cloud-images.ubuntu.com/ にて公開されたイメージには、 `.image_changelog.json` ファイルが付属するようになりました。これはパッケージの追加・削除・変更をリストアップするJSONドキュメントで、パッケージ変更に伴うchangelogエントリーを記録しています。またそれらのパッケージで更新されたCVE番号についても強調表示します。これらの差分は<nowiki>[[http://github.com/canonical/ubuntu-cloud-image-changelog | github.com/canonical/ubuntu-cloud-image-changelog]]</nowiki>から提供される `ubuntu-cloud-image-changelog` によって生成されています。
** 前日のデイリーイメージと公開されているイメージ、および前回のリリースイメージと公開されているイメージの間で差分が生成されます。
** これらのイメージの差分は、以前に公開されたUbuntuリリースに対しても取り込まれています。

* OVAイメージといくつかのCloud Directorには、シリアルポートのアタッチに関する潜在的な問題が存在します。状況によってはOVAイメージのデプロイ失敗を引き起こすかもしれません。失敗した場合は、デプロイしたOVFを直接編集し、シリアルポートのstanzaを削除することでデプロイが成功するようになります。VMwareにはこれらの失敗に関する<nowiki>[[https://kb.vmware.com/s/article/2128084 | KB記事]]</nowiki>が存在します。Cloud Directorのバージョン10.4.2.22463311付近で影響を受ける可能性があります。現在は調査中です：<nowiki>[[https://bugs.launchpad.net/cloud-images/+bug/2062552 | LP:2062552]]</nowiki>

===== AWS EC2 =====

* Nobleインスタンスは、インスタンスのメタデータサービスにおいて、デフォルトで<nowiki>[[https://docs.aws.amazon.com/AWSEC2/latest/UserGuide/configuring-instance-metadata-service.html | IMDSv2]]</nowiki>を利用して起動するようになりました。
* <nowiki>[[https://documentation.ubuntu.com/aws/en/latest/aws-how-to/instances/automatically-setup-multiple-nics/ | 複数NIC]]</nowiki>インスタンスの自動設定が、cloud-initを介したsource-routingにおいてサポートされるようになりました。

===== Microsoft Azure =====

* Canonicalは、Ubuntu 24.04 LTSにおいてAzureの新しい公開方法を導入しています。24.04 LTSのすべてのUbuntuイメージは、同じ「ubuntu-24_04-lts」オファーで提供されます。Ubuntuサーバーの最小バージョンやUbuntu Proも、このメインオファーのプランとして提供されます。
* `ubuntu-24_04-lts` オファーの `cvm` プランにおいて利用可能なConfidential VMに対して、AppArmorプロファイルの問題が確認されています。たとえば、 `rsyslog` サービスは、このプランから起動したVMのスタート時に失敗します。現在調査中で、修正を行ったイメージをまもなく公開する予定です。この問題は、 `rsyslog` に依存するワークロードのみが影響を受けます。
* 複数のNIC設定を持つユーザーは、systemd-resolvedの誤設定によるDNS解決に遅延が発生する場合があります。cloud-initにて解決策を実装中です（ https://github.com/canonical/cloud-init/pull/5180 ）。cloud-initにこの対応が入る前には、ユーザーは `/etc/netplan/91-secondary-nics-azure.yaml` を作成し、次の内容を記述することで誤設定を修正できます。

<pre>

network:
    version: 2
    ethernets:
        ephemeral:
            dhcp4: true
            dhcp4-overrides:
                use-dns: false
            match:
                driver: hv_netvsc
                name: '!eth0'
            optional: true
        hotpluggedeth0:
            dhcp4: true
            match:
                driver: hv_netvsc
                name: 'eth0'

</pre>

netplanの設定を反映するためには、ユーザーはインスタンスを再起動する必要があります。

===== Google =====

* GCE：cloud-initのuser-dataを通じてホスト名を設定するには、create_hostname_fileキーを追加する必要があります。詳細は<nowiki>[[https://documentation.ubuntu.com/gcp/en/latest/google-how-to/gce/set-hostname-using-cloudinit/ | こちら]]</nowiki>を参照してください。
* 起動速度の改善：I/Oスケジューラーが（ `noop` から） `none ` に変更になり、もっとも一般的なディスクタイプのI/Oパフォーマンスが向上しました（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/gce-compute-image-packages/+bug/2045708 | LP: #2045708]]</nowiki>）。
* GCPのサスペンド機能に関するリグレッションがlinux-gcp 6.8カーネルで発見されており、現在<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-gcp/+bug/2063315 | LP: #2063315]]</nowiki>にて調査中です。
* Ubuntu 24.04では、needrestartパッケージの挙動が変更されました。詳細は「<nowiki>[[https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890#services-restart-on-unattended-upgrade-26 | Services restart on unattended-upgrade]]</nowiki>」を参照してください。これにより、パッケージがアップグレードまたは再インストールされる際に、あらゆるgoogle-guest-agent起動スクリプトが再度実行されます。調査中ではありますが、google-guest-agentパッケージが再インストールされた場合にのみトリガーされるようです。回避策として、<nowiki>[[https://manpages.ubuntu.com/manpages/noble/man1/needrestart.1.html#environment | `needrestart` man pages]]</nowiki> `NEEDRESTART_SUSPEND=1` を再インストール前に設定するか、`needrestart` 設定に「 `echo "\$nrconf{override_rc}{qr(^google-(shutdown|startup)-scripts\.service$)} = 0;" >> /etc/needrestart/conf.d/google-guest-agent.conf` 」を追加する方法が存在し、これにより将来の google-guest-agent のアップグレードまたは再インストール時に、この挙動が無効になります。

===== Oracle =====

* Oracle CloudのUbuntu 24.04+イメージでは、ファイヤーウォールパッケージであるufwがインストールされなくなりました。Ubuntu 24.04より前のバージョンからのアップグレードの際に、ufwはアンインストールされます。Oracleにより<nowiki>[[https://docs.oracle.com/en-us/iaas/Content/Compute/References/bestpracticescompute.htm#Essentia | こちら]]</nowiki>で文書化されているように、ufwのツールはiptables-persistentやnetfilter-persistentを通してシステム設定ツールと競合しています。より詳しいことは<nowiki>[[https://blogs.oracle.com/developers/post/enabling-network-traffic-to-ubuntu-images-in-oracle-cloud-infrastructure | こちらのブログ]]</nowiki>で解説されており、<nowiki>[[https://docs.oracle.com/en-us/iaas/Content/Compute/known-issues.htm#ufw | 既知の問題]]</nowiki>としてもリストアップされています。Ubuntu 24.04+にufwをインストールされる場合、iptables-persistentとnetfilter-persistentがアンインストールされ、iSCSIボートやブロックデバイスをサポートするために必要な機能が無効化されます。

====== これらの変更点による不具合を報告するには ======

最小イメージにおいて予期しない変更や不具合を見つけた場合は、<nowiki>[[https://bugs.launchpad.net/cloud-images | cloud-images]]</nowiki>のチケットとして報告してください。

==== Raspberry Pi 🍓 ====

===== Pi 5 LTS =====

24.04（noble）はRaspberry Pi 5のarm64サーバーとデスクトップの両方をサポートする、最初のLTSリリースとなります。

===== ブラウザーのアクセラレーション =====

Firefoxブラウザーは、mesa 23.2が22.04（jammy）にバックポートされたあと、必要なコンテンツsnapが再生成されることで、3Dアクセラレーションをサポートするようになりました。クラッシクな<nowiki>[[https://webglsamples.org/aquarium/aquarium.html | aquariumのサンプル]]</nowiki>により、新しいグラフィックススタックのパフォーマンスを確認できます。Pi 5において1080pの解像度のフルスクリーンで60fpsをスムーズに表示できています。

===== 電力監視 =====

Pi 5では電源の監視用に<nowiki>[[https://pemmican.readthedocs.io/ | pemmican]]</nowiki>パッケージが提供されるようになりました。

サーバーイメージでは、ログイン時のMOTDにおいて、制限なく利用できるための5Aの供給に失敗したかどうか、節電機能が最後のリセット要因かどうかを示すようになります。電圧低下時・過電流時にカーネルに警告メッセージが表示されます。

デスクトップイメージでは、これらの問題が発生した際にデスクトップに通知が表示され、さらなる情報の取得やこのタイプの将来の警告の抑制オプションが提供されます。

===== 32-bit（armhf）イメージはありません =====

24.04（noble）から、Raspberry Pi用の32-bit（armhf）イメージは作成されなくなりました。64-bit（arm64）イメージのみが作成されます。誤解を避けるために伝えておくと、これはRaspberry Piでarmhfアーキテクチャーがサポートされなくなるという *意味ではありません* 。nobleでは「foreign architecture」としてarmhfを引き続きサポートします。

armhfを「foreign architecture」としてarm64イメージに追加するには、次のコマンドを実行してください：

<pre>
$ sudo dpkg --add-architecture armhf
$ sudo apt update
</pre>

その後、次のようにarmhfパッケージをインストールします：

<pre>
$ sudo apt install SOME-PACKAGE:armhf
</pre>

気をつけなければならないのは、armhfカーネルが存在しないこと（主にPi 5が32-bitカーネルをサポートされないことによります）、さらに現在armhfイメージを使っているユーザーは、nobleに直接アップグレード *できない* ことです。

armhfはnobleのライフサクルにおいて引き続きサポートされたアーキテクチャーであり続けますが、noble以降ではarmhfはサポートされません。将来のリリースにおいて、armhfイメージは提供されず、foreign archtectureとしても利用できなくなります。

===== サーバーにおけるよりシンプルなBluetooth =====

サーバーイメージでBluetooth機能を有効化するために、 `pi-bluetooth` パッケージをインストールする必要はなくなりました。通常の `bluez`パッケージをインストールするだけで、カーネルによってBluetoothが設定されます。

==== arm64 ====

新しい「arm64+largemem」ISOイメージは、64Kページサイズのカーネルを含んでいます。大きなページサイズはスループットを向上させますが、メモリー使用量が増加するため、メモリーサイズが大きなサーバーに適しています。このISOイメージの典型的な使用例としては、機械学習や大きなエントリーを持つデータベース、ハイパフォーマンスコンピューティング（HPC）などが該当します。

==== IBM ZとLinuxONE ====

* 「s390-tools」パッケージは、段階的に最新のv2.31.0にアップグレードされました（<nowiki>[[https://launchpad.net/bugs/2049612 | LP: #2049612]]</nowiki>）。これには数多くの更新や、新しいツールや機能、とりわけAPQNs暗号ドメインに紐づくセキュアゲストツールが含まれています（<nowiki>[[https://launchpad.net/bugs/2003672 | LP: #2003672]]</nowiki>）。
* 他のすべてのアーキテクチャーと同じく、s390xでもCOMPAT_32BIT_TIMEが無効化されました（<nowiki>[[https://launchpad.net/bugs/2038583 | LP: #2038583]]</nowiki>）。さらに31/32bitレガシーサポートも削除されています（<nowiki>[[https://launchpad.net/bugs/1913302 | LP: #1913302]]</nowiki>）。
* GDB 15への更新により、IBM z16がサポートされるようになりました（<nowiki>[[https://launchpad.net/bugs/1982336 | LP: #1982336]]</nowiki>）。
* Glasgow Haskell Compilerはバージョン9.4.7に更新され、LLVMバックエンドを使用することでパフォーマンスの向上が可能になりました（<nowiki>[[https://launchpad.net/bugs/1913302 | LP: #1913302]]</nowiki>）。
* IBM Z固有の改善点として、仮想CPUトポロジーの導入（<nowiki>[[https://launchpad.net/bugs/1983223 | LP: #1983223]]</nowiki>）、KVMゲストの動的CPUトポロジーの強化（<nowiki>[[https://launchpad.net/bugs/2049703 | LP: #2049703]]</nowiki>）、ネストされたゲストのシャドーイベントカウンターの実装（<nowiki>[[https://launchpad.net/bugs/2027926 | LP: #2027926]]</nowiki>）などがKVM仮想スタックに取り込まれました。詳細は前述のqemuやlibvertのセクションを参照してください。
* s390xのもうひとつの大きな改善は暗号化におけるopencryptoki v2.23へのアップグレード（<nowiki>[[https://launchpad.net/bugs/2050023 | LP: #2050023]]</nowiki>）です。AES_XTSに対するPKCS #11 3.0のサポート（<nowiki>[[https://launchpad.net/bugs/2025924 | LP: #2025924]]</nowiki>）や、FIPS 2021セッションにbindしたEP11キーのEP11トークンサポートなどが存在します（<nowiki>[[https://launchpad.net/bugs/2050014 | LP: #2050014]]</nowiki>）。
* さらにlibicaがv4.3.0（<nowiki>[[https://launchpad.net/bugs/2050024 | LP: #2050024]]</nowiki>）に更新され、openssl-ibmcaパッケージがv2.4.1に更新されたことにより、openssl-pkcs11-sign-providerパッケージはv.1.0.1が利用可能になりました（<nowiki>[[https://launchpad.net/bugs/003668 | LP: 2003668)]]</nowiki>）。これにはforkのサポートが含まれています（<nowiki>[[https://launchpad.net/bugs/2050015 | LP: #2050015]]</nowiki>）。
* 最後に、s390x専用のいくつかのライブラリが最新バージョンに更新されました。たとえばqlibcが2.4.1に（<nowiki>[[https://launchpad.net/bugs/2050028 | LP: #2050028]]</nowiki>）、libzpcがv1.2.0に（<nowiki>[[https://launchpad.net/bugs/2050031 | LP: #2050031]]</nowiki>）なっています。

==== IBM POWER (ppc64el) ====

* KVMネイティブ仮想化はPOWER9システムでのみサポートされています（PowerVMは必須ではありません）。

==== RISC-V ====

Ubuntu 24.04はStarFive VisionFive 2ボードをサポートする最初のLTSです。
サポートされているボードの概要は「<nowiki>[[https://ubuntu.com/download/risc-v | Download Ubuntu for RISC-V Platforms]]</nowiki>」を参照してください。

RISC-V Ubuntuのユーザーランドは、すべてのRVA20ハードウェアと互換性があります。

== 既知の問題 ==

予想される通り、あらゆるリリースと同じように、今回のUbuntuリリースにもユーザーが陥りそうな重大な既知の不具合がいくつか存在します。現時点で判明している不具合（およびいくつかの回避策）をここに記録しておきます。これらの不具合については、改めて報告する必要はありません。

=== 全般 ===

* Ubuntuデスクトップインストーラーのライブセッションはローカライズされていません。新しいインストーラーを用いて、英語以外の言語のインストールは可能ですが、インストール時に言語パックをダウンロードするために、インターネットアクセスが必要になります（<nowiki>[[https://bugs.launchpad.net/ubuntu-release-notes/+bug/2013329 | LP: #2013329]]</nowiki>）。

=== Linuxカーネル ===

* 24.04 GAカーネル（6.8.0-31）のipu6ドライバーには、いくつかのIntel MIPIカメラの初期化に失敗する問題が見つかっています。カーネルチームは将来的なカーネルのSRUで修正するよう作業中です（<nowiki>[[https://bugs.launchpad.net/bugs/2061747/ | LP: #2061747]]</nowiki>）。

=== Ubuntuデスクトップ ===

* 以前のUbuntuリリースからのアップグレードはまだサポートされていません。アップグレードのための重要な不具合修正が、今後数日間で行われることが予想されます（<nowiki>[[https://launchpad.net/bugs/2063221 | LP: #2063221]]</nowiki>などは、回復が難しい重大な不具合の一例です。ここは一度ぐっとこらえるか、バックアップしてからクリーンインストールすることも検討してください）。

* 新しいインストーラーではスクリーンリーダーがサポートされましたが、まだ不完全です（<nowiki>[[https://launchpad.net/bugs/2061015 | LP: #2061015]]</nowiki>, <nowiki>[[https://launchpad.net/bugs/2061018 | LP: #2061018]]</nowiki>, <nowiki>[[https://launchpad.net/bugs/2036962 | LP: #2036962]]</nowiki>, <nowiki>[[https://launchpad.net/bugs/2061021 | LP: #2061021]]</nowiki>）。

* OEMインストールはまだサポートされていません（<nowiki>[[https://launchpad.net/bugs/2048473 | LP: #2048473]]</nowiki>）。

* ハイコントラストが有効な場合に、アプリケーションアイコンが正しくHigh Contrastテーマを使用しません（<nowiki>[[https://launchpad.net/bugs/2013107 | LP: #2013107]]</nowiki>）。

* GTK4アプリ（デスクトップ壁紙を含む）は、3Dアクセラレーションが有効化されたVirtualBoxやVMWareや（<nowiki>[[https://launchpad.net/bugs/2061118 | LP: #2061118]]</nowiki>）、NVIDIA 470ドライバー上（<nowiki>[[https://launchpad.net/bugs/2061079 | LP: #2061079]]</nowiki>）では正しく表示されません。

* Xorgセッション（つまりNVIDIAドライバー利用時）におけるフルスクリーングラフィックスのパフォーマンスが、一時的に悪化しています（<nowiki>[[https://bugs.launchpad.net/bugs/2052913 | LP: #2052913]]</nowiki>）。

* 新しいデスクトップインストーラーにおいてネットブートを実行すると、インストーラーの起動時にクラッシュする要因となります。この問題は24.04.1リリース（かそれより前）に修正される予定で、現時点でも24.04 ISOのライブ環境上で手動で `snap refresh` を実行すれば修正されます（<nowiki>[[https://launchpad.net/bugs/2062988 | LP: #2062988]]</nowiki>）。

* '''TPMを利用した全ディスク暗号化とAbsoluteの間の非互換性：''' TPMを利用した全ディスク暗号化（FDE）はデータの安全性を向上させるために導入されました。しかし、この機能はAbsolute（以前はComputrace）セキュリティソフトウェアと互換性がないことに注意が必要です。Absoluteが有効なシステムにおいては、TPMを利用したFDEを有効化してインストールするとマシンが起動しなくなります。そのため、起動失敗を避けるためにBIOSからAbsoluteを無効にしてください。
* '''TPMを利用した全ディスク暗号化におけるハードウェア固有のカーネルモジュール要件：''' TPMを利用した全ディスク暗号化（FDE）では、特定のハードウェア機能で必要となるカーネルモジュールを含んでいないカーネルsnapを必要とする場合があります。特に注意が必要な例としては、NVMe RAID構成において必要な `vmd` モジュールなどが該当します。そのような特定のカーネルモジュールが必要なシナリオにおいて、インストール後に影響するハードウェアを使い続けるためには、BIOSで（RAIDなどの）機能を無効化する必要があるかもしれません。BIOSで無効化できない場合、それらに関連するハードウェアはTPMを利用したFDEが有効化した環境においては利用できません。
* <nowiki>[[https://bugs.launchpad.net/bugs/+bugs?field.searchtext=&orderby=-importance&field.status%3Alist=NEW&field.status%3Alist=CONFIRMED&field.status%3Alist=TRIAGED&field.status%3Alist=INPROGRESS&field.status%3Alist=FIXCOMMITTED&field.status%3Alist=INCOMPLETE_WITH_RESPONSE&field.status%3Alist=INCOMPLETE_WITHOUT_RESPONSE&assignee_option=any&field.assignee=&field.bug_reporter=&field.bug_commenter=&field.subscriber=&field.tag=fde&field.tags_combinator=ANY&field.status_upstream-empty-marker=1&field.has_cve.used=&field.omit_dupes.used=&field.omit_dupes=on&field.affects_me.used=&field.has_patch.used=&field.has_branches.used=&field.has_branches=on&field.has_no_branches.used=&field.has_no_branches=on&field.has_blueprints.used=&field.has_blueprints=on&field.has_no_blueprints.used=&field.has_no_blueprints=on&search=Search | FDE固有の不具合についてはこちらから参照できます]]</nowiki>。

=== Ubuntuサーバー ===

==== インストーラー ====

* ミラーにアクセスできない場合でも、いくつかの状況ではオフラインインストールを進めることを許容できる場合があります。このような場合は、以下の設定の使用を薦めています：

<pre>
apt:
  fallback: offline-install
</pre>

* インストール時に設定されなかったネットワークインターフェースは、dhcp4を使うと仮定して設定します。dhcp4が使えない場合（たとえばそのインターフェースが物理的に接続されていなかった場合）、起動処理は数分間停止します（<nowiki>[[https://bugs.launchpad.net/subiquity/+bug/2063331 | LP: #2063331]]</nowiki>）。これを修正するには、 `/etc/netplan/50-cloud-init.conf` から該当するインターフェースを削除するか、 `optional: true` を設定してください。ISOイメージからインストールされたシステムでは、cloud-initが無効化されているため、この設定は永続化されます。

==== SambaのAppArmorプロファイル ====

<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/samba/+bug/2063079 | LP: #2063079]]</nowiki>の問題により、Sambaの `smbd.service` ユニットファイルは、既存の共有設定に応じてAppArmorプロファイルを動的に作成するヘルパースクリプトの呼び出しをやめました。

初期設定では、Sambaの `smbd` サービスは「制限状態（confined）」ではありません。よってこの問題による影響を受けるには、以下の手順を踏んでおく必要があります。

* `apparmor-profiles` を追加でインストールする
* `smbd` プロファイルを `complain` から `enforce` に変更する

したがって、この手順を踏んで24.04にアップグレードするユーザーのみが、この問題に対して影響を受けることになります。リリース後すぐに、この問題を修正するSRUを行います。

==== Docker ====

最近追加された `runc` 用のAppArmorプロファイルにより、コンテナをすぐに停止できないというAppArmor関連の不具合が存在します。シグナルを受信しようとする際に拒否されるため、コンテナは常に `SIGKILL` で強制終了されてしまいます。この不具合の詳細は <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/docker.io/+bug/2063099 | LP: 2063099 ]]</nowiki>で確認できますし、回避方法は <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/docker.io/+bug/2063099/comments/4 | こちらのコメント]]</nowiki> に記載されています。

==== PPC64EL ====

* PMDKは、そのテストスイートにより、いくつかのハードウェア固有の障害を確認しています。これによりppc64elアーキテクチャー上でのソフトウェアが部分的もしくは完全に操作不能になる可能性があります（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/pmdk/+bug/2061913/ | LP: #2061913]]</nowiki>）。

==== Raspberry Pi ====

* デスクトップイメージのインストール時に、スライドが正しく表示されません。この問題は外見上のもので、インストール自体には影響しません（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bug/2037015 | LP: #2037015]]</nowiki>）。

* サーバーイメージで起動する際、`cloud-init` 設定（bootパーティション上の `user-data` ）がネットワークに依存している場合（SSH鍵のインポートや、パッケージのインストールなど）、bootパーティションの `network-config`において、少なくとも一つのネットワークインターフェースが要求されている（ `optional: false` 設定である）ことを *確認する必要があります* （<nowiki>[[https://launchpad.net/bugs/2060311 | LP: #2060311]]</nowiki>）。

* 初期セットアップ作業の前に起動音が鳴らないため、ユーザーはこの音を聞いてシステムが起動したかどうかを、現在は判断できません（<nowiki>[[https://launchpad.net/bugs/2060693 | LP: #2060693]]</nowiki>）。

* 最初からインストールされているTotemビデオプレイヤーは、ビデオを再生する際に必要となるコーデックのインストールを促すダイアログを表示しません（<nowiki>[[https://launchpad.net/bugs/2060730 | LP: #2060730]]</nowiki>）。

* Raspberry Piに接続できる一部のモニターで、一定時間操作しない場合にモニターの電源が切れた後、電源が再投入されても画面が真っ黒なままになることがあります。どのようなモニタが影響を受けるのかを<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/mutter/+bug/1998716 | LP: #1998716]]</nowiki>にて調査中です。

* crdaパッケージが22.04で削除されたことに伴い、Wi-Fiのワイヤレス規制ドメインを変更する従来の方法（ `/etc/default/crda` の編集）は機能しません。サーバーイメージでは、Netplan設定における `regulatory-domain` オプションで変更できます。デスクトップイメージでは、 `cfg80211.ieee80211_regdom=GB` （`GB` は利用する国に合わせて国コードに置き換えてください）をブートパーティションにある `cmdline.txt` ファイル内のカーネルの起動オプションに追加してください（<nowiki>[[https://launchpad.net/bugs/1951586 | LP: #1951586]]</nowiki>）。

* Raspberry Pi DAC+ HAT（およびそのシリーズの他のDAC HAT）は現在、Ubuntuが動いているPi 5ではうまく動作しません（<nowiki>[[https://launchpad.net/bugs/2060240 | LP: #2060240]]</nowiki>）。

* Raspberry Pi 2B, 3B, 3A+, 3B+, およびZero 2Wの電源LEDは、Ubuntuカーネルの起動が始まると消えたままになります（<nowiki>[[https://launchpad.net/bugs/2060942 | LP: #2060942]]</nowiki>）。

* libcameraのサポートは現在機能しておらず、次のサイクルでの優先課題となり、利用可能になり次第24.04においてもSRUによって修正される見込みです（<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/libcamera/+bug/2038669 | LP: #2038669]]</nowiki>）。

==== NVIDIA GPUが搭載されたARM64システム ====

* 現在のNVIDIA GPUドライバのバージョンでは、ハングアップやクラッシュが発生することがあります（<nowiki>[[https://launchpad.net/bugs/2062380 | LP: #2062380]]</nowiki>）。これは将来のドライバアップデートで修正される予定です。

==== Google Compute Platform ====

* GCPのサスペンド機能に関連するリグレッションがlinux-gcp 6.8カーネルで発見され、現在<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-gcp/+bug/2063315 | LP: #2063315]]</nowiki>にて調査中です。
* Ubuntu 24.04では、needrestartパッケージの挙動が変更されました。詳細は「<nowiki>[[https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890#services-restart-on-unattended-upgrade-26 | Services restart on unattended-upgrade]]</nowiki>」を参照してください。これにより、パッケージがアップグレードまたは再インストールされる際に、あらゆるgoogle-guest-agent起動スクリプトが再度実行されます。調査中ではありますが、google-guest-agentパッケージが再インストールされた場合にのみトリガーされるようです。回避策として、<nowiki>[[https://manpages.ubuntu.com/manpages/noble/man1/needrestart.1.html#environment | `needrestart` man pages]]</nowiki> に従い、 `NEEDRESTART_SUSPEND=1` を再インストール前に設定するか、`needrestart` 設定に「 `echo "\$nrconf{override_rc}{qr(^google-(shutdown|startup)-scripts\.service$)} = 0;" >> /etc/needrestart/conf.d/google-guest-agent.conf` 」を追加する方法が存在し、これにより将来のgoogle-guest-agentのアップグレードまたは再インストール時に、この挙動が無効になります。

新しいGCEイメージはリリース後間もなく構築および公開され、デフォルトでこのgoogle-guest-agentの挙動が無効になります。

==== Microsoft Azure ====

* `ubuntu-24_04-lts` オファーの `cvm` プランで利用可能なConfidential VMイメージのapparmorプロファイルに問題があることが発見されました。たとえば、このプランから起動されたVMでは `rsyslog` サービスの起動に失敗します。これは調査中であり、修正を行った新しいイメージが間もなく公開されます。

* 複数のNICを設定したインスタンスを持つユーザーは、systemd-resolvedの設定ミスによるDNS解決の遅延に遭遇する場合があります。現在、cloud-initにおいて解決策を実装中です（<nowiki>[[https://github.com/canonical/cloud-init/pull/5180 | https://github.com/canonical/cloud-init/pull/5180]]</nowiki>）。これに対する<nowiki>[[https://discourse.ubuntu.com/t/noble-numbat-release-notes/39890#microsoft-azure-88 | 一時的な回避策も参照してください]]</nowiki>。

==== s390X ====

まだありません。

== 公式フレーバー ==

公式フレーバーのリリースノートは次のリンクから確認できます：

* <nowiki>[[https://discourse.ubuntu.com/t/edubuntu-24-04-lts-released/44455/ | Edubuntu Release Notes]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/NobleNumbat/ReleaseNotes/Kubuntu | Kubuntu Release Notes]]</nowiki>
* <nowiki>[[https://lubuntu.me/noble-released/ | Lubuntu Release Notes]]</nowiki>
* <nowiki>[[https://ubuntubudgie.org/2024/04/ubuntu-budgie-24-04-release-notes/ | Ubuntu Budgie Release Notes]]</nowiki>
* <nowiki>[[https://ubuntu-mate.org/blog/ubuntu-mate-noble-numbat-release-notes/ | Ubuntu MATE Release Notes]]</nowiki>
* <nowiki>[[https://ubuntustudio.org/ubuntu-studio-24-04-LTS-release-notes/ | Ubuntu Studio Release Notes]]</nowiki>
* <nowiki>[[https://ubuntuunity.org/posts/ubuntu-unity-2404-released/ | Ubuntu Unity Release Notes]]</nowiki>
* <nowiki>[[https://wiki.xubuntu.org/releases/24.04/release-notes | Xubuntu Release Notes]]</nowiki>
* <nowiki>[[https://ubuntukylin.com/news/ubuntukylin2404-en.html | Ubuntu Kylin Release Notes]]</nowiki>
* <nowiki>[[https://ubuntucinnamon.org/?p=1310 | Ubuntu Cinnamon Release Notes]]</nowiki>

== より詳しい情報 ==
=== バグレポート ===

あなたのコメントやバグレポート、レポートへのコメント・パッチの投稿・提案は、バグの修正や将来のリリース品質の改善につながります。<nowiki>[[http://help.ubuntu.com/community/ReportingBugs|ツールを用いてバグを報告してください]]</nowiki>。バグの修正を通じて貢献したいのであれば、<nowiki>[[http://wiki.ubuntu.com/BugSquad|Bug Squad]]</nowiki>のページが役に立つでしょう。

=== リリース日に優先度がhighやcriticalのCVEが存在する場合はどうなりますか？ ===

サーバーやデスクトップ、Cloudイメージはリリース日に合わせてリリースされる予定ですが、一部例外もあります。

万が一、リリース当日に優先度がcriticalまたはhighであるCVEが発表された場合、リリースチームは以下の対応策を行うことで合意しています：

* 優先度がcriticalとなるCVEについては、そのCVEに対応した新しいイメージが構築されるまで、サーバーやデスクトップ、Cloudイメージのリリースがブロックされます。
* 優先度がhighとなるCVEについては、プロダクト（サーバーやデスクトップ、Cloudイメージ）ごとにリリースをブロックするかどうかが決定され、CVEの性質によっては同じ日にイメージがリリースされない場合もあります。

これは、<nowiki>[[https://lists.ubuntu.com/archives/ubuntu-release/2023-April/005610.html|ubuntu-releaseメーリングリストにて2023年3月から4月]]</nowiki>にかけて議論されました。

また、このメーリングリストのスレッドでは、リリース前に優先度がhighまたはCriticalなCVEに対処するために、パッケージのアップデートや、セキュリティポケットにプッシュできない技術的またはポリシーによる理由がないことも確認されました。

=== Ubuntuに参加するには ===

Ubuntuを支援したいのであれば、以下の支援できる方法の一覧に目を通してみてください： <nowiki>[[https://community.ubuntu.com/contribute|community.ubuntu.com/contribute]]</nowiki>

=== Ubuntuに関して ===

Ubuntuに関するより詳しい情報は、<nowiki>[[https://ubuntu.com|Ubuntuサイト]]</nowiki>を確認してください。

Ubuntuの開発に関するアナウンスを受け取るには、<nowiki>[[https://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce|Ubuntu開発アナウンスメーリングリスト]]</nowiki>を購読してください。

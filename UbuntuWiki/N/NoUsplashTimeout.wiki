{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': <nowiki>[[https://features.launchpad.net/distros/ubuntu/+spec/no-usplash-timeout|no-usplash-timeout]]</nowiki>
* '''Packages affected''': usplash

=== Summary ===

Remove the timeout in usplash that causes it to terminate if no messages are received on its control socket in a particular amount of time.

=== Rationale ===

The reason for this timeout is an assumption that there is an important message or prompt being hidden underneath the splash screen, and therefore it's necessary to exit so that the message can be displayed.

This is no longer true; init scripts and upstart jobs are run such that output is not sent to the console, and standard input is bound to `/dev/null`.  This means that there will never be anything of worth to show and nothing halting the boot sequence while it reads.

=== Use cases ===

* William is a user with a slow computer.  When booting, the splash screen and progress bar disappear because one boot step takes longer than the expected timeout.  They are left with no indication that the boot is proceeding normally.

=== Scope ===

This specification only addresses the change to usplash, and not the methods of ensuring delays or failures are notified, or input received; those are left to specifications such as UsplashFsckProgress and BootMessages.

=== Implementation ===

Remove the timeout checking code and automatic termination from usplash.  Ignore the TIMEOUT command when received on the control socket.

TIMEOUT changes can be removed from init scripts gradually, whenever anybody touches them.

=== Comments ===

* How about have some kind of text output on a small box under the progress bar in the Usplash? Not as much as with the horrible ones, of course; just 2 lines or so. That way, if anything bad happens then the error message can be displayed in that box. Similarly, the file system consistency check could be displayed there. To make it more friendly, that box would not display all of the output, but rather only important stuff. Of course, I'm suggesting this here because I think the timeout check code does not have to be removed; it can be replaced with a message that displays in the suggested text box saying something along the lines of "It's taking too long!". (Note: I know nothing about Linux - especially Usplash - and thus I do not know how possible this is). DylanMccall (Mr. Picklesworth), Feb. 10, 2007
** usplash already offers this facility using its `TEXT-URGENT` command. All it needs is for init scripts to make use of it as necessary. --ColinWatson

----
CategorySpec

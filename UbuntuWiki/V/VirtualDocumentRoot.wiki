{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

VirtualDocumentRoot can be used to dynamically allow the creation of virtual hosts using only directories.

For example:
<pre>
VirtualDocumentRoot /var/www/vhosts/%0/httpdocs
</pre>

Unfortunately, this makes support for URLs beginning with "www" difficult because they map to different directories. Rather than creating a multitude of "www." directories, you can use the following mod_rewrite in your Apache configuration to redirect users to domains with the "www." prefix removed.

Apache 2.0:
{{{
RewriteEngine on
RewriteCond %{HTTP_HOST} ^www\.
RewriteRule ^(.*) %{HTTP_HOST}`$1  [C]
RewriteRule ^www\.([^\_]*)\`(.*)$ http://$1/$2 [R=301,L]}}}

Apache 2.2:
{{{
RewriteEngine on
RewriteCond %{HTTP_HOST} ^www\.
RewriteRule ^(.*) %{HTTP_HOST}`$1  [C]
RewriteRule ^www\.([^\_]*)\`(.*)$ http://$1$2 [R=301,L]}}}

Backticks ("`") are not supported characters in domain names, so they can be used as a delimiter to separate the path from the domain name.

Of course, you will also want to modify the "http" in the redirect to be "https" for SSL virtual hosts.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Writing clue files ==

As described in the <nowiki>[[BugHelper/doc|introductory documentation]]</nowiki> you can create simple cluefiles with <code>bugxml -a</code>. For more complex search criteria you need to edit the XML files as described here.

The basic clue file created with <code>bugxml</code> has this header:

<pre>
<?xml version="1.0"?>
<clues version="0.1">
</pre>

and contains a single clue on the form:

<pre>
  <clue>
    <contains>
      <op>crash</op>
    </contains>
    <info>A CRASHER BUG</info>
  </clue>
</pre>

and finally closes with:

<pre>
</clues>
</pre>

You can add a long list of clues with the <code><clues> </clues></code> tag, each with a list of search strings within <code><op> </op></code> tags. Each clue also requires an <code><info></code> tag to hold a brief description of the bug type. If the clue describes a duplicate then this description would typically be the title of the original bug.

=== Optional elements ===

'''Declaring duplicates:''' If you create a clue that searches for duplicates of bug #X you can note that specifically in the clue file. Bughelper will then refrain from listing this bug in these searches. 

<pre>
  <dontlist>
    <bug>48355</bug>
  </dontlist>
</pre>

'''Inheritance:''' Clues can be inherited from other clue files. ''totem'' can for example inherit clues from ''gnome'' and ''gstreamer'':
<pre>
    <inherits>
        <inherit>gnome</inherit>
        <inherit>gstreamer</inherit>
    </inherits>
</pre>

'''Logical operators:''' You can also combine the logical opperators AND, OR and NOT to create detailed bug searches. Example:

<pre>
  <clue>
    <contains>
      <and>
        <op>apples</op>
          <or>
            <op>oranges</op>
            <op>pears</op>
          </or>
          <bin=not op>bananas</op>
      </and>
    </contains>
    <info>Bug description must contain 'apples' AND either 'oranges' OR 'pears'. It may not contain 'bananas'.</info>
  </clue>
</pre>

=== Examples ===

Real-life examples from <code>packages/ubiquity.info</code>:

<pre>
<clues>
    <clue>
        <dontlist>
            <bug>48355</bug>
        </dontlist>
        <contains>
           <and>
                <op>IOError: [Errno 28] No space left on device</op>
                <op>copy_all</op>
                <op bin="not">stepPartAdvanced</op>
	       </and>
        </contains>
        <info>This is a dupe of 48355 if the system partitions are big enough</info>
    </clue>
    <clue>
        <dontlist>
            <bug>48856</bug>
        </dontlist>
        <contains>
	     <and>
                <op>AttributeError: 'NoneType' object has no attribute 'stdin'</op>
                <op>print >>self.gparted_subp.stdin, "apply"</op>
             </and>
        </contains>
        <info>This is a duplicate of 48856, which was fixed in 1.0.13 and 1.1.1</info>
    </clue>
</clues>
</pre>

== Sharing clue files ==

The real benefits of bughelper become apparent when bug triagers and developers share their knowledge of the through common clue files.

==== Preliminaries ====

# Get a Launchpad Account at https://launchpad.net/
# Add your SSH keys to https://launchpad.net/people/+me/+editsshkeys
# Install `bzr`, it's a nice and handy tool. We use it for developing BugHelper: <pre>
sudo apt-get install bzr}}} (if you installed bughelper on feisty, bzr will already be installed.
 1. edit `~/.bazaar/bazaar.conf` and add something along the lines of:{{{
[DEFAULT]
email=Daniel Holbach <daniel.holbach@ubuntu.com>}}} so that your commit will be identified.
 1. Create a directory for your local <code>bzr</code> branches{{{
mkdir ~/bzr; cd ~/bzr}}}

==== Get the latest copy of bughelper-data ====

 1. To start sharing clue files you must first check out the latest a copy of the shared repository as a local <code>bzr</code> branch:{{{
bzr checkout lp:~bugsquad/bughelper-data/main bughelper-data}}}
  This is actually the same repository that <code>bughelper</code> updates its clue files from normally, but with this format you can make changes and upload them again with bzr.
 1. Generate default bughelper config:{{{
bughelper --gen-config}}}
 1. Edit `~/.bughelper/config` to contain the path to bughelper-data (you just checked out) in the `Local-Packages-Dir:` line.

==== Editing and uploading ====

Add a new clue with <code>bugxml -a</code> or simply edit the <code>.info</code> for a given package. From the <code>bughelper-data</code> directory, run 

{{{
 bzr unknowns
</pre> 

to see if your clue file is listed as a new file. If so, you first have to add it with

<pre>
 bzr add <filename>
</pre>

If you have simply edited an existing file you can go directly to the commit step:

<pre>
 bzr commit -m "added a totem clue"
</pre>

Optionally, you can edit the `Local-Packages-Dir:` line of `~/.bughelper/config` to contain the path to the bughelper-data <code>bzr</code> directory. The directory you created with the <code>bzr</code> then becomes you local working directory. Make changes there as you experiment with new clues and commit the ones that work well.

----
Go back to '''<nowiki>[[BugHelper/doc]]</nowiki>'''.<<BR>>
CategoryBugSquad<<BR>>
CategoryBugHelper

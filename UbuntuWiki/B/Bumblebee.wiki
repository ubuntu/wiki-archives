{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== Bumblebee Project ==

Bumblebee aims to provide support for <nowiki>[[http://www.nvidia.com/object/optimus_technology.html|NVIDIA Optimus]]</nowiki> laptops for GNU/Linux distributions. Using Bumblebee, you can use your NVIDIA card for rendering
graphics which will be displayed using the Intel card. Bumblebee is officially supported by Ubuntu in 14.04 newer. However, all releases are supported by the <nowiki>[[https://launchpad.net/~bumblebee|Bumblebee Project community]]</nowiki> from Ubuntu version 12.04 up to 14.04.

== Installation ==

=== Setup for 12.04 ===

You need to open your <nowiki>[[https://help.ubuntu.com/community/UsingTheTerminal|terminal]]</nowiki> and enter the commands below.

If on 12.04.5, replace linux-headers-generic with linux-headers-generic-lts-trusty.

1. Enable the <nowiki>[[https://help.ubuntu.com/community/Repositories/Ubuntu|Universe and Multiverse]]</nowiki> repositories in order to allow the bumblebee and nvidia packages to be installed: <pre>
sudo add-apt-repository ppa:bumblebee/stable
sudo apt-get update
</pre>
1. Install Bumblebee using the default proprietary nvidia driver for 12.04: <pre>
sudo apt-get install bumblebee bumblebee-nvidia virtualgl linux-headers-generic
</pre>
1. Reboot.

=== Setup for 14.04 and later ===

You need to open your <nowiki>[[https://help.ubuntu.com/community/UsingTheTerminal|terminal]]</nowiki> and enter the commands below.

1. Enable the <nowiki>[[https://help.ubuntu.com/community/Repositories/Ubuntu|Universe and Multiverse]]</nowiki> repositories in order to allow the bumblebee and nvidia packages to be installed: <pre>
sudo apt-get install bumblebee bumblebee-nvidia primus linux-headers-generic
</pre>
1. Reboot.

=== Advanced Setups ===

For advanced users, if you do not want to use the proprietary nvidia driver or 32-bit libraries (for example, if you are only interested in power savings), you can do a custom installation: <pre>
sudo apt-get install --no-install-recommends bumblebee
</pre> Depending on your needs, also install:
* `bumblebee-nvidia`: proprietary nvidia driver support (if installed, become default over nouveau).
* `virtualgl`: VirtualGL as backend.
* `virtualgl-libs-ia32`: 32bit support for VirtualGL on 64bit system, necessary to run 32bit app through optirun.
* `primus`: primus/primusrun as backend (virtualgl Stays default, you need to run `optirun -b primus <app>`).
* `primus-libs-ia32`: 32bit support for primus/primurun on 64bit system, necessary to run 32bit app through optirun.

== Usage ==

To run your application with the discrete NVIDIA card run in the terminal: <pre>
optirun [options] <application> [application-parameters]
</pre> For example: <pre>
optirun firefox
</pre> For a list of options for optirun execute: <pre>
optirun --help
</pre> Normally you do  not use optirun for your window manager, installations, or other non-graphic, resource intensive programs. The optirun command is mainly used for graphic demanding programs (ex. games).

== Power Management ==

A primary goal of this project is to not only enable use of the discrete GPU (dGPU) for rendering, but also to enable smart power management of the dGPU when it's not in use. We're using either bbswitch (a module) or vga_switcheroo (kernel module) to do this in Bumblebee.

Since Bumblebee 3.0, this feature is enabled by default, using <nowiki>[[https://github.com/Bumblebee-Project/bbswitch|bbswitch]]</nowiki>. This allow automatic power management, without any manual configuration required.

If Power Management doesn't work on your laptop, please go to this <nowiki>[[http://wiki.bumblebee-project.org/Power-Management|Power Management (PM)]]</nowiki> page and help to improve Bumblebee.

== Updating drivers ==

The Bumblebee project recommends you install drivers only through APT and not drivers provided by nvidia.com directly. With that said, whenever you update your drivers through supported repositories, you need to setup the correct config values in `/etc/bumblebee/bumblebee.conf`. See also <nowiki>[[https://github.com/Bumblebee-Project/Bumblebee/wiki/Troubleshooting#bumblebeed-module-nvidia-is-not-found|this FAQ on github]]</nowiki>.

=== Update to nvidia-319 driver ===

To update to the latest update of 319.x driver, you need to install it through apt: <pre>
sudo apt-get install nvidia-319-updates nvidia-settings-319-updates
</pre> Then you need to edit `/etc/bumblebee/bumblebee.conf` and set: <pre>
Driver=nvidia
KernelDriver=nvidia-319-updates
LibraryPath=/usr/lib/nvidia-319-updates:/usr/lib32/nvidia-319-updates
XorgModulePath=/usr/lib/nvidia-319-updates/xorg,/usr/lib/xorg/modules
</pre> by running either: <pre>
optirun nvidia-settings
</pre> or: <pre>
optirun -b none nvidia-settings -c
</pre>

== CUDA ==

There is sometimes confusion about CUDA. You don't need Bumblebee to run CUDA. Follow the <nowiki>[[http://askubuntu.com/questions/131506/how-can-i-get-nvidia-cuda-or-opencl-working-on-a-laptop-with-nvidia-discrete-car|How-to]]</nowiki> to get CUDA working under Ubuntu.

There is however a new feature (--no-xorg option for optirun) in Bumblebee 3.2, which makes it possible to run CUDA / OpenCL applications that does not need the graphics rendering capabilities.

== Uninstall PPA ==

If you're unsatisfied with Bumblebee, you can remove it. <pre>
sudo apt-get install ppa-purge
sudo ppa-purge ppa:bumblebee/stable
</pre> If you want to keep some programs from the bumblebee repository, you can also suffice by removing Bumblebee only (including its dependencies): <pre>
sudo apt-get purge bumblebee
sudo apt-get --purge autoremove
</pre>

== Troubleshooting ==

=== "Cannot access secondary GPU" error ===

In LTS 12.04.5 and later, if your card seems to be inaccessible: <pre>
[ERROR]Cannot access secondary GPU - error: [XORG] (EE) No devices detected.
</pre> you need to edit the /etc/bumblebee/xorg.conf.nvidia (or /etc/bumblebee/xorg.conf.nouveau if using the noveau driver) and specify the correct BusID by following the instructions therein.

=== Error running 32-bit applications on a 64-bit system ===

If you're using a 64-bit system and 32-bit applications fail to run because ''libGL.so.1'' is not found, then your system is probably not correctly configured to use the 32-bit Mesa GL libraries. To fix this:
1. Ensure that the package libgl1-mesa-glx:i386 is installed.<<BR>>
 You can run the following command to check that: <pre>
apt-cache policy libgl1-mesa-glx:i386
</pre>
1. Do one of the following:
** Reinstall bumblebee-nvidia by running the following command in a terminal: <pre>
sudo apt-get install --reinstall bumblebee-nvidia
</pre> This is the easiest solution.
** Configure the system to correctly use the 32-bit Mesa GL libraries.
1. Open a terminal and run: <pre>
sudo update-alternatives --config i386-linux-gnu_gl_conf
</pre> Something like this will be displayed: <pre>
  Selection    Path                                      Priority   Status
------------------------------------------------------------
* 0            /usr/lib/nvidia-331/alt_ld.so.conf         8604      auto mode
  1            /usr/lib/i386-linux-gnu/mesa/ld.so.conf    500       manual mode
  2            /usr/lib/nvidia-331-prime/alt_ld.so.conf   8603      manual mode
  3            /usr/lib/nvidia-331/alt_ld.so.conf         8604      manual mode

Press enter to keep the current choice[*], or type selection number:
</pre>
1. Select the option /usr/lib/i386-linux-gnu/mesa/ld.so.conf
   In the above case, you would enter `1`.
1. Run: <pre>
sudo ldconfig
</pre>

== Reporting bugs/problems ==

First, if you have any problem, please read <nowiki>[[http://wiki.Bumblebee-Project.org/Troubleshooting]]</nowiki>. If your issue is not solved, it is recommended to join the <nowiki>[[http://webchat.freenode.net/?channels=#bumblebee|#bumblebee]]</nowiki> IRC channel to ask for help. See also
<nowiki>[[http://wiki.Bumblebee-Project.org/Reporting-Issues]]</nowiki>.

If you're asked to create a bugreport, run the next command in a terminal: <pre>
sudo bumblebee-bugreport
</pre>

== IRC ==

Please join <nowiki>[[http://webchat.freenode.net/?channels=#bumblebee|#bumblebee]]</nowiki> channel on Freenode if you wish to help testing and creating the installer.

== Social Media ==

Follow us on: <nowiki>[[http://www.facebook.com/BumblebeeProject|Facebook]]</nowiki>, <nowiki>[[https://twitter.com/#!/Team_Bumblebee|Twitter]]</nowiki> and <nowiki>[[http://gplus.to/Bumblebee|Google+]]</nowiki>.

----
CategoryHardware

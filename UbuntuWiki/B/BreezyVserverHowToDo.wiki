{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Linux-Vserver is a kernel level isolating patch for multiple distributions and mass services in the same system.

=== Configurate and Install the base system ===

'''Attention !''' <<BR>>
Breezy VServer kernels are no longer supported at uni-klu.ac.at - please upgrade
to Dapper. You can find installation instructions for Dapper on the <nowiki>[[VServer]]</nowiki> page.

* Download Pub-Key for ubuntu.uni-klu.ac.at

<pre>
$wget http://ubuntu.uni-klu.ac.at/uniklu-debuild.pub
$sudo apt-key add uniklu-debuild.pub
</pre>

* Add new sources to /etc/apt/sources.list

<pre>
deb http://ubuntu.uni-klu.ac.at/ubuntu.uniklu/ breezy uniklu-vserver
deb-src http://ubuntu.uni-klu.ac.at/ubuntu.uniklu/ breezy uniklu-vserver
deb http://archive.ubuntu.com/ubuntu/ breezy-backports main restricted universe multiverse
deb-src http://archive.ubuntu.com/ubuntu/ breezy-backports main restricted universe multiverse
</pre>

* Install and Reboot with linux-image-2.6.12-11-386 or linux-image-2.6.12-11-686
<pre>
$sudo apt-get update && sudo apt-get install linux-image-2.6.12-11-386 linux-image-2.6.12-11-686 util-vserver debootstrap
$sudo reboot
</pre>

=== Build the Vserver-environment ===

* Set up a new base for Vserver

<pre>
$vserver <VSERVER NAME> build \
-n <VSERVER NAME> \
--hostname <Fully Qualified Domain Name> \
--interface <NET DEVICE>:<IP>/<CIDR> \
-m debootstrap -- -d <DEBIAN DISTRO> -m <MIRROR URL> (--variant=buildd)
</pre>

PS. --variant=buildd for some version, if you can't build it up.
example:
if your install disk is in /media/cdrom/ , do like this.

<pre>
$vserver vserver build \
-n vserver \
--hostname vserver.mydname.abc \
--interface eth0:192.168.95.2/24 \
-m debootstrap -- -d breezy -m file://media/cdrom/
</pre>

or
<pre>
$vserver vserver build \
-n vserver \
--hostname vserver.mydname.abc \
--interface eth0:192.168.95.2/24 \
-m debootstrap -- -d breezy -m http://archive.ubuntu.com/ubuntu/
</pre>

* start and enter the Vserver-environment
<pre>
$sudo vserver <VSERVER NAME> start && sudo vserver <VSERVER NAME> enter
</pre>

* Config the inside of Vserver-environment
<pre>
root:<VSERVER NAME># apt-get install locales cron logrotate
root:<VSERVER NAME># dpkg-reconfigurate locales
Enable en_US.ISO en_US.UTF-8
root:<VSERVER NAME># base-config
</pre>
Do as normal base-config

* Boot Vserver in /etc/init.d/

Add this script into /etc/init.d/vserver-init:

<pre>
/usr/sbin/vserver <VSERVER NAME> start
</pre>

And run this command
<pre>
$ sudo chmod +x /etc/init.d/vserver-init
</pre>

* Customize (optional)
<pre>
$apt-get install wget nano
</pre>

If next time you want to log in your vserver, type 'sudo vserver <VSERVER NAME> enter' .

To Stop VServer, type 'sudo vserver <VSERVER NAME> stop' .

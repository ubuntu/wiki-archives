{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': https://launchpad.net/distros/ubuntu/+spec/hard-disk-shock-protection/
* '''Packages affected''': linux-image-generic linux-image-386

=== Summary ===
HDSP systems [on OEM installed operating systems] in laptops from IBM, Apple, and other manufacturers monitor physical movement via accelerometers mounted on the system board and shut down HDD activity in the event of a sudden movement, protecting against data corruption and HDD damage.
Ubuntu HDSP should handle many accelerometer systems (not just IBM's which is also licensed to Apple), plus other sensory systems such as webcams, and allow for multiple actions, e.g. parking HDD heads, sounding an alarm, phoning home or remote logging, activating audio/video recording, etc., all managed from a nice GNOME applet.

=== Rationale ===
IBM/Lenovo laptops are a very popular choice for Linux users, because IBM has a reputation for supporting Linux. These machines come with several extensions (termed <nowiki>[[http://www.thinkwiki.org/wiki/ThinkPad_Technologies|ThinkVantage]]</nowiki> Technologies) on of them being the <nowiki>[[http://www.thinkwiki.org/wiki/Active_Protection_System|Active Protection System]]</nowiki>, which is able to detect sudden motion and parks the head of the disk to prevent damage. We should try to support this technology to compete with the Windows on Thinkpads to make Linux Thinkpad users happy. 

=== Use cases ===
Johanna chose a Thinkpad laptop because she heard they support Linux. She installs Ubuntu on it but notices that she lost some functionality which protects her laptop from damage. She searches the Internet and find out that it is possible to use the Harddisk protection on Linux, but also learns that she has to compile a new kernel in order to make use of it under Ubuntu. While she is an enthusiastic Linux user, compiling a new kernel is not one of her skills.

=== Scope ===
The Ubuntu kernel supports the sensors required to read the acceleration values, but lacks support for parking the disk heads. There is a patch which adds this capability to the kernel. It is even packaged for Ubuntu (kernel-patch-queuefreeze): http://www.oakcourt.dyndns.org/projects/Packages

Integrating this patch should then enable the hdaps daemon to park the disk head and the gnome-hdaps-applet to display the status.

=== Design ===

=== Implementation ===
Apply the kernel patch http://www.zen24593.zen.co.uk/hdaps/

Add the following packages to universe:
* gnome-hdaps-applet http://www.zen24593.zen.co.uk/hdaps/
* hdapsd http://www.zen24593.zen.co.uk/hdaps/
* khdapsmon http://www.oakcourt.dyndns.org/projects/websvn/listing.php?repname=khdapsmon

Maybe the following as a replacement for khdapsmon:
* khdapsmonitor http://roy.marples.name/node/269

==== Code ====

==== Data preservation and migration ====

=== Unresolved issues ===
* Has the queue freeze patch any problems?
* Are Apple laptops supported as well?
* Are Toshiba laptops supported as well ?
* http://www.oakcourt.dyndns.org/projects/Packages is gone, anywhere else to get the queuefreeze patch for ubuntu?

=== BoF agenda and discussion ===

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:handlingtooagressivepowermanagment.
== Summary ==
currently a lot of laptops are effected by Bug #59695 see https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695
which according to a lot of reports cause some hard drive to fail at a young age (less then a year) a unofficial fix has been posted but is considered too problematic to be applied to all Ubuntu system by default. The purpose of this spec is too design a solution that will solve this complex issue in the best possible way.
== Rational ==
the unofficial fix works by basically changing the power management setting of the hard drive with hdparm -B command the problem is:
* when disabling aggressive power management the temperature of the hdd usually goes up,on rare occasions the hdd temperature can go higher then max temperature specified by the manufacturer
* different hdd sometimes need different commands to be applied no single command to fix all (as reported by some users,needs more investigation)
* changing this setting increases power consumption (though this is certainly better than killing the drive)
* changing this setting causes the head to never park which may marginally increase the chances of data loss/damage to the hard drive in the case of physical impact

== Approaches to solution ==
=== Do nothing ===
The Ubuntu development team has a busy schedule,this issue exist in other Linux distribution and has not caused the Linux desktop to crash and burn (mostly because users aren't aware of the damage).

pros:

* zero development investment
* we wont have to deal with changing the behavior of hardware we do not know much about / have not designed ourselves

cons: 
* people and organizations can be really turned off from the linux Desktop when they find out it can cause hardware to fail early
* shows a certain lack of professionalism a OS manufacturer is not suppose to have.  It is the OS vendor's job to work around problematic hardware see:http://blogs.msdn.com/oldnewthing/archive/2003/08/28/54719.aspx for a good example how another OS vendor handles hardware issue 

=== Wait for Ideal solution ===
the best solution and the one we should work for in the long run is to to work with upstream projects at minimizing hard drive writes and work out the issues in laptop mode to keep the hard drive head parked when ideal

pros:
* keep hard drive alive reasonable amount of time while still enjoying the benefits of aggressive power management
cons:
* coordinating and integrating all the changes in the upstream projects can take at least one and maybe two releases -- that's a lot of dead hard drives
* laptop mode has not been enabled by default in a long time because of a long standing issue and correcting that issue is definitely not trivial   
* even if this two long term processes will be completed the hard drive will still keep parking/unparking when in use. 

=== completely Automated Approach ===
write a small daemon that will use hddtemp+smartctl+hdparm to tweak hard drive setting trying to balance hard drive temperature and load cycle count.

pros:
* relatively easy to implement and push as update to gusty 
* does not bother the user with the details of their computer -Newbie friendly
* aggressive power management is not necessary while system is on AC power and should be disabled,some thing that is not done the current Ubuntu release.
cons:
* is it really a good idea to change manufacturer default without informing the user?
* with so many different hard drive out there automating this kind of thing can make things go horribly wrong (it can be combat by white listing but that take large community involvement in testing)       
=== Semi Automated Approach ===
add aggressive power management setting to preference->power management and have the Ubuntu installer ask if the user wants to enable apm adding a warning in both installer and power management about risk of reduced life expectancy

pros:
* removes responsibility from Ubuntu about finding optimal configuration
* gives user more control over their hardware
cons:
* hurts user experience significantly.
* not very different from the original ugly fix advertised

=== Do whatever it is other OS do ===
it is confirmed that windows generally does not suffer from this problem. while on a Ubuntu system the head will park as soon as possible and then immediately unpark,it is reported that on windows the head never seem to park see:
https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/314. emulating the way windows does that might be a good solution.

pros: 
* the average user would not mind if Linux will handle their hard drive setting in the exact way that windows does, even if its not maximizing the potential of its hardware.
cons:
* we don't know what Windows does

==== what is it exactly windows does? ====
according to comment https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695/comments/308 hard drive setting (including apm) on windows and Linux are the same yet they behave differently. more investigation is required, contacting the author of hdparm might also be a good idea. 
== comments ==
----
CategorySpec

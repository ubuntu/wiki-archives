{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== What this page is about ===
This page will track the status of the attempt to make a package dar-python which has python bindings for dar. This is based on the work on http://darbindings.souceforge.net. 
You will find instructions to build the bindings so that they are usable.

=== Status ===
'''UPDATE 2''': I fixed everything and you can download nice packages from http://hubackup.um-gottes-willen.net/

By now, one can compile the modules from scratch with <code>./configure, make</code>. It is currently not possible to do it with <code>--enable-mode=64</code> which is what the default of the debian package is.

'''UPDATE''': it is possible, but I need to fix the Makefile.*s, you can get experimental packages at http://hubackup.um-gottes-willen.net/

=== Instructions ===
 1. Download the dar source and all depends <pre>
 apt-get build-dep dar
apt-get source dar }}}
 2. Download everything else you need {{{
 apt-get install python-dev swig autoconf automake1.9
</pre>
 3. go to source directory <pre>
 cd dar-2.3.0
</pre>
 4. get the patch from <nowiki>[[http://sourceforge.net/project/downloading.php?group_id=131569filename=dar-python-0.1.0-cvs-2.4.0.patch&47448731|here]]</nowiki>
 5. apply the patch <pre>
 patch -p0 < /path/to/dar-python-*.patch
</pre> (Ignore the fail, it doesn't matter)
 6. Prepare everything so that you compile it <pre>
aclocal -I m4
autoconf
</pre>
 7. configure it <pre>
 ./configure --with-python
</pre>
 8. compile it <pre>
 make
</pre>
  8.1 If it fails, just do <pre>
 make
</pre>
  '''NOTE''': Instructions on how to fix that below
 9. install everything where you want it to be
  9.1 for a quick test, you can copy the libdar/.libs/libdar.so.4 to /usr/lib/ and go to libdar/bindings/swig/python and run python -c 'from dar import archive' if everything is ok, you'll see <pre>
 DEBUG: Loading python bindings
</pre>

=== Fixes ===
To fix the build error, you need to insert <pre>
 %import "user_interaction_bind.hpp"
</pre> just before the {{{ class libdar::int_pycb { ... }
}}} in the file <code>src/bindings/swig/libdar.i</code>.

=== TODO (OBSOLETE) ===
Currently, when running debuild in the directory, the modules will have unresolved symbols. This is because of the compile option <code>--enable-mode=64</code>. There are also problems with the compile flags of swing, so there is still something to do. Manually adding them (-DLIBDAR_MODE=64) to Makefile.am causes the build to faile with swig failing to create infinit_wrap.cpp.
 -I need to look at that. (MartinBergner)

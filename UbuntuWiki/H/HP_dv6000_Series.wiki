{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



"" This page has not been updated in more than a year, and is currently useful only for versions of Ubuntu prior to Gutsy ""

== Introduction ==

The dv6000 notebook series from HP comes in a variety of hardware configurations, each with its own varying degree of success under Ubuntu Linux.  Hopefully this Wiki page will help sort out some of the hardware issues that arise from this series.  Many users frequently report problems with boot hangs, screen resolution, wireless connectivity, audio, microphone/headphone ports, and fan speed.  This page is intended to help you with the setup of troublesome components, and is by no means an official HOWTO.  If you find something to be incorrect, or have your own experience to share, please feel free to help us out.

This document contains information that applies to all models beginning with "dv6***"

Generally, dv6000 models with Intel processors and chipsets perform better with a new install of Ubuntu than do those with AMD processors and chipsets.

== Installation ==
First things first:  if your laptop fails to boot the LiveCD (i.e. hangs at a certain point), then you most likely have a common problem with "ACPI."

'''Solution''':  When given boot options for the LiveCD, press F6 for other options and you should see a command line with commands already entered.  Simply add as required.
<pre>
noacpi nolacpi
</pre>
to the end of the line and press enter.  The system should now boot without stalling.

if that did not work, try this:
<pre>
noacpi nolacpi noirqpoll nosmp
</pre>

''' Note ''' I've been informed :-just boot with "noacpi", the usb ports will not function... also, when I boot with "nolacpi", Xorg doesn't load the nvidia drivers correctly... however, when u boot with BOTH options, ("noacpi nolacpi"), the USB ports function fine, and xorg has no problems running at all (beryl and AIGLX run great). ''' if others find this please tell me so I know it's common issue '''
''' Follow On ''' With HP dv6113us and Gutsy Gibbon  installed, this worked, mostly.  Modified the startup to include "-noacpi -nolacpi" but usb would only auto-mount when I used "-noacpi -irqfixup".  Now everything works wonderfully.

You may also try
<pre>
"noapic nolapic"
</pre> as opposed to "noacpi nolacpi" - this fixes the issue for certain models.

''' installed but not booting '''

As with the above, but at grub we need to hit the "e" key to edit our boot options.
look for the longest kernel boot line
if you've put the command no irqpoll on the linux image line in your boot loader (grub menu.lst) eg...
example
''''' Linux-2.6-12-XXX blah ''' noirqpoll ''' splash '''''
and try booting. when you find the one that works-in terminal
<pre>
sudo update-grub
</pre>

'''If you find yourself having trouble booting during the automatic fsck that runs every twenty boots or so under 7.10, you may need to add the -noapic -nolapic options to your kernel at boot. This has always solved the problem for me, and never created other issues.'''

The 6116eu laptop will quite happily install from an edgy live install cd, you may require alternate cd ISO if you need any .Deb packages prior to connecting to the internet EG network-manager-gnome.

* the dv6102 model has been reported to install Edgy without a hitch.
* the dv6402ca model has been reported to install Fiesty using Wubi using boot options (above). Wireless is not available by default.

The dv6510ef model works fine with Gutsy Gibbon, but grub hangs. The solution is to add the "all_generic_ide" parameter to the boot line, like this ''' Linux-2.6-22-XXX blah '''  all_generic_ide ''' splash '''''

''' reported as bug '''

here's one more thing to add about the kernel boot options...
according to http://ubuntuforums.org/showthread.php?t=406143 , it's the noapcid option that actually disables the usbports. Their solution to this is to add the "irqfixup" option at the end of the line to counteract the "noapcid" option.

I found that I needed to add this 3rd option on, because without it the usbports will eventually stop functioning (10 mins or so). Very strange feisty fawn bug that only seems to affect amd64 machines.
Forward Message
== Screen Resolution ==
After initial installation, widescreen resolutions are sometimes unavaible, even if you edit xorg.conf.

For models that have the intel onboard video chipset, installing the package "915resolution" from the repositories will solve this problem.  Reboot the system, and your screen resolution should be correct.

== Wireless ==
=== Intel Chipsets ===

Some dv6000 models have the Intel 3945 Wireless chipset, and should work out-of-the-box with a basic Ubuntu install.  If you are having problems connecting, enable the extra package repositories and install linux-restricted-modules, and don't forget wpa-supplicant if you need to use WPA security.

=== Broadcom Chipsets ===

On Ubuntu 8.04 Hardy it is enough to install the package <code>b43-fwcutter</code> . What follows here is for older versions of Ubuntu.

The broadcom AIRFORCE 4113 rev 01 can be made to work with "bcm43xx-fwcutter".
I used the script to install firmware and found it buggy using the wl_apsta.o firmware and bandwidth was useless.
https://help.ubuntu.com/community/WifiDocs/Driver/bcm43xx/Dapper

'''Preferred method: Install ndiswrapper'''
When set up correctly, works flawlessly.  Getting to that point is the challenge.

1. Use synaptic to install the following:
'''ndisgtk'''
'''ndiswrapper-common'''
'''ndiswrapper-utils'''
'''ndiswrapper-utils-1.1'''
'''ndiswrapper-utils-1.8'''
'''module-assistant'''

2. Follow the guidelines in the link below.
https://help.ubuntu.com/community/WifiDocs/Device/Broadcom_BCM4311_rev_01_%28ndiswrapper%29?action=show

I removed ndiswrapper kernel module and rebooted before proceeding with install
<pre>
sudo rmmod ndiswrapper
</pre>

<pre>
sudo module-assistant
</pre>
will allow you to see if module has been removed. It would be wise to remove the folder '''/etc/ndiswrapper''' before attempting to install the source, as described in the link above.

I used ndiswrapper 1.29 and compiled from source.  The '''sp33008.exe''' can be extracted with cab extract and you '''must''' install using
<pre>
sudo ndiswrapper -i bcmwl5.inf
</pre>
For some reason ndisgtk never correctly installs them and when correctly installed ndisgtk doesn't show them.

Use this command to see installed drivers:
 <pre>
sudo ndiswrapper -l
</pre>
if you are lucky then you will get
'''bcmwl5          driver installed, hardware (14E4:4324) present (alternate driver: bcm43xx)'''
If you get a fatal error or it complains that it's not a valid driver it would seem that you haven't removed the original edgy kernel module and/or you didn't reboot after removing and before installing. If you are successful on reboot the wireless light will turn blue and you can install the package '''gnome-network-manager,''' if not already installed.

=== Reported wireless success ===
{| class="wikitable"
|-
| '''User'''
| '''Model'''
| '''Result'''
| '''ndiswrapper Version'''
| '''Details'''
|-
| Teaker1s
| dv6116eu
| Success
| 1.29
| Tested and working with compiled 1.29 ndiswrapper
|-
| shartke
| dv6125se
| Success
| 1.29
| Tested and working with compiled 1.29 ndiswrapper
|-
| --
| dv6102od
| Success
| N/A
| Intel Chipset works with originally installed drivers
|-
| MethodMachine
| dv6113us
| Success
| 1.34
| Working with only occasional hang-ups under the following conditions:  Kernel v2.6.19.1 compiled from source (32-bit), nVidia drivers installed from nVidia script, ndiswrapper v1.34 compiled from source, latest bcmwl5 driver from hp website.
|-
| ivanmladek
| dv6000z
| Success
| 1.41
| Tested and working with compiled 1.41 ndiswrapper using ftp://ftp.hp.com/pub/softpaq/sp34001-34500/sp34152.exe on ubuntu 2.6.15-28-k7 #1 SMP PREEMPT Thu Feb 1 16:36:09 UTC 2007 i686 GNU/Linux
|-
| N8bounds
| dv6206us
| Success
| 1.38
| ndiswrapper ver 1.38, bcmwl5 driver from the sp33008.exe package on 2.6.20-10-generic kernel (fiesty b5) knetworkmanager displays broadcasted essids and proper signal strength but cannot configure dhcp; iwconfig, iwlist and dhclient work just fine though (bcmwl6 from vista driver provided no joy)
|-
| blinchik3
| dv6000z
| Success
| 1.42
| ndiswrapper ver 1.42, bcmwl5 driver from sp34152.exe on Ubuntu Feisty Fawn 2.6.20-15-generic #2 SMP Sun Apr 15 06:17:24 UTC 2007 x86_64 GNU/Linux
|-
| jcarruda
| dv6150br
| Success
| 1.46
| bcmwl5 driver from Windows directory SWSetup/WLAN on Ubuntu Feisty Fawn 2.6.20-15-generic
|-
| vidnor
| dv6335eu
| Success
| N/A
| Installing bcm43xx-fwcutter via apt-get downloaded firmware automatically, works and is stable with perfect bandwidth
|-
| dillinger417
| dv6119
| Success
| 1.46
| bcmwl5 driver from sp34152.exe on Ubuntu Feisty Fawn 2.6.20-15-generic
|-
| Jayhawk4
| dv6338se
| Success
| 1.47
| bcmwl5 driver from sp33008.exe on Ubuntu Feisty Fawn 2.6.20-16-generic
|-
| schwascore
| dv6325us
| Success
| N/A
| bcm43xx-fwcutter via apt-get was successful.  NOTE: lspci shows card as "Broadcom Corporation Dell Wireless 1390"
|-
| drf
| dv6560el
| Success
| N/A
| Worked Out of the Box with Default Ubuntu, Xubuntu and Kubuntu install.
|-
| A3sthetix
| dv6402ca
| Success
| 1.47
| Used tutorial here: http://ubuntuforums.org/showthread.php?t=297092 NOTE: lspci shows card as "Broadcom Corporation Dell Wireless 1390"
|-
| Ziul1979
| dv6448se
| Success
| 1.9
| Used tutorial here: http://ubuntuforums.org/showthread.php?t=405990 NOTE: lspci shows card as "Broadcom Corporation Dell Wireless 1390 Mini-PCI Card (rev 02)"
|-
| ariwe
| dv6408nr
| Success
| 1.45
| I removed bcm43xx and then installed bcmwl5.inf driver from R140747.EXE with ndiswrapper. lspci:Broadcom Corporation BCM94311MCG wlan mini-PCI (rev 02)
|-
| EduardoMartini
| dv6458se
| Success
| 1.45
| Works just fine. Since is a 64 machine, needs to get the driver for vista or XP 64. Running under ubuntu 64, doesn't worked on the 32, but thats might be a trouble with the user =D. Anyway works now.
|}

Some new DV6000z's have a new wireless chipset 03:00.0 Ethernet controller: Atheros Communications, Inc. AR5006EG 802.11 b/g Wireless PCI Express Adapter (rev 01) which can be installed following this guide http://ubuntuforums.org/showthread.php?t=512828&highlight=Atheros+feisty+ndiswrapper

== Graphics ==

You may use Envy, a Python script that eases installation of the official Nvidia and ATI drivers. Please see http://albertomilone.com/nvidia_scripts1.html

Envy works without problem with nvidia Geforce 6150 GO

If that did not work, try this:

nvidia Geforce 6150 GO Will run on open GL but requires the beta driver 13/04/07, this can be tricky to get to work
'''nvidia-glx''' or '''nvidia-glx-legacy'''
I have also tried driver direct from nvidia and anything apart from nv in xorg results in blank screen and having to boot into recovery and
<pre>
sudo dpkg-reconfigure xserver-xorg
</pre>

The 6116eu I am having problems with text only terminal and ethernet while in text login-this could be affecting nvidia driver install-will figure out and report findings

The dv6000z with a GeForce Go 7200 works with the nvidia driver, so long as you install '''nvidia-kernel-source''' and '''nvidia-glx''' (and any other packages that are required by these).  After installing the source, use ''module-assistant'' to compile and install the nvidia module (driver).  Type:
<pre>
    module-assistant a-i nvidia
</pre>
You might have to manually ensure that the video card driver in xorg.conf is "nvidia" and not "nv".  (This was tested on Debian etch and lenny/sid, kernels 2.6.18 and 2.6.20)

The following guide has resulted in success:
http://ubuntuforums.org/showthread.php?t=263851

=== Tested models ===
{| class="wikitable"
|-
| '''User'''
| '''Model'''
| '''Result'''
| '''Driver Version'''
| '''Details'''
|-
| Teaker1s
| dv6116eu
| 13/04/07 joy
| 
| Tested and working with my dv6116eu
|-
| shartke
| dv6125se
| Success
| 
| Tested and working 6125se
|-
| MethodMachine
| dv6113us
| Success
| 1.0-9746
| Working with only occasional hang-ups under the following conditions:  Kernel v2.6.19.1 compiled from source (32-bit), nVidia drivers installed from nVidia script, ndiswrapper v1.34 compiled from source, latest bcmwl5 driver from hp website.
|-
| ivanmladek
| dv6000z
| Success
| 
| Working on Feisty 2.6.20-16-generic #2 SMP, nVidia restricted drivers from the guide above, beryl installed and working with only occassional hangups, ndiswrapper 1.38 ,driver bcmwl5 (Broadcom,10/12/2006, 4.100.15.5)
|-
| drf
| dv6560el
| Success
| 
| Not working out of the box. Have to manually change from "nv" to "vesa" in xorg.conf to make X start, then installed restricted drivers with Envy and everything worked.
|-
| Ziul1979
| dv6448se
| Success
| 
| Just install the nvidia page driver: Linux x64 (AMD64/EM64T) Display Driver, version 100.14.11 and worked.
|}

== Integrated Devices ==
=== Built-in Webcam ===
On Ubuntu 8.04 Hardy, the uvcvideo driver should be already included and working OK.

 ''On the dv6510ef model, the uvcvideo driver completely breaks the Gutsy system (lsusb hangs, modprobe too, usb-storage doesn't work neither, so usb keys don't mount automatically...). For the moment, I just blacklisted the uvcvideo module and my system works like a charm.''

You should first do ''lsusb'' to figure out the vendor and product ids of your webcam.  On my dv6000z, they are '''0c45:62c0'''.  I got the webcam to work (on Debian etch) by installing the packages:  '''linux-uvc-tools''', '''libpt-plugins-v4l2''', '''linux-uvc-source'''
and then using module-assistant to do the rest:
<pre>
   module-assistant a-i linux-uvc
</pre>
To use it with an application (e.g. ekiga) you need to tell the application to look for a ''v4l2'' (as opposed to a ''v4l'') device.  If you have this webcam and follow these instructions, but get no joy, then you might try using it from Windows at least once, then trying from Linux again.  Something I read at the link below indicates that the webcam might need some data (firmware/microcode) uploaded to it, which is provided by the Windows driver.  If this is the case, it's needed only once because my webcam continues to work, even after rebooting to Linux without an intervening boot into Windows.

If the vendor ID of your webcam is '''05ca''', try installing the driver found at the forums here http://ubuntuforums.org/showpost.php?p=4465422&postcount=71. Follow the instructions located in the README. Here is a list of software that work and do not work with the webcam.

Applications Tested and Found to Work or Mostly Work

*** xawtv -- the canonical video4linux test application
*** Ekiga softphone (you may need to select the video4linux2 device)
*** camstream version 0.27. Version 0.26.3 does not work due to YUYV bugs.
*** Kopete instant messenger, although version 0.12 decodes color incorrectly and presents non-working video controls.
*** aMSN instant messenger
*** effectv real-time video effects
*** Motion motion-detection and security

Applications That Do Not Work

As a warning, most of these applications do not work due to lack of support for the YUYV or UYVY pixel formats, or simple related application bugs.

*** Camorama 0.18. This application does not understand YUYV or UYVY pixel formats, and will display a distorted image. A patch has been sent to the author.
*** Wengophone 2.0. This application has trivial problems with its pixertool library that prevent it from recognizing the YUYV pixel format. Wengophone 2.1 will include a fix for this problem, and will correctly capture and display frames in most cases. Unfortunately, Wengophone 2.1's V4L input handler implements the minimum possible functionality and that app still has a few problems. It does not specifically request pixel formats that it understands, and if the last app to open the webcam configured UYVY, Wengophone won't work. Wengophone 2.1 also limits frame rates by not maintaining continuous capture and will cause the capture LED to blink erratically.

==== Troubles ====

On dv6458SE running gusty64 I had just to install "linux-uvc-source" and run "module-assistant a-i linux-uvc" and reboot. It works with no trouble at all. But after using it and booting it only works afther running "module-assistant a-i linux-uvc -f" and rebooting again.

=== Media Card Reader ===

The onboard media card reader functions, without additional user configuration, after a new install of Ubuntu Gutsy.

== Front Headphone/Microphone Jacks ==

As of Ubuntu Feisty, the ALSA drivers fully support the hardware used in the dv6000 series.  If you are using Feisty or Gutsy, then your front headphone and microphone jacks should function normally.

== Modem ==

Integrated modem with Conexant Chipset in the nVidia high definition audio that appears in lspci as ''00:10.1 Audio device: nVidia Corporation MCP51 High Definition Audio (rev a2)'' works flawlesly with the driver provided by dell <nowiki>[[http://support.dell.com/support/downloads/download.aspx?c=us&l=en&s=gen&releaseid=R155004&SystemID=INSPIRONI6400/E1505&servicetag=&os=UBLN&osl=en&deviceid=8593&devlib=0&typecnt=0&vercnt=1&catid=-1&impid=-1&formatcnt=1&libid=20&fileid=206745|here]]</nowiki>

Please be sure to find out if your modem has a Conexant chipset before trying to use this driver. To do that refer to <nowiki>[[https://help.ubuntu.com/community/DialupModemHowto/ScanModem|this page]]</nowiki>.

Once installed you have to reboot, and you can connect using '''kppp''' in kde or '''gppp''' in gnome. For more information take a look <nowiki>[[https://help.ubuntu.com/community/DialupModemHowto|here]]</nowiki>
'''I must warn you that getting an integrated laptop modem (winmodem) may be tricky sometimes so take it easy, but for me the dell driver worked perfectly and I got it working in 5 minutes or so.'''

If the model has a Conexant chipset, I would recommend tracking down the open driver for Conexant winmodems instead of resorting to Linuxant paid drivers - the open driver works fine for me, even if the Dell one mentioned above does not.

Some report that with the Conexant driver installed, the sound card doesn't work any more, and to get the sound working again, it is necessary to disinstall the Conexant driver.

== Power Management ==
=== Battery Life ===
To pull some more life from your battery, open a terminal and type
<pre>
sudo gedit /etc/default/acpi-support
</pre>
Look for the section containing '''ENABLE_LAPTOP_MODE=false''' and change this value to '''true.'''  This will cause your laptop to enter laptop mode when running on battery power, conserving more power.  A restart will put this into effect.

Next open Synaptic and make sure you have the extra repositories enabled.  Then install the following packages:
<pre>
ubuntu-laptop-mode
laptop-mode-tools
laptop-detect
cpufreqd
cpufrequtils
</pre>
or install them from the command line using this
<pre>
sudo apt-get install ubuntu-laptop-mode laptop-mode-tools laptop-detect cpufreqd cpufrequtils
</pre>
Additionally you can visit the unofficial Ubuntu Guide at www.ubuntuguide.org and follow the instructions found here http://ubuntuguide.org/wiki/Ubuntu:Feisty#How_to_enable_your_CPU.27s_Power_Saving.2FFrequency_Scaling_features
which has been reported to improve battery life.

=== Suspend / Hibernate ===
Suspend usually works out of the box for Ubuntu 7.04. If it does not post in the forums for quick help.

Hibernate is a bit trickier and if it doesn't work out of the box use the following steps
<pre>
sudo apt-get install uswsusp
sudo s2disk        ## CAUTION: make sure data is saved for this test!
</pre>
You will have to use that command to hibernate but at least it will be functional.

If you have Desktop Effects enabled, your laptop will most likely not suspend or hibernate correctly.  Commonly, the laptop will suspend itself and power down, but upon waking will hang at the command prompt, forcing the user to power off the computer using the power button.  If you find that suspend and hibernate do not work properly, you can try disabling "Sync To VBlank" in CompizFusion's advanced settings tool.  Next, edit the file /etc/default/acpi-support and change POST_VIDEO to false.
<pre>
POST_VIDEO=false
</pre>

== Known Issues ==
1. Reports of incorrect fan operation and risk of overheating.  You should monitor your laptop's temperature until you are sure that the cooling system is operating correctly.  Because of Gutsy's improved power management, this should no longer be an issue.

2. Occasional shutdown crash.

3. dv6116eu:  If you duel-boot, the HP System Check will NOT inform you of BIOS updates as it claims.  Both friend and myself have the 6116eu and on random occasions with f.17 BIOS it will not power up without first removing the battery and then re-inserting it.  I followed the HP chat person's advice and used the automated updater - when instructed to remove battery & hold power button for 30sec-1 min, insert cable and boot without battery, boot windows and shut down, then re-fit battery.

4. I still get random lockups and crashes, especially when a beep might occur (e.g. pressing tab at a bash prompt to complete a filename).

5. Almost every time I shutdown, the system gets as far as shutting down the system clock, and then it locks up.  The few times I've seen it get past that, I see that the next thing to get shut down is the alsa driver, which makes me wonder whether the reason for my lockups and inability to shutdown properly is due largely to the alsa driver.

'''latest bios allows button beep to be turned off (bios f.27 02/01/07) serious boot issues'''

The dv6116eu has ongoing issues with edgy - everything I've tried has failed to result in reliable booting:

1) Ndiswrapper and the Nvidia driver don't play nice.

2) ACPI sometimes stalls on boot, Noapic options have zero effect.

3) Occasional screen corruption on gdm login manager.

4) Since bios upgrade I now have some program like xfree86 is trying to directly access hardware - stalls on boot.

5) random hard lockups

Result boot 1 in 8

'''I fixed the boot issues by keeping an edgy base system and installing feisty kernel 2.6.20-6-generic
- Do this entirely at your own risk'''

'''Many boot issues can be resolved on at least one model (the 6165cl) by adding -noapic -nolapic to the kernel boot line. This specifically fixes lockups during mandatory fsck-ing at boot.'''

===== Wireless Issues: =====
Compatibility of the Intel 3945ABG wireless chipset has been significantly improved in the latest versions of Ubuntu.  Wireless should work without any additional configuration needed.

Compatibility of Broadcom wireless chipsets is still troublesome.

====== keyboard and touchpad ======
search

ksynaptics (kde)
gsynaptics (gnome)

or

qsynaptics (general for config of synaptic)

panel
system>administration>preferences>keyboard
you can alter repeat rate etc

----
== Installation using Wubi ==
Wubi creates a virtual Linux disk on a Windows system. I tried installing Linux on its own but I ended up ruining my dual-boot setup. I suggest you do this to make sure Ubuntu runs nicely on your system before making a full switch.
"This has been tested with a dv6402ca."
Download the latest Wubi Windows: http://wubi-installer.org/

=== Step 1 ===
Run the installer. It will download the correct alternate ISO according to your choice. No 64-bit ISOs are listed, but you can get around this by reading up on instructions on how to install a custom ISO. I suggest installing to a new (unused) partition. If you are installing on the same drive as Windows, run Defrag twice. Otherwise, you will get some odd errors when booting into Linux.

=== Step 2 ===
Run through the test installation. It's quite straight-forward. Once you reboot (installation complete) you will get a boot-up screen with "Windows (default)" and "Ubuntu". You can go ahead and select Ubuntu. '''Important''': Be ready to press the ESC button, otherwise your computer might hang-up. There will be a 3 second pause (by default) to press escape and put in special boot-up options. If you miss this step, you will have to run Chkdisk (Windows usually does this automagically) and reboot to Ubuntu again.

=== Step 3 ===
You should be at a black and white text screen with a couple of boot options. Using the arrow keys, select the top-most 'kernel' entry and press 'e' on your keyboard. You will now see the boot-up string. Add "noapci nolapic noapic noirqpoll nosmp" to the end of this line. Press enter to exit the edit. Press 'b' to boot using your newly edited kernal options. '''Note''': The next time you boot into Ubuntu, you will have to do this again. To permanently make the change, you must edit your boot options while in Ubuntu. See point #2 here: http://grumpymole.blogspot.com/2007/05/ubuntu-how-to-edit-grub-boot-parameters.html

=== Step 4 ===
You should see Ubuntu! Log in and mess about. Test everything and begin customizing interface and getting your drivers properly installed. Good luck! am /at/ artform /dot/ ca

== Gutsy on DV6620 ==

This section specifically lists troubles and fixes found when porting Ubuntu 7.10 on a DV6620 laptop. Most of the hints are available when googling, but it can take a while to grab all the relevant data.

=== Screen Resolution for GeForce 8400 ===

Up to Gutsy, using properly the nvidia driver involves some hacks (driver recompilation) or the use of Envy. Personnaly I
was not able to use envy because of missing (obsolete) package dependencies. Anyway, with Gutsy things are much simpler:

1. From the menu: System -> Administration -> Restricted Drivers Manager, enable the NVIDIA drivers.

2. Reboot the machine to take the change into account.

3. From a terminal run:
<pre>
sudo nvidia-settings
</pre>

4. Select "X Server Display Configuration" and choose      Resolution to 1280x800. Click on apply to see what happens. Don't forget to click on "Save to X Configuration file" to make it remanent.

That's all.

=== Having the sound working ===

If nothing is done, the sound led remains red meaning it is not usable even if the system seems to know it. Most of the advices are to install the drivers by hand by recompiling them first. The easy solution is here: <nowiki>[[http://ubuntuforums.org/showthread.php?t=565873&highlight=sound+problem+hp&page=2]]</nowiki>

1. From a terminal, type:
   <pre>
sudo apt-get install linux-backports-modules
</pre>

2. Reboot and the sound will work (the led comes to blue).

=== Having both CPUs working ===

I don't know if this issue is due to my install process. Anyway, strangely enough I saw that the kernel ignored the second CPU (warning in the dmesg log file). It is due to the
fact in the /boot/grub/menu.lst file the 386 kernel is loaded by default. To have SMP working you need to select (and/or move as default kernel) the generic kernel.

To have the generic kernel working as fine as the mono-cpu one, I had to do the following:

1. The first boot on the generic kernel is faulty since the video card is not known. Boot with then default graphic resolution.

2. Install the expected generic modules:
   <pre>
sudo apt-get install linux-restricted-modules-2.6.22-14-generic
</pre>

3. Enable the driver with the System -> Administration -> Restricted driver manager menu, if needed.

4. Reboot the machine. The next time it should smoothly apply the screen resolution configured for the mono-cpu kernel (that is, 1280x800 resolution).

=== Using 3D Graphics Acelleration ===

If your 3d graphics card isn't working (and it is the intel model), then you are probibly running gutsy or erlier.  Simply swtich to hardy, and the problem should work.

=== Things that works out of the Box ===

With Gutsy, things that works out of the box:

* The wireless network. (With the instalation of the proprietary drivers.

* (To Be Completed).

With Hardy, things that work out of the box:

* The wireless network. (With the instalation of the proprietary drivers.

* 3d Graphics Aceleration

=== Remaining Troubles ===

* At boot time there is a weird warning message. Anyway it seems to have no consequencies. This bug has been reported here for feisty, but it applies to Gutsy too: <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/54294]]</nowiki>

* If you set the laptop mode to true in the /etc/default/acpi-support file (ENABLE_LAPTOP_MODE=true) you fall into the bug reported here: <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/acpi-support/+bug/59695]]</nowiki>
I have experienced it on this laptop. So, I encourage you to *not* modify the default setting (ENABLE_LAPTOP_MODE=false) in which case I don't see the problem anymore unless you want your disk die early.

----

== NOTE ==

I started this wiki page as much for my own reference as to help others, without their help this page wouldn't be so comprehensive. Because the Dv6000 series varies in hardware, some users will have perfect systems and others will struggle.

My DV6116eu has been an ongoing struggle with bios firmware and compatibility, I have resolved this by moving to Debian etch and beta Nvidia driver.

My dv6159eu perfectly work with this guide. Some problems only with the nvidia driver. Amd64 with Ubuntu 64.

if bios update and power cycle do not resolve power button issue and power on times become longer-indicates hardware failure-interestingly in my case touch buttons then booted system.

After trying boot options that didn't work with ubuntu '''NOAPIC NOAPCI NOSMP''' I found
'''NOAPIC''' worked on etch. I will be maintaining this wiki as ubuntu is debian based, I may not know the answer-but I am '''''Teaker1s''''' and you can pm me on forum for a chat.

== NOTE 1: Failed Display ==

If after a year ro so your display dies and computer just gives out 3 beeps and HP refuses to fix this problem have a look at http://h10025.www1.hp.com/ewfrf/wc/document?docname=c01087277&lc=en&cc=us&dlc=en&product=1842189&lang=en and then call the case managers at   1-877-917-4380 extension 94 option 1 and insist on a repair even if ou are OUT of warranty.

== NOTE 2: alternative boot parameters combination ==

I have recently found a combination of kernel options that seems to make the '''dv6383eu''' (dual AMD 64bit, which displays the whole range of problems described above...) work without an itch with the 64bit version of the Ubuntu 7.04 (i don't think that with Gutsy there should be any difference at all): since im testing it since only 2 days (and i have no feedback about other laptops of the same series), im adding this as a foot note (in order not to remove other content).

The options are:

<pre>
noapic acpi_irq_balance
</pre>

The good news are that this line doesn't add any overhead on the CPU consumption, in contrast with the <code>noapic irqfixup</code> combination, which wastes 60% of CPU time for IRQ handling (with resulting impaired performances and high power consumption).

I cannot guarantee that it will work on other Pavillion laptops, though the fact that my model shows a wide range of problems with other startup combinations (unhandled IRQ with and USB ceasing to work, hangups at boot, slowdowns and so on...) should be encouraging.

My configuration is:

1. dv6383eu with the latest BIOS installed (F.3B though probably doesn't make any difference...)

2. kernel 2.6.20-16-generic x86_64 GNU/Linux

3. Ubuntu 7.04 64bit version

This is the list of things i have tested (what's not reported, notably the WiFI card, was not checked):

1. The SMP works fine: both CPUs are up and cool, there's no overhead and the frequency scaling works.

2. Sound playing works (recording untested)

3. CD/DVD player works (CD/DVD burning yet untested)

4. X is working both plain and with NVidia drivers

5. the SD card reader works

6. USB 2.0 works

7. the internal webcam works

Feedback about other laptops working with this configuration will be welcome (with eventual integration in the main page).
----
CategoryLookMergeDelete

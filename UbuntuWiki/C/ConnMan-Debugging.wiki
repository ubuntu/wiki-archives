{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This page tries to give a summary how to debug indicator-network and ConnMan issues. As always, please <nowiki>[[ConnMan-ReportingBugs|report a bug]]</nowiki> if you are having issues with the software.

<nowiki>[[ConnMan|Back to main page]]</nowiki>

=== The easy way to enable debug logs ===

The easiest way to enable debug logs is to run this command:

  <pre>
indicator-network-debug start
  </pre>

This will restart connman and ofono in debug mode, and also enables debug mode in indicator-network-service. All log messages will go to /var/log/syslog and there will be a lots of them :)

''Warning! Debug logs contain a lot of information and there might some confidential information, for example passwords. Always be careful when sending debug logs to public so that you don't reveal anything sensitive by accident.''

To disable debug logs:

  <pre>
indicator-network-debug stop
  </pre>

Alternative method to disable debug logs is to reboot the computer. The system will run normally again.

=== ConnMan ===

The logs are in /var/log/syslog. For example, grep for connmand to see only the connman messages.

To enable debug logs:

1. Edit /etc/init/connman.conf and edit the last line containing the exec stanza like this:

  <pre>
exec connmand -c -d
  </pre>

1. Restart connman:

  <pre>
sudo restart connman
  </pre>

1. You should see debug messages in /var/log/syslog now:

  <pre>
Aug 23 12:43:12 dell-m520 connmand[2174]: Connection Manager version 0.59
Aug 23 12:43:12 dell-m520 connmand[2174]: src/storage.c:__connman_storage_init() 
Aug 23 12:43:12 dell-m520 connmand[2174]: src/element.c:__connman_element_init() 
Aug 23 12:43:12 dell-m520 connmand[2174]: src/element.c:connman_element_create() element 0x20ea14e8
Aug 23 12:43:12 dell-m520 connmand[2174]: src/element.c:__connman_element_initialize() element 0x20ea14e8
Aug 23 12:43:12 dell-m520 connmand[2174]: src/technology.c:__connman_technology_init() 
Aug 23 12:43:12 dell-m520 connmand[2174]: src/notifier.c:__connman_notifier_init() 

  </pre>

''connman debug logs contain passwords! Remember to replace the passwords, for example, with ****** and mention this in the bug report.''
 
To disable debug logs:

1. Edit /etc/init/connman.conf and edit the last line containing the exec stanza back to the original form:

  <pre>
exec connmand -c
  </pre>

1. Restart connman:

  <pre>
sudo restart connman
  </pre>

=== oFono ===

The logs are in /var/log/syslog.

To enable debug logs permanently:

1. Edit /etc/init/ofono.conf and edit the last line containing the exec stanza like this and add new env stanza:

  <pre>
env OFONO_AT_DEBUG=1
exec ofonod -d
  </pre>

1. Restart ofono:

  <pre>
sudo restart ofono
  </pre>

To disable ofono debug messages:

1. Edit /etc/init/ofono.conf, remove the line containing the env stanza and edit the last line containing the exec stanza back to the original form:

  <pre>
exec ofonod
  </pre>

1. Restart ofono
  <pre>
sudo restart ofono
  </pre>

=== wpa_supplicant ===

The logs are in /var/log/syslog.

==== Permanent solution ====

To enable debug logs permanently, meaning that debug mode is enabled accross reboots, do this:

1. Edit /usr/share/dbus-1/system-services/fi.w1.wpa_supplicant1.service and add string '-ddd' to the Exec line like this:

   <pre>
[D-BUS Service]
Name=fi.w1.wpa_supplicant1
Exec=/sbin/wpa_supplicant -u -s -ddd
User=root
   </pre>

1. Stop connman:
  <pre>
sudo stop connman
  </pre>

1. Stop wpa_supplicant:
  <pre>
sudo killall wpa_supplicant
  </pre>

1. Start connman:
  <pre>
sudo start connman
  </pre>

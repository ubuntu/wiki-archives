{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Com instal·lar Ubuntu Hardy 8.04 al ACER Aspire One 110L ==
'''Resum:''' Indiquem com instal·lar <nowiki>[[http://ca.wikipedia.org/wiki/Ubuntu|Ubuntu]]</nowiki> Hardy 8.04 al <nowiki>[[http://ca.wikipedia.org/wiki/Acer_Aspire_One|ACER Aspire One]]</nowiki> amb <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=222386|UNetbootin]]</nowiki> i un lector de targes SD extern. També indiquem algunes millores possibles en les que podeu col·laborar.
{| class="wikitable"
|-
| <rowbgcolor="#FF0000">'''26-4-2009 Aquesta pàgina ha quedat obsoleta: <nowiki>[[https://help.ubuntu.com/community/AspireOne|Nova versió]]</nowiki>'''
|}
En existir una distribució específica (Ubuntu 9.04 NBR, Netbook Remix) <nowiki>[[http://www.ubuntu.com/getubuntu/download-netbook|Baixa-la]]</nowiki> <nowiki>[[https://wiki.ubuntu.com/HardwareSupport/Machines/Netbooks|Mini-portàtils i detall de les característiques soportades]]</nowiki>.

<nowiki>[[File:aaocube400.jpg|Muntatge gràfic fet amb imatges de Wikimedia Commons|align="right"]]</nowiki>
{| class="wikitable"
|-
| <tablestyle="float:center; font-size: 0.9em; width:95%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em; ">'''Índex'''<<BR>>
|}

=== Canvis ===
* 26-4-2009 Obsolescència
* 25-10-2008 Flash i Desplaçament horitzontal
* 5-10-2008 Faltava un parell de coses a la secció 3.6 Audio.
* 25-9-2008 <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=4&t=300&p=25910&hilit=silent+fan#p27621|Nova versió de /etc/acerfand]]</nowiki> per la BIOS 3304
* 21-09-2008 Funcionament de l'interruptor i indicador de la xarxa sense fil, i la millor gestió del ventilador.

=== Resultats ===

Funciona bé:

*** Suspensió / Hibernació
*** Video (efectes d'escriptori)
*** Xarxa sense fil - El led indicador funciona
*** Xarxa amb fil (Cal recompilar)
*** Webcam
*** USB
*** Monitor extern
*** Lectors de targetes: amb la <nowiki>[[ftp:--ftp.work.acer-euro.com-netbook-aspire_one_110-bios-|BIOS 3304]]</nowiki> les targetes es tornen a muntar. (<nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Tutorials/AspireOne/BIOS|Com actualitzar la BIOS amb UNetbootin i FreeDOS]]</nowiki>).
*** Àudio - Funciona recompilant l'ALSA, tot i que pot donar algun problema (veieu a sota)
*** Temps d'arrencada: <nowiki>[[attachment:aao8.04.1.bootchart.png|33 segons (veieu gràfic)]]</nowiki> <nowiki>[[http://onelinux.org/wiki/index.php/Docs/Tweaks|amb aquests consells]]</nowiki>

No funciona:
*** Lectors de targetes: amb la BIOS 3109 només es reconeixen les targetes en arrencar.

Notes:

1. -- Hi ha una versió d'Ubuntu a mida en preparació anomenada <nowiki>[[http://onelinux.org/|onelinux]]</nowiki>, però en el moment d'escriure això encara no està disponible, i el desenvolupador demana de no ser molestat per poder-la enllestir. Si no podeu esperar, -- '''rachel''' ha preparat algunes versions per al seu ús personal: http://home.strangenoises.org/~rachel/aspireone/

2. Ubuntu <nowiki>[[http://www.phoronix.com/scan.php?page=news_item&px=NjY1Mg4|Intrepid inclou suport per a a la tarja sense fil]]</nowiki>, però no funciona amb l'AspireOne.

=== Maquinari necessari ===
1. Lector de targes SD extern i tarja SD o clau USB de 1GB

2. Ordinador amb Ubuntu

=== Primer pas: Preparació ===
Si volem fer una còpia del sistema Linpus, <nowiki>[[http://galindaines.blogspot.com/2008/07/installant-eeeubuntu.html|veieu]]</nowiki>.

Preparem una Tarja SD o una clau USB

Al sistema Ubuntu, instal·lem <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=222386|UNetbootin]]</nowiki>

Obrim un terminal i fem
<pre>
sudo apt-get install syslinux mtools
wget -O unetbootin http://unetbootin.sourceforge.net/unetbootin-linux-latest
chmod 755 unetbootin && sudo ./unetbootin &
</pre>

Seguim les instruccions, triant Ubuntu 8.04 a la primera opció (MOLT de compte al triar la Tarja SD o la clau USB, si errem el dispositiu podem esborrar una partició o disc important!)

Esperem que es baixin tots el paquets necessaris i ens demani sortir o arrencar. Triem Sortir.

=== Segon pas: Instal·lació al AspireOne ===
2.1 Connectem el Aspire a la xarxa amb fil

2.2 Posem la Tarja SD o clau USB

2.3 Arrenquem i premem F12 mentre arrenca (a la pantalla amb el logo d'Acer), i triem la Tarja SD o clau USB (USB HDD:) com a dispositiu d'arrencada (al Boot Menu).

El menú per triar el dispositiu d'arrencada s'activa amb la tecla F12 quan surt la pantalla d'entrada de ACER

2.4 Començem la instal·lació.

Particions. L'AspireOne porta un swap de 1077 KB que es pot reduir perfectament fins a 507 Kb mantenint les prestacions de suspensió i hibernació, i així podem augmentar l'espai útil.

2.5. Corregim el GRUB

Si en arrancar no troba el <nowiki>[[http://ca.wikipedia.org/wiki/Grub|grub]]</nowiki>, veieu <nowiki>[[http://www.hombrepac.com.ar/articulos/paso-a-paso-para-volver-a-grub-despues-de-reinstalar-windows/|això]]</nowiki> (o <nowiki>[[http://www.sorgonet.com/linux/grubrestore/|això]]</nowiki>)

=== Tercer pas: millorem la instal·lació ===
==== Completem la instal·lació del suport de llengua ====
Sistema | Administració | Suport de llengua i responem a les preguntes.

==== Actualitzem el sistema ====
''Sistema | Administració | Gestor d'actualitzacions'' i seguim les instruccions

==== Reduïm l'escriptura a disc ====

Obrim un terminal i fem:
<pre>
sudo gedit /etc/sysctl.conf
</pre>
Un cop obert l'editor, afegim al final:

<pre>
vm.dirty_writeback_centisecs = 15000
</pre>
desem i tanquem l'editor.

Al terminal, fem:
<pre>
sudo gedit /etc/rc.local
</pre>
Un cop obert l'editor, afegim abans de la línia <code>exit 0</code>:

<pre>

/usr/bin/setkeycodes e055 159
/usr/bin/setkeycodes e056 158

/usr/local/bin/acerfand

echo ondemand > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
echo ondemand > /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor
cat /sys/devices/system/cpu/cpu0/cpufreq/ondemand/sampling_rate_max > /sys/devices/system/cpu/cpu0/cpufreq/ondemand/sampling_rate

echo 1 > /sys/devices/system/cpu/sched_smt_power_savings
echo 10 > /sys/module/snd_hda_intel/parameters/power_save

[ -L /sys/bus/usb/devices/1-5/power/level ] && echo auto > /sys/bus/usb/devices/1-5/power/level
[ -L /sys/bus/usb/devices/5-5/power/level ] && echo auto > /sys/bus/usb/devices/5-5/power/level

setpci -d 197b:2381 AE=47

</pre>
i desem.

Nota: acerfand detecta la versió de la BIOS amb dmidecode. Si els valors necessaris no han canviat <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=4&t=300&p=25910&hilit=silent+fan#p27621|es pot afegir suport per a una nova BIOS]]</nowiki>: Per exemple per la BIOS 3305 es podria afegir a /etc/acerfand.conf la línia (atenció no cal fer-ho, només és un exemple per a futures revisions):
<pre>
BIOS_VERSION="v0.3305"
</pre>

Fem al terminal, sudo gedit /etc/sysctl.d/60-aspireone.conf
<pre>
vm.swappiness = 0
vm.dirty_writeback_centisecs = 1500
vm.vfs_cache_pressure = 0
vm.dirty_ratio = 20
vm.dirty_background_ratio = 10
vm.laptop_mode = 5
sysctl -w dev.wifi0.ledpin=3
sysctl -w dev.wifi0.softled=1
<pre>
i desem

Ara instal·lem els scripts del ventilador, fent, també al terminal:
<pre>
sudo aptitude install dmidecode
wget http://aceracpi.googlecode.com/svn/trunk/acer_ec/acer_ec.pl
wget http://electronpusher.org/~rachel/acerfand
chmod a+x acerfand
sudo cp acer_ec.pl acerfand /usr/local/bin/
chmod a+x acerfand
sudo cp acer_ec.pl acerfand /usr/local/bin/
</pre>

Al terminal, fem:
<pre>
sudo gedit /etc/fstab
</pre>
Un cop obert l'editor, afegim al final:
<pre>
tmpfs      /var/log        tmpfs        defaults           0    0
tmpfs      /tmp            tmpfs        defaults           0    0
tmpfs      /var/tmp        tmpfs        defaults           0    0
</pre>

Convé també canviar l'opció ''relatime''a ''noatime'' a la línia del disc principal.

desem i tanquem l'editor.

Nota: he eliminat la primera línia: ''tmpfs      /var/log/apt    tmpfs        defaults           0    0'' de fstab, recomanada amolts llocs, però que dóna problemes.

Al terminal, fem:
<pre>
sudo gedit /boot/grub/menu.lst
</pre>
I a les dues linies que diuen
<pre>
quiet splash
</pre>
afegim elevator=noop, així:
<pre>
quiet splash elevator=noop
</pre>

desem i tanquem l'editor.

Això hauria de fer que el disc respongui a les peticions com un ascensor (elevator) de forma més ràpida i eficient. Però en el meu cas no es nota gaire millora: Compareu <nowiki>[[attachment:aao8.04.1.NO-elevator.bootchart.png|aquest temps]]</nowiki> amb <nowiki>[[attachment:aao8.04.1.bootchart.png|aquest]]</nowiki>.

==== Treiem aplicacions que no ens calen ====

Com que no tenim lector de CD-ROM, hi han algunes aplicacions que no semblen gaire necessàries:

Al terminal, fem:
<pre>
sudo apt-get update
sudo apt-get upgrade
sudo apt-get remove brasero sound-juicerdwd+rw-tools libdvdnav4 libdvdread3 nautilus-cd-burner wodim sound-juicer
sudo apt-get install conduit cheese
sudo apt-get autoremove
sudo apt-get autoclean
</pre>
==== Xarxa sense fil ====

<nowiki>[[https://wiki.ubuntu.com/IntrepidIbex|IntrepidIbex]]</nowiki>, inclou suport per la xarxa sense fil, però no funciona al l'Aspire One. Per més informació veieu <nowiki>[[https://help.ubuntu.com/community/AspireOne|això]]</nowiki>

* Per que carregui el nou mòdul cada cop, editem /etc/modules fent:
<pre>
sudo gedit /etc/modules
</pre>

i afegim

<pre>
ath_pci
</pre>

* I ara, tenim dues opcions:

3.5.1 Amb un script

Baixem aquest script: <nowiki>[[attachment:wifiaao.sh]]</nowiki>, Obrim un terminal i fem:

<pre>
chmod 755 wifiaao.sh && bash wifiaa0.sh
</pre>
Al menu resultant, triem primer l'opció 1 (Prepara Wifi), quan acabi triem l'opció 2 (Recompila Wifi), esperem que acabi i triem l'opció 0 (Surt).

Cada cop que actualitzem el nucli, la xarxa sense fil deixarà de funcionar, i caldrà doncs obrir un terminal, fer 

<pre>
bash wifiaa0.sh
</pre>

I triar l'opció 2 (Recompila Wifi)

3.5.2 De forma manual

Si hem fet el pas anterior, podeu saltar aquest.

Al terminal, fem:
<pre>
mkdir source
cd source
wget http://snapshots.madwifi.org/madwifi-hal-0.10.5.6-current.tar.gz
tar xzvf madwifi-hal-0.10.5.6-current.tar.gz
cd madwifi-hal-0.10.5.6-r3835-20080801
sudo apt-get install build-essential linux-headers-$(uname -r)
make
sudo make install
sudo echo ath_pci >> /etc/modules
sudo echo SUSPEND_MODULES="ath5k" >> /etc/pm/sleep.d/modules
sudo modprobe ath_pci
</pre>
Recordem que cada cop que actualitzem el nucli, caldrà que fem al terminal:

<pre>
cd source/madwifi-hal-0.10.5.6-r3835-20080801
make clean
make
sudo make install
</pre>

==== Àudio ====

Al terminal, fem:

<pre>
sudo apt-get install module-assistant
sudo m-a update
sudo m-a prepare
sudo m-a a-i alsa
sudo alsa force-unload
sudo depmod -ae
sudo modprobe snd-hda-intel
</pre>

Afegim la següent línia al final de ''/etc/modules'' (''sudo gedit /etc/modules'') per que el mòdul es carregui en arrencar:
<pre>
snd-hda-intel
</pre>

i aquesta al final de ''/etc/modprobe.d/alsa-base'' (''sudo gedit /etc/modprobe.d/alsa-base''):

<pre>
options snd-hda-intel model=toshiba
</pre>

Per més informació veieu <nowiki>[[https://help.ubuntu.com/community/AspireOne|això]]</nowiki>

=== Altres detalls ===

==== Tema d'entrada del GDM ====
Si voleu un tema d'entrada més adient, podeu provar:
<nowiki>[[http://art.gnome.org/themes/gdm_greeter/1293|EaseOfBlue]]</nowiki>

==== Notebook Remix ====
Hi ha un projecte en curs per adaptar l'escriptori a aquesta mida:
<nowiki>[[http://www.ubuntu-eee.com/index.php5?title=How_to_install_and_use_the_Netbook_Remix_interface|Instruccions]]</nowiki>

<nowiki>[[File:netbook.png|Captura de pantalla de Netbook remix]]</nowiki>

''Captura de pantalla del Notebook Remix al Aspire One''

==== Desplaçament horitzontal ====
El touchpad (sustitut del ratolí, com es diu en català?) al Linpus original permet el desplaçament horitzontal, per aconsegir-ho, cal afegir el següent a xorg.conf

<pre>
Section "InputDevice"
        Identifier  "Mouse0"
        Driver      "synaptics"
        Option      "Protocol" "auto"
        Option      "Device" "/dev/input/mouse0"
        Option      "ZAxisMapping" "4 5 6 7"
        Option      "CorePointer"
        Option      "HorizEdgeScroll" "1"
EndSection
</pre>

==== Flash (opcional) ====
Per poder veure vídeos amb Flash es pot afegir el flashplugin-nonfree, que es troba al repositori hardy-backports 
http://packages.ubuntu.com/hardy-backports/flashplugin-nonfree

==== Monitor extern ====
Per detectar-lo podem escriure al terminal:
<pre>
xrandr --output VGA --auto
</pre>

Per configurar la disposició i resolució, anem al menú ''Sistema | Preferències | Resolució de la pantalla''.

Si fem servir NoteBook <nowiki>[[http://blocs.mesvilaweb.cat/node/view/id/104513|Remix, podem fer un segon usuari]]</nowiki> sense  per fer servir el monitor extern.

==== intel_rng: FWH not detected ====
No és un error gaire rellevant, però es pot eliminar així:

Comprovació:

Obrim un terminal i fem:
<pre>
dmesg | grep FWH
</pre>

Solució:
Al terminal, fem:
<pre>
sudo  echo “blacklist intel_rng” >> /etc/modprobe.d/blacklist
</pre>

Més informació:
http://luismgworld.com/2008/01/21/solucionar-bug-intel_rng-fwh-not-detected-ubuntu/

https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/102982

=== Altres distribucions ===
* <nowiki>[[http://www.catix.cat/tutorialinstalUSB/instalUSB.html|Com instal·lar la CÀTix en una memòria USB]]</nowiki>
* <nowiki>[[https://fedoraproject.org/wiki/Acer_Aspire_One|Fedora]]</nowiki>
* <nowiki>[[http://wiki.archlinux.org/index.php/Acer_Aspire_One|Archlinux]]</nowiki>
* <nowiki>[[http://en.opensuse.org/OpenSUSE_on_the_Aspire_One|OpenSUSE]]</nowiki>
* <nowiki>[[http://wiki.debian.org/DebianAcerOne|Debian]]</nowiki>
* <nowiki>[[http://gentoo-wiki.com/Acer_Aspire_One_A110L|Gentoo]]</nowiki>
* <nowiki>[[http://www.foresightlinux.org/mobile.html|Foresight Linux]]</nowiki>
* <nowiki>[[http://32packets.com/2008/08/14/os-x-working-on-the-acer-aspire-one/|Mac OS X]]</nowiki>
* <nowiki>[[http://blocs.mesvilaweb.cat/node/view/id/107303|10 millores i ? Limpus en català]]</nowiki>, Marc Belzunces
* <nowiki>[[http://www.reghardware.co.uk/2008/09/05/ten_aspire_one_tips/|Limpus]]</nowiki> 10 millores de la distribució que ve de fàbrica.

=== Millores ===
A la <nowiki>[[https://help.ubuntu.com/community/AspireOne|versió en anglès]]</nowiki> hi ha més millores.

* <nowiki>[[http://macles.blogspot.com/2008/09/about-storage-expansion-of-acer-aspire.html|Com extendre el sistema d'arxius amb aufs]]</nowiki> Si ho provo ho explicaré.
* <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=28&t=3481|Arrencada dual]]</nowiki>

Si trobeu alguna solució, podeu afegir-la a aquest wiki, editant-lo.

=== Referències ===
* <nowiki>[[https://help.ubuntu.com/community/AspireOne|Comunity documentation]]</nowiki> (Ubuntu 9.10)
* <nowiki>[[http://galindaines.blogspot.com/2008/08/aspireone-vs-eeepc-installant-ubuntu-al.html|Article  original]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Tutorials/AspireOne/BIOS|Com actualitzar la BIOS amb UNetbootin i FreeDOS]]</nowiki>
* <nowiki>[[http://blocs.mesvilaweb.cat/node/view/id/104513|Acer Aspire One: Linpus, Ubuntu Remix, català i solució al soroll]]</nowiki> Marc Belzunzes, Del Holocè estant
* <nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Tutorials/AspireOne/BIOS|Com actualitzar la BIOS del AspireOne sense CD ni disquetera]]</nowiki>
* <nowiki>[[https://help.ubuntu.com/community/AspireOne|Tutorial semblant]]</nowiki> (en anglès)
* <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=28&t=164|Fòrum]]</nowiki> (en anglès)
* <nowiki>[[http://macles.blogspot.com/|Hacks del AspireOne amb Linpus]]</nowiki> (en anglès)
* <nowiki>[[http://www.linuxhaxor.net/2008/09/27/30-cool-acer-aspire-one-hacks/|30 Cool Acer Aspire One Hacks]]</nowiki> (en anglès)
* <nowiki>[[http://www.slideshare.net/pittaya/ubuntu-netbook-remix-on-acer-aspire-one-presentation-575984|Ubuntu Netbook Remix On Acer Aspire One]]</nowiki> (en anglès)
* <nowiki>[[http://miniportatil.net/foro/viewtopic.php?f=7&t=7|Connexió 3G]]</nowiki> (en castellà)
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/bootchart/+bug/254954|Solució al problema de bootchart amb Ubuntu 8.04.1]]</nowiki>
Crèdits: PacoRivière http://pacoriviere.cat/ http://galindaines.blogspot.com/
----
CategoryTutorialsEnCatala

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

We want to be sure that Ubuntu is fully compatible with the new Intel Core 2 Duo Processors.

This is a page to track bugs and discussions related to supporting this.

== Problems ==

=== Random Freezes on 965P motherboards ===

==== Hardware Affected ====
* Asus P5B Deluxe (Motherboard)
* Foxconn P9657AA-8EKRS2H (Motherboard)

==== Edgy/Kernel versions ====

* This bug has been reported for Edgy (final)
* Stock Kernels: 2.6.17-10-generic, 2.6.17-10-386
* Custom Kernels: 2.6.19-rc2-mm2 (compiled from kernel.org sources), 2.6.17-13 (compiled from Ubuntu sources)

==== Summary ====

Frequent random lockups/freezes with Edgy. Issue persists even when X11 is not running. No third party modules (i.e. no nvidia). No information on syslog prior to crash.

==== Workarounds ====

None. Need additional info. Please share your experiences on this.
 My case : Asus P5B Deluxe with kubuntu Edgy, it works fine when I use ubuntu defaults kernel. But it doesn't support Marvell Lan card. So i tried sk98lin driver Ubuntu freeze at boot randomly(sometime, it works fine with two marvell lan card.).

Foxconn P9657AA-8EKRS2H with Ubuntu Edgy. Random freezes. Edgy does not support motherboard integrated Marvell LAN card so using a Netgear PCI LAN card. Vanilla Edgy set-up (i.e. not using Nvidia provided drivers etc). Hardware works find under Windows XP. Had to disable APIC in BIOS to get Edgy installed otherwise random lockups during installation. Windows would not boot with APIC disabled, so re-enabled it after Edgy installed.

Tried both Ubuntu 6.06.1 and 6.10 on an HP DC7700 and it will not boot, sits at loading Linux. 6.10 (at least) will boot if you add "acpi=off noapic nolapic" to kernel command line.

Asus P5B with Kubuntu Edgy and any kernel of these: 2.6.18, 2.6.19 and 2.6.20 freezes randomly. Sometimes it takes one week to freeze, sometimes one day. It is a fileserver with RAID6 array - so it has 2 PCI Express Kouwell SATA II cards (silicon image SATA II chip) and a network card (because onboard marvell chip is not supported). Changing 1GBit network card from U.S.Robotics to Intel (e1000 kernel module) somewhat lowered the frequency of hangups, but they still occur. There is nothing in system logs. The computer freezes completely - doesn't answer to ping, there is no output from videocard and keyboard LEDs are blinking.

==== Notes ====

Hardware works fine in Windows.

See http://www.ubuntuforums.org/showthread.php?p=1671821#post1671821

Similar freeze problems with Fedora Core 5
* kernel:2.6.19-1 from kernel.org
* abit ab9 motherboard (JMB363 SATA/PATA chipset)
* core 2 duo E6300 CPU
* 2nd NIC RTL8029AS attached to PCI using the ne2k driver

System works fine with irqpoll boot option but when there is any traffic through the RTL8029 NIC the system freezes completely. Nothing relevant in system logs. This was fixed by changing to a NIC that has the RTL8139 chipset and thus uses the 8139too driver.

=== APIC turned on in BIOS freezes system during boot ===

==== Hardware Affected ====
* MSI MS-7235 P965 Neo Series (Motherboard)
* Intel DG965OT (Motheboard)
 (Maybe more!)

When booting either stock (2.6.17-10-generic) or current (2.6.17.11-ubuntu1) kernels, system freezes after displaying

[17179572.068000] PNP: PS/2 Controller [PNP0303:PS2K,PNP0f13:PS2M] at 0x60,0x64
irq 1,12]

and before displaying

[17179572.080000] serio: i8042 AUX port at 0x60,0x64 irq 12

if IOAPIC is turned on in BIOS. Turning off IOAPIC allows the system to boot without issues, but this turns off SMP, causing only one of the two cores of the CPU to be picked up by the kernel:

[17179571.520000] SMP motherboard not detected.
[17179571.624000] Brought up 1 CPUs

==== Work-Arounds ====
* Disabling legacy USB support (keyboard/mouse) appears to fix this problem in this particular case.
In the case of MSI MS-7235 P965 Neo, the only way to do so seems to set "USB Keyboard support" and "USB Keyboard support" settings to "Disabled"

==== Fixed in Dapper Status/Notes ====
Not fixed yet

==== Fixed in Edgy Status/Notes ====
Fixed in Edgy Eft beta/release candidate
* I would argue this is not fixed in the final release as I cannot boot my HP DC7700

=== Installer Freezes on Not Finding IDE CD/DVD-ROM Drive ===
I believe this is caused due to the Intel P965 chipset has no more integrated IDE channel, thus the motherboard usually has an additional chip onboard for an IDE channel. In the current Gigabyte (I got one of them) and ASUS (think they have it too) this is a JMicron JMB363, in Intel motherboards it's a Marvell 88SE6101 controller. Until very recently the kernel had a bug inside that made it unable to access the IDE/PATA channel. So If you have and IDE drive or HDD left you will not be able to use it.

I would guess most people have a SATA drive with such a new computer. The trick to it is then to avoid the PATA CDROM for installation (though the BIOS can boot off it). Utilising USB, you can do the following:
* Install Ubuntu from USB stick as per <nowiki>[[https://help.ubuntu.com/community/Installation/FromUSBStick]]</nowiki>
* Boot off the PATA CDROM and copy a KNOPPIX installation to USB stick. KNOPPIX will utilise kernel etc from the CDROM and then resume booting from USB stick.
Either of these methods has worked for me just fine.

==== Bugs related to this issue ====
* <nowiki>[[https://launchpad.net/distros/ubuntu/+bug/58358|Installer (Live CD) Stuck at "Uncompressing Linux ... Ok, booting the kernel"]]</nowiki>
* <nowiki>[[https://launchpad.net/distros/ubuntu/+bug/55232|CD Detection Failed on install]]</nowiki>
* <nowiki>[[https://launchpad.net/distros/ubuntu/+bug/57502|JMicron PATA/SATA Controller does not work]]</nowiki>
* <nowiki>[[https://launchpad.net/distros/ubuntu/+bug/67012|Marvell PATA controller is not supported]]</nowiki>

==== More Info ====
* Forum Discussions
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=236298&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=249326&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=234706&page=2&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=239470&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=225589&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=187318&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=233540&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=215481&highlight=P965]]</nowiki>
** <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=231784&highlight=P965]]</nowiki>
* External Sources
** <nowiki>[[http://tinyurl.com/gfq2x|A discussion on what may be the same issue]]</nowiki>
** <nowiki>[[http://lkml.org/lkml/2006/10/16/157|Marvell PATA patch]]</nowiki>

==== Hardware Affected ====
* GIGABYTE GA-965P-DQ6 P965 775 (Motherboard), bsodmike (06-09-2006)
* GIGABYTE GA-965P-DS4 P965 775 (Motherboard)
* GIGABYTE GA-965P-DS3 P965 775 (Motherboard)
* GIGABYTE GA-965P-S3 P965 775 (Motherboard)
* MSI MS-7235 P965 Neo Series (Motherboard)
* ASUS P5B P965 Series (Motherboard)
* ASUS P5W DH Deluxe (Motherboard)
* Intel DP965LT (Motherboard)
* Intel DG965SS (Motherboard)
* Intel DG965WH (Motherboard)
* Intel DG965OT (Motherboard)
* Intel DQ965GF (Motherboard)
* Probably other Intel motherboards based on P965/G965/Q965 chipsets
* ABIT AB9 Series (Motherboard) (both pro & non-pro)
* ECS P965T-A (Motherboard)
* Foxconn P9657AA-8EKRS2H (Motherboard)
* [Dapper] ASUS P5Dl2-VM (Motherboard) Intel 945 Chipset, intergrated graphic, sound & networking, Pentium D, LGA775 socket
* Intel DG965RY (Motherboard)
* ''Please add more Ubuntu Users''

==== Fixed in Dapper Status/Notes ====
Not Yet
[Dapper] Boots from live CD and installs, plain 386 works, have 2 optical drives - DVD-RW fails to be recognised even though can boot and install from it, CD-RW works fro a few minutes before getting an IRQ confused message continuously at which point system becomes unusable.  Install 686 and smp - freezes at login screen.  Same with custom compiled kernel. Kernel boot options "/boot/vmlinuz-2.6.15.7-ubuntu1-tqft root=/dev/hda1 ro quiet splash irqpoll noapic nolapic ht=on"   - now both CPUs on and running no freeze at login.  Optical drives - main on first controller works but occassionally stops responding, secondary - gives IRQ confused message after a few seconds running.  Have now disabled 2nd optical drive.  Running smooth, other than no 2nd opticaldrive.

==== Fixed in Edgy Status/Notes ====
I tried Kubuntu Knot 2 tonight with no luck.  It got to the start screen, and hit install and it freezes to a blank screen with a blinking cursor at the top left of the screen.

I've managed to get the edgy kernel to recognize my PATA drives by compiling in the disk controller modules and passing all-generic-ide at boot. I'm not sure yet if all of the ide modules have to be compiled in, or just ide-generic. From dmesg, it looks like ide-generic has to be initialized before anything else in order for this to work (which is why it can't be compiled as a module). Maybe somebody can figure out how to do this with the initrd, but for now compiling in ide-generic works for me. This works on 2.6.17.11, compiled from the git tree. I haven't tried the dapper kernel yet.

I tried Ubuntu Knot 3 ("Edgy Eft" - Alpha amd64 (20060915.1)) today with the "all-generic-ide" option without success. Unfortunately it seems that the patch from Alan Cox is not yet included in the kernel on the disc.

==== Fixed in Feisty Status/Notes ====
Fixed in ubuntu alternate amd64 final release DG965RY. at last!

Intel DG965WH: Apart from problems with built-in X3000 graphics chip (better support of which is promised in Xorg 7.2) everything seems to work well with Ubuntu 7.04 Herd 2 (installed from Desktop CD). Credits to  kernel 2.6.20?

==== Work-Arounds ====
* Connect IDE drive to SATA controller using a converter
    -- some adapters may not work with all drives
**** <nowiki>[[http://www.newegg.com/Product/Product.asp?Item=N82E16812206002|Rosewill RC204]]</nowiki> adapter confirmed to work with Samsung SH-S162A drive
**** <nowiki>[[http://sewelldirect.com/SerialATAtoIDEConverter.asp|This SATA to IDE Converter]]</nowiki>worked for me. Be sure to plug your hard drives and optical drives in the Intel ICH 8 I/O controllers (Yellow SATA connectors on my board).
* Use USB-IDE adapter to connect IDE CDROM, and boot from regular installation CD.
* USB enclosure for ATA drives
* Network(PXE) installation
    -- this requires another computer
    -- Many of the P965 mobos apparently use some Realtek Ethernet cards that aren't supported by the installer
**** workaround: get another PCI Ethernet card to install from
**** potential workaround (not tested): local network install
* PCI/ATA controller card. I'm using a CMD649U chipset based card, although I can't seem to boot off the CD as isolinux brings up an error.
* Boot from a working live-cd (e.g. <nowiki>[[http://www.sysresccd.org/Main_Page|System Rescue CD]]</nowiki> or <nowiki>[[http://www.knopper.net/knoppix/|Knoppix]]</nowiki>) and install Ubuntu as described here: <nowiki>[[http://d-i.alioth.debian.org/manual/en.i386/apds03.html]]</nowiki> (maybe this one is better as talking explicitly of Ubuntu <nowiki>[[http://ftp.ubuntulinux.org/ubuntu/dists/warty/main/installer-i386/current/doc/manual/en/apcs03.html]]</nowiki>

=== Random Freezes on 945 motherboards ===

==== Hardware Affected ====
* MSI 945GT Speedster-A4R (motherboard) 
* Core 2 Duo (Merom)

==== Edgy/Kernel versions ====
* Stock Kernels: 2.6.17-10-generic
* Custom Kernels: 2.6.20 (compiled from kernel.org sources)

==== Summary ====
Frequent random lockups/freezes with Edgy. Issue persists even when X11 is not running. No information on syslog prior to crash.

==== Workarounds ====
Tried everything mentioned here (and on other places) about passing kernel options and disabling features in the BIOS, but nothing helped. Finally MSI decided to release a new BIOS version (ver. 1.30) which is currently only available on their japanese homepage. This BIOS has solved all the random hangs that has been reported earlier for this motherboard.

The BIOS can be found here:
http://www.msi-computer.co.jp/bios/9632v13.zip 

So it seems that this wasn't actually an Ubuntu problem but a hardware problem. And it is possible that other reported problems here could also be related to hardware and bios issues.

=== Success Stories ===

===== Story 1 =====
I have managed to install Ubuntu Edgy Eft Knot 2 on my 965-based Core 2 Duo computer and I want to share my experiences.
My computer has the following specs:
* Asus P5B motherboard
* Maxtor SATA II disc
* Asus DVD-RW

For the installation, I have bought a SATA->IDE adapter from <nowiki>[[http://www.conrad.de|Conrad]]</nowiki> (Art-Nr 974452 - 62) which worked for my Asus DVD-RW but not for my LG-DVD-RAM.
On my board, there are 5 internal SATA connectors. One belongs to the JMicro controller and the other 4 to the ICH8 controller. Number 1 and 2 are red coloured and number 3 and 4 are black coloured. I have my harddisc connected to the first SATA port. In my case it was necessary to connect the CD/DVD drive to the second port and not to the third or fourth.
In the BIOS, the IDE configuration had to be configured to '''Enhanced -> AHCI'''.

I tried the following CDs:
* LIVE (pre) Knot3 (20060915.1) amd64 : a lot of bus errors, timeouts during boot up. It took about 10 minutes to boot, so I canceled.
* LIVE Knot2 amd64 : the same as above
* ALTERNATE Knot2 amd64 : Pressing F6 at the grub menu and adding "'''all-generic-ide irqpoll'''" had worked for me.

After the installation and the first reboot, I had to edit the grub entry by pressing "e" and add the options mentioned above. I added these options to "# defoptions..." and "# altoptions..." in "/boot/grub/menu.lst" and run "update-grub" afterwards.

This was all I had to do to install Ubuntu using a SATA->IDE adapter.
If you have any questions, ask me (Zulu5).

===== Story 2 =====
I used the <nowiki>[[http://sourceforge.net/projects/instlux|instlux]]</nowiki> and instluxNETUbuntu6_06 to install without CD. Worked without problems on P5B Deluxe. Now I need to wait for fixes to get CD/DVD and 1GB LAN working -but everything else seems to work fine.

===== Story 3 =====
I downloaded a Daily cd from http://cdimage.ubuntulinux.org/daily/ (the 28/09) and managed to install Edgy having a SATA HDD and an IDE CDROM.
Note: kernel 2.6.17-10 that this cd has fixes the problem with the Jmicron controller. Though then you get some problems with the   ICH8 controller (Intel one) so I had to connect my SATA HDD to the JMicorn controller (for gigabyte GA-965p-DS3 the purple slots belong to the JMicron Controller)

Note #2: GRUB does not appear to support (all versions of the) JMicron controller, resulting in "Error 21". The workaround is to install LILO during the installation process. Before rebooting, go "Back" and from the menu choose "Install the LILO Bootloader". You may need to manually create a lilo.conf referencing /dev/sda as your boot drive. Another option is to use a Windows/FreeDOS bootloader to boot into a small DOS partition on the drive, containing the linld.com (http://195.66.192.168/linux/linld/) Linux booter for DOS (loadlin, on the other hand, chokes on Ubuntu's large initrd, so cannot be used), copy the kernel and initrd to it and boot from there.

===== Story 4 =====

On my Asus P5B with my SATA hard drive connected to the ICH8 controller and my PATA DVD writer drive connected to the JMicron IDE port, the daily live CD ( http://cdimage.ubuntu.com/daily-live/current/ ) of 11th October worked like a charm for me. The alternate CD did not work for me, so be sure to use the right one.

===== Story 5 =====

On my Asus P5B with dual SATAs plugged into ICH8 and an Asus DVD ROM drive connection to the JMicron IDE port, the alternate daily image of 14th October worked like a charm for me.

===== Story 6 =====
I used USB-IDE connector for connecting IDE CDROM to my Intel DG965OT motherboard. Installation of Edgy Eft beta was successful. Later I backported to 2.6.17 and compiled Marvell PATA driver from Alan Cox (http://lkml.org/lkml/2006/10/16/157). My IDE CDROM and hard drive work properly.
The back ported version of the driver is here: (http://www.malinov.com/linux/pata_marvell-0.0.4t.tar.gz) DISCLAIMER: USE IT AT YOUR OWN RISK, NO WARRANTY OF ANY KIND.
Note: SATA controller must be configured in AHCI mode (check BIOS setup), otherwise Ubuntu will not recognize SATA disks.

===== Story 7 =====

* Asus P5B, bios version 0701 with Core 2 Duo E6400
* 1 SATA HD plugged into ICH8
* 1 PATA Combo DVD/CD writer (on the JMicron)
* Edgy Eft RC

Initial boot was fine, but installer would hang the computer somewhere in the middle of installation, after partitioning and apparently during software installation.  After trying various combinations of bios settings and kernel options, I finally blundered into a working combination:

* disabled legacy USB in the bios (and hauled an old PS2 keyboard and mouse out of the closet)
* set both ICH8 and JMicron to AHCI in the bios
* used "noacpi" as an additional kernel boot option

I'm not sure if all of these are necessary -- I had tried the top two items by themselves and with other kernel boot options without success.  "noacpi" seemed to be the thing that did the trick.  In any case, the installer completed successfully without crashing/hanging.

===== Story 8 =====
[MichaelAnckaert]
I have a Core 2 Duo CPU, MSI P965 NeoF motherboard with the JMicron chipset. 
My cd/dvd is connected to the JMicron IDE, my SATA2 HD is connected to the intel ICH8. I can boot and install from the default Edgy Live CD without any problem. Once installed, everything is fully functional! 

===== Story 8b =====
[Mark Haase]
I have a Core 2 Duo CPU, MSI P965 NeoF motherboard with the JMicron chipset. 
My dvd ist connected to the ICH8 and my HDDs are connected to the JMicron. I can boot the Edgy CD but no HDDs are recognized. So no install is possible. 
First Feisty Alpha:
* Desktop: Booting, but X Server not working while starting to install
* Alternate: !!!Found the HDDs (which clear supports the oppinion that there _are_ bugs remaining in dapper and edgy)!!! Displayed only the partions of the first one. (Which is the wrong one in my case) I installed anyway but grub was installed on the wrong HDD and the PC booted (after a complete seemingly working install) back into XP. 

===== Story 9 =====
Works fine with p5b-E ('cept for nic which is not supported). Been up for a month with
no crashes. User desktop did crash once while I was not home - perhaps because I had updated gnome). eide/sata/usb work fine. There is a bug in 2.6.17-10 kernel with tv tuners (not related to duo 2 core) - the author introduced it during a rewrite. It is fixed in 2.18.2 but I could not get 2.18.2 or 2.18.3 to boot. Will try again with 2.19 branch when it is stable.

===== Story 10 =====
I've installed Edgy on Intel DG965RY and DG965OT motherboards by building a custom installation CD with a kernel with the generic pci ide driver compiled (drivers/ide/pci/generic.c, CONFIG_BLK_DEV_GENERIC=y) in rather than as a module, and with the latest e1000 driver from sf.net.  The e1000 driver in Edgy doesn't work on these motherboards but the latest on sf.net does.

I had a couple of minor problems, probably due to my kernel build, but they were easily worked around.  The first was that the installation stalls after installing the kernel, waiting for user input.  The workaround is to echo an empty string to the post-installation script's stdin via /proc/<pid>/fd/0.  The second problem was that it wouldn't boot after the installation was completed, either because grub wasn't installed or the partition wasn't marked bootable.  The workaround was to boot from the CD, run grub-install then toggle the boot flag with fdisk.

The only live CD I've found which will boot on these motherboards is <nowiki>[[http://www.grml.org/|grml]]</nowiki>.

===== Story 11 =====
I've gotten Edgy installed many times now on my Gigabyte GA-965P-DS3 (Intel P965 Chipset) with an Intel Core 2 Duo E6600. 

What I did was hit F6 at the installation screen and add the option "all-generic-ide", this seemed to fix all previous problems.

===== Story 12 =====

* Abit AB9 (non-Pro) with the latest BIOS-update
* Intel Core 2 Duo E6600
* SATA2 hard drive connected to the Intel ICH8-controller
* IDE DVD+-RW connected to the IDE controller as the master drive
* Edgy Eft 64-bit (final)

Booted from the install cd. The install went without any problems and all hardware works perfectly out of the box (audio, gigabit ethernet). No additional boot parameters were necessary.

Neither the live CD or the installed system will boot if legacy keyboard support is on ("USB keyboard support" = "BIOS"). My Windows install will not boot either. I solved this by using a PS/2 keyboard.

There is one big problem, however: using USB mass storage-devices (USB-stick, SD-card reader) with the front panel USB-connectors randomly freezes the computer. Sometimes I am able to copy the contents of a 1 gigabyte USB-stick to the computer, but usually the system crashes before the copying process is done. No information about the crash is recorded in the system logs.

===== Story 13 =====

* Asus P5B-E
* Intel Core 2 Duo E6600
* SATA2 hard drive connected to the Intel ICH8-controller
* IDE CDROM and UDMA/100 HD connected to the JMicron IDE controller
* Edgy Eft Latest Live CD (As of 2006-12-16)

Booted and installed fine from the CDROM, the JMicron problem appears to be fixed. The IDE HD was visible and is accessible.
Audio works fine, Onboard Ethernet is not detected, so I use a PCI ethernet card.

The only problem is the UDMA/100 HD is detected and setup as UDMA/33 on the JMicron controller, so is much slower than it needs to be.

Everything seems stable enough, have dual monitor working with Radeon XOrg driver, from PCI-E Card.

===== Story 14 =====

* Abit AB9 Pro
* Intel Core 2 Duo E6600
* SATA2 hard drive connected to the Intel ICH8-controller
* IDE DVD+-RW connected to the IDE controller as the master drive
* Edgy Eft Live CD 6.10 - Latest Live CD (As of 2006-12-16)
* Sparkle nvidia 7950GT

Booted from the install cd. The install went without any problems and all hardware works perfectly out of the box (audio, gigabit ethernet). No additional boot parameters were necessary.

Running with nvidia driver 1.0.8776 causes frequent freezes in X. 
System runs better with the open-source nv driver (alas without hardware acceleration). 
Still has the occasional freeze, cause as yet unknown.

===== Story 15 =====

* Asus P5B
* Intel Core 2 Duo E6300
* SATA2 hard disk connected to JMicron
* PATA (IDE) DVD writer connected as master
* Edgy Eft (Kubuntu 6.10) DVD

Boot from DVD and installation without any problems. However SATA2 HD has to be connected to the JMicron controller (not recognized if connected to the ICH8 - Asus P5B has an ICH8 and not ICH8R controller (R stays for RAID)).

The only issue is that sound is not working properly in some applications (e.g. wesnoth). There is a kind of static noise in background during playback. After application restart Linux crashes and boots again (no traces in log file what was going on). Sound in some other applications is working without problems (e.g. xmms).

Update: There is no sound problems anymore - system is now working without any issues. I don't know what update fixed the problems.

===== Story 16 =====

* HP DC7700p RN122ET
* Intel Core 2 Duo E6300

Able to install Ubuntu Server 6.06 and boot and run Desktop 6.06 using default settings: after installing an add-on graphics card. The card is a "Matrox Millenium P650 PCIe 128". Without this card the CD hangs at the message "Uncompressing Linux ... Ok, booting the kernel"

The on-board Intel 82566DM network card is not supported though. I suspect sound isn't working either.

===== Story 17 =====
* MSI neo p965
* Intel Core 2 Duo E6400
* 6.10 Edgy AMD64
* January 10th, 2007

Everything Works!  The problem was the kernel.  I have a hard drive on Jmicron SATA (gives me AHCI and ICH8 ports don't) plus 2 cd-roms on Jmicron Pata.  Here's my solution.  I got the idea from playing around with osx86.  Partition your drive with gparted or similar.  Boot windows.  Use VMware server available for free (legal) to install from windows onto your physical hard disk (risky, giving full drive access to a virtual machine may destroy your partition table or MBR, but it worked). Get edgy running with internet access within the virtual machine and recompile the kernel via this guide: http://www.howtoforge.com/kernel_compilation_ubuntu

Make sure to enable libata SATA support.  I built all the jmicron libata and ICH8 drivers into kernel, and compiled the rest as modules.  I used 2.6.19.1.  

One more thing:  after the kernel is installed, grub sets the root kernel parameter as "root=/dev/hda5" in /boot/grub/menu.lst .  I had to edit menu.lst to "root=/dev/sda5" to get it the new kernel to recognize my root drive, otherwise it would hang. Voila, SMP Core 2 duo kernel for a p965.  I proceeded to install Nvidia drivers + Beryl without a hitch, running quickly and stable for 6 hours.

If any issues, load up the old kernel in VMWare and tinker some more.  VMWare is easy enough to use, and you can download a gparted livecd for partitioning.

I expect feisty to install without a hitch when it comes out.

'UPDATE:  January 23, 2007'
RTL8169 onboard ethernet is flaky.  It requires a cold boot to work properly.  Everything else is still excellent and stable.  FAST!
'UPDATE:  February 27, 2007'
Ubuntu also boots properly if I move the hard drive to ICH8 SATA (on Jmicron before), without any changes to options anywhere.  This leads me to believe that the drivers just need to be there by libata, and grub can do the rest.

===== Story 18 =====
* Abit AB9 Pro Board
* Intel Core2Duo E6600
* 1 SATA-DVD-Rom
* 1 SATA-HDD
* 2 IDE-HDD
----
'''1st try:'''
I tried to install ''Edgy final x86_64'', worked after disabling USB 2.0 in Bios, but made a looong break after loading the kernel, made mistakes as it was installing grub on hdg (the sata-disk on the JMicron-Controller is detected twice, as hdg AND sda) after setting this back to sda, it worked. i tried also to put the sata-hdd and the sata-dvd on the ICH8-Sata-ports, but they were not detected. made a nasty broken bootsplash, and i were not able to access any USB-Mass-storage. after compiling my own kernel (2.6.19.1) the usb worked again, but the rest of the system not, the kernel-modules removed itself, and other nasty things, i got pised off
----
'''2nd try:'''
i used ''feisty unstable x86_64'' for this try. installation worked fine (had to start only four times *argl*), but grub made some big mistake, as it tried to install on my dvd-rom ;-), /boot was (hd0,0), but i had to install it on (hd2,0) to get it there, after the reboot, i had to put in the live-cd again to correct these settings, because grub freezes if it cant find stage2. tty1 through 6 were completely dysfunctional because of 20 lines of errors per second running thru. ("speeddown requested but no transfer mode left" bla bla, does anybody now, how to get rid of this?). i had my sata-drives also on the jmicron, because the livecd wont boot with the two drives on ICH8 (i hate that, i have 10 SATA-Ports, but can only use 2, and these two bring up errors)
----
'''3rd try:'''
my next try was ''Edgy final x86 (32bit)''. i connected my sata-drives to the ich8, set it to AHCI in the BIOS, set usb mouse and keyboard to be detected by OS and got it running. tests with raid on the jmicron/ide disks failed, also the BIOS-detecting of usb mouse and keyboard, but usb2.0 is enabled and ubuntu only shows me a short error on bootup. i am soooo reliefed *jumparound*

===== Story 19 =====
Core 2 duo E6300
Asus p5b - deluxe wifi
corsair 1gb 800mhz
xfx 7100 
2x sata II western digital hdds
1 pata 
1 sata dvd-rw

No luck with 64-bit version of feisty herd 3.
Also could not install using 32 bit feisty alternative cd

Everything worked except a problem with grub (hd0,1 instead of hd1,1) gigabit lan and sound

===== Story 20 =====
Core 2 duo E4300
Asus P5B
Ultra 512mb PC4200 ram
Nvidia MX4000 video
Dlink WDA-1320 wifi network
2x Segate Sata-300 hard drive
Sony DRU120C DVD/CD burner

Installed Ubuntu 6.10 with no problems. 
Wifi card was not found during install, but worked fine after install was finish.
All is working by default, but will need to configure s/pdif audio and S-Video for them to work.  Way to go Ubuntu :)

===== Story 21 =====
Intel Core 2 Duo E6300 1.86GHz with Asus P5B motherboard, Intel P965 chipset, 4GB memory.
Desktop install fails for 6.10 and 7.04beta. Alternate install is successful but afterwards the machine does not boot or hangs or crashes or reboots spontaneously.
The alternate install with the 2007-03-31 snapshot is successful, and unlike 7.04beta gives a functioning network. In order to get a working system it was necessary to blacklist intel_agp and boot into text mode. More details in http://www.win.tue.nl/~aeb/linux/misc/ubuntu_on_core2duo.html

===== Story 22 =====
Intel Core 2 Duo E6300 
Gigabyte P965 DS3
Feisty 64-bit (Release) installed.  On board network adapter will stop working if use a lot.  Had to put a second NIC in just to work.  Random freezes continully becoming more frequent.  Tried to isolate what was happening by backing up and making a new /etc/messages file.  Weird side effect is when i rebooted the computer waiting for it to freeze, it wouldn't.  I thought what a weird coincedence, but I couldn't get it to freeze at all.  1 Day goes by and my computer begins to freeze again (and again every time i restart it gets more frequent).  So just to test it again I rename my /etc/messages file to /etc/messages.bak and make a new /etc/messages file.  And again it buys me more time.  I am expecting it to start freezing again tomarrow and if it does I will test this again and report back.  I thought it was a coincendence that I stalled the problem that way, but its starting to look like like /etc/messages is at the least a symptom.

Added Information.  I have done some more testing.  The /etc/messages thing has nothing to do with it.  I have found that it will freeze, and can reproduce this problem.  It appears that on every third reboot it will not freeze.  (boots 1 and 2 will freeze in the first 10 minutes, the 3rd boot will work fine until i reboot again.  Then the cycle starts over)  I have had the computer running for over a week straight and nothing seems to wrong.  (Until I reboot anyway)

===== Story 23 =====
Intel Core 2 Duo E6600 Conroe 2.4GHz - DFI INFINITY 975X LGA 775

During install, or useage, of Edgy 32 / Edgy 64 / Feisty 32 / Feisty 64 would have random complete freeze up.  It wasn't resolved until a post gave the solution, located here: http://ubuntuforums.org/showthread.php?t=285683&page=8

I stopped powernowd after startup for install: "sudo /etc/init.d/powernowd stop".  After install, I removed powernowd: "sudo apt-get remove powernowd".

Now, I have no crashing (it's been over a month).

===== Story 24 =====
Intel Core 2 Duo E6700 Conroe 2.6Ghz - ASRock 775i65G rev2.0

I was running an Athalon64 3800+ with Feisty already, and I decided to swap out the board and the CPU, and keep my old DDR RAM and AGP card (X800XT) Which this new board lets me do, after completing the upgrade I hit the power button and Ubuntu booted up without issue with everything working, including SMP, as can be seen from the output of uname -a:

Linux desktop 2.6.20-16-generic #2 SMP Wed May 23 00:30:47 UTC 2007 x86_64 GNU/Linux

===== Story 25 =====
Intel Core 2 Duo E6420 + ASUS P5VD2-VM

I had continuos crashing until I updated the BIOS to version 1105. Now everything works fine.

===== Story 26 =====
Feisty 32 bit version Live CD, Mint as well
Intel C2D 2.4 GHZ, mobo Intel 965RY, 82G965 Integrated Graphics Controller, 82566DC Gigabit Network Connection, 82801H (ICH8 Family) HD Audio Controller, 2 x 1GB DDR2 RAM, 4 USB 2.0, 2 x seagate 160GB sata, DVD writer LITEON LH-20A1P , 1280 x 1024
Works perfectly.

===== Story 27 =====
Gutsy amd64, kernel 2.6.22-9-generic,
Asus P5B-Plus, Intel Quad Core Q6600, nVidia Geforce 8800 GTS.

After installing Ubuntu using the nosplash noacpi noapic kernel options, I experienced random freezes when copying large files over the network. There were no error messages in syslog.

For me the solution was to ''disable the onboard LAN chipset'' (Attansic L1 chipset) in the BIOS and use an old Realtek PCI network card instead. There even are some Linux drivers on the CD that comes with the mainboard, but I didn't bother to install them.

There also is a BIOS upgrade available on the Asus support site. It can even be installed off an USB stick directly from the EZ BIOS update utility.

===== Story 28 =====
Asus P5K-VM, Ubuntu 7.04, SATA HDD, PATA DVDRW, Core2 Duo E6750.

PROBLEM: Installs fine from bootable CD. Freezes (at splash) when starting up though.
Just after loading SATA modules.

I don't think this is specific to Core2duo, but Story 17 above gave me the solution.

- >>>>>>> FIX: Grub creates the incorrect entry for root, It was "root=/dev/hda1", but it must be "root=/dev/sda1"! That fixes the problem on my board! <<<<<<<<<

In the grub menu, you can press "e" to edit the entry, then change to "root=/dev/sda1", then press "b" to boot it. This is temporary change. When in Ubuntu, do a "sudo gedit /boot/grub/menu.lst" and change it permanently at the bottom there. 

- Also check your BIOS is the latest version, asus.com said my E6750 was supported with a certain new version which I updated to.

"uname -a" once in Ubuntu, gives: Linux def-desktop 2.6.20-15-generic #2 SMP Sun Apr 15 07:36:31 UTC 2007 i686 GNU/Linux

PENDING PROBLEM: The builtin "Marvell Yukon 88E8056 PCI-E Gigabit Ethernet Controller" (according to windows) stops working after transferring files from a windows PC to Ubuntu with smb:// , less than a minute I guess.  Can't ping the other machine through the switch anymore (TTL exceeded), but pppoe seems to work.

===== Story 29 =====
Dell Inspiron 1420 Intel T7500 2.2 GHz / 800 FSB

Ubuntu Gutsy Gibbon Final works great in both architectural flavors i386 and amd64.  I haven't had any issues using amd64, yet.  If you are looking for a laptop for linux, don't bother with the 1420N, get the 1420.  I archived the Vista installation, and installed Ubuntu right over it.  If you choose to do the same, I recommend you image and archive the RECOVERY partition at a minimum.

See my report on the laptop '''<nowiki>[[https://wiki.ubuntu.com/LaptopTestingTeam/DellInspiron1420|here]]</nowiki>'''.

===== Story 30 =====
Had the same problem as many of you with my P5B Deluxe.  Found this on the Attansic L1 driver site:

"2. There is a bug in the atl1 driver that results in a kernel hang or crash (oops) under heavy network load IF AND ONLY IF you have 4GB or more RAM in your system. This happens because the hardware register that carries the DMA memory address for network packets is only 32 bits in length. If you encounter this problem, modify your kernel's boot line and add this kernel parameter: mem=3900M. A fix has been added to the 2.6.23 kernel." '''<nowiki>[[http://www.hogchain.net/attansic/attansic.html|Link]]</nowiki>'''

Personally, I decided to compile/install the latest kernel and I've been without a hiccup ever since (don't wanna be without that extra 100MB of memory ;) )

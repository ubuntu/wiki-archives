{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


=== Introduction ===

This document is a brief overview of the Soyuz infrastructure.

=== Overview ===

<nowiki>[[File:SoyuzBackend.png|alt Soyuz Backend|width=900]]</nowiki>

=== Sub-Domains ===

General Soyuz-related content classes and tests can be found at ''lp.soyuz''

However the the entire system depends on other components:

{| class="wikitable"
|-
| Component
| Module
|-
| Upload server
| ''canonical.poppy''
|-
| Source Building
| ''canonical.buildd''
|-
| Upload processing
| ''lp.archiveuploader''
|-
| Build dispatching
| ''lp.builddmaster''
|-
| Archive publishing
| ''lp.archivepublisher''
|}

==== Upload server ====

The upload server is a custom zope FTP daemon which the only purpose is to isolate upload sessions.

==== Source building ====

This component results in the `launchpad-buildd` packages which is basically consistent of an custom version of `sbuild` with a XMLRPC-based control layer.

==== Uploading processing ====

The upload processor job runs every 5 minutes processing all ftp uploads.

Among other tasks, this job check the upload content/metadata consistency (usual dak-inherited checks) and archive version coherency.

The result is a upload queue records, containing a source or binary package release, that will be announced via email according it's status: REJECTED | NEW | UNAPPROVED | ACCEPTED.

==== Build dispatching ====

Published sources are dispatched to `launchpad-buildds` instantly and collected as binary uploads (.changes + N .deb).

==== Archive publishing ====

Virtually any Source or Binary release can be published in a given Archive.

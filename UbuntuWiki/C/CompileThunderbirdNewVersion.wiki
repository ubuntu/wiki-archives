{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This is a guide for compiling Thunderbird 1.5.0.2 on Ubuntu Breezy 5.10. The format and content is largely borrowd from CompileFirefoxNewVersion.

 1. Install necessary development packages:<pre>
  $ sudo apt-get install build-essential libgtk2.0-dev libidl-dev libxt-dev libgnomevfs2-dev
</pre>

 1. Download and extract firefox source tar ball:<pre>
  $ wget http://ftp.mozilla.org/pub/mozilla.org/thunderbird/releases/1.5.0.2/source/thunderbird-1.5.0.2-source.tar.bz2
  $ tar jxvf thunderbird-1.5.0.2-source.tar.bz2
  $ cd mozilla
</pre>

 1. Create the .mozconfig file using your favorite text editor in the thunderbird source directory(e.g. mozilla in our case), and include the following content:<pre>
. $topsrcdir/mail/config/mozconfig

export MOZILLA_OFFICIAL=1
export BUILD_OFFICIAL=1
mk_add_options MOZILLA_OFFICIAL=1
mk_add_options BUILD_OFFICIAL=1
ac_add_options --enable-official-branding

mk_add_options MOZ_OBJDIR=@TOPSRCDIR@/thunderbird-bin

ac_add_options --enable-default-toolkit=gtk2
ac_add_options --enable-pango
ac_add_options --with-user-appdir=.mozilla
ac_add_options --with-system-png=/usr
ac_add_options --with-system-jpeg=/usr
ac_add_options --enable-postscript
ac_add_options --disable-installer
ac_add_options --disable-xprint
ac_add_options --enable-crypto
ac_add_options --enable-strip-libs
ac_add_options --enable-canvas
ac_add_options --enable-svg
ac_add_options --enable-svg-renderer=cairo
ac_add_options --enable-system-cairo
ac_add_options --enable-mathml
ac_add_options --disable-tests
ac_add_options --disable-gtktest
ac_add_options --disable-debug
ac_add_options --enable-xft
ac_add_options --enable-optimize="-O3 -march=pentium-m -mtune=pentium-m -pipe -ftracer -fomit-frame-pointer"
ac_add_options --with-system-zlib=/usr
ac_add_options --without-system-nspr
ac_add_options --enable-xinerama
ac_add_options --enable-extensions=default
ac_add_options --disable-pedantic
ac_add_options --disable-long-long-warning
ac_add_options --enable-single-profile
ac_add_options --disable-profilesharing
ac_add_options --enable-gnomevfs
ac_add_options --disable-updater
ac_add_options --enable-application=mail
</pre>
  '''Note:''' You may need to adapt the --enable-optimize gcc parameters to your own platform. Pay special attention to the "march" and "mtune" parameters. If they are speicified for the wrong architecture, you may not be able to compile Firefox. To see what architectures are available with gcc, type: <pre>
man gcc
</pre>
  and then navigate to the section titled "Intel 386 and AMD x86-64 Options." In this section is a list of supported architectures for the "march" and "mtune" options. Choose the option closest to your CPU.

 1. Build thunderbird:<pre>
  $ make -f client.mk build
  $ make -C thunderbird-bin/mail/installer/
</pre>

 1. Follow the instructions in ThunderbirdNewVersion to install your newly built  thunderbird-1.5.0.2.en-US.linux-i686.tar.gz, which can be found in mozilla/thunderbird-bin/dist/.

=== Reference ===
 1. <nowiki>[[http://developer.mozilla.org/en/docs/Build_Documentation|Mozilla Build Documentation]]</nowiki> provides detailed explanation of the Mozilla build system. 

 1. <nowiki>[[http://webtools.mozilla.org/build/config.cgi|Mozilla Build Configurator]]</nowiki> is an online configuration file (.mozconfig) generator. You can manually edit the file if the option you want is not handled by it.

 1. FirefoxNewVersion and CompileFirefoxNewVersion.

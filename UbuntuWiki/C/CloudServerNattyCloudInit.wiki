{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:cloud-server-n-cloud-init
* '''Created''': 2010-11-04
* '''Contributors''':  Scott Moser
* '''Packages affected''': cloud-init

=== Summary ===

=== Release Note ===

This section should include a paragraph describing the end-user impact of this change.  It is meant to be included in the release notes of the first release in which it is implemented.  (Not all of these will actually be included in the release notes, at the release manager's discretion; but writing them is a useful exercise.)

It is mandatory.

=== Rationale ===

=== User stories ===

=== Assumptions ===

=== Design ===

You can have subsections that better describe specific parts of the issue.

=== Implementation ===

This section should describe a plan of action (the "how") to implement the changes discussed. Could include subsections like:

==== UI Changes ====

Should cover changes required to the UI, or specific UI that is required to implement this

==== Code Changes ====

Code changes should include an overview of what needs to change, and in some cases even the specific details.

==== Migration ====

Include:
* data migration, if any
* redirects from old URLs to new ones, if any
* how users will be pointed to the new way of doing things, if necessary.

=== Test/Demo Plan ===

It's important that we are able to test new features, and demonstrate them to users.  Use this section to describe a short plan that anybody can follow that demonstrates the feature is working.  This can then be used during testing, and to show off after release. Please add an entry to http://testcases.qa.ubuntu.com/Coverage/NewFeatures for tracking test coverage.

This need not be added or completed until the specification is nearing beta.

=== Unresolved issues ===

This should highlight any issues that should be addressed in further specifications, and not problems with the specification itself; since any specification with problems cannot be approved.

=== BoF agenda and discussion ===

<pre>
* support for easier/more common to use archive formats (Bug:641504)
** * currently uses mime-MultiPart
** * Scott is currently considering
** ** tar ball (but you lose metadata (use manifest file like jars?))
** ** yaml (human-typable)
* support disabling of cloud-init function (<nowiki>[[http://groups.google.com/group/ec2ubuntu/msg/45f91c9b7f9c8fe1|1]]</nowiki>)
** * for when you want to do everything yourself
* better documentation (<nowiki>[[http://groups.google.com/group/ec2ubuntu/msg/45f91c9b7f9c8fe1|1]]</nowiki>)
* new "magic" options should generally be "off by default"
*** * for example, default mounting of ephemeral drives (ebsmount)
* integration of Amazon cloud-init changes, be more cross-distro (Bug:655837)
* message regarding "all the way up" to the console (Bug:653271). Here, we could also write keys to console again. This would make sure that the keys were seen in the console (ie, they'd not been pushed out of the buffer by other data written there).
* cloud-config set lifetime of instance at launch (<nowiki>[[http://groups.google.com/group/ec2ubuntu/msg/3c3e7f797bcc3824|1]]</nowiki>)
** * and/or maybe send email after a time.
** * and/or set some budgets (CPU, network, I/O, etc.).  The cost information is probably not available inside the image, though.
* "phone home": let the instance call home to a launcher supplied URL, posting bits of info from the client. We wrote something like this for awstrial, would be nice to have it in cloud-config (<nowiki>[[http://groups.google.com/group/ec2ubuntu/msg/1dbb58a2a459c5e1|1]]</nowiki>).
* cloud-config set hostname (<nowiki>[[http://ubuntu-smoser.blogspot.com/2010/03/introducing-cloud-inits-cloud-config.html?showComment=1285762093600#c7790169729067868793|1]]</nowiki>)
** * To set arbitrary hostname.
** * Seems like a reasonable request
* rightscale integration
** * There was a right-scale install package in Hardy/Karmic.
** * If this change is implemented, Natty will have a hook where you can pass in a URL and execute the script you get back, providing a generic replacement for the rightscale-specific code
** * RS_ID=foo&bar=jerk&
** * CLOUD_INIT_HOOK=http://foo.bar.com&RS_ID=foo&bar=jerk&.....
 	
* adding a cloud-init seed so that it can be used on bare metal install too (nijaba)
** * There's already a command-line option that enables this.
* parallel processing.  In maverick, everything is serialized. Cloud-init also lets you order activities.
* Better visibility of stdout messages.  It's feasible to redirect all stdout to a given file.
** config element to send content to given file
** in shell:
     { 
      echo 1
     } > file 2>&1
* resize2fs for root volume on boot (configurable off)
* [action]: smoser create openstack blueprint for getting cloud-init into rightscale images
 Narwhals! Narwhals!
 
 ACTION: file feature request bug for setting arbitrary hostname in cloud-config
 ACTION: Jeremydei to open bug on the rightscale integration item.
</pre>

<pre>
smoser's notes:

* support cloud-init on non-cloud (debconf question, default behavior
  "no-cloud") LP# ???????
* logging: boot an image and sends logs to a remote syslog server asap.
** cloud-config logging: output on EC2 console.
** cloud-config (and cloud-init) remote syslog
** user scripts output target configurable in cloud-config
* support for yaml based multi-part
* move the multi-part helper to cloud-utils from cloud-init
* support disabling of cloud-init function
  http://groups.google.com/group/ec2ubuntu/msg/45f91c9b7f9c8fe1
* integration of Amazon cloud-init changes, be more cross-distro (LP: #655837)
* cloud-config option to set default stdin and stdout
* [LOW] cloud-config set lifetime of instance at launch
* all the way up message
** to console
** to phone home cloud-config. post meta-data, ssh keys
* [LOW] cloud-config set hostname
* rightscale integration (LP: #??????)
</pre>
----
CategorySpec

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== MP Touch Device Testing ==

The CI infrastructure on <nowiki>[[http://s-jenkins.ubuntu-ci:8080|s-jenkins]]</nowiki> uses <nowiki>[[https://code.launchpad.net/~ubuntu-test-case-dev/ubuntu-test-cases/mp-testing|lp:~ubuntu-test-case-dev/ubuntu-test-cases/mp-testing]]</nowiki> to provision a device and execute tests. Developers can utilize the build artifacts created by jenkins to run and debug tests locally.

=== Find the Jenkins Artifacts ===

The jenkins artifacts can be referenced from the jenkins build which created them. For example, the artifacts for the job:
<pre>
 http://s-jenkins.ubuntu-ci:8080/job/address-book-app-trusty-armhf-ci/204/
</pre>

can be found here:
<pre>
 http://s-jenkins.ubuntu-ci:8080/job/address-book-app-trusty-armhf-ci/204/artifact/*zip*/archive.zip
</pre>

'''''Note: the archive files provided by the public jenkins service (https://jenkins.qa.ubuntu.com/) do not unzip in a usable format. This is being investigated.'''''

=== Provision the Device ===

The device can be provisioned by providing the URL of the jenkins build artifacts and information about what to install depending on if this is a click or debian package.

==== Click Packages ====
<pre>
 scripts/mp_provision [-s ANDROID_SERIAL] -n network.conf --source-branch bzr_source_branch \
     [--target-branch bzr_target_branch] -u jenkins_artifact_url
</pre>

Where:
 network.conf:: The network configuration file suitable for phablet-network.
 bzr_source_branch:: A bzr branch (local or on launchpad) that matches the click package that was built.
 bzr_target_branch:: A bzr branch (local or on launchpad) of the project trunk branch.
 jenkins_artifact_url:: The URL of the jenkins artifacts (see above).

'''''Note: Jenkins does a merge of the source branch into the target branch when the click package is generated.'''''

==== Debian Packages ====
<pre>
 scripts/mp_provision [-s ANDROID_SERIAL] -n network.conf -p package1 [-p package2] [-p packageN]... \
     -u jenkins_artifact_url
</pre>

Where:
 network.conf:: The network configuration file suitable for phablet-network.
 package1, package2, packageN:: The set of packages that need to be installed prior to testing. The packages from the jenkins_artifact_url will be used as a local archive and added to the set of apt sources to provide these packages.
 jenkins_artifact_url:: The URL of the jenkins artifacts (see above).

=== Run the tests ===
<pre>
 scripts/run-smoke [-s $ANDROID_SERIAL] -n -a test_suite_name
</pre>

Where:
 test_suite_name:: The name of the autopilot test suite

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Introducció ==

A part dels diferents "sabors" d'ubuntu (kubuntu, xubuntu, etc) hi han, a més, diferents arquitectures. Actualment estan suportades oficialment 3 arquitectures: 

* '''x86:''' la versió de 32 bits. Funciona en tots els PC (assumint que assoleixin els requisits mínims quant a maquinari), tant amb processadors de 32 com de 64 bits.
* '''x86-64 (o x64):''' és la versió per a pc equipats amb processadors de 64 bits.
* '''Sun ultrasparc:''' per a ordinadors de la família ultraSPARC de la casa Sun. No indicada per a PC.

A part d'aquestes 3 variants, n'hi ha d'altres de no suportades, com ara la versió compilada per córrer en ordinadors amb micros PowerPC (la gama antiga dels Apple, per exemple).

== Perquè instaŀlar la versió de 64 bits? ==

Bé, la raó és senzilla: els 64 bits són el futur. Igual que en el passat els 32 bits van jubilar als 16 bits, en un futur seran els 32 bits els que es retirin. Si no us sembla una raó suficient, n'hi ha d'altres, com ara el fet de poder utilitzar fins a 16 Hexabytes de memòria o utilitzar al màxim les extensions del nostre processador. Feines com ara passar un CD a mp3 o "ripejar" un dvd s'haurien de fer més ràpides amb el sistema de 64 bits.

== Complicacions ==

Avui dia existeixen alguns formats i tecnologies que s'han convertit en estàndards "de facto" i que són de codi tancat, com ara l'Adobe Flash, el Sun Java, o els formats pdf o wmv, etc. Tant Adobe com Sun han ignorat sistemàticament la necessitat de la comunitat linux dels seus connectors privatius amb suport per a sistemes operatius de 64 bits i, per tant, ens trobem que tant el connector per visualitzar Flash, llocs en Java o per obrir pdfs des del nostre navegador sols es troben disponibles per a plataformes de 32 bits. En aquesta entrada wiki, s'intentarà donar diferents solucions per a poder veure Flash o pdfs i/o navegar sense problemes per pàgines web que requereixin el Java.

Un altre punt a tenir en compte és que moltes vegades, la gent penja algun paquet .deb d'algun programa que no es troba als repositoris oficials i solen ser de 32 bits. També és freqüent que els repositoris no oficials tan sols continguin programari de 32 bits.

== Instaŀlació i configuració ==
Anem per feina. El primer que farem serà instaŀlar un ubuntu nou de 64 bits. Si teniu instaŀlada la versió de 32 bits, l'única manera de migrar a 64 bits és mitjançant una instaŀlació fresca, no es pot migrar ni actualitzar una versió de 32 bits a una de 64. Els arxius i carpetes de configuració d'un sistema (.aMule, .firefox,  etc) de 32 bits funcionaran també en un de 64, així que podeu fer servir la mateixa partició /home o podeu desar totes les configuracions.

=== Instaŀlació ===

El procés d'instaŀlació de l'ubuntu de 64 bits és el mateix que per a 32 bits. Trobareu un bon tutorial <nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Recursos/Instal%c2%b7laci%c3%b3_i_configuraci%c3%b3_d'ubuntu|aquí]]</nowiki>

=== Instaŀlant còdecs i connectors ===

Amb tot el sistema instaŀlat, és hora d'instaŀlar algunes coses bàsiques per a una bona experiència navegant per internet:

==== Connector Adobe Flash pel Firefox ====

===== Connector de 32 bits: =====
N'hi ha prou amb anar a alguna we que requereixi el Flash (com ara Youtube) per a què el navegador ens avisi de què necessitem connectors addicionals per poder visualitzar alguns continguts. Si li demanem d'instaŀlar-los  ens oferirà dues possibilitats: instaŀlar el connector Flash d'Adobe (privatiu) o el connector GNASH (de codi obert). Recomano optar pel connector d'Adobe degut a què el Gnash pot donar problemes d'incompatibilitat amb alguns Flash. Això ens instaŀlarà automàticament l'<nowiki>[[http://gwenole.beauchesne.info/projects/nspluginwrapper/|nspluginwrapper]]</nowiki> i el connector Flash d'Adobe. El primer element és una eina que ens "transforma" un connector de 32 bits en un connector de 64 bits apte pel nostre navegador. Aquesta eina també ens resultarà molt útil més endavant.

===== Connector de 64 bits: =====
Des del dia 19 de novembre de 2008, hi ha disponible una primera versió alfa del flash que funciona de manera nativa a 64 bits. El podeu descarregar <nowiki>[[http://labs.adobe.com/downloads/flashplayer10.html|d'aqui]]</nowiki>.
Instal·lar-lo és bastant senzill. Si ja teniu instal·lat el connector de 32 bits funcionant amb l'nspluginwrapper, primer heu de desinstal·lar aquesta versió: <code> sudo dpkg --purge nspluginwrapper flashplugin-nonfree </code>. A continuació, ja podem descomprimir l'arxiu que hem baixat i copiar l'arxiu libflashplayer.so a /usr/lib/firefox-addons/plugins: <code> sudo cp libflashplayer.so /usr/lib/firefox-addons/plugins </code>. Reiniciem el firefox i llestos. 

Podem comprovar que estem fent servir la versió de 64 bits posant about:plugins al navegador i assegurant-nos que la versió del connector flash és la Shockwave Flash 10.0 d22.

==== Connector Java ====
'''ACTUALITZACIÓ:''' començant per la versió 9.04, Jaunty Jackalope, podem trobar als repositoris oficials de l'ubuntu el Java de Sun per a màquines de 64 bits i, per tant, el mètode del navegador de 32 bits ja no es necessari en aquest aspecte. El podem instal·lar amb l'ordre <code>sudo apt-get install sun-java6-jre</code>. Si prèviament hem instal·lat el paquet ubuntu-restricted-extras, no caldrà fer res més, ja s'ha instal·lat.

Aquest és més problemàtic, ja que el mètode de l'nspluginwrapper no funciona i no disposem del connector Sun. Si entreu a alguna pàgina que requereix el Java, ens presentarà un diàleg de falta de connectors i ens oferirà d'instaŀlar el connector Iced Tea, una alternativa lliure al de Sun. El problema és que no sempre funciona, i alguns llocs no es carregaran correctament. Per a solucionar això, més endavant s'explica com instaŀlar un navegador de 32 bits on hi podrem instaŀlar el sun-java.

==== Connector PDF ====

Si feu servir el connector per visualitzar PDF d'Acrobat, heu de saber que no està disponible, inicialment, per a 64 bits. La solució és senzilla: ens instal·larem la versió disponible als repositoris <nowiki>[[http://www.medibuntu.org|medibuntu]]</nowiki>. Per fer-ho, hem d'afegir la línia <code> deb http://packages.medibuntu.org/ jaunty free non-free </code> a l'arxiu /etc/apt/sources.list (el podem editar fent <code> gksudo gedit /etc/apt/sources.list </code>). Després, actualitzem la llista de programari amb <code> sudo apt-get update </code> i instal·lem l'acrobat reader i el plugin pel firefox amb <code> sudo apt-get install mozilla-acroread </code>. Només ens queda reiniciar el firefox per a gaudir del nou connector per a pdf.

'''Nota:''' per solucionar l'error de signatures al fer apt-get update desprès d'afegir els repositoris de medibuntu, cal instal·lar el paquest medibuntu-keyring i fer un apt-get update (<code>sudo apt-get install medibuntu-keyring && sudo apt-get update</code>).

'''Nota 2:''' si fem servir una versió diferent de la 9.04 (Jaunty Jackalope), haurem de canviar jaunty per hardy (8.04) o intrepid (8.10) a línia que afegim al sources.list.

'''Nota 3:''' en el meu sistema he notat que, de vegades, el procés ld-linux.so.2 (o acroread) fa molt ús del processador (amb l'ordre top, hi veig entre 49% i 99% d'ús de la CPU). No he trobat cap manera de solucionar-ho i, al final, he optat per no fer servir aquest connector, ja que el seu ús feia anar l'ordinador bastant malament. Es un bug confirmat i, de moment, no solucionat.

==== Còdecs ====
La instaŀlacio de còdecs no té cap secret, ja que és igual que amb la versió de 32 bits. Ens podrem trobar amb algun problema a l'hora de reproduir algun wmv, pero no és exclusiu del 64 bits. També ens encarregarem del suport d'arxius .rar i les tipografies de Microsoft. En un terminal:

<code> sudo apt-get install ubuntu-restricted-extras </code>

=== Instaŀlar un Firefox de 32 bits ===
'''Actualització:''' amb la versió 9.04, ja no hauria ser necessari tenir un navegador de 32 bits instal·lat, ja que tot funciona perfectament amb el de 64 bits.

'''Nota:''' les instruccions son per a la versió antiga del firefox. Haurien de servir igualment per a la nova versió 3.0.

Degut als problemes amb el Sun-Java, instaŀlarem una versió de 32 bits del navegador. És un procés una mica farragós, però sempre serà millor això que haver de recórrer a una màquina virtual o, pitjor, reiniciar el PC. El següent procés dóna per suposat que els arxius descarregats es troben al /home de l'usuari.

El primer que cal fer és baixar-nos el <nowiki>[[http://download.mozilla.org/?product=firefox-2.0.0.12&os=linux&lang=ca|firefox]]</nowiki> i instaŀlar-lo:

<pre> 
sudo apt-get install libstdc++5
tar -xvf firefox-2.0.0.12.tar.gz
sudo mv firefox /opt/firefox32
sudo mkdir /usr/local/bin
sudo ln -s /opt/firefox32/firefox /usr/local/bin/firefox32 </pre>

Ara ja tenim un Firefox de 32 bits al nostre sistema, que podrem executar amb l'ordre firefox32 des d'un terminal o amb Alt+F2. També podem crear un llançador personalitzat per a l'escriptori o per a la barra del Gnome.

Ara s'han d'instaŀlar els connectors. Instaŀlarem el Flash, l'Acrobat i, el més important, el sun-java. Pel Flash i l'Acrobat, farem servir el que ja està instaŀlat, per tant els heu de tenir instaŀlats de la manera que s'explicava més amunt.

<pre> 
sudo ln -s /usr/lib/flashplugin-nonfree/libflashplayer.so /opt/firefox32/plugins 
sudo ln -s /opt/Adobe/Reader8/Browser/intellinux/nppdf.so /opt/firefox32/plugins </pre>

Amb aquestes ordres tan senzilles ja tenim instaŀlats el Flash i el Pdf al nostre navegador de 32 bits. Ara ens baixem el <nowiki>[[http://javadl.sun.com/webapps/download/AutoDL?BundleId=12791|sun-java]]</nowiki> i l'instaŀlem:

<pre> 
chmod +s jre-6u3-linux-i586.bin
./jre-6u3-linux-i586.bin </pre>
En aquest punt ens mostra la llicència. Anem baixant (pitjant la tecla enter) fins que ens pregunti "Do you agree to the above license terms? [yes or no]", escrivim '''yes''' i ja gairebé ho tenim.

<pre> 
sudo mv jre1.6.0_03 /opt/java32
sudo ln -s /opt/java32/plugin/i386/ns7/libjavaplugin_oji.so /opt/firefox32/plugins/ </pre>

Bé, ara tanquem el navegador de 64 bits i obrim el de 32. A la barra d'adreces hi posem about:plugins i, si tot ha anat bé, hauríem de veure llistats el Shockwave Flash, l'Adobe Reader 8.0 i el Java (TM) Plug-in 1.6.0_03-b05. Amb aquest navegador no hauríem de tenir problemes per a accedir enlloc. L'únic que no té són connectors multimèdia com el del Totem, de l'VLC o de l'Mplayer. També es pot observar que les lletres del menú són diferents del navegador de 64 bits, més gruixudes i sembla que menys definides. No he trobat solució a aquest problema.

Un mètode alternatiu per a instaŀlar el Firefox de 32 bits és fer servir dos paquets .deb creats per a aquesta fi. El "problema" és que instaŀla un Firefox en anglès, encara que té solució. Aquest mètode es descriu (en anglès) <nowiki>[[http://ubuntuforums.org/showthread.php?t=202537|aquí]]</nowiki>

=== Altres problemes ===
Segons el motor GTK que feu servir, us trobareu que les aplicacions de 32 bits que heu instaŀlat (Firefox32 i Acrobat) es veuen malament, com si el tema del GTK no acabés d'aplicar-se bé. Això és degut a què aquestes aplicacions no poden fer servir el motor GTK de 64 bits, sinó que ha de ser també de 32 bits. La solució és senzilla. Necessiteu l'arxiu .so que conté la informació de com funciona. En el cas del motor murrine és libmurrine.so. Com l'aconseguim? Ens baixem el paquet de 32 bits corresponent al nostre motor de gtk de packages.ubuntu.com i, en terminal:

<pre> 
dpkg --extract nom_del_paquet.deb ~/Escriptori
sudo cp ~/Escriptori/usr/lib/gtk-2.0/2.10.0/engines/nom_de_l'engine_lib.so /usr/lib32/gtk-2.0/2.10.0/engines/ </pre>

Amb això els programes de 32 bits s'haurien de veure igual que els altres, com a mínim quant a les gtk.

Si no us heu baixat un .deb i heu compilat el motor de gtk, haureu de tornar a repetir el procés, però aquest cop posant-hi linux32 davant de cada ordre (ex: linux32 ./configure, linux32 make, etc), de manera que es compili per a 32 bits i no per a 64 bits. No caldrà instaŀlar-lo! Sinó simplement des d'on l'heu compilat moure el fitxer .so.

Això és tot, espero que ho trobeu d'utilitat.

Salut!

----

* Gracies a en PellRoja pel seu <nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Recursos/Instal%c2%b7laci%c3%b3_i_configuraci%c3%b3_d'ubuntu|tutorial d'instaŀlació de l'ubuntu]]</nowiki>.
* Agraïments també a en Kilz  pel seu tema d'<nowiki>[[http://ubuntuforums.org/showthread.php?t=202537|instaŀlar el firefox de 32 bits]]</nowiki>.
* Per últim, gracies a l'equip del wiki català per fer possible aquest breu article.
----
CategoryTutorialsEnCatala

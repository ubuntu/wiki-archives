{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


== Com instal·lar Ubuntu Intrepid 8.10 al ACER Aspire One ==
'''Resum:''' Indiquem com instal·lar <nowiki>[[http://ca.wikipedia.org/wiki/Ubuntu|Ubuntu]]</nowiki> Intrepid 8.10 al <nowiki>[[http://ca.wikipedia.org/wiki/Acer_Aspire_One|ACER Aspire One]]</nowiki> amb <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=222386|UNetbootin]]</nowiki> i un lector de targes SD extern. També indiquem algunes millores possibles en les que podeu col·laborar.
<nowiki>[[File:../AspireOne/aaocube400.jpg|Muntatge gràfic fet amb imatges de Wikimedia Commons|align="right"]]</nowiki>

{| class="wikitable"
|-
| <rowbgcolor="#FF0000">'''26-4-2009 Aquesta pàgina ha quedat obsoleta:'''
|}
En existir una distribució específica (NBR, Netbook Remix) <nowiki>[[http://www.ubuntu.com/getubuntu/download-netbook|Baixa-la]]</nowiki> <nowiki>[[https://wiki.ubuntu.com/HardwareSupport/Machines/Netbooks|Mini-portàtils i detall de les característiques soportades]]</nowiki>.

'''Nota:He deixat d'actualitzar aquesta pàgina, sense aconseguir fer funcionar la xarxa sense fil'''
Veieu <nowiki>[[CatalanTeam-Tutorials-AspireOne|Com instal·lar Ubuntu Hardy 8.04 al ACER Aspire One]]</nowiki> a on si m'ha funcionat.

{| class="wikitable"
|-
| <tablestyle="float:center; font-size: 0.9em; width:95%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em; ">'''Índex'''<<BR>>
|}

=== Canvis ===
* 26-4-2009 Obsolescència

=== Resultats ===

Funciona bé:

*** Suspensió (dóna un missatge d'error, però ho fa)
*** Hibernació (obre les carpetes, però va) recupera la xarxa
*** Video (efectes d'escriptori)
*** Àudio
*** Xarxa sense fil i interruptor de la xarxa sense fil (a mi no em funciona!)
*** Webcam
*** USB
*** Monitor extern
*** Lectors de targetes: amb la <nowiki>[[ftp:--ftp.work.acer-euro.com-notebook-aspire_one_110-bios-|BIOS 3304]]</nowiki> les targetes de l'esquerra, es tornen a muntar. (<nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Tutorials/AspireOne/BIOS|Com actualitzar la BIOS amb UNetbootin i FreeDOS]]</nowiki>).
*** Temps d'arrencada: 48 segons (<nowiki>[[attachment:aao8.10.bootchart.png|40 segons bootchart]]</nowiki>)
No funciona:
*** Led del interruptor de la xarxa amb fil
*** Lectors de targetes: amb la <nowiki>[[ftp:--ftp.work.acer-euro.com-notebook-aspire_one_110-bios-|BIOS 3304]]</nowiki> les targetes de la dreta no es tornen a muntar.

No provat:
** Lectors de targetes: amb la BIOS 3109 només es reconeixen les targetes en arrencar. Si ho proveu, editeu aquí.

Notes:

1. Hi ha una versió d'Ubuntu a mida en preparació anomenada <nowiki>[[http://onelinux.org/|onelinux]]</nowiki>, però en el moment d'escriure això encara no està disponible, i el desenvolupador demana de no ser molestat per poder-la enllestir. Si no podeu esperar, '''rachel''' ha preparat algunes versions per al seu ús personal: http://home.strangenoises.org/~rachel/aspireone/

2. Ubuntu <nowiki>[[http://www.phoronix.com/scan.php?page=news_item&px=NjY1Mg4|Intrepid inclou suport per a a la tarja sense fil]]</nowiki>, però no funciona amb l'AspireOne.

=== Maquinari necessari ===
1. Lector de targes SD extern i tarja SD o clau USB de 1GB

2. Ordinador amb Ubuntu

=== Primer pas: Preparació ===
Si volem fer una còpia del sistema Linpus, <nowiki>[[http://galindaines.blogspot.com/2008/07/installant-eeeubuntu.html|veieu]]</nowiki>.

Preparem una Tarja SD o una clau USB

Al sistema Ubuntu, instal·lem <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=222386|UNetbootin]]</nowiki>

Obrim un terminal i fem
<pre>
sudo apt-get install syslinux mtools
wget -O unetbootin http://unetbootin.sourceforge.net/unetbootin-linux-latest
chmod 755 unetbootin && sudo ./unetbootin &
</pre>

Seguim les instruccions, triant Ubuntu 8.10 a la primera opció (MOLT de compte al triar la Tarja SD o la clau USB, si errem el dispositiu podem esborrar una partició o disc important!)

Esperem que es baixin tots el paquets necessaris i ens demani sortir o arrencar. Triem Sortir.

=== Segon pas: Instal·lació al AspireOne ===
2.1 Connectem el Aspire a la xarxa amb fil

2.2 Posem la Tarja SD o clau USB

2.3 Arrenquem i premem F12 mentre arrenca (a la pantalla amb el logo d'Acer), i triem la Tarja SD o clau USB (USB HDD:) com a dispositiu d'arrencada (al Boot Menu).

El menú per triar el dispositiu d'arrencada s'activa amb la tecla F12 quan surt la pantalla d'entrada de ACER

2.4 Començem la instal·lació.

Particions. L'AspireOne porta un swap de 1077 KB que espot reduir perfectament fins a 507 Kb mantenint les prestacions de suspensió i hibernació, i així podem augmentar l'espai útil.

3.2 Actualitzem el sistema:
Sistema | Administració | Gestor d'actualitzacions i seguim les instruccions

3.3 Reduim l'escriptura a disc

Obrim un terminal i fem:
<pre>
sudo gedit /etc/sysctl.conf
</pre>
Un cop obert l'editor, afegim al final:

<pre>
vm.dirty_writeback_centisecs = 15000
</pre>
desem i tanquem l'editor.

Al terminal, fem:
<pre>
sudo gedit /etc/rc.local
</pre>
Un cop obert l'editor, afegim abans de la línia <code>exit 0</code>:

<pre>

sysctl -w dev.wifi0.ledpin=3
sysctl -w dev.wifi0.softled=1

/usr/bin/setkeycodes e055 159
/usr/bin/setkeycodes e056 158

/usr/local/bin/acerfand

sysctl -w vm.swappiness=1               # Strongly discourage swapping
sysctl -w vm.vfs_cache_pressure=50      # Don't shrink the inode cache aggressively

echo ondemand > /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor
echo ondemand > /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor
cat /sys/devices/system/cpu/cpu0/cpufreq/ondemand/sampling_rate_max > /sys/devices/system/cpu/cpu0/cpufreq/ondemand/sampling_rate

echo 1500 > /proc/sys/vm/dirty_writeback_centisecs
echo 20 > /proc/sys/vm/dirty_ratio
echo 10 > /proc/sys/vm/dirty_background_ratio

echo 1 > /sys/devices/system/cpu/sched_smt_power_savings
echo 10 > /sys/module/snd_hda_intel/parameters/power_save
echo 5 > /proc/sys/vm/laptop_mode

[ -L /sys/bus/usb/devices/1-5/power/level ] && echo auto > /sys/bus/usb/devices/1-5/power/level
[ -L /sys/bus/usb/devices/5-5/power/level ] && echo auto > /sys/bus/usb/devices/5-5/power/level

setpci -d 197b:2381 AE=47
</pre>
desem i tanquem l'editor.

Nota: acerfand detecta la versió de la BIOS amb dmidecode. Si els valors necessaris no han canviat <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=4&t=300&p=25910&hilit=silent+fan#p27621|es pot afegir suport per a una nova BIOS]]</nowiki>: Per exemple per la BIOS 3304 es podria afegir a /etc/acerfand.conf la línia (atenció no cal fer-ho, només és un exemple per a futures revisions):
<pre>
BIOS_VERSION="v0.3304"
</pre>

Ara instal·lem els scripts del ventilador, fent, també al terminal:
<pre>
sudo aptitude install dmidecode
wget http://aceracpi.googlecode.com/svn/trunk/acer_ec/acer_ec.pl
wget http://electronpusher.org/~rachel/acerfand
chmod a+x acerfand
sudo cp acer_ec.pl acerfand /usr/local/bin/
chmod a+x acerfand
sudo cp acer_ec.pl acerfand /usr/local/bin/
</pre>

Al terminal, fem:
<pre>
sudo gedit /etc/fstab
</pre>
Un cop obert l'editor, afegim al final:
<pre>
tmpfs      /var/log/apt    tmpfs        defaults           0    0
tmpfs      /var/log        tmpfs        defaults           0    0
tmpfs      /tmp            tmpfs        defaults           0    0
tmpfs      /var/tmp        tmpfs        defaults           0    0
</pre>

Convé també canviar l'opció “relatime” a “noatime” a la línia del disc principal.

desem i tanquem l'editor.

Al terminal, fem:
<pre>
sudo gedit /boot/grub/menu.lst
</pre>
I a les dues linies que diuen
<pre>
quiet splash
</pre>
afegim elevator=noop, així:
<pre>
quiet splash elevator=noop
</pre>

desem i tanquem l'editor.

3.4 Treiem aplicacions que no ens calen

Com que no tenim lector de CD-ROM, hi ha algunes aplicacions que no semblen gaire necessàries:

Al terminal, fem:
<pre>
sudo apt-get update
sudo apt-get upgrade
sudo apt-get remove brasero sound-juicerdwd+rw-tools libdvdnav4 libdvdread3 nautilus-cd-burner wodim sound-juicer
sudo apt-get install conduit cheese
sudo apt-get autoremove
sudo apt-get autoclean
</pre>
3.5 Xarxa sense fil

Ubuntu <nowiki>[[http://www.phoronix.com/scan.php?page=news_item&px=NjY1Mg4|Intrepid inclou suport per a a la tarja sense fil]]</nowiki>, però no funciona amb l'AspireOne. Per més informació veieu <nowiki>[[https://help.ubuntu.com/community/AspireOne|això]]</nowiki>

* Primer cal retirar els connectors de Ubuntu. Anem al menú ''Sistema | Administració | Controladors de maquinari'', desmarquem el controlador ''Suport per a tarjes sense fil 802.11 Atheros'' i reiniciem.

* Ara per que carregui el nou mòdul cada cop, editem /etc/modules fent:
<pre>
sudo gedit /etc/modules
</pre>

i afegim

<pre>
ath_pci
</pre>

* I finalment, tenim dues opcions:

3.5.1 Amb un script

Baixem aquest script: <nowiki>[[attachment:wifiaao.sh]]</nowiki>, Obrim un terminal i fem:

<pre>
chmod 755 wifiaao.sh && bash wifiaa0.sh
</pre>
Al menu resultant, triem primer l'opció 1 (Prepara Wifi), quan acabi triem l'opció 2 (Recompila Wifi), esperem que acabi i triem l'opció 0 (Surt).

Cada cop que actualitzem el nucli, la xarxa sense fil deixarà de funcionar, i caldrà doncs obrir un terminal, fer 

<pre>
bash wifiaa0.sh
</pre>

I triar l'opció 2 (Recompila Wifi)

3.5.2 De forma manual

Si hem fet el pas anterior, podeu saltar aquest.

Ara afegirem el driver que funciona. Al terminal, fem:
<pre>
mkdir source
cd source
wget http://snapshots.madwifi.org/madwifi-hal-0.10.5.6/madwifi-hal-0.10.5.6-r3835-20080801.tar.gz
tar -xzvf madwifi-hal-0.10.5.6-r3835-20080801.tar.gz
cd madwifi-hal-0.10.5.6-r3835-20080801
sudo apt-get install build-essential linux-headers-$(uname -r)
make
sudo make install
sudo echo ath_pci >> /etc/modules
sudo echo SUSPEND_MODULES="ath5k" >> /etc/pm/sleep.d/modules
sudo modprobe ath_pci
</pre>
Recordem que cada cop que actualitzem el nucli, caldrà que fem al terminal:

<pre>
cd source/madwifi-hal-0.10.5.6-r3835-20080801
make clean
make
sudo make install
</pre>

=== Altres detalls ===

==== Tema d'entrada del GDM ====
Si voleu un tema d'entrada més adient, podeu provar:
<nowiki>[[http://art.gnome.org/themes/gdm_greeter/1293|EaseOfBlue]]</nowiki>

==== Notebook Remix ====
Hi ha un projecte en curs per adaptar l'escriptori a aquesta mida:
<nowiki>[[http://www.ubuntu-eee.com/index.php5?title=How_to_install_and_use_the_Netbook_Remix_interface|Instruccions]]</nowiki>

<nowiki>[[File:../AspireOne/netbook.png|Captura de pantalla de Netbook remix]]</nowiki>

''Captura de pantalla del Notebook Remix al Aspire One''

==== Monitor extern ====
Per detectar-lo podem escriure al terminal:
<pre>
xrandr --output VGA --auto
</pre>

Per configurar la disposició i resolució, anem al menú Sistema | Preferències | Resolució de la pantalla.

Si fem servir NoteBook <nowiki>[[http://blocs.mesvilaweb.cat/node/view/id/104513|Remix, podem fer un segon usuari]]</nowiki> sense  per fer servir el monitor extern.

==== intel_rng: FWH not detected ====
No és un error gaire rellevant, però es pot eliminar així:

Comprovació:

Obrim un terminal i fem:
<pre>
dmesg | grep FWH
</pre>

Solució:
Al terminal, fem:
<pre>
sudo  echo “blacklist intel_rng” >> /etc/modprobe.d/blacklist
</pre>

Més informació:
http://luismgworld.com/2008/01/21/solucionar-bug-intel_rng-fwh-not-detected-ubuntu/

https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/102982

=== Altres distribucions ===

* <nowiki>[[http://wiki.archlinux.org/index.php/Acer_Aspire_One|Archlinux]]</nowiki>
* <nowiki>[[http://en.opensuse.org/OpenSUSE_on_the_Aspire_One|openSUSE]]</nowiki>
* <nowiki>[[http://wiki.debian.org/DebianAcerOne|Debian]]</nowiki>
* <nowiki>[[http://gentoo-wiki.com/Acer_Aspire_One_A110L|Gentoo]]</nowiki>
* <nowiki>[[http://www.foresightlinux.org/mobile.html|Foresight Linux]]</nowiki>
* <nowiki>[[http://32packets.com/2008/08/14/os-x-working-on-the-acer-aspire-one/|Mac OS X]]</nowiki>
* <nowiki>[[http://www.reghardware.co.uk/2008/09/05/ten_aspire_one_tips/|Limpus]]</nowiki> 10 millores de la distribució que ve de fàbrica.

=== Millores ===
A la <nowiki>[[https://help.ubuntu.com/community/AspireOne|versió en anglès]]</nowiki> hi ha més millores.

* <nowiki>[[http://petaramesh.org/post/2008/09/01/Noyau-2627-Ubuntu-custom-pour-Acer-Aspire-One|Compilació del nucli pel AAO]]</nowiki> (en francès)
* <nowiki>[[http://macles.blogspot.com/2008/09/about-storage-expansion-of-acer-aspire.html|Com extendre el sistema d'arxius amb aufs]]</nowiki> Si ho provo ho explicaré.
* <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=28&t=3248&st=0&sk=t&sd=a&start=20#p22961|Suport per a Memory stick]]</nowiki>

Si trobeu alguna solució, podeu afegir-la a aquest wiki, editant-lo.

=== Referències ===

* <nowiki>[[http://galindaines.blogspot.com/2008/08/aspireone-vs-eeepc-installant-ubuntu-al.html|Article  original]]</nowiki>
* <nowiki>[[http://blocs.mesvilaweb.cat/node/view/id/104513|Acer Aspire One: Linpus, Ubuntu Remix, català i solució al soroll]]</nowiki> Marc Belzunzes, Del Holocè estant
* <nowiki>[[https://wiki.ubuntu.com/CatalanTeam/Tutorials/AspireOne/BIOS|Com actualitzar la BIOS del AspireOne sense CD ni disquetera]]</nowiki>
* <nowiki>[[http://wiki.aspireone.net/index.php/How_to_hack_the_noisy_fan|Sobre la gestió del ventilador]]</nowiki> (en anglès)
* <nowiki>[[https://help.ubuntu.com/community/AspireOne|Tutorial semblant]]</nowiki> (en anglès)
* <nowiki>[[http://www.aspireoneuser.com/forum/viewtopic.php?f=28&t=3248|Fòrum sobre Intrepid]]</nowiki> (en anglès)
* <nowiki>[[http://macles.blogspot.com/|Hacks del AspireOne amb Linpus]]</nowiki> (en anglès)
* <nowiki>[[http://www.linuxhaxor.net/2008/09/27/30-cool-acer-aspire-one-hacks/|30 Cool Acer Aspire One Hacks]]</nowiki> (en anglès)
Crèdits: PacoRivière http://pacoriviere.cat/ http://galindaines.blogspot.com/
----
CategoryTutorialsEnCatala

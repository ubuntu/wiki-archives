{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Chromium ==

The Ubuntu packaging branch is located in LP: <nowiki>[[https://code.edge.launchpad.net/~chromium-team/chromium-browser/chromium-browser.head|lp:chromium-browser]]</nowiki>

There's a PPA: https://edge.launchpad.net/~chromium-daily/+archive/ppa

=== Building the upstream way ===

<pre>
GCLIENT_URL=http://src.chromium.org/svn/trunk/depot_tools/linux
CHROMIUM_URL=http://src.chromium.org/svn/trunk/src

svn co $GCLIENT_URL ./depot_tools
./depot_tools/gclient config $CHROMIUM_URL
./depot_tools/gclient sync
</pre>

'''depot_tools''' is a very small set of scripts. Mostly wrappers for '''scons''' and '''svn'''.

'''gclient sync''' brings in several repositories (See <nowiki>[[http://src.chromium.org/viewvc/chrome/trunk/src/DEPS|src/DEPS]]</nowiki>)

after checkout set your PATH to include depot_tools:

<pre>
export PATH=$PATH:$PWD/depot_tools/
</pre>

now continue with the official <nowiki>[[http://code.google.com/p/chromium/wiki/LinuxBuildInstructions|chromium build instructions]]</nowiki>.

=== Building the ubuntu way ===

The ubuntu package provides a get-orig-source target that can do branch caching. Use this to produce your orig.tar.gz:

<pre>
bzr branch lp:chromium-browser
mkdir upstream
cd chromium-browser
./debian/rules get-orig-source LOCAL_BRANCH=../upstream/chromium-browser.svn
</pre>

This will give you a fresh snapshot. You can also use 'get-current-source' to get the one needed to build the branch as it is.

Next put the produced orig.tar.gz in the ../tarballs/ directory (next to the chromium-browser directory) and use bzr builddeb to build the package
<pre>
bzr builddeb --merge --dont-purge --builder='dpkg-buildpackage -rfakeroot -b'
</pre>

=== 64bit ===

There's no native 64bit support. The salute comes from ia32libs, well, sort of...

Upstream: http://code.google.com/p/chromium/wiki/LinuxBuild64Bit

Status in Ubuntu:

<pre>

- All: Build-deps += ia32-libs, lib32z1-dev

- Jaunty:
   - nothing more needed since ia32-libs 2.7ubuntu4
- Intrepid:
   - needs a bunch of symlinks for lib{gio-2.0,gdk-x11-2.0,atk-1.0,gdk_pixbuf-2.0,pangocairo-1.0,
                                       pango-1.0,pangoft2-1.0,gobject-2.0,gmodule-2.0,glib-2.0,
                                       gtk-x11-2.0}.so

   - symlinks for lib{cairo,freetype,fontconfig,X11,Xrender,Xext}.so

- Hardy:
   - same symlinks as intrepid
   - nss32
   - nspr32
</pre>

To work-around these issues, I created ia32-libs-chromium-browser (also in the PPA) which adds all the missing pieces. For Jaunty, this package is now empty (as of March 2009).
So, for all arches, it's possible to just add:

<pre>
Build-deps += ia32-libs-chromium-browser
</pre>

For the missing symlinks, the symptom is:

<pre>

/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.3.3/../../../libgtk-x11-2.0.so when searching for -lgtk-x11-2.0
/usr/bin/ld: skipping incompatible /usr/lib/gcc/x86_64-linux-gnu/4.3.3/../../../libgtk-x11-2.0.a when searching for -lgtk-x11-2.0
/usr/bin/ld: skipping incompatible /usr/lib/libgtk-x11-2.0.so when searching for -lgtk-x11-2.0
/usr/bin/ld: skipping incompatible /usr/lib/libgtk-x11-2.0.a when searching for -lgtk-x11-2.0
/usr/bin/ld: cannot find -lgtk-x11-2.0
collect2: ld returned 1 exit status
</pre>

because '''/usr/lib32/libgtk-x11-2.0.so''' is missing:

<pre>
$ ls -l /usr/lib*/libgtk-x11-2.0.so*
lrwxrwxrwx 1 root root      26 2009-03-04 16:31 /usr/lib32/libgtk-x11-2.0.so.0 -> libgtk-x11-2.0.so.0.1500.0
-rw-r--r-- 1 root root 4108712 2009-01-23 13:46 /usr/lib32/libgtk-x11-2.0.so.0.1500.0
lrwxrwxrwx 1 root root      26 2009-03-04 16:13 /usr/lib64/libgtk-x11-2.0.so -> libgtk-x11-2.0.so.0.1505.0
lrwxrwxrwx 1 root root      26 2009-03-04 16:13 /usr/lib64/libgtk-x11-2.0.so.0 -> libgtk-x11-2.0.so.0.1505.0
-rw-r--r-- 1 root root 4472696 2009-03-03 12:04 /usr/lib64/libgtk-x11-2.0.so.0.1505.0
lrwxrwxrwx 1 root root      26 2009-03-04 16:13 /usr/lib/libgtk-x11-2.0.so -> libgtk-x11-2.0.so.0.1505.0
lrwxrwxrwx 1 root root      26 2009-03-04 16:13 /usr/lib/libgtk-x11-2.0.so.0 -> libgtk-x11-2.0.so.0.1505.0
-rw-r--r-- 1 root root 4472696 2009-03-03 12:04 /usr/lib/libgtk-x11-2.0.so.0.1505.0

</pre>

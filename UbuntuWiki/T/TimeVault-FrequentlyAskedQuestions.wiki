{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== TimeVault Frequently Asked Question ==

==== Sample Question Title ====
''How do I ask a question?''

Edit this wiki page, and copy this question as a template. Either leave the answer blank or fill it out if you can.

==== How to configure TimeVault to backup to a USB drive? ====
''I'm using Ubuntu on a laptop and move around a lot. I'd like to backup my essential data onto an external USB or network drive which is only available when I'm @ my home base. Can I configure TimeVault to automatically backup when that external drive is available? Ideally I configure once and the rest happens automagically.''

==== What about KDE (Kubuntu)? ====
''Nice idea, and I would try it, only nautilus etc. are dependencies and I'm running a KDE system (Kubuntu)''

The back-end is relatively Window-Manager agnostic. The most GNOMEish features it uses are gobject (to make use of idle-processing) and DBus (for communicating with clients), and both of these are used in many KDE-friendly apps.

Clients talk to the TimeVault daemon via DBus, so it should be easy to write a KDE client for it, however I don't have a lot of experience programming in KDE so I will probably have to wait until the GNOME version is released before I can start working on it. 

==== How do I get Time Vault initially to make a backup of my whole system? ====

==== How can I get the notifier app to start automatically? ====

To get the notifier app to start in your systray whenever you log in you can add it to your startup programs in System>Preferences>Sessions in the tab Startup Programs you should have an option to add a program click that, name it TimeVault and put:<pre>
/usr/bin/timevault-notifier</pre>
in the command box, you can out whatever you like in the comments box. After you have done this if you log out and back in again you should magically have the TimeVault notifier app sitting in your systray.

==== The notifier tray icon is showing an arrow pointing upwards and the tooltip says disconnected. What's up with that? ====

This normally means that the backend daemon isn't running for one reason or another. Luckily though this is relatively easy to fix. At this stage it's best done from a the command line in a tty so it might be worth writing this down first. Ctrl-alt-F2 should take you to a tty, you'll then need to login using your normal username and password. When you're logged in type the following at the command line:<pre>
sudo /etc/init.d/timevault restart 
</pre>enter your password when prompted. This should restart the daemon or just start it if it isn't already running. Ctrl-alt-F7 will take you back to your GUI of choice. After a few seconds the arrow should disappear from the notifier icon and Timevault should now be watching your files/folders again.

==== What do the colors in Snapshot Browser mean? ====
''What is the significance of the colors and the length of the bars in the Snapshot browser?''

There are three different actions that may appear in the timebar in the snapshot browser: Created (darkblue), Deleted (black), Changed (green). 

The length of each bar is logarithmically related to the total number of bytes for each action. A logarithmic representation is used so you can fit small changes, like 1KB, on the same scale as large changes, 100MB. The bars are drawn using 2 pixels * log2(total action size), so 1KB = 20px, 128KB = 30px, 1MB = 40px, and so on.

==== Why is the snapshot delay so long? How do I change it? ====
''First, when it notices a file change, it always schedules the next action for what seems like an hour away. Is this by design? I am assuming it will group the actions together and backup a many grouped actions at once?''

The snapshot delay is configurable on a by-directory basis and can be changed by double-clicking on the delay entry in the Preferences->Include table. Just type in the desired delay (e.g. 5 min.) 

I would warn you, however that making the delay too small (for example, 1 sec.) will cause far too many snapshots and waste space on your hard drive.

You are correct in assuming that actions are grouped together so that snapshots can be taken at once. The smallest timeslot used for scheduling is 1 min. by default.

==== Watching /home ====
''I'm trying to watch my home directory and deleting a file on my desktop results in a dozen changes.''

Right. Don't do that.

Watching the /home directory may result in hundreds of unnecessary snapshots a day because many programs use temporary files that are created under your home directory. The good news is that, usually, the file is gone by the time TimeVault gets around to snapping it, and so an entry is made that a file changed, but no snapshot is made.

==== I'm getting an error saying I'm trying to watch too many directories ====
''I'm getting an error saying I'm trying to watch too many directories. Can the number of directories be increased?''

The maximum number of directories to watch is specified in ``/proc/sys/fs/inotify/max_user_watches``. You can manually change this value by writing to that file.

See also: 
* http://linux.die.net/man/7/inotify
* http://beagle-project.org/Troubleshooting

==== Can I copy the TimeVault backup data to a remote server or separate media? ====

If so, maybe also describe how. dennis schaaf

You can do so if you map a remote directory to a local directory -- Timevault doesn't appear to let you select network shortcuts.  I wrote up a quick article <nowiki>[[http://www.kelvinism.com/howtos/configure-timevault-remote-server/|about it]]</nowiki>.

==== Doesn't ZFS cover much of the same functionality? ====
''Doesn't ZFS cover much of the functionality implemented in TimeVault at a much lower level?''

ZFS does provide a superior mechanism for taking a snapshot. However there is no logic in ZFS on ''when'' to take a snapshot. You will still need a program that interacts with the filesystem to monitor changes and then based on some logic decides what to save and what to discard (for example, a file may be saved more than once, but have the exact same content, also, you don't really want to save a file until it has stopped changing for a while, etc.). In addition, you'll need some way of visualizing snapshots, searching them, deleting them, etc.

TimeVault was made to be file-system agnostic, but I do anticipate converting it to use ZFS as the underlying file-saving mechanism (when/if it becomes available in a standard Linux distro).

==== Getting an error... ====
'' When I try to run the timevault-notifier I get the error:
ERROR:dbus.proxies:Introspect error on :1.13:/net/launchpad/timevault: dbus.exceptions.DBusException: org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken.
Traceback (most recent call last):
  File "/usr/bin/timevault-notifier", line 25, in <module>
    notifier.Notifier().Start()
  File "/usr/lib/python2.5/site-packages/TimeVault/notifier.py", line 317, in __init__
    self.interface.GetState()
  File "/var/lib/python-support/python2.5/dbus/proxies.py", line 68, in __call__
    return self._proxy_method(*args, **keywords)
  File "/var/lib/python-support/python2.5/dbus/proxies.py", line 140, in __call__
*** *keywords)
  File "/var/lib/python-support/python2.5/dbus/connection.py", line 607, in call_blocking
    message, timeout)
dbus.exceptions.DBusException: org.freedesktop.DBus.Error.NoReply: Did not receive a reply. Possible causes include: the remote application did not send a reply, the message bus security policy blocked the reply, the reply timeout expired, or the network connection was broken. ''

==== How does TimeVault store the data? ====
Is it generating real snapshots or registering changes over a database as subversion does?
In case of total crash, is it possible to access data from other installation?

It creates an exact copy of the file structure, if you back up your whole system (there are reasons you should not do this, apple has made their system work better to do this although theirs is not perfect --maybe brtfs:-)) you can just chroot and your back. It saves space by using <nowiki>[[hardlink]]</nowiki>s.

==== Licensing ====
''Under what license is TimeVault provided?''

Needs answering (and Launchpad site should be updated with answer.)

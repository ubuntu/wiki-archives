{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Autopilot test runners ==
Although you can always run autopilot tests directly using the autopilot3 binary, sometimes it's easier to utilize an alternative test runner to execute your tests.

'''For up-to-date information, see https://developer.ubuntu.com/en/start/platform/guides/running-autopilot-tests/'''. 

'''The information on this wiki page deprecated and included for informational purposes only.'''

=== phablet-tools ===
==== Preparation ====

/!\ These commands are to be run on the host computer (not the phone itself) /!\

<pre> bash
ubuntu-device-flash --developer-mode --password 0000 --channel="ubuntu-touch/devel-proposed"

phablet-config edges-intro --disable

phablet-config welcome-wizard --disable

phablet-config writable-image -r 0000 --ppa ppa:ci-train-ppa-service/landing-###

adb shell powerd-cli display on bright
</pre>

=== Running Deb tests ===

Make sure you unlock the screen on your device prior to running these commands on the host (if you use a different PIN/password than 0000 the commands below need to be adjusted accordingly):

<pre> bash
phablet-test-run -r 0000 -p address-book-app-autopilot address_book_app
phablet-test-run -r 0000 -p cordova-ubuntu-autopilot cordova_ubuntu
phablet-test-run -r 0000 -p dialer-app-autopilot dialer_app
phablet-test-run -r 0000 -p mediaplayer-app-autopilot mediaplayer_app
phablet-test-run -r 0000 -p messaging-app-autopilot messaging_app
phablet-test-run -r 0000 -p ubuntu-keyboard-autopilot ubuntu_keyboard
phablet-test-run -r 0000 -p ubuntu-system-settings-autopilot ubuntu_system_settings
phablet-test-run -r 0000 -p ubuntu-ui-toolkit-autopilot ubuntuuitoolkit
phablet-test-run -r 0000 -p ubuntu-html5-ui-toolkit-autopilot ubuntu_html5_ui_toolkit
phablet-test-run -r 0000 -p unity-webapps-qml-autopilot unity_webapps_qml
phablet-test-run -r 0000 -p webbrowser-app-autopilot webbrowser_app
</pre>

=== Running Unity8 tests on Mir ===

<pre> bash
phablet-test-run -n -r 0000 -p unity8-autopilot unity8
</pre>

=== Running Click tests ===

NOTE: phablet-click-test-setup requires autopilot to be installed on the device. Installing the autopilot-touch package requires you turn on r/w mode for the image.

<pre> bash
phablet-click-test-setup

phablet-config autopilot --dbus-probe enable
</pre>

Note: This is not a comprehensive list of preinstalled click packages. For that list see http://people.canonical.com/~ubuntu-archive/click_packages/click_list

<pre> bash
phablet-click-test-setup --click com.ubuntu.calculator;       phablet-test-run ubuntu_calculator_app
phablet-click-test-setup --click com.ubuntu.calendar;         phablet-test-run -r 0000 -p address-book-service-dummy calendar_app
phablet-click-test-setup --click com.ubuntu.clock;            phablet-test-run ubuntu_clock_app
phablet-click-test-setup --click com.ubuntu.dropping-letters; phablet-test-run dropping_letters_app
phablet-click-test-setup --click com.ubuntu.filemanager;      phablet-test-run filemanager
phablet-click-test-setup --click com.ubuntu.music;            phablet-test-run music_app
phablet-click-test-setup --click com.ubuntu.notes;            phablet-test-run notes_app
phablet-click-test-setup --click com.ubuntu.terminal;         phablet-test-run ubuntu_terminal_app
phablet-click-test-setup --click com.ubuntu.weather;          phablet-test-run ubuntu_weather_app
phablet-click-test-setup --click com.ubuntu.shorts;           phablet-test-run shorts_app
phablet-click-test-setup --click com.ubuntu.gallery;          phablet-test-run gallery_app
phablet-click-test-setup --click com.ubuntu.camera;           phablet-test-run camera_app

adb shell rm -rf /home/phablet/autopilot

</pre>

IMPORTANT NOTE: remember that after doing a phablet-click-test-setup, you are fetching some autopilot tests to the ~/autopilot directory on the device. The tests in this directory have priority over all other directories. This means that if a given click package test pulls in, for instance, unity8 autopilot tests (which most of them do), you need to remove the ~/autopilot directory to use the latest autopilot tests installed on the system.

=== Running Security tests ===

<pre> bash
bzr branch lp:ubuntu-test-cases/touch
cd touch/tests/security
./setup.sh
adb push run_test.sh /tmp/
adb push qrt_tests /tmp/qrt_tests

cd /tmp/qrt_tests
../run_test.sh apparmor-easyprof-ubuntu
../run_test.sh check-packages
../run_test.sh click-apparmor
../run_test.sh check-ufw-kernel-requirements
../run_test.sh check-apparmor
../run_test.sh check-ufw
</pre>

=== Start Applications through adb ===

In almost all cases it is a good idea to also validate your work by using your phone by hand after adding your change. A convenient way for developers to do app testing is by starting them through adb. To make that convenient we are providing a cli tool, called <code>ubuntu-app-launch</code>.

Syntax:
<pre> bash
ubuntu-app-launch <DESKTOP-FILENAME>
</pre>

Examples:
<pre> bash
phablet-shell

ubuntu-app-launch com.ubuntu.music
ubuntu-app-launch dialer-app
</pre>

=== Receipts for different Developer Roles ===

For application developers, we highly recommend to run at least your own application autopilot before submitting code.
<pre> bash
phablet-shell
sudo apt-get install your-app-autopilot

phablet-test-run your_app
</pre>

For indicator developers, we highly recommend to run at least your indicator tests, but also the unity8 test suite; also if your indicator collaborates with any application, also run their tests
<pre> bash
phablet-shell
sudo apt-get install unity8-autopilot webbrowser-app-autopilot camera-app-autopilot

phablet-test-run webbrowser_app

phablet-test-run camera_app

phablet-test-run -n unity8
</pre>

For core developers, we highly recommend to run unity8, three random apps and whatever your own test suites are.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablebgcolor="#F1F1ED" tablewidth="40%" tablestyle="float:right;font-size:0.9em;margin:0 0 1em 1em;"style="padding:0.25em;"><<BR>>
|}

== General ==

{| class="wikitable"
|-
| Device Name
| Asus Transformer Pad TF300T
|-
| Code Name
| tf300t
|-
| Image Maintainers
| LaunchpadHome:kallewhoever-1 and LaunchpadHome:f69m
|-
| Testers
| LaunchpadHome:wgpenney
|-
| Last update
| System: 2013-03-23 <<BR>> The root filesystem is repackaged automatically and should typically be available within 2-3 hours of the official Ubuntu image release.
|}

<<BR>>

{| class="wikitable"
|-
| Unlocking Instructions
| See below or <nowiki>[[http://forum.xda-developers.com/showthread.php?t=1667596|this thread on XDA Forum]]</nowiki> for details.
|-
| Image Links and Install Instructions
| <nowiki>[[http://d-h.st/users/f69m/ubuntu-touch/system/|Download System Core Images]]</nowiki> <<BR>> <nowiki>[[http://d-h.st/users/f69m/ubuntu-touch/rootfs/|Download Root Filesystem]]</nowiki> <<BR>> More information in the <nowiki>[[http://forum.xda-developers.com/showthread.php?t=2165171|Ubuntu Touch Preview on TF300T]]</nowiki> thread on XDA Forums.
|-
| Code and Build Instructions
| See <nowiki>[[https://github.com/f69m/ubuntu-touch-tf300t/wiki/Build-Ubuntu-Touch-for-ASUS-Transformer-TF300T|Build Ubuntu Touch for ASUS Transformer TF300T]]</nowiki>.
|}

== State of affairs ==

{| class="wikitable"
|-
| <-2> '''Legend'''
|-
| '''State'''
| '''Explanation'''
|-
| <bgcolor="#00FF99"> Perfect
| Everything works, all patches included in Ubuntu proper
|-
| <bgcolor="#FFFFCC"> Working
| Works, minor issues only, some patches pending
|-
| <bgcolor="#FF9999"> W-I-P
| Work in progress
|-
| <bgcolor="#CC3300"> Blocked/Broken
| Severely broken, unusable or progress is blocked
|-
| <bgcolor="#C8C8C8"> Unknown
| Unknown
|}

<<BR>>

{| class="wikitable"
|-
| '''What'''
| '''Status/Comments'''
|-
| <bgcolor="#FFFFCC"> Graphics
| Needs libc replacement.
|-
| <bgcolor="#FFFFCC"> Boot Process
| No boot animation. Black screen until the shell starts.
|-
| <bgcolor="#CC3300"> Rotation
| General issue: not supported in Ubuntu Touch yet.
|-
| <bgcolor="#FFFFCC"> Wireless Network
| Working but need to use docking station to enter WLAN key.
|-
| <bgcolor="#FFFFCC"> Sound
| Need to manually set output level for ALSA "!PulseAudio Stream".
|-
| <bgcolor="#00FF99"> Touch
| 
|-
| <bgcolor="#CC3300"> Camera
| Back-side camera is somewhat working. More testing needed!
|-
| <bgcolor="#00FF99"> Video Decode
| 
|-
| <bgcolor="#FF9999"> Suspend/Resume
| W-I-P
|-
| <bgcolor="#FF9999"> Dock Keyboard
| Standard keys working.
|-
| <bgcolor="#FF9999"> Dock Battery
| Charging works, but no battery indicator.
|-
| <bgcolor="#FF9999"> Dock Touchpad
| Two-finger swipe works, but no mouse pointer.
|-
| <bgcolor="#C8C8C8"> Dock Unity
| Switching to the standard ubuntu desktop when the dock is connected
|}

== Installation ==

=== Unlocking instructions ===
Download the "Unlock Device App" on the <nowiki>[[http://www.asus.com/Tablet_Mobile/ASUS_Transformer_Pad_TF300T/#overview| ASUS product page]]</nowiki>. Download and Install the <nowiki>[[http://dlcdnet.asus.com/pub/ASUS/EeePAD/TF300T/UnLock_Device_App_V7.apk|*.apk]]</nowiki> You can find under Support -> Download -> Android -> Utilities.
Make sure you fully understand and accept the risks that may arise. :)

=== Install Prebuilt Files ===
Download the rootfs and the core-system below.
Flash them using your favourite recovery.
Reboot. Have fun, but this fun won't be as good as the fun you will have testing your own build ;)

** <nowiki>[[http://d-h.st/users/f69m/ubuntu-touch/system/|Download System Core Images]]</nowiki>
** <nowiki>[[http://d-h.st/users/f69m/ubuntu-touch/rootfs/|Download Root Filesystem]]</nowiki>

More detailed information and support is available in the <nowiki>[[http://forum.xda-developers.com/showthread.php?t=2165171|Ubuntu Touch Preview on TF300T]]</nowiki> thread on XDA Forums.

== Known issues ==

* `[Major]` The touch keyboard is not working for entering the WLAN key, but using the dock works.

* `[Major]` --(Camera app is not showing an image.)-- Camera is showing image for back-camera, but switching between cameras seems to confuse it. Taking pictures seems to work though, even after switching cameras.

* `[Major]` Dock special keys, touchpad and dock battery indicator not working.

* `[Minor]` Rebooting from Ubuntu results in a boot loop. Using "adb reboot" works fine though.

* `[Minor]` Suspending only turns off the screen, which is not the most powersaving way to lock the device...

* --(`[Major]` Video decoding is not working.)--

== How to build ==
We recommend to have a look at the <nowiki>[[Touch-Porting]]</nowiki> page and the page that tells you <nowiki>[[http://wiki.cyanogenmod.org/w/Build_for_tf300t|how to build for tf300t]]</nowiki> first.
Maybe it could be a good thing to build pure CyanogenMod for your Tablet before you try Ubuntu. You will find more information on the building proccess at the <nowiki>[[http://wiki.cyanogenmod.org/w/Development| CyanogenMod wiki]]</nowiki>, nice people at <nowiki>[[http://www.xda-developers.com/]]</nowiki> and even more in the <nowiki>[[https://launchpad.net/~ubuntu-phone|ubuntu-phone team]]</nowiki>.

=== What you will need ===
* Your Tablet and  a suitable USB-Cable
* A average PC running Ubuntu 12.04 or later.
** Make sure to install a 64-bit Version
* Internet access
* Time, patience, coffee

=== Preparing Ubuntu ===
You need to set up a compiler, a Java version and Android tools like <code>fastboot</code> and <code>adb</code>. In order to gather these, some additional repositorys are needed:
<pre> /bin/bash
sudo add-apt-repository ppa:webupd8team/java
sudo add-apt-repository ppa:phablet-team/tools
sudo apt-get update 
</pre>
Now it's time to install a bunch of packages.  
<pre> /bin/bash
sudo apt-get install git gnupg flex bison gperf build-essential \
zip bzr curl libc6-dev libncurses5-dev:i386 phablet-tools \
x11proto-core-dev oracle-java6-installer libx11-dev:i386 \
libreadline6-dev:i386 libsdl1.2-dev android-tools-adb \
libesd0-dev libwxgtk2.8-dev squashfs-tools g++-4.5-multilib \ 
gcc-4.7-multilib mingw32 pngcrush android-tools-fastboot tofrodos \ 
python-markdown libxml2-utils xsltproc zlibg1-dev:i386 schedtool \
libgl1-mesa-glx:i386 libgl1-mesa-dev
</pre> 
* If you get problems with the <code>multilibs</code>, try installing the <code>gcc-toolchain</code> first.

=== Preparing the Code ===
Open a terminal and move to your preferred build directory. 
Create a folder by uttering <code>#!/bin/bash mkdir -p ubuntu-phablet</code>

Initialize the repository in this folder:
<pre> /bin/bash 
cd ubuntu-phablet
repo init -u git://phablet.ubuntu.com/CyanogenMod/android.git -b phablet-10.1
cp .repo/manifests/default.xml .repo/manifests/tf300t.xml
</pre>

==== Creating a custom manifest ====
Edit the manifest with your favorite editor and remove the <code>device/*</code> and <code>kernel/*</code> packages. 
Removing the <code>hardware/qcom</code> stuff and the packages for Samsung or Omap CPUs and WLAN devices did not hurt my build either, but this is optional.
Add the following lines at the end of the manifest, then save it and close the editor.
<pre> 
<project path="ubuntu/hybris" name="f69m/ubuntu-phablet_libhybris" remote="github" revision="refs/heads/master" />
<project path="ubuntu/platform-api" name="f69m/ubuntu-phablet_platform-api" remote="github" revision="refs/heads/master" />

<project path="kernel/asus/tf300t" name="f69m/android_kernel_asus_tf300t" remote="github" revision="refs/heads/f69m-10.1" />
<project path="device/asus/tf300t" name="CyanogenMod/android_device_asus_tf300t" remote="github" revision="refs/heads/cm-10.1" />
</pre>
This adds the custom repository ~f69m created. Removing the other packages fastens the download and uses up fewer disc space.
Now do what you waited for: grab the source code and maybe a cup of coffee...
<pre> /bin/bash
repo init -m tf300t.xml
repo sync
</pre>

==== Adding some patches ====
Unfortunatly we got an optimized repository for our device kernel, so you only need to apply two patches.
<pre> /bin/bash 
cd device/asus/tf300t
wget https://github.com/f69m/ubuntu-touch-tf300t/blob/master/patches/device_asus_tf300t.patch
patch -p1 < device_asus_tf300t.patch 
croot #go back to the top level of the source eg. ubuntu-phablet
cd ubuntu/uchroot
wget https://github.com/f69m/ubuntu-touch-tf300t/blob/master/patches/ubuntu_chroot.patch
patch < ubuntu_chroot.patch
</pre>

==== Get prebuilt apps ====
<pre> /bin/bash
cd vendor/cm
./get-prebuilts
</pre>

=== Start building ===
==== Setup the build environment properly ====
This will gather the <code>*.mk</code>-files available...
<pre> /bin/bash
source build/envsetup.sh
</pre>
... and this will set them up for your build.
<pre> /bin/bash
breakfast tf300t
</pre>

===== Speeding things up =====
Since you are likley to build a few times within the next weeks to have the newest system available, you will like to turn on caching.
CCache stores every small binary compiled during the build, so you do not have to compile it again on your next build except the source has changed.
<pre> /bin/bash
export USE_CCACHE=1
</pre>

===== Compile! =====
Now we get to the interesting bit. Type
<code>brunch tf300t </code> and watch the magic.

During my first build, my PC shut down at a certain point due to a segmentation failure.
I was able to avoid this by using 
<pre> /bin/bash
breakfast tf300t
make -j1</pre> for the build, but it took more time. 

Usually <code>brunch</code> calls <code>make</code> with 4 jobs. If you want to adjust this, change <code>n</code> according to your needs.
<pre> /bin/bash
breakfast tf300t
make -jn</pre>

To create the .zip-file run
 <code>make bacon</code>.
 Again, you can use the <code>-j</code> option. 

=== Install the CyanogenMod Part of Ubuntu ===
==== WARNING ====
If you updated your Tablet to the stock Android 4.2 the partition layout is changed and installing UbuntuTouch *won't work* / could brick your device! ("Unrecoverable bootloader error (0x00000000)") 
Please wait until ASUS releases the necessary source or NVflash.
==== WARNING ====
Move to <code>out/target/product/tf300t</code> to see the rewards of your work.
Connect the Tablet via USB. 

==== Flash Custom Recovery ====
// this is not strongly necessary, any other recovery will work.

You will find a file called <code>ramdisk-recovery.img</code> that contains a ubuntufied version of ClockWorkMod.
Start the bootloader on your connected device
<pre> /bin/bash
adb reboot-bootloader
</pre> 
and use the VOL- key to select the USB entry. Confirm with VOL+.
Now flash the recovery
<pre> /bin/bash
fastboot flash recovery ramdisk-recovery.img
fastboot reboot recovery
</pre>

==== Install the Android Core ====
Once you see the CWM interface, wipe data and cache.
Put the *.zip in your out directory or the one you can find <nowiki>[[http://d-h.st/dQE|here]]</nowiki> on a sdcard.
Choose <code>install zip from sdcard</code>, find the file and make your Volume keys go all swappy as you confirm.

==== Install the rootfs ====
Download the custom rootfs for our beloved tablet <nowiki>[[http://d-h.st/mpB|here]]</nowiki> and put it on a sdcard.
Choose <code>install zip from sdcard</code> once again, flash, reboot and watch the beauty. 

== Redistributability ==
Are all parts of the image freely redistributable?

{| class="wikitable"
|-
| <-2> '''Legend'''
|-
| '''State'''
| '''Explanation'''
|-
| <bgcolor="#00FF99"> Perfect
| Redistributable, we're all happy
|-
| <bgcolor="#FFFFCC"> Maybe problematic
| Might be redistributable, some open questions (comment)
|-
| <bgcolor="#CC3300"> Problematic
| Not redistributable at all
|-
| <bgcolor="#C8C8C8"> Unknown
| Unknown
|}

<<BR>>

{| class="wikitable"
|-
| '''Component name'''
| '''Link to it'''
| '''License''' (link or name)
| '''Status / Comment''''
|-
| <bgcolor="#C8C8C8">
| 
| 
| Same blobs as !CyanogenMod nightly builds. Details need to be tracked down or they should be replaced.
|}

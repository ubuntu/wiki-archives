{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== LTSP Xorg Configuration ==

=== Status ===

* Created:  by DanielStone
* Priority: HighPriority
* People: DanielStoneLead, ScottBalneavesSecond
* Contributors: JimMcQuillan
* Interested: EricHarrison
* Status: BreezyGoal, DistroSpecification, ApprovedSpecification
* Branch: 
* Malone Bug: 
* Packages: xorg
* Depends: 
* Dependents:
** UduSessions: 0

=== Introduction ===

Integrate Ubuntu Xorg auto configuration methods into Ubuntu's LTSP

=== Rationale ===

Currently, LTSP does very little in the way of auto configuration, other than scanning the PCI bus for the video card, and selecting the correct video driver for Xorg to load.  It would be better to take advantage of some of the Ubuntu work on auto configuration of Xorg, and apply the same code to the LTSP terminal auto configuration.

=== Scope and Use Cases ===

* Terminal users should have auto detection of video, mouse and keyboard hardware consistent with a console user.
* Better auto detection of terminal hardware will make it easier for Ubuntu LTSP administrators to set up and maintain an Ubuntu based LTSP network, resulting in faster deployments.

=== Implementation Plan ===

* Currently LTSP doesn't do much in the way of autoconfig
** Scans the PCI bus to find out what the current card is and autoselect the right Xorg module
** Allows user to override the modeline, manually load modules, etc.
* Current scheme is mostly OK.
** Autoconfig doing a DDC on desktops, on laptops it starts X and looks through the log to find out what resolutions are supported.
** Xresprobe figures out what the resolution.
** Several of the scripts are quite large, and use Perl, which may be a problem for LTSP workstations that have to bring everything across via perl (lots of machines dragging all of Perl over at once over 10MBit not so good).
** If we can't detect what kind of video card the user has we fall back to vesa for the Xorg module (see fallbacks in XorgAutoconfiguration).
* Two modes for configuration, specified in LTSP config file.
** "X_CONFIGURE = Ubuntu" will do it the Ubuntu auto way
** "X_CONFIGURE = LTSP" will do it the older simpler LTSP way (scan PCI)
* How about pushing the Xorg config back up to the server, and using that for the terminal if it exists:
** If custom configuration has been written, Ubuntu will detect that there's already an xorg.conf file, and won't overwrite it.
** Auto config can be slow, because it will only run once, and then the X config will then just be a simple config file after that.
* mdetect for mouse detection.  Will detect serial mice as well.
* Keyboard detection: Follow the same keymapping as what's on the server will get things right most of the time.
* Graduated fallbacks for when server startup fails:
** Level one: drop back to vesa, conservative resolution, sync ranges written out for 60Hz.
** Level two: drop back to vga or such (fbdev for powerpc?), sync ranges written out for 640x480@60Hz.
* LTSP ready to dump XFree86 3.3.6 (ships XF86_S3 for older cards unsupported in X.Org); S3 coverage not universal, so use the above to fall back to vesa if we fail on older S3 cards.

==== Data Preservation and Migration ====

N/A

==== Packages Affected ====

* `xresprobe`
* `xorg`

==== User Interface Requirements ====

* Hopefully there should be ''no'' user interface requirements. It should "Just Work".

=== Outstanding Issues ===

----
CategoryUdu
CategorySpec 

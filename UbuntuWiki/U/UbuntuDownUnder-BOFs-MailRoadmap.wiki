{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Mail Roadmap ==

=== Status ===

** Created:  by MattZimmerman<<BR>>
** Priority: LowPriority<<BR>>
** People: LaMontJonesLead, JeffBaileySecond<<BR>>
** Contributors: MattZimmerman<<BR>>
** Interested: SebastienBacher<<BR>>
** Status: LaMontJonesQueue,BreezyGoal, DistroSpecification, EditedSpecification, MarkShuttleworthQueue<<BR>>
** Packages: <<BR>>
** Depends: <<BR>>
** UduSessions: 1(0)<<BR>>

=== Introduction ===

Unix systems traditionally assume that mail to various accounts on the local system is being read, sent from, etc.  On an Ubuntu desktop system, this generally isn't the case.

There are two common formats of storing mail on a Unix system: `mbox` and `Maildir`.  `mbox` is the older generation with several known issue, such as locking, corruption, and size.  `Maildir` is a newer format defined by Daniel Bernstein (djb) that addresses these three limitations.

=== Rationale ===

An end-user configuring their Evolution mail client will never be aware that email is accumulating in their local account warning them of various system events.

Various implementation of MTA and spam processing applications have varying levels of support for `mbox` and `Maildir`.  For seamless integration of these, we should choose a single default.

=== Scope and Use Cases ===

* Grandma Sue has a hard drive that is failing.  She needs to be notified that this is happening.

* In a server environment, our preferred pop3, imap4 and mail reading solutions should all work together automatically when installed.

=== Implementation Plan ===

* During May:

** Prepare list of packages which expect an MTA, for what purpose, and determine how to eliminate the dependency.

** Analyze packages that reference mbox, Maildir, /var/spool/mail and/or /var/mail to see the level of work needed to add maildir support according to <nowiki>[[http://www.ubuntu.com/wiki/MailStorageStandardisation|MailStorageStandardisation]]</nowiki>
** Make a recommendation which packages to fix and which packages to move to universe.
** Prioritize the list according to base/desktop/ship/supported seeds.

** Re-enable questions in Postfix.

** Move `exim` and `postfix` to ship seed.

** Make sure all instances of `Depends: exim | mail-transport-agent`, gets changed to `Depends: postfix | mail-transfer-agent` or dropped completely.

** Debconf question for mbox or Maildir, ask it once, place the answer in `/etc/mailbox-format`

* After May:

** Ensure that mails for insignificant things like dangling symlinks are quenched.

** Integrate with `update-notifier` to deliver remaining critical notices.

** Ensure that release notes clearly say how to install ''lsb'' package.

** Delivery into homedir by default (<nowiki>[[http://www.ubuntu.com/wiki/MailStorageStandardisation|MailStorageStandardisation]]</nowiki>)

** Move any mail using application that cannot support both mbox and Maildir to universe.

** Ensure that default maildir path is set to `~/.maildir/`

==== Data Preservation and Migration ====

The user may have mail already collecting in the mailbox on the system.  We will never recover this data.

==== Packages Affected ====

* Packages referencing mail-transport-agent, exim, or exim4:
** `anacron`
** `backuppc`
** `courier-imap`
** `courier-pop`
** `cron`
** `cyrus21-common`
** `fetchmail`
** `lsb`
** `mailman`
** `mailx`
** `moin`
** `mutt`
** `procmail`
** `reportbug`
** `subversion-tools`
** `ubuntu-base`

* Packages referencing mbox or maildir:

** `abiword`
** `bash`
** `control-center`
** `courier`
** `cricket`
** `cyrus21-imapd`
** `dasher`
** `desktop-file-utils`
** `devhelp`
** `devscripts`
** `dia`
** `dict-foldoc`
** `dict-gcide`
** `dict-moby-thesaurus`
** `dictd`
** `doc-linux`
** `dovecot`
** `doxygen`
** `dpkg`
** `eagle-usb`
** `emacs-goodies-el`
** `emacs21`
** `epiphany-browser`
** `evolution`
** `evolution-data-server`
** `exim4`
** `expect`
** `festival`
** `fetchmail`
** `file-roller`
** `flac`
** `fltk1.1`
** `gawk`
** `gdb`
** `gdm`
** `gedit`
** `gettext`
** `gimp`
** `gnome-app-install`
** `gnome-games`
** `gnome-icon-theme`
** `gnome-libs`
** `gnome-mime-data`
** `gnome-pilot`
** `gnome-pilot-conduits`
** `gnome-themes`
** `gnome-utils`
** `gnumeric`
** `gnus-5.10.6`
** `graphviz`
** `gsl`
** `gst-plugins0.8`
** `gstreamer0.8`
** `gtk+1.2`
** `gtk+2.0`
** `gtkhtml3.6`
** `gtkmm2.4`
** `gtranslator`
** `heimdal`
** `hevea`
** `htmldoc`
** `hwdata`
** `ia32-libs`
** `imagemagick`
** `ipolish`
** `irssi-text`
** `iso-codes`
** `ispell`
** `ispell-gl`
** `jade`
** `jadetex`
** `kde-i18n`
** `kdeaddons`
** `kdeartwork`
** `kdebase`
** `kdegraphics`
** `kdelibs`
** `kdemultimedia`
** `kdenetwork`
** `kdepim`
** `kdewebdev`
** `krb4`
** `krb5`
** `lam`
** `lapack3`
** `lesstif1-1`
** `libgd2`
** `libgnomeui`
** `libgsf`
** `libiodbc2`
** `libjpeg6b`
** `libmailtools-perl`
** `libmysqlclient-lgpl`
** `libwmf`
** `mailman`
** `mutt`
** `openoffice.org`
** `pam`
** `postfix`
** `procmail`
** `python-defaults`
** `python2.3`
** `python2.4`
** `screem`
** `shadow`
** `twisted`
** `zsh`

==== User Interface Requirements ====

* Debconf questions need to be re-added for Postfix.

* Need to prompt for preferred mailbox type at priority high.  (No good default, but grandma should never be asked)

=== Outstanding Issues ===

* Ongoing review of Free/Open Source Spam and virus prevention technologies with the goal of providing long term spam and virus solutions that extend across the life of the release.

* Because effective spam filtering requires information only available at delivery time, and because spam scanning is resource intensive, spam filtering should happen on the server not the client.

==== UDU BOF Agenda ====

* What to do about automated mail
** `cron`
** `debconf`
** `sudo`
** ...
* Spam filtering
* Mail storage

==== UDU Pre-Work ====

* Prepare list of packages which expect an MTA, for what purpose, and proposed alternative implementations
** The beginnings of this can be found in the <nowiki>[[http://lists.ubuntu.com/archives/ubuntu-devel/2005-February/004207.html|discussion]]</nowiki> on ubuntu-devel from February.  This discusses the packages then in `ubuntu-base` and `ubuntu-desktop`.  Other main packages that `Depend: mail-transport-agent` will be changed to prefer Postfix instead of exim or exim4.

== Suggestions/Notes ==

* What about replacing the MTA with SSMTP and configure all clients to use that as the standard smtp "gateway"?
** Unfortunately, since this would have ubuntu-base Depend: ssmtp, it causes some of the very problems we're attempting to eliminate.

==== UDU BOF Agenda ====

* What to do about automated mail
** `cron`
** `debconf`
** `sudo`
** ...
* Spam filtering
* Mail storage

----
CategoryUdu
CategorySpec 

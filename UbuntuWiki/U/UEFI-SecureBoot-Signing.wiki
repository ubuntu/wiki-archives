{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== How to sign your own UEFI binaries for Secure Boot ===

You have two options. You may use the "tried and true" methods using Ubuntu directly with sbsign and kmodsign, or use the "real" method used by Microsoft to sign binaries, with a Windows-only app.

For more details on signing binaries, see <nowiki>[[UEFI-SecureBoot-KeyManagement-ImageSigning|ImageSigning]]</nowiki>.

==== sbsign and kmodsign ====

'''sbsign''' allows you to sign your own custom binaries (ie. the files that would be loaded directly by firmware, be it a bootloader or a kernel).

To sign a binary using sbsign; you will need both the private and public part of a certificate in PEM format (see <nowiki>[[UEFI-SecureBoot-KeyManagement-KeyGeneration|KeyGeneration]]</nowiki>), and some idea of a name for the output file. The source file will not be modified.

<pre>
sbsign --cert path/to/cert.crt --key path/to/cert.key --output path/to/outputfile  efi_binary
</pre>

To validate a signature, you will still need the public part of the signing certificate, in PEM form:

<pre>
sbverify --cert path/to/cert.crt efi_binary
</pre>

'''kmodsign''' is used exclusively to sign kernel modules. It also requires the signing certificates to be in a different format than sbsigntool; for '''kmodsign''', the certificates need to be in DER format. Conveniently, if you need to use DKMS modules, an appropriate certificate may already exist in ''/var/lib/shim-signed/mok''.

To sign a custom module, in this example with the generated MOK already available on a system:

<pre>
kmodsign sha512 \
    /var/lib/shim-signed/mok/MOK.priv \
    /var/lib/shim-signed/mok/MOK.der \
    module.ko
</pre>

==== Using Microsoft's signtool.exe ====

/!\ This obviously requires access to a system running Windows.

Download signtool.exe from Microsoft, install it somewhere to disk (it is a single binary), and run it. Refer to '''signtool /?''' for help.

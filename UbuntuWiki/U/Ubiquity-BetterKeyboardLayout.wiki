{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:foundations-lucid-oem-config-localized-keyboard-layout
* '''Created''': 2009/12/1
* '''Contributors''': EvanDandrea, MichaelTerry
* '''Packages affected''': ubiquity, oem-config

=== Summary ===
The entire keyboard selection page, including the keyboard names, will be translated.  A <code>calculate keyboard layout</code> button will be added.  A bit of text will be added to the top of the page to help the user understand that the default option is a reasonable selection.

=== Release Note ===

A number of improvements have been made to the keyboard selection page of the installer, making it much easier to use by individuals who are not sure what type of keyboard they have.

=== Rationale ===

* Some users are not able to identify their keyboard type based on its name.
* Some users find the number of options presented to them confusing, and do not understand that the default option is often the right choice.

=== User stories ===

* Dave is not sure what kind of keyboard he has.  Following the instructions on the keyboard setup page, they press the <code>Calculate...</code> button to determine the keyboard layout without needing to know its name.
* Kat has a UK keyboard layout.  While United Kingdom is selected by default, she is not sure what to do, given the amount of text and buttons present on the keyboard page.

=== Design ===

<pre>
( ) Suggested option: USA
(o) Calculate layout: None [ Calculate... ]
( ) Choose your own:
</pre>

Pressing the <code>Caluclate...</code> button will launch a new modal window that asks the user a few questions and then disappears when a suitable layout has been determined.  This layout will then be displayed next to the <code>Calculate layout:</code> label.

The question window can switch between two states as it tries to determine the layout.  The first asks the user to press a specific key, while the second asks the user whether a key is present on their keyboard.

<pre>
Please press one of the following keys:
+ у υ г n γ u ה v y ν
</pre>

<pre>
Is the following key present on your keyboard?
£
[ Yes ] [ No ]
</pre>
=== Implementation ===
* The console-setup translation work will be merged and support for it will be implemented in ubiquity, allowing for translated keyboard names.
* Some explanatory text will be added to the top of the ubi-console-setup component.  This text will inform the user that the default selection is often the correct choice.

===== Keyboard detection =====
* A module will be written to parse the decision tree generated by keymapper as part of console-setup-mini.  Modules for the GTK and KDE frontends that wrap the aforementioned parser module will be added to the ubi-console-setup component.
* The kernel keycodes that keymapper generates will be mapped to X keycodes, or a decision tree with X keycodes will be generated from keymapper.

=== Test/Demo Plan ===

* Unit tests for the core keyboard calculation module will be added to ubiquity's test suite.  This will include a test for feeding the module invalid options as well as a test that drives the module to produce a US layout (and possibly others).

----
CategorySpec

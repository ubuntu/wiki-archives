{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{{{#!cplusplus
DPKG=/usr/bin/dpkg-scanpackages

if test -e  $DPKG;
    then
### this is most important :p
    echo "Debian/Ubuntu scanning packages for own repository"
    echo "Use Your Own Risk"
else
    echo "Currently, package dependency is not installed on your system, please install first"
    echo "using apt-get install dpkg-dev"
    exit 1
fi

echo "whese is the local directory who have a local package?"
read BASE

if test -d $BASE/pool;
    then EXISTS="yes"
else
    echo "it seems you don't have pool directory, create first!"
    exit 1
fi

echo "please insert your distro name? ie gutsy"
read BUILD

echo "please insert your section name? ie private/non-free"
read SERI

if test -d $BASE/dists;
    then EXISTS="yes"
else
    mkdir $BASE/dists
fi

if test -d $BASE/dists/$BUILD;
    then EXISTS="yes"
else
    mkdir $BASE/dists/$BUILD
fi

if test -d $BASE/dists/$BUILD/$SERI;
    then EXISTS="yes"
else
    mkdir $BASE/dists/$BUILD/$SERI
fi

if test -d $BASE/dists/$BUILD/$SERI/binary-i386;
    then EXISTS="yes"
else
    mkdir $BASE/dists/$BUILD/$SERI/binary-i386
fi

cd $BASE

echo "please insert location at directory wehre it scanned, starting with pool"
echo "if you want scan at pool direcory just wrote pool"
read SOURCE

$DPKG $SOURCE /dev/null > Packages

gzip -9c Packages > Packages.gz
bzip2 -9c Packages > Packages.bz2

mv Packages dists/$BUILD/$SERI/binary-i386/
mv Packages.gz dists/$BUILD/$SERI/binary-i386/
mv Packages.bz2 dists/$BUILD/$SERI/binary-i386/

find . -type f -print0 | xargs -0 md5sum > MD5SUM

exit 0}}}

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[UbuntuStudio-audio-settings | ..-UbuntuStudio-audio-settings]]</nowiki>

Discussion about kernels and kernel configurations here..

=== Kernel Testing ===

==== Building your own kernel ====

A short description of how to build a kernel for testing.

== linux-lowlatency ==

Shipped with Ubuntu Studio since 12.04 Precise. Principally a standard Ubuntu kernel (no additional patches to the code, allthough the linux-lowlatency shipped with precise includes a minor patch). 

=== Configurations of interest for linux-lowlatency ===

These configs need to be somewhat documented and tested

==== To enable low latency (needs to be expanded) ====

* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/PREEMPT.html | CONFIG_PREEMPT]]</nowiki>'''
** ''conflicts with:'' '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/PREEMPT_NONE.html |CONFIG_PREEMPT_NONE]]</nowiki>'''
** ''conflicts with:'' '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/PREEMPT_NONE.html | CONFIG_PREEMPT_VOLUNTARY]]</nowiki>'''

To enable this option edit the config file to have these line read:

{<pre>
CONFIG_PREEMPT=y
</pre>}

'''May reduce latency'''
* '''<nowiki>[[ http:--cateee.net-lkddb-web-lkddb-PREEMPT_RCU.html | CONFIG_PREEMPT_RCU ]]</nowiki>'''

<pre>
CONFIG_PREEMPT_RCU=y
</pre>

''additional, related configs''

* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/TREE_PREEMPT_RCU.html | CONFIG_TREE_PREEMPT_RCU]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/RCU_BOOST.html | CONFIG_RCU_BOOST]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/RCU_CPU_STALL_DETECTOR.html | CONFIG_RCU_CPU_STALL_DETECTOR]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/RCU_CPU_STALL_VERBOSE.html | CONFIG_RCU_CPU_STALL_VERBOSE]]</nowiki>'''

as configure in current -lowlatency..
<pre>
CONFIG_TREE_PREEMPT_RCU=y
</pre>

==== To enable the use of the rtirq script to change rtprio for devices: ====

this enables the use of ''threadirqs'' as a kernel boot parameter
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/IRQ_FORCED_THREADING.html | CONFIG_IRQ_FORCED_THREADING]]</nowiki>'''

optionally, to make ''threadirqs'' a default boot parameter
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/CMDLINE.html | CONFIG_CMDLINE]]</nowiki>'''
** ''depends on:'' '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/CMDLINE_BOOL.html | CONFIG_CMDLINE_BOOL]]</nowiki>'''

To enable these options edit the config file to have these line read:
{<pre>
IRQ_FORCED_THREADING=y
CONFIG_CMDLINE="threadirqs"
CONFIG_CMDLINE_BOOL=y
</pre>}

==== High resolution timer: ====

(Not exactly sure which of CONFIG_HZ=1000 and CONFIG_HZ_1000=y depend on which. )
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/HZ_1000.html | CONFIG_HZ_1000]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/HZ.html | CONFIG_HZ]]</nowiki>'''
** ''depends on:'' '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/NO_HZ.html | CONFIG_NO_HZ]]</nowiki>'''

to enable high resolution timer
<pre>
CONFIG_HZ_1000=y
CONFIG_HZ=1000
</pre>

(optionally, tickless timer - add the config here) 

==== Need to be investigated ====

* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/NTP_PPS.html | CONFIG_NTP_PPS]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/SLAB.html | CONFIG_SLAB]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/PREEMPT_NOTIFIERS.html | CONFIG_PREEMPT_NOTIFIERS]]</nowiki>'''
* '''<nowiki>[[[ http:--cateee.net-lkddb-web-lkddb-EXPERT.html | CONFIG_EXPERT]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/PREEMPT_TRACER.html | CONFIG_PREEMPT_TRACER]]</nowiki>'''
* '''<nowiki>[[http://cateee.net/lkddb/web-lkddb/DEBUG_KERNEL.html | CONFIG_DEBUG_KERNEL]]</nowiki>'''

as used in current -lowlatency
<pre>
CONFIG_SLAB=y
CONFIG_PREEMPT_NOTIFIERS=y
</pre>

=== Additional configs ===

* <nowiki>[[http://cateee.net/lkddb/web-lkddb/RT_GROUP_SCHED.html | CONFIG_RT_GROUP_SCHED]]</nowiki>

=== linux-rt ===

Not in Ubuntu repo since 9.10 Karmic.

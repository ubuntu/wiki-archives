{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

'''Ubuntu Drupal Countdown Banner'''

== Manage Package ==

If you are going to edit or create a new banner release package, you NEED to read this section. If you edit something wrong, you can potentially destroy many websites. Fortunately the module that pulls these files is relatively confined and is unlikely to break the entire website if you screw up, it is possible.

=== Notes ===

** If this is for a new release, then <nowiki>[[ https:--edge.launchpad.net-ubuntu-drupal-countdown-banners-+addrelease | create a new release ]]</nowiki>.
*** The name of the new release should be the first word of the release name (lower case). Ex. jaunty, karmic
*** A series will need to exist.
** If you are editing a new release, then pull the current tarball

=== Create ===
## Check out the <nowiki>[[ http:--www.ubuntu.com-getubuntu-countdown | available banner options ]]</nowiki> on the Ubuntu website
## Grab all of the available options and alter the files so they function locally
### The ONLY interaction with ubuntu.com will be when they click the image which will bring the user to the site
### This means grabbing every image available for the entire time the banners will be visible
#### Ex. 00.png, 01.png, [...], here.png, soon.png, display.js, countdown.html, etc
## File each option into its own folder
### ALL of the data for the countdowns will be in its own folder under data/
#### Ex. data/1/ data/2/
### There should be an html page in the folders that displays the data
#### Ex. data/1/display.htm contains <script type="text/javascript" src="display.js"></script>
## In the top level, create a file with a number only
### Ex. 1, 2, 3, 4  <- yes, these are the file names
### Most files are dynamic - there will be one static image, this is the noscript file
### Read example code of iframe and noscript below
## In the top level, create a symlink file called noscript that points to the noscript file
### Ex. ln -s 4 -T noscript

Example Code: iframe
<pre>
$bt  = '<iframe src="/' . file_directory_path() . '/countdown/data/1/display.html" width="180" height="150" frameborder="0" scrolling="no" marginwidth="0" marginheight="0" name="ubuntucountdown">';
$bt .= '</iframe>';

return $bt;
</pre>
** DO NOT add <?php or ?> tags. This will break the way the module reads the files.
** We do need the iframe in order to cover the variety of ways the files can be referenced.

Example Code: noscript
<pre>
$bt  = '<a href="http://www.ubuntu.com/" target="_top">';
$bt .= '  <img src="/' . file_directory_path() . '/countdown/data/4/static.png" width="180" height="150" alt="Ubuntu: For Desktops, Servers, Netbooks and in the cloud" border="0" />';
$bt .= '</a>';

return $bt;
</pre>
** DO NOT add <?php or ?> tags. This will destroy the way the module reads the files.
** We don't need the iframe because the file we're reading does not read other files.

=== Packaging ===

## Create a tarball of the contents. DO NOT add the directory name that it is it
### Call it exactly banners.tgz
### cd /path/to/files/ && tar czf banners.tgz *
### This will result in an "exploding tarball" this is indeed what we DO want
### The only contents that should be in here are directly related to the banners
### Remember, no top level directory that everything sits in
## Create a release notes file called "rv"
### Call it exactly rv
### It will consist of a single word. The series name followed by an update number
### Examples:
#### If the current rv is jaunty02 and you are updating the jaunty package, the word in it will be jaunty03
#### If it's currently jaunty03 but you are creating a new package for karmic, the contents will be karmic00
### The file will consist of a single string of text with no spaces and no extra blank lines
## Sign the files with your key
### gpg --armor --sign --detach-sig banners.tgz
### gpg --armor --sign --detach-sig rv
## Go to the series page
### If this is an update: remove the current banners.tgz
### Click Add download file
#### Description is "Jaunty Release Banners" Jaunty changes depending on release
#### Select banners.tgz as file
#### Select banners.tgz.asc as signature
#### File contents type: Code Release Tarball
#### Click upload
### If this is an update: remove the current rv - NOT before uploading new banners.tgz
#### Note: This file may only be updated ONE time. If you alter banners.tgz in any way, you must create a new rv
#### Description is "Release Version"
#### Select rv as file
#### Select rv.asc as signature
#### File contents type: Release Notes
#### Click upload
## If this is a new series, Canonical will need to update the current pointer to point at the new series

<<BR>> - At this point, the module will see the new rv file and pull banners.tgz. This tarball will be unpacked into the correct directory and the administrator can quickly and easily pick from the newly available options.
<<BR>> - YES! This is a long process, however it is well defined and not exactly complicated. Following it precisely will ensure the users of the package suffer no broken banner.

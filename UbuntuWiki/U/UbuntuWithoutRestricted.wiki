{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:ubuntu-without-restricted
* '''Packages affected''': 

=== Summary ===

Add (full) support for installing Ubuntu without the restricted component; the alternate install CD more or less already has this but the desktop CD does not.

=== Release Note ===

"The desktop CD installer now fully supports installing Ubuntu without the restricted component, and the division of packages between main and restricted has been improved."

=== Rationale ===

The SABDFL has <nowiki>[[https://lists.ubuntu.com/archives/ubuntu-devel-announce/2007-April/000276.html|announced]]</nowiki> provision of a new strictly-free flavour of Ubuntu in 7.10. This specification implements that, and incorporates various (though not all) changes made by the <nowiki>[[http://www.gnewsense.org/|Gnewsense]]</nowiki> derivative.

=== Use Cases ===

* Stuart is an Ubuntu user who is uncomfortable with the provision of certain non-free components by default, and <nowiki>[[http://www.kryogenix.org/days/2006/12/13/free-ubuntu|wants a version of Ubuntu without them]]</nowiki>. He is uncomfortable with just using Gnewsense since it takes some time to come up to date with recent versions of Ubuntu.

=== Assumptions ===

At present, our infrastructure can only cope with having this built straight out of the Ubuntu archive. Thus, only changes that can be made to be acceptable to the regular version of Ubuntu can be supported. For the moment, this means that the default browser will still be Firefox, not Iceweasel. (One slightly controversial way around this would be to ship Epiphany by default; but we do not anticipate doing so in the first release.)

=== Design ===

The alternate install CD already supports installation without restricted (although there may be some small bugs) by preseeding the `apt-setup/restricted` debconf question to `false`.

It will be convenient if the desktop CD uses the same method; fortunately, Ubiquity also uses apt-setup so this is straightforward. We will add a checkbox labelled "Do you want to use software with restrictive licensing?" (or similar) to the Advanced dialog accessible from the installation summary page, and bind this to `apt-setup/restricted`; its default will be whatever the current value of that question is (so `true` by default in Ubuntu). Ubiquity will check the `Section` field of each package in the APT cache to determine whether there are any restricted packages on the live filesystem; if there are any, it will remove them after copying to the target filesystem in its usual way. If no restricted packages are present on the live filesystem, then the checkbox will not be shown and `apt-setup/restricted` will be set to `false`.

Some individual packages need to be fixed in order for this to work as desired. The following are known at present:
* The kernel includes binary firmware blobs. These will be moved to a binary package in the restricted component. At least at first, we will not require that they be split out of the source package too, since this complicates the already complex kernel maintenance process; although this may be done later. Note that there are some drivers with binary blobs embedded in them (some clearly, some arguably - and of course not all lists of numbers are binary blobs, e.g. tables of logarithms); over time these will be split out such that they can be moved to a package in the restricted component and loaded using the `request_firmware` interface, but since this is contentious with some relevant kernel developers we will not require this to be complete in order to consider this specification implemented.
* The `app-install-data-commercial` binary package will be moved to the restricted component. `gnome-app-install` will no longer depend on it; instead, it will be added as a `Recommends` of `ubuntu-desktop`.

=== Test/Demo Plan ===

'''[to be filled in during implementation]'''

=== BoF agenda and discussion ===

Gnewsense also makes a number of branding changes which do not appear to be required for freedom purposes:
* grub (this is an obvious bug that should be fixed)
* example-content
* base-files (new distro name)
* ISO volume labels etc.
* launchpad-integration
* update-manager
* Human theme
* gnome-panel looks for ubuntu-docs - support for other distros?

----
CategorySpec

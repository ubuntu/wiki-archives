{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:foo
* '''Packages affected''': 

== Live/Install from USB key ==

* Much faster for ISO testing
* Avoid "CD blanks"
* Works on machines with optical drive

* USB key is a mass storage device (a hard drive)
** Rather than a floppy disk

=== Use cases ===

* DD'able netboot image (small, just works)
** `netboot/boot.img.gz` can be written to a partition; check whether it can also just be written to the disk device and if so update docs 
** We do currently have a PXE/ddable image but it needs one too many layers to extract it
** https://help.ubuntu.com/7.04/installation-guide/i386/boot-usb-files.html#usb-copy-easy
* DD image with 1GB partition for copying in an alternate .iso
** installer checks for /*.iso images on all local volumes
** https://help.ubuntu.com/7.04/installation-guide/i386/boot-usb-files.html#usb-copy-flexible
** https://help.ubuntu.com/7.04/installation-guide/i386/boot-usb-files.html#usb-add-iso
* Live CD image set up for persistency out of the box
** http://www.debuntu.org/how-to-install-ubuntu-linux-on-usb-bar

=== Results ===

* Modify installer to check for:
** `/ubuntu*.iso` containing either a .deb local repo
** Already done for hd-media installer (alternate-style)
** Live Ubuntu image containing a squashfs

=== Needs research ===

* Relationship to smart-boot-manager
* Syslinux/isolinux 
** Syslinux wrapper writes a bootsector "blob" to the front of the CD
** opens as vfat with mtools
** writes out ldlinux.sys
** copies syslinux code (ldlinux.bss) into bootsector
* We can do the equivalent under MS Windows (rawrite) provided that we ship the two files above on the CD
** Question: can we access the raw device without Administrator privileges?

* http://www.weethet.nl/english/hardware_bootfromusbstick.php
** Method involving the MS Windows formatting "[x] Create start up disk".

=== Targets ===

* Desktop CD on USB --- (direct dd > /dev/sdb); should work but believed to be buggy at the moment
* Desktop CD on USB with local ISO --- not interesting (except for having a small bootstrap image)
* Desktop CD on USB with persistence
** https://wiki.ubuntu.com/LiveUsbPendrivePersistent
* Netboot on USB with network fetch
* Netboot on USB with local alternate .iso

=== Wants ===

Transformation utility that takes a .iso image and it works out what to do with it

Should work for Linux and Windows, so possibly two separate applications

* "Write to USB key?"
 
* MAKE THE DESKTOPCD ON USB WORK.
** Makes ISO testing easier
** The place where we have less technical users.
** Persistence?
** ALREADY COVERED BY WUBI!
  
* Casper to look for .iso and look inside for squashfs, mount boot that
** Hunt though top-level directories
** Modify checkdev in casper, recurse one level.
*** Already done for wubi installer.
 
* Make persistency not check for partition label 
 
* Copy /contents/ of .iso image to vfat.
 
* Copy .iso to USB stick
* Fish vmlinuz and initrd out of .iso
* Run syslinux
* Make a Unix script to do this
* Ask somebody to reimplement for MS Windows
* Point to this from the CD download pages.
 
* Provide a mini DesktopCD dd-able image of the above.----

CategorySpec

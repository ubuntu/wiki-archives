{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

''Please check the status of this blueprint in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:ubiquity-forumideas
* '''Packages affected''': ubiquity, ubiquity-frontend-gtk, ubiquity-fronted-kde, ubiquity-casper (feedback needed)
* '''Created''':  * '''Contributors''': <nowiki>[[http://ubuntuforums.org/member.php?u=21941|aysiu]]</nowiki>, MuratGunes, UbuntuDemon, <nowiki>[[http://ubuntuforums.org/member.php?u=24806|Talon2]]</nowiki>, <nowiki>[[http://ubuntuforums.org/member.php?u=263294|Lucifiel]]</nowiki>, <nowiki>[[http://ubuntuforums.org/member.php?u=45767|christian.convey]]</nowiki>, <nowiki>[[http://ubuntuforums.org/member.php?u=93443|viciouslime]]</nowiki>

=== Summary ===

This blueprint details several ideas to improve Ubiquity submitted by the Ubuntu Forums community. The ForumAmbassadors team have gone through various Ubiquity-related ideas in the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=253|Gutsy Gibbon Idea Pool]]</nowiki> on the forums, and <nowiki>[[ForumAmbassadors/GutsyCommunityIdeas| picked]]</nowiki> the most workable ones.  

=== Rationale ===

Being relatively young, Ubiquity has some room for improvement, mostly in the UI area. The tens of thousands of users who frequent the forums are quick to spot its shortcomings and suggest new features, but their critique usually doesn't mature into and workable form, and gets lost in the rapid discourse of the forums. This blueprint intends to amend this by gathering together the most feasible proposals related to Ubiquity and presenting them to its developers.   

The proposed enhancements are:

* '''Barebones X Session''': The implementation of a stripped down X environment to save RAM, letting Ubiquity run on low-end (128MB?) machines
* '''Quit Confirmation''': Ubiquity should ask for confirmation when the user tries to close the window 
* '''Intro / Slide Show''': Ubiquity will present an introduction to the basic tools and procedures in Ubuntu during the non-interactive part of the installation process
* '''Simple Alternative Timezone Selector''': Ubiquity should display a timezone selector combo box (or another alternative non-city specific display element) along with the world map 
* '''Home Partition Default Behavior''': Ubiquity should detect and offer to use existing home partitions, and Migration Assistant should detect and offer to recreate existing user accounts in home partitions. A further step may be taken by defaulting to setting up a home partition (this has been subject to much debate).
* '''ubiquity-sane-mountoption-defaults''': sane mountoption defaults for partitions such as nodev,nosuid,xattr for /home

=== Use Cases ===

** Harold has a computer with 128MB of RAM. He boots the Desktop CD, and upon detecting the amount of RAM present, Ubiquity starts in a slimmed down X session, allowing him to use a graphical installer instead of a text based one, as well as saving him the hassle of re-downloading the Alternate CD.

** Kumar lives in Jaipur, India, which isn't among the cities on the world map in Ubiquity's timezone selector map. He's confused as to which nearby city he should select to set the correct timezone, thus he resorts to a combo box right under the map to set his exact timezone manually.

** After a tiring day of tedious work, Lucy pops in the Ubuntu CD that one of her co-workers gave her and after a few minutes of playing around in the live session, falls in love with Ubuntu. She decides to install it permanently, but being tired and preoccupied with daily chores, accidentally hits the window close button during installation. Thankfully, Ubiquity pops up a confirmation dialog, and she clicks "Cancel" to continue where she left. 

** Bill is a long time Windows user who decided to install Ubuntu. During the non-interactive phase of the installation, a simple slide show familiarizes him with the idea of Free software and the basic tasks and procedures in Ubuntu (such as using a package manager to install software from a centralized repository). As a result, as soon as Ubuntu is installed, he resorts to Add/Remove and Synaptic to install software instead of sticking to his old habit of searching the web for (potentially malicious or breakage-prone) setup packages.

** Cindy prefers to set up separate home partitions with her fresh Ubuntu installs. Upon installation, Ubiquity detects her existing home partition and offers to mount it as part of the new installation, and Migration Assistant offers to automatically recreate the user account(s) she had previously set up.

=== Scope (guidance needed) ===

The proposed enhancements affect

** Ubiquity (inc. Migration Assistant)
** The KDE and GTK+ frontends
** casper hook scripts
** GDM (?)
** ''Please edit with additions and corrections''

=== Design ===

==== Barebones X Session ====

** Currently, Ubiquity is known to crash on startup in low-end (128MB or so) machines. The barebones X enhancement will work transparently, starting a stripped down X session on boot when a certain critical amount of RAM is detected.

** Upon startup, the user should be notified that Ubuntu has resorted to an alternative installation method instead of the normal fully functional live session.
 
** If the machine has even less than a critical amount of RAM that will let Ubiquity run in the stripped down environment, a message should educate the user on alternative installation methods.

==== Quit Confirmation ====

** A standard two choice dialog should be provided in both frontends. 

==== Intro / Slide Show ====

** Design is detailed in <nowiki>[[https://wiki.ubuntu.com/Ubiquity/Slideshow|the Slideshow blueprint]]</nowiki>. 

==== Simple Alternative Timezone Selector ====

** The timezone selector should be a simple ''GMT±hh:mm'' combo box without a list of city names. Since the functions of the map and the combo box will be mutually exclusive, it may be necessary to provide visual feedback to indicate that only the selected one is being used. A radio button selector that chooses between the two, along with the text "''Please select a city from the world map, or choose your timezone from the list below''" can be used.
   
** Provided there are enough development resources, the selector can also be integrated into the map view, which would be sliced to timezones on mouseover. This composite selector would let the user choose either a specific city, or a timezone, with one click. While the cursor travels over the map, a ''GMT±hh:mm'' indicator below would change to indicate the current timezone.

** An alternative to both methods (to be used alongside them) may be using a geolocation service to find the location of the user (if the computer has net access) and set the timezone automatically. This would have to be easy to override via the other two methods.

** See <nowiki>[[https://launchpad.net/bugs/84066|Bug #84066]]</nowiki>

==== Home Partition Default Behavior ====

** Ubiquity should detect existing home partitions, and should offer to automatically mount them in the manual partitioning procedure. In guided installs, a pop-up yes/no dialog can be used.

** As part of the Ubuntu to Ubuntu migration features, Migration Assistant should detect and offer to recreate existing user accounts in existing home partitions, if any. 

=== Implementation ===

==== Barebones X Session ====

==== Quit Confirmation ====

** <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bug/107686|Issues]]</nowiki> <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bug/108107/comments/5|with]]</nowiki> Ubiquity's close button handling need to be ironed out.

<pre>
<`23meg> cjwatson: are you sure this ubiquity bug is a duplicate? https://bugs.launchpad.net/ubuntu/+source/ubiquity/+bug/108107
<cjwatson> `23meg: yes, even though they're superficially different. I've added a comment.
<cjwatson> the close button is busted in too many places and needs somebody to go through both gtk and kde frontends making sure it does the right thing}}}

==== Intro / Slide Show ====

** Discussed in <nowiki>[[https://wiki.ubuntu.com/Ubiquity/Slideshow|the Slideshow blueprint]]</nowiki>

==== Simple Alternative Timezone Selector ====

==== Home Partition Default Behavior ====

=== Outstanding Issues ===

** The list of affected packages may be inaccurate and needs guidance.

** Daylight savings time won't be taken into account with the selection of a timezone only, and country autoselection for locale won't work.

=== Forum Discussions ===

<nowiki>[[http://ubuntuforums.org/showthread.php?t=409925|Barebones X Session]]</nowiki>

<nowiki>[[http://ubuntuforums.org/showthread.php?t=414095|Quit Confirmation]]</nowiki>

<nowiki>[[http://ubuntuforums.org/showthread.php?t=411481|Intro / Slide Show]]</nowiki>

<nowiki>[[http://ubuntuforums.org/showthread.php?t=412912|Simple Alternative Timezone Selector]]</nowiki>

<nowiki>[[http://ubuntuforums.org/showthread.php?t=411871|Home Partition Default Behavior]]</nowiki> 
<nowiki>[[http://ubuntuforums.org/showthread.php?t=410584|2]]</nowiki> <nowiki>[[http://ubuntuforums.org/showthread.php?t=410093|3]]</nowiki>

=== BoF agenda and discussion ===

BOF notes from UbiquityForumIdeas gobby session (a bit of cleanup needed): 
{{{
* Barebones X Session: The implementation of a stripped down X environment to save RAM, letting Ubiquity run on low-end (128MB?) machines possible.
     Evan : There's a lot that can be done to reduce the memory profile within Ubiquity.
    Needed anyway for Ubuntu from Windows and Xubuntu.

* Quit Confirmation: Ubiquity should ask for confirmation when the user tries to close the window
* marked as a bug 41732

* Intro / Slide Show: Ubiquity will present an introduction to the basic tools and procedures in Ubuntu during the non-interactive part of the installation process
* If colin says it's worthwhile it might be possible to do it for Gutsy. Also cooperation from art team and doc team needed.
* Evan : https://wiki.ubuntu.com/Ubiquity/Slideshow

* Simple Alternative Timezone Selector: Ubiquity should display a timezone selector combo box (or another alternative non-city specific display element) along with the world map
 - Mike: This is a common style used in OS installers.
 - Evan: colored areas for each timezone.
 - Evan: select by timezone area on map.

* Home Partition Default Behavior: Ubiquity should detect and offer to use existing home partitions, and Migration Assistant should detect and offer to recreate existing user accounts in home partitions. A further step may be taken by defaulting to setting up a home partition (this has been subject to much debate).

* Migration Assistant should detect and recreate existing user accounts in home partitions : http://ubuntuforums.org/showthread.php?t=410584
** relevant use case :

Cindy prefers to set up separate home partitions with her fresh Ubuntu installs. Upon installation, Ubiquity detects her existing home partition and offers to mount it as part of the new installation, and Migration Assistant offers to automatically recreate the user account(s) she had previously set up.
* Evan : May implement as a Ubiquity preserving home directories specification.
UUIDs issue
do in partioner

* Ubiquity should detect and offer to use existing home partitions : http://ubuntuforums.org/showthread.php?t=411871
** If they don't have UUID's then it most likely will not work. No easy workaround possible.
** If they have UUID's then it's a bug and it should be filed against migration assistent.
** How about detecting /srv partitions?  They are likely to be of interest on servers, and on
     desktops some users collect os-independent user files in e.g. /srv/home/userid and leave /home
     on the / partition.

* set up a seperate /home partition by default    http://ubuntuforums.org/showthread.php?t=410093
** it's not worth it. It's hard to determine the appropriate size.

* ubiquity-sane-mountoption-defaults: sane mountoption defaults for partitions such as nodev,nosuid,xattr for /home
* Evan : Evan will run it by Colin as he doesn't see any reason why not to include this.
 nodev (OK)
 nosuid...on the fence..Colin will think about
 xattr
 all would need code in partman
 new partitioner would need support for adding options
 
* Evan, ubiquity developer, is interested in posting threads asking for specific testing/feedback in our new "devel link" subsection.
 Evan's launchpad nick : evand
 
** If it's not really what the forums users meant please let us (forum ambassadors or evand) know. 

</pre>

=== Comments ===
----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:foo
* '''Packages affected''': 

=== Summary ===

Manual update tools should give feedback about whether updates are actually happening.  If updates are not happening they should provide options to remedy that.  

=== Release Note ===

Update tools such as synaptic and apt-get now warn if updates are not working.  If these warnings occur, the user should act to remedy the situation.  This may incorrectly occur if the system clock has not been set properly in which case resetting the clock will correct the problem.  

=== Rationale ===

There are a number ways to get into a state where we think that updates are happening but they aren't.  For example, due to <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/apt-setup/+bug/154535|bug 154535 all repositories may be disabled during the install process]]</nowiki>.  Currently, <nowiki>[[https://bugs.launchpad.net/ubuntu/+bug/179358|by design there is no user warning about this situation]]</nowiki>.  

By giving a warning about this situation the user will be aware that their system is not being updated.  They can then rectify the situation if they know how.  By giving an option to 
This should cover the _why_: why is this change being proposed, what justifies it, where we see this justified.

=== Use Cases ===

A user installs the system without a network connection; all repositories are disabled.  The user connects to the network and tries to run updates.  Due to this change the user is warned that the repositories are disabled and then re-enables the repositories.  The user's system is updated.

A user has their system behind a corporate firewall, where a proxy is required for updates.  The user tries updates, which fall back to the local DVD or another non-updated local copy of the main repositories.  When updates are attempted and 

=== Assumptions ===

* updates are a good idea and should be encouraged
* we can ask the user to adjust the system clock  
* we can easily calculate the date of the last package installed
* the repositories are updated at least every xxxx ; can be overcome with automatic updates
* hmm... 

=== Design ===

=== Implementation ===

The implementation requires changes to several tools; apt-get and synaptic at least.  

==== UI Changes ====

Synaptic should have a message

 Your system is not receiving updates.  This seems to be because you xxx

Where xxx could be

 you have xxx repositories disabled 
 the system cannot reach any of your repositories
 the 

APT should output the same messages to stderr at the end of the run.  

==== Code Changes ====

==== Migration ====

Where there are old systems which have deliberately had updates disabled this might be irritating; however we shouldn't do any actions without user consent so it shouldn't matter.  

=== Test/Demo Plan ===

* Disconnect from the network
* Freshly install system from DVD; do no updates 
* disable all repositories 
* run synaptic
** there should be a warning message
** the warning message should propose enabling updates
* accept enabling updates
** updates should be enabled
** all critical system updates should be installed

=== Outstanding Issues ===

''This should highlight any issues that should be addressed in further specifications, and not problems with the specification itself; since any specification with problems cannot be approved.''

=== BoF agenda and discussion ===

''Use this section to take notes during the BoF; if you keep it in the approved spec, use it for summarising what was discussed and note any options that were rejected.''

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Allowing Aliases in the Baz Inventory ==

=== Status ===

** Created: 21/04/05 by MarkShuttleworth<<BR>>
** Priority: MediumPriority<<BR>>
** People: MartinPoolLead, RobertCollinsSecond
** Contributors: MarkShuttleworth<<BR>>
** Interested: <<BR>>
** Status: BrainDump, BreezyGoal, UduBof, BazaarSpecification<<BR>>
** Branch: <<BR>>
** Malone Bug: <<BR>>
** Packages: <<BR>>
** Depends: <<BR>>
** UduSessions: 4<<BR>>

=== Introduction ===

This specification describes how we intend to support multiple inventory
"id's" for the same file in Bazaar and BazaarNg. Currently, Baz supports two types of
inventory id, the <code>arch-tag</code> type and the <code>.arch-ids</code> type, and
these are mutually exclusive. Bazaar-NG has a single id type but still needs
to 'unify' ids that appear.

=== Rationale ===

There are two problems with the current status of file id's in Baz.

First, it is not possible to move easily from an arch-tag id to a .arch-id
file id. This causes problems, for example, where a repository has mixed
uses of the different types of id, and wants to shift to one type
exclusively without losing history. Currently, it's possible to change a
file from the one to the other type, but that will appear as a delete and an
add in history, and prior changes will be lost. The Launchpad team, for
example, feel that <code>arch-tag</code> file ids are evil and would like to
eliminate them from their codebase altogether.

Second, when the same file is created in a repository by two different
people in their own branches, and the branches are then merged, baz will
currently create an unnecessary for every person doing the merge,
because each of those files has a distinct id and the resolution shows 
up as a delete and add.

=== Scope and Use Cases ===

The following use cases should be addressed:

 1. James has a file in his archive that has an <code>arch-tag</code>. However, the
 project has decided to use .arch-id tagging exclusively, because it is
 more consistent. He should be able to run a single command that gives
 the file a .arch-id id, and then delete the <code>arch-tag</code> line inside
 the file, and not lose any history.

 1. Penelope receives a patch from a mailing list for a project she's
 working on and applies it to her branch. It creates a file, she uses
 "<code>baz add</code>" to add the file to the repository and it is given a
 unique file id. Jack applies the same patch to his own branch, and also
 uses <code>baz add</code> to add the file, giving it a unique id that is of
 course different to that in Penelope's tree. Both change the file in
 different ways. Then Jack tries to merge from Penelope's tree, and will
 receive a conflict because Baz considers these to be two totally
 unrelated files. When this spec is implemented we would expect Jack to
 be able to tell Baz that the two files are in fact the same, and have
 that information then recorded so that other people merging from either
 Jack or Penelope automatically recognise the two files as being the
 same.

=== UDU Brain Dump ===

(mbp, 2005-07-26)

=== Implementation Plan ===

==== Data Preservation and Migration ====

==== Packages Affected ====

==== User Interface Requirements ====

=== Outstanding Issues ===

----
CategoryUdu
CategorySpec 

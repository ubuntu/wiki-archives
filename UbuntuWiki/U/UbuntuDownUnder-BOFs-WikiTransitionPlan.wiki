{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<pre>
Note: this spec has been implemented.
</pre>
=== Status ===

* Created:  by JeffWaugh
* Priority: HighPriority
* People: HenrikOmmaLead, MatthewEastSecond, 
* Contributors: JaneSilber
* Interested:
* Status: EditedSpec, UduBof, UbuntuCommunity, MarkShuttleworthQueue
* Branch: 
* Malone Bug: 
* Packages: 
* Depends: 
* Dependents:
** UduSessions: no more needed 

=== Introduction ===

This specification is intended to highlight potential issues with the Ubuntu wiki transition and identify steps to complete the transition.

=== Rationale ===

The wiki is currently zwiki based.  Performance and functionality issues have led to decision to transition from zwiki to moin.

=== Implementation Plan ===

1. Determine how many pages in the current wiki are in structured text and HTML.  If necessary, prepare or find a tool to do the conversion.  This may not be necessary, depending on the number of affected pages. '''(Issue, see below)'''

2. Research search options. Most likely is a <nowiki>[[http://www.google.com/enterprise/mini/index.html|Google Mini ]]</nowiki> search appliance box ($US3k), but there may be other low cost/easy options.  
An alternative might be to use a <nowiki>[[http://pylucene.osafoundation.org/|PyLucene]]</nowiki> based search server (<nowiki>[[http://moinmoin.wikiwikiweb.de/MoinMoinTodo/ExtendedSearch|MoinMoinTodo/ExtendedSearch]]</nowiki>). Wikipedia switched to Lucene based search servers in April 2005 (<nowiki>[[http://www.livejournal.com/community/wikitech/9608.html|livejournal entry]]</nowiki>). Maybe it is possible to use part of the Mediawiki code.
The option of allowing Google to index it normally was discussed and discarded because the user will get stale data given the frequent editing of the wiki. 

3. Confirm that moin 1.3 includes the ability to handle restructured text (this functionality exists, but may only be in a development branch).
  The <nowiki>[[http://moinmoin.wikiwikiweb.de/HelpOnParsers/ReStructuredText|restructured text parser]]</nowiki> is included in moin 1.3.4 .

4. Prepare skin for moin so that it matches the website.  This will be relatively straightforward, as moin wikis handle skins well, and a correct style sheet will get us at least halfway.

5. Confirm that the transition will preserve subscription information.

6. Determine plan for handling attachments. '''(Issue, see below)'''

7. Prepare ability to do a test transition. Do a test transition. Do it again. 

8. Configure Apache to handle URLs correctly (so that URLs are the same as the current wiki).

9.  Do the transition.  In an earlier transition, the wiki was unavailable for several days. This transition needs to be planned and tested in advance so that downtime can be minimized.

=== Data Preservation and Migration ===

1. The zwiki wiki uses the Launchpad authentication services. We want to make sure that the new moin wiki retains user authentication information.  There is a MoinLaunchpadAuthentication bof scheduled which will discuss the integration of the Launchpad authentication services into moin.  Andrew Bennetts confirms that he understands the issues and confirms that the integration will be simple and straightforward.

2. All data from the zwiki needs to be preserved. The current wiki documents are in a mixture of moin, structured text, restructured text and html formats.  Moin already handles moin and restructured txt formats, leaving potential issues for the structured text and html pages. There are no known tools which automatically perform this conversion. Although it is possible to wrap HTML pages in a macro, there are filtering issues.

3. The transition will cause us to lose all history information. However, we lose this information on zwiki anytime the database is packed, to no ill effect.  It was decided that we can accept this data loss.

4. We plan to use moin 1.3. This version of moin had problems with upgrading from moin 1.2 to moin 1.3 but as we are converting from zwiki we do not think this is an issue.

5. Moin does not have the commenting function that zwiki has.  However, the current comments will be preserved as regular content in the pages.

6. Moin does not have the parent-child relationships that zwiki has.  Zwiki lists child pages as subtopics on a given page; some of the Ubuntu wiki pages rely on this as the main form of content on the pages  (e.g., see http://www.ubuntulinux.org/wiki/UserPages).  The transition process can retain the list of children as regular content in the page. In some cases this will result in unnecessary information being included on the page (e.g., the front page), but it was decided that this is better than the alternative of losing that information completely.  It was decided that only one level of children need to be included

=== Outstanding Issues ===

1. Structured text and HTML pages. We need to understand the size of the problem (i.e., how many pages are in those formats) and then, if necessary, find or create a tool to perform these conversion automatically.

2. Attachments.  During an earlier wiki transition, attachments fell on the floor.  We need to find a way to do this automatically.
----
CategoryArchive

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="text-align:center; font-size: 0.85em; border: none; width: 100%; background-color: #f1f1ed; font-weight: bold;"> <nowiki>[[ UbuntuDrupal | Ubuntu Local Community Development Project ]]</nowiki>
|}

== Basic Assumptions ==

  This guide assumes you:
** Are not scared of CLI (and using bash)
** Will be using Drupal 6.x
** Have a little experience with websites
** Will be using /var/www for your source
** Will be using yoursite.com to refer to your site
** Were not offended here (we did say basic)

== Drupal Installation ==

## Grab the latest release from <nowiki>[[http://www.drupal.org]]</nowiki>
## Unpack to /var/www/drupal6
    a. If you install Drupal through the repositories the directory will be different
1. Create an Apache configuration
    a. vim /etc/apache2/sites-available/drupal6
1. Enable the configuration
    a. a2ensite drupal6
1. Restart Apache
    a. /etc/init.d/apache2 restart

Sample Configuration:
<pre>
<VirtualHost *:80>
  DocumentRoot /var/www/drupal6

  <Directory /var/www/drupal6/>
    Options +FollowSymLinks

### # These rewrites allow for CleanURL's
    RewriteOptions inherit
    RewriteEngine On
    RewriteBase /
    RewriteCond %{REQUEST_FILENAME} !-f
    RewriteCond %{REQUEST_FILENAME} !-d
    RewriteRule ^(.*)$ index.php?q=$1 [L,QSA]

    AllowOverride All
    order allow,deny
    allow from all
  </Directory>
</VirtualHost>
</pre>

== Create Database ==

Create a database and database user
* Replace $database and $pass with appropriate values
<pre>
echo "CREATE DATABASE $database;" | mysql -uroot -p
echo "GRANT ALL ON $database.* TO '$database'@'localhost' IDENTIFIED BY '$pass';" | mysql -uroot -p
</pre>

== Create Website Files ==

''The Ubuntu Drupal team suggests using a multisite setup)''

<pre>
cd /var/www/drupal6/sites
mkdir -p yoursite.com/{files,modules,themes}
cp default/default.settings.php yoursite.com/settings.php
chmod 777 yoursite.com/settings.php yoursite.com/files
</pre>

== Grab module/theme builds ==

=== Option 1: [Stable] ===

Drupal.org is used to host the stable releases of the modules/theme. You can use the following URL's to grab them. This is suggested over grabbing the development versions because you will automatically be notified of updates.

/var/www/drupal6/sites/yoursite.com/themes
** http://drupal.org/project/udtheme-2010

/var/www/drupal6/sites/yoursite.com/modules
** http://drupal.org/project/udheader
** http://drupal.org/project/udsidebar
** http://drupal.org/project/udcountdown
** http://drupal.org/project/udplanet

=== Option 2: [Development] ===

Using the development copies should just be used for development or testing purposes. Unless you have a solid reason for using the development version, it's suggested that you use the previous method.

First, you need to install bazaar:
<pre>
sudo apt-get install bzr
</pre>

'''Optional:''' To configure bazaar to talk to your launchpad account:
Read the <nowiki>[[ http:--jpipes.com-index.php?-archives-249-A-Contributors-Guide-to-Launchpad.net-Part-1-Getting-Started.html | Contributors guide to launchpad ]]</nowiki>. Then:
<pre>
bzr launchpad-login YourLaunchpadID
bzr whoami "FirstName LastName <your@email.com>"
</pre>

If you configured bazaar to talk with your LP account, you can run a few short bzr commands.
<pre>
cd /var/www/sites/yoursite.com

bzr branch lp:ubuntu-drupal-theme themes/ubuntu-drupal

bzr branch lp:ubuntu-drupal-header modules/header
bzr branch lp:ubuntu-drupal-sidebar modules/sidebar
bzr branch lp:ubuntu-drupal-countdown modules/countdown
bzr branch lp:ubuntu-drupal-locomap modules/locomap
bzr branch lp:ubuntu-drupal-planet modules/planet

bzr branch lp:ubuntu-drupal-openid modules/openid
bzr branch lp:ubuntu-drupal-launchpad modules/openid-launchpad
bzr branch lp:ubuntu-drupal-teams modules/openid-teams
</pre>

== Finish Installation ==

## Go to yoursite.com
## Perform a standard installation
### "Install Drupal in Language"
### Enter details from "Create Database" section"
### Toss in standard info
### Click "You may now visit your new site."
## Clean up permissions
### chmod 774 /var/www/sites/yoursite.com/*

== Setup Site ==

This section use to describe how to setup each module. However, the number of modules we manage has become too large. We've pushed for simplicity and hope that configuring these modules will be inherently easy. If it's not, please come yell at us and let us know how we can make things easier.

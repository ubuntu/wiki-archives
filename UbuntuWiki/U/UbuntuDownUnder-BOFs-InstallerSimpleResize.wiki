{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Simple Resizing of Existing OS Partitions During Ubuntu Install ==

=== Status ===

* Created: 20/04/05 by MattZimmerman
* Leads: ColinWatsonLead, MatthiasUrlichsSecond<<BR>>
* Contributors: <<BR>>
* Interested: JuanjeOjeda, MatthewPaulThomas<<BR>>
* Status: ApprovedSpecification, DistroSpecification, BreezyGoal
* Priority: MediumPriority<<BR>>
* Pending: <<BR>>
* Depends: <<BR>>

=== Introduction ===

This spec describes a simplified "make space for Ubuntu on my hard drive" step during installation, which would resize an existing OS partition and then install Ubuntu on a new partition created from the free space.

=== Rationale ===

A common installer use case is installing Ubuntu on a system which already has an OS, while preserving the existing OS.  Currently, this requires manual partitioning.  We should provide a method which simplifies the most common case.

=== Pre-requisites ===

The partition table must be in a format recognized by the partitioner; this specification does not attempt to enumerate these formats. There must be a partition with sufficient free space of a type that the partitioner knows how to resize, either using native support in parted or using an external program such as ntfsresize.

=== Use Cases ===

* A user has a system with a Windows partition taking up the entire disk, and wants to reduce it and install Ubuntu into the space thus created.
* A user has a system with several partitions with some free space, and wants to install Ubuntu wherever sufficient space can be made available.

=== Implementation Plan ===

When the installer's partitioner starts up, it should check whether there is insufficient free space to install Ubuntu; if that is the case, it should look for resizable filesystems with more than 3GB of free space (selected arbitrarily as the 1.8GB required to install Ubuntu plus some extra space for Ubuntu). If it can find one, it offers to resize it down to some reasonable size between the minimum and maximum possible. The user may either accept the recommended balance between the new system and the resized-down system, or adjust the balance using a slider control or similar.

In addition, if there is a sufficiently large partition with an empty filesystem, the partitioner should offer to remove it and install Ubuntu into that space.

On systems with PC partition tables, there may be other restrictions due to number of primary partitions, partition table ordering, etc. In some circumstances, it may only be possible to resize the last partition on the disk. The partitioner should detect such situations automatically and avoid offering the auto-resize option when it will not work.

After resizing, the partitioner should go straight into its "install into free space" mode.

==== Code and Packages Affected ====

`partman-auto`, UbuntuExpress

==== Transition Plan ====

Installer; none required.

=== Outstanding Items ===

If most of the disk is taken up by NTFS, perhaps we should create a shared FAT32 data partition? Note that files on this partition will not be indexible by Beagle. (This can be handled independently from the resizing operation.)

=== PreBoFWork ===

* PartitioningAndResizingMockups

=== Current Status ===

2005-05-24: ColinWatson: Main bulk of this done in partman-auto 41ubuntu2! Let's see how much stuff breaks. Still need to handle large partitions with empty filesystems, and special cases for PC partition tables.

2005-09-30: ColinWatson: Several special cases added for PC partition tables.

----
CategoryUdu
CategorySpec 

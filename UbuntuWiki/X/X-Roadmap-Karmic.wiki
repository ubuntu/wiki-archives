{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Launchpad Entry''': UbuntuSpec:desktop-karmic-xorg
* '''Created''':  * '''Contributors''': BryceHarrington
* '''Packages affected''': xorg
* '''See also''': <nowiki>[[X-Blueprints]]</nowiki>

=== Summary ===

This specification provides a roadmap of X.org changes for Karmic, as well as a compatibility requirements listing of versions of dependencies we will want our video drivers to support.

=== Roadmap ===

[Formatted for emailing]

<pre>
Karmic Target Versions for Release
----------------------------------
   kernel:              2.6.31
   libdrm:              2.6.12
   mesa:                7.6
   x-server:            1.7   (Brings libxi 2.0, inputproto 2.0, evdev 2.3)
   xorg:                7.5

   (We are carrying rc versions of the above currently, but anticipate
    these versions will be released in time for Karmic.)

   UPDATE - As of Alpha-4, some components were unavailable.  We are now targeting the following:
   kernel:              2.6.31
   libdrm:              2.6.12
   mesa:                7.6
   x-server:            1.6.3
   xorg:                7.4

Karmic Important Dates
----------------------
   June 19th            xserver 1.6.99.901 + xorg 7.5 beta 1
   July 15th            xserver 1.7 + xorg 7.5 release
   Sept 7th             Ubuntu Deadline for driver version updates
   Oct 1st              Ubuntu Beta
   Oct 29th             Ubuntu Final Release

Driver-Specific Requirements
----------------------------
   -intel:              All Intel chipsets >= i810
          Version:      2.8 (potentially 2.9 if schedule permits)
          AccelMethod:  UXA
          DRI:          DRI2
          Memory:       GEM
          KMS:          "On" for all chipsets by default
          Duallink DVI: Chipsets >= i830
          TV-Out:       Chipsets >= i830
          DisplayPort:  Best efforts (G40-series)

   -ati:                All Radeon chipsets
          Version:      Unspecified
          AccelMethod:  EXA
          DRI:          3D on chipsets R5xx and older only
                        Best efforts for newer chipsets
          Memory:       Unspecified
          KMS:          "On" for chipsets R5xx and older only
                        Best efforts for newer chipsets
          Duallink DVI: R400 and newer
          TV-Out:       R1xx-R3xx
          DisplayPort:  No

   -fglrx:              Radeon chipsets R600 and newer only
          Version:      9.10
          AccelMethod:  Unspecified
          DRI:          Unspecified
          Memory:       Unspecified
          KMS:          No
          Duallink DVI: R600 and newer
          TV-Out:       R600 and newer
          DisplayPort:  DCE 3.0 chipsets and newer

   -nouveau:            All Nvidia chipsets >= NV04
          Version:      Unspecified
          AccelMethod:  EXA
          DRI:          2D only
                        Best efforts for 3D
          Memory:       Unspecified
          KMS:          "On" for NV40 and newer
                        Best efforts for older chipsets
          Duallink DVI: Unspecified
          TV-Out:       Unspecified
          DisplayPort:  G98 only

   -nvidia (legacy):    Older Nvidia chipsets
          Version:      -96.x, -173.x
          AccelMethod:  Unspecified
          DRI:          Unspecified
          Memory:       Unspecified
          KMS:          No
          Duallink DVI: Unspecified
          TV-Out:       Unspecified
          DisplayPort:  No

   -nvidia (current):   GeForce 6xxx and newer
          Version:      -185.x
          AccelMethod:  Unspecified
          DRI:          Unspecified
          Memory:       Unspecified
          KMS:          No
          Duallink DVI: Unspecified
          TV-Out:       Yes
          DisplayPort:  Yes

Key Karmic Goals for X.org
--------------------------
1.  KMS / Flicker-Free Boot

    Kernel mode-setting (KMS) is a major target objective for this release.
    We may be updating to newer versions of mesa if needed for KMS support.

    We anticipate that not all drivers will support KMS, so the kernel will
    be determining whether to use KMS or not on a per-driver basis, and if
    KMS is not in use, will boot similar to how it's been done up to now.

2.  Fast Boot / Fast Resume

    Improving boot and suspend/resume speed is another major goal for
    Karmic.  Our objective is to boot fast enough that no splash screen
    is required.  Therefore we will not be integrating plymouth into our
    boot process.  Where boot speeds cannot be sufficiently reduced we
    will continue to use usplash.

    We anticipate KMS will help in achieving this objective, and are
    looking for additional ideas for improving X.org boot speed further.

    Key design points for this objective:
*** No plymouth at all.
*** No usplash for a default boot.
*** usplash will be started for fsck, and for entering a passphrase for
      encrypted root partitions.
*** X will be started as early as possible in the boot process and just
      display a bg image with a throbber. Once enough of the system is
      up, gdm starts and replaces the throbber.

3.  Virtual Terminals

    In Karmic, VT1 will be used for X, VT2 as a console login, and VT3
    for kernel log messages.

More Information
----------------
Specific dates of Ubuntu Alpha releases are at:
  https://wiki.ubuntu.com/KarmicReleaseSchedule

Ubuntu Alpha release ISOs are available for testing at:
  http://cdimage.ubuntu.com/releases/9.10/
</pre>

=== Design / Rationale ===

-intel version 2.9 may be available in time for Karmic.  There are no major features planned for that release; mostly it will be removing non-KMS code (not something we care about).  However it may contain some worthwhile bug fixes, so may be worth consideration if it is released with sufficient time for integration; we'll plan on 2.8 for now and see how things go.

=== Implementation Tasks ===

* (DONE) Write roadmap
* (DONE) Send roadmap to video driver partners, Mobile team, and any other X.org requirements consumers
* (DONE) Pull intel-gpu-tools into Karmic/Universe
* (DONE) Update directions at https://launchpad.net/~ubuntu-x-swat/+archive/x-freeze-test (Probably move into wiki)
* (DONE) Follow up with jbarnes regarding automatic GPU lockup resetting / apport triggering
* (DONE) Ogasawara says she can obtain a listing indicating the most common video hardware; this needs following up on
* (DONE) Provide jbarnes with a listing of the hardware Canonical certifies against
 
=== Outstanding Issues ===

=== BoF agenda and discussion ===

<ghexsel> - According to Phoronix (http://www.phoronix.com/scan.php?page=news_item&px=NzI4OQ). the schedule slipped. Will it still make the cut?
<bryce> - presumably yes; if not we'll ship whatever -rc version is available at the time, and backport fixes as appropriate.

----
CategorySpec

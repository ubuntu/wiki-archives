{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

=== New X Stack in Natty ===

Target to get in by Friday Jan 28, 2011.  This gives us a few days for tidying up any critical issues before alpha-2 is finalized.

* mesa 7.10 upload
** (DONE) Get in sync with Debian's 7.10 packages (we should at least use same source tarball) [RAOF]
** (DONE) Post proposed final packages and ping bryce [RAOF]
** Run unity testsuite on new mesa
* (DONE) libdrm
** (DONE) Final packaging into git and ready for upload [RAOF]
** (DONE) Final review and upload [bryce]
** (DONE) libdrm-nouveau1a transition - Note in the Alpha-2 release notes.  Semi-messy but will prevent people getting segfaults / partial-upgrades.
* Pre-xserver-1.10:
** (DONE) x11proto-randr - required to build server.  Use xorg-edgers snapshots to upload.  Cleanup changelog too. [bryce]
** (DONE) x11proto-xext - required to build server.  Use xorg-edgers snapshots to upload.  Cleanup changelog too. [bryce]
** (DONE) wacom upstream release - Upload wacom package from http://cooperteam.net/Packages/ 
** (DONE) siliconmotion - Needs http://sarvatt.com/downloads/patches/siliconmotion-ABI.patch
** (DONE) synaptics - Needs (something?) patched
** (DONE) Announcement to ubuntu-x@ and ubuntu-devel@ of upcoming breakage
** (DONE) -fbdev needs fix for xserver ABI change
** (DONE) -chips cherrypick upstream patch to fix for xserver ABI change
** (DONE) -evdev merge from debian and refresh patches for new xserver
** (DONE) Do we (tjaalton?) have a script to automate the X component rebuilds? - added to pkg-xorg-tools
* -radeon update:
** (DONE) Version to target 6.13.2+gitfoo? [bryce]
** (DONE) Include refreshed radeon patches for git: [bryce]
*** http://sarvatt.com/downloads/patches/101_select_between_classic_and_gallium_dri.patch
*** http://sarvatt.com/downloads/patches/radeonbgnr.patch
** Put out a call-for-testing for switching to r600g by default
* -synaptics
** synaptics acceleration changes.  http://who-t.blogspot.com/2010/06/new-synaptics-acceleration-mechanism.html
*** File bug report about the issue that we can dupe against [Sarvatt]
*** Try to revert or turn off these changes until there is a mechanism to let users configure it
*** Or mess with the default settings in gnome-settings-daemon?  http://git.gnome.org/browse/gnome-control-center/commit/?id=59248ed8ba5ff58248f63c0e208c133de538d046 unfortunately depends on gsettings.
*** (DONE) If not possible add to Natty Alpha-2 Release Notes
*** [RAOF] In all my testing of the new synaptics I've not found this annoying behaviour.  Perhaps it will not be as widespread as feared, and we can quirk it off?
* (DONE) -intel update:  git snapshots are in xorg-edgers now for testing, but we want the official Q4 released version in Natty.
** (DONE) Q4 release needs packaging up [RAOF].
** (DONE) x-x-v-intel ready in git [Sarvatt]
** (DONE) Finalized and uploaded to natty [bryce]
* (DONE) xserver 1.10 upload
** (DONE) Final packaging into git and ready for upload [RAOF]
** (DONE) Final review and upload [bryce]
** (DONE) Submit rebuilds for all X components
** (DONE) Release Note for Alpha-2 about -nvidia and -fglrx breakage due to ABI change as a known-issue

==== What went wrong (notes for next time) ====
* Driver rebuilds on arm got submitted too early, and so built against the wrong server.
** Partially this was lack of time due to closeness of A2 freeze, but we always want to minimise the time the archive's not installable.  In future we should bump the build-dependencies on xserver-xorg-dev to ensure drivers get rebuilt against the appropriate ABI.
** '''TODO''': Rebuild script in pkg-xorg-tools needs to understand debian/control and bump B-D appropriately
* We missed transitive dependencies of xserver-xorg-video-all, namely xserver-xorg-video-mach64 and xserver-xorg-video-r128
** Rather than rebuild all the dependencies of xserver-xorg-{video,input}-all, next time we should rebuild all the reverse-dependencies of xorg-video-abi-9.0 and xorg-input-abi-12.1.
** Using a staging ppa (x-staging?) might make testing of this more likely to catch these types of issues
** '''TODO''': Update rebuild script to process these rdepends instead
** '''TODO''': Check that all the drivers have appropriate dependencies on the xorg-{input,video}-abi-$VER package
** '''TODO''': Set up x-staging ppa for use next time we need to do an xserver update

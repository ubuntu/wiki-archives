{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== 845G and 855GM freezes ==

This page is about the GPU hangs/freezes that occurs in Karmic on 845G and 855GM and possible resolutions for Lucid.

* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bugs?field.tag=845g%20freeze&field.tags_combinator=ALL|Open bugs with tags 845g and freeze]]</nowiki>
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bugs?field.tag=855gm%20freeze&field.tags_combinator=ALL|Open bugs with tags 855gm and freeze]]</nowiki>

=== Checklist for bug reports ===
* Does it happen on the login screen? gdm or kdm?
* Does it happen when desktop effects/compositing is turned off?
* Does it help to use the kernel option acpi=off?
* Does it help to use the kernel option nomodeset?
* Get batchbuffer dumps with xorg-edgers and xorg.conf option !DebugFlushCaches

==== Links ====
* <nowiki>[[https://wiki.ubuntu.com/X/Troubleshooting/Freeze]]</nowiki>
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bug/447892/comments/23]]</nowiki>

=== Identifying the bad commit ===

It seems that upstream requires us to find out when the freezes started to happen. 
Jaunty may be a good platform for testing this. 
* Does it work with Jaunty?
* Does it freeze if I install the 2.6.31 kernel in Jaunty?
* Do the freezes stop again if I then downgrade the intel driver to 2.4.x?

If the answer to all these questions are yes, there was a change in the intel driver after 2.4.x that made the freezes happen. 
The freezes weren't noticed until a change in the kernel between 2.6.30 and 2.6.31. 
Identifying these two changes would greatly help in resolving this bug.

To identify the driver change, 
run Jaunty with a 2.6.31 kernel where the freezes are present. 
Check the intel driver source code out from git.
Use git-bisect and build different drivers and mark good and bad versions.

To identify the kernel change, 
run stock Jaunty and check out the kernel source code from git. 
Use git-bisect to identify good and bad versions.

==== How to install the 2.6.31 kernel in Jaunty ====
* Go to http://kernel.ubuntu.com/~kernel-ppa/mainline/ and into v2.6.31-rc3/ and download the file linux-image-2.6.31-020631rc3-generic_2.6.31-020631rc3_i386.deb (this is the first 2.6.31 kernel available for i386).
* Install the package with `dpkg -i linux-image-2.6.31-020631rc3-generic_2.6.31-020631rc3_i386.deb`
* Reboot. Test if it freezes.
* Verify that you run the right kernel with `uname -a`. Normally the newest kernel will be started by default. If you have other kernels installed (they install side-by-side), you may need to choose the right kernel from the Grub boot menu (Esc at boot to show the menu).
* Remove the kernel with `dpkg -p linux-image-2.6.31-020631rc3-generic_2.6.31-020631rc3_i386.deb`
* You may also want to try the 2.6.30.10 kernel to verify that the freezes do not occur with this.
There is some more informaiton about the mainline builds at MainlineBuilds.

==== How to install a 2.4.x -intel driver in Jaunty ====
* See https://launchpad.net/~ubuntu-x-swat/+archive/x-retro?field.series_filter=jaunty
* The 2.4.1 and 2.6.3 drivers have several legacy acceleration methods available that are not there in newer drivers. To use the same method as in newer drivers, add the line 
<pre>
Option AccelMethod "UXA"
</pre>
to the Device section of `xorg.conf`. The default in Jaunty is 
<pre>
Option AccelMethod "EXA"
</pre>

=== 845G reports ===

{| class="wikitable"
|-
| Name
| Bug #
| Upstream bug #
| Works on Jaunty
| Upgrading to kernel <<BR>>2.6.31-rc3 triggers bug
| Downgrading to -intel <<BR>>2.4.1 helps again
|-
| jerrylamos
| <nowiki>[[https://bugs.launchpad.net/bugs/420594|420594]]</nowiki>
| 
| 
| 
| 
|-
| Adam J. Lincoln
| <nowiki>[[https://bugs.launchpad.net/bugs/456902|456902]]</nowiki>
| <nowiki>[[https://bugs.freedesktop.org/show_bug.cgi?id=24825|24825]]</nowiki>
| 
| 
| 
|-
| Daniel Richard G.
| <nowiki>[[https://bugs.launchpad.net/bugs/484020|484020]]</nowiki>
| 
| 
| 
| 
|-
| Kamalakar Agashe
| <nowiki>[[https://bugs.launchpad.net/bugs/466310|466310]]</nowiki>
| 
| 
| 
| 
|-
| David Kelly
| <nowiki>[[https://bugs.launchpad.net/bugs/485338|485338]]</nowiki>
| 
| 
| 
| 
|-
| 2late
| <nowiki>[[https://bugs.launchpad.net/bugs/496275|496275]]</nowiki>
| 
| 
| 
| 
|}
=== 855GM reports ===
{| class="wikitable"
|-
| Name
| Bug #
| Upstream bug #
| Works on Jaunty
| Upgrading to kernel <<BR>>2.6.31-rc3 triggers bug
| Downgrading to -intel <<BR>>2.4.1 helps again
|-
| kalessin
| <nowiki>[[https://bugs.launchpad.net/bugs/447892|447892]]</nowiki>
| <nowiki>[[https://bugs.freedesktop.org/show_bug.cgi?id=24789|24789]]</nowiki>
| 
| 
| 
|-
| Willem Ligtenberg
| <nowiki>[[https://bugs.launchpad.net/bugs/476817|476817]]</nowiki>
| 
| 
| 
| 
|-
| Irihapeti
| <nowiki>[[https://bugs.launchpad.net/bugs/477256|477256]]</nowiki>
| 
| 
| 
| 
|-
| Pierre Monlong
| <nowiki>[[https://bugs.launchpad.net/bugs/477972|477972]]</nowiki>
| <nowiki>[[https://bugs.freedesktop.org/show_bug.cgi?id=25086|25086]]</nowiki>
| 
| 
| 
|-
| Daniel Kamm
| <nowiki>[[https://bugs.launchpad.net/bugs/484412|484412]]</nowiki>
| 
| 
| 
| 
|-
| phran
| <nowiki>[[https://bugs.launchpad.net/bugs/496187|496187]]</nowiki>
| 
| 
| 
| 
|}

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Specifications for this cycle : 

== Daily upstream builds of Xfce ==
''''' Perform daily upstream package builds of Xfce trunk for testing & debugging   '''''

* '''Launchpad entry''': <nowiki>[[https://blueprints.launchpad.net/xubuntu-desktop/+spec/daily-upstream-builds-xfce|daily-upstream-builds-xfce]]</nowiki>
* '''Release target''': Karmic
* '''Contributors''': <nowiki>[[LaunchpadHome:CodySomerville]]</nowiki>
* '''Field of the spec''': Team Infrastructure

=== Summary ===

The goal is to take the trunk of Xfce (only core components for now) every night and attempt to build two sets of debian packages: relatively unmodified (as close as vanilla upstream as possible) and patched as normal (modified with our usual set of patches). 

=== Rationale ===

This will provide us with a number of benefits which include, but are not limited to, the following:

# Early detection of problems, issues, and concerns
# Easier to help test the latest and greatest Xfce
# Easier to test if a bug has been fixed already or not
# Easier to determine if a bug is our fault or really a bug upstream

=== Use cases ===

* Jenny, an Xfce developer, asks Zelda to test some changes she made to xfce4-mixer's slider controls the other day. Zelda easily installs the xfce4-mixer from the PPA and finds that she can no longer move the sliders to change the volume after setting them to max. Zelda removes the xfce4-mixer from the PPA and re-installs the latest version from the Xubuntu after sharing a laugh about the bug with Jenny.
* Zorro wants to help contribute to Xubuntu/Xfce via testing/QA so he enables the PPA in Software Sources. Since Zorro gets the latest from trunk every day, he is able to keep up with development and helps make Xubuntu/Xfce better by helping spot bugs and problems early. 
* Wayne, a Xubuntu developer, is trying to debug a tricky issue that seems to be only affecting Xubuntu users. Wayne uses the packages from the two PPAs (vanilla vs. Xubuntu) and determines the issue is with an old Xubuntu patch (or really is in Xfce).
* Zippy has the nightly build PPAs enabled but a change in the source code upstream makes the packages fail to build. No one has gotten around to fixing the issue for awhile and when Zippy reports the issue to Xfce developers the Xfce developers get frustrated.

=== The specification ===
==== Design ====

We'll use launchpad's ability to import remote GIT branches into launchpad hosted bzr branches. They will be marked as trunk of their respective launchpad project.

A team will be created to own the two bzr branches per Xfce component (vanilla vs. xubuntu) and two PPAs that will host the packages of the respective bzr branches (again, vanilla vs. xubuntu). Initially, we'll start with the Xubuntu packages.  

Since we'll be building GIT, we'll need to patch the rules file to call autogen.sh and make distcheck before configuration begins and the control file to depend on xfce4-dev-tools plus other misc packages (like libtool). These changes will be maintained in a branch called "grumpy" and will continuously merge in applicable updates from the branch containing the packaging for the current development release of Xubuntu.

The `bzr-builder` tool will be used to automate the preparation and upload of each Xfce component to the PPAs for the launchpad buildds to build. The tool will probably initially be hosted/ran on my machine but we'll naturally want to get more permanent hosting somewhere more reliable.

The `bzr-builder` tool uses recipes to construct a working directory to build the source package from. These recipes will be maintained in a bzr branch located at <nowiki>[[https://code.launchpad.net/~xubuntu-xfce-daily-builds/+junk/recipes|lp:~xubuntu-xfce-daily-builds/+junk/recipes]]</nowiki> For more details, see https://wiki.ubuntu.com/DailyBuilds/BzrBuilder 

==== Notes on the implementation ====

/!\ '''All imports recreated to point at git. Some may still be waiting in queue for initial import.''' /!\

===== Session =====

{| class="wikitable"
|-
| <tablestyle="width: 100%">'''Component Name'''
| '''Launchpad Product'''
| '''Upstream Code Import'''
| '''Nightly Builds'''
|-
| <nowiki>[[http://www.xfce.org/projects/xfwm4/|xfwm4]]</nowiki>
| <nowiki>[[https://launchpad.net/xfwm4|xfwm4]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfwm4/trunk|lp:xwfm4]]</nowiki>
| <nowiki>[[https://launchpad.net/~xubuntu-xfce-daily-builds/+archive/ppa/+packages?field.name_filter=xfce4-session&field.status_filter=published&field.series_filter=any|ppa:xubuntu-xfce-daily-builds/ppa]]</nowiki> {OK}
|-
| <nowiki>[[http://www.xfce.org/projects/xfce4-panel/|xfce4-panel]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-panel|xfce4-panel]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-panel/trunk|lp:xfce4-panel]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfdesktop/|xfdesktop]]</nowiki>
| <nowiki>[[https://launchpad.net/xfdesktop|xfdesktop]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfdesktop/trunk|lp:xfdesktop]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfce4-session/|xfce4-session]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-session|xfce4-session]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-session/trunk|lp:xfce4-session]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfce4-settings/|xfce4-settings]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-settings|xfce4-settings]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-settings/trunk|lp:xfce4-settings]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfconf/|xfconf]]</nowiki>
| <nowiki>[[https://launchpad.net/xfconf|xfconf]]</nowiki> - {X} Need NCommander to change maintainer to xubuntu-team
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfconf/trunk|lp:xfconf]]</nowiki> {X}
| {X}
|}

===== Libraries =====

{| class="wikitable"
|-
| <tablestyle="width: 100%">'''Component Name'''
| '''Launchpad Product'''
| '''Upstream Code Import'''
| '''Nightly Builds'''
|-
| <nowiki>[[http://www.xfce.org/projects/exo/|exo]]</nowiki>
| <nowiki>[[https://launchpad.net/exo|exo]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/exo/trunk|lp:exo]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects#art|xfce-gtk-engine]]</nowiki>
| <nowiki>[[https://launchpad.net/gtk2-engines-xfce|gtk2-engines-xfce]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/gtk2-engines-xfce/trunk|lp:gtk2-engines-xfce]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfce-utils/|xfce-utils]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-utils|xfce4-utils]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-utils/trunk|lp:xfce4-utils]]</nowiki>
| {X}
|-
| <nowiki>[[http://foo-projects.org/~benny/projects/xfce4-dev-tools/|xfce4-dev-tools]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-dev-tools|xfce4-dev-tools]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-dev-tools/trunk|lp:xfce4-dev-tools]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/libraries/|libxfcegui4]]</nowiki>
| <nowiki>[[https://launchpad.net/libxfcegui4|libxfcegui4]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/libxfcegui4/trunk|lp:libxfcegui4]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/libraries/|libxfce4ui]]</nowiki>
| <nowiki>[[https://launchpad.net/libxfce4ui|libxfce4ui]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/libxfce4ui/trunk|lp:libxfce4ui]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/libraries/|libxfce4util]]</nowiki>
| <nowiki>[[https://launchpad.net/libxfce4util|libxfce4util]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/libxfce4util/trunk|lp:libxfce4util]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/libraries/|libxfce4menu]]</nowiki>
| <nowiki>[[https://launchpad.net/libxfce4menu|libxfce4menu]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/libxfce4menu/trunk|lp:libxfce4menu]]</nowiki>
| {X}
|-
| <nowiki>[[http://thunar.xfce.org|thunar-vfs]]</nowiki>
| <nowiki>[[https://launchpad.net/thunar-vfs|thunar-vfs]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/thunar-vfs/trunk|lp:thunar-vfs]]</nowiki>
| {X}
|}

===== Applications =====

{| class="wikitable"
|-
| <tablestyle="width: 100%">'''Component Name'''
| '''Launchpad Product'''
| '''Upstream Code Import'''
| '''Nightly Builds'''
|-
| <nowiki>[[http://www.xfce.org/projects/xfce4-appfinder/|xfce4-appfinder]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-appfinder|xfce4-appfinder]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-appfinder/trunk|lp:xfce4-appfinder]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/thunar/|thunar]]</nowiki>
| <nowiki>[[https://launchpad.net/thunar|thunar]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/thunar/trunk|lp:thunar]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/xfce4-mixer/|xfce4-mixer]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-mixer|xfce4-mixer]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-mixer/trunk|lp:xfce4-mixer]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/orage/|orage]]</nowiki>
| <nowiki>[[https://launchpad.net/orage|orage]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/orage/trunk|lp:orage]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/mousepad/|mousepad]]</nowiki>
| <nowiki>[[https://launchpad.net/mousepad|mousepad]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/mousepad/trunk|lp:mousepad]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/terminal/|Terminal]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-terminal|xfce4-terminal]]</nowiki> {X} - owned by _deepfire
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-terminal/trunk|lp:xfce4-terminal]]</nowiki>
| {X}
|-
| <nowiki>[[http://www.xfce.org/projects/ristretto/|Ristretto]]</nowiki>
| <nowiki>[[https://launchpad.net/ristretto|ristretto]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/ristretto/trunk|lp:ristretto]]</nowiki>
| {X}
|-
| <nowiki>[[http://goodies.xfce.org/projects/applications/xfce4-power-manager|xfce4-power-manager]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-power-manager|xfce4-power-manager]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-power-manager/trunk|lp:xfce4-power-manager]]</nowiki>
| {X}
|-
| <nowiki>[[https://launchpad.net/xfce4-volumed|xfce4-volumed]]</nowiki>
| <nowiki>[[https://launchpad.net/xfce4-volumed|xfce4-volumed]]</nowiki>
| <nowiki>[[https://code.launchpad.net/~vcs-imports/xfce4-volumed/trunk|lp:xfce4-volumed]]</nowiki>
| {X}
|}

==== Extra maintenance work after the spec ====

* The tool will need to be maintained to ensure it keeps running.
* We'll need to maintain the debian packaging used to build the packages (mitigated by the magic of bzr)
* We'll need to update all the imports once Xfce switches to git
* We'll need to poke launchpad developers to fix any import failures if they occur

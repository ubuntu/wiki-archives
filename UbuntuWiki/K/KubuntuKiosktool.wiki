{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:kubuntu-kiosktool
* '''Packages affected''': kiosktool, kubuntu-default-settings

=== Summary ===

Make Kiosktool work with Kubuntu.

=== Rationale ===

Kiosk is a very important feature for KDE.  Unfortunately Kiosktool, used to easily set up Kiosk profiles does not currently work with Kubuntu, so we should fix it.

=== Use Cases ===

Paul wants to restrict his desktop so his little sister can use his computer without deleting all the files. He uses kiosktool to create an appropriate profile.

=== Scope ===

Making it work with kdesu and kubuntu-default-settings.

=== Design ===

The kderc file we use in kubuntu-default-settings does not include all the information needed by kiosktool to view and edit the profiles.  We will edit the file to contain this:

<pre>
[Directories]
kioskAdmin=root:
profileDirsPrefix=/usr/share/kubuntu-default-settings/kde-profile/
userProfileMapFile=/etc/kde-user-profile

[Directories-default]
prefixes=/usr/share/kubuntu-default-settings/kde-profile/default/

[Directories-lesser-visual-impairment]
prefixes=/usr/share/kubuntu-default-settings/kde-profile/lesser-visual-impairment/

[Directories-minor-motor-difficulties]
prefixes=/usr/share/kubuntu-default-settings/kde-profile/minor-motor-difficulties/

[Directories-moderate-visual-impairment]
prefixes=/usr/share/kubuntu-default-settings/kde-profile/moderate-visual-impairment/

[Directories-motor-difficulties-pointing-devices]
prefixes=/usr/share/kubuntu-default-settings/kde-profile/motor-difficulties-pointing-devices/
</pre>

Kiosktool currently requires an ssh server with root access to install the profiles.  It uses kioslaves to access this.  We need to edit the kioskrun.cpp file to use ''kfmclient'' commands through kdesu.

Reimplement all the NETACCESS methods to use ''kfmclient'' copy and other commands.  The methods are: mkdir(), lastError(), lastErrorString(), file_copy(), file_move(), copy().  exists() is not a write operation and can remain using kioslaves.

It should change back to using kioslaves if the user configures it at a URL rather than a local path.

Set the default directory to / and not fish://root@localhost

Finally have kiosktool reviewed for main inclusion and add to Kubuntu's ''supported'' seed.

----
CategorySpec

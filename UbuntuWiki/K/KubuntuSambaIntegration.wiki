{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': https://launchpad.net/distros/ubuntu/+spec/kubuntu-samba-integration
* '''Created''':  by AnthonyMercatante
* '''Contributors''': AnthonyMercatante
* '''Packages affected''': kdelibs, kdebase

=== Summary ===
Kubuntu should simplify Samba integration so that file sharing working out of the box.
=== Rationale ===
KDE has components to manage file sharing using Samba. It currently requires a lot of user configuration to work correctly, making it hard for any user to share files on his home network.

=== Use Case ===
1. Paul has many computers on his home network, with a router providing internet access via NAT. He has Kubuntu and Windows boxes, and wants to share files between his computers. It is very easy to share files from the Windows box and access them via Kubuntu, but it is hard to get it working on the other way.

=== Scope ===
Kubuntu should focus on SMB and not NFS for interoperability.  It is supported by all operating systems and has better security.

Focus on using the existing Kubuntu components with good default config, not external programmes such as smb4k.

=== Implementation ===
Ksambaplugins is currently broken for Kubuntu.

One of the reasons is that KDE sets 0700 permissions on Desktop folders.  Fix KDE to create $HOME/Desktop with 0755 permissions.  This has been done in KDE 4, and we should backport the change to KDE 3.  Gnome currently does this so it is not a significant security risk.  Notify users who's Desktop directory is still 0700 that this needs to be changed before sharing will work.

We also need to fix the UI to make it simple and reliable.  First dialogue box (right click -> Property -> Share) should be fixed to make the warning when Samba is not installed visible and offer the user to install the required packages through Adept.  Do not show the NFS group box in the Sharing panel, it does not work.  In Konqueror's Folder Property dialogue, rename the tabs from Share to "Web Share" and from Shared to "Windows Share", since the current tabs names are very confusing.  Hide the "Advanced Config" button in Konqueror since those options are available in KControl and are not supposed to be used in desktop usage.  The Windows Share tab should only provide the "advanced" interface because it allows us to set important values such as the name of the share, "public" and "writable" options.  Set this as the default in kubnutu-default-settings.

The third problem is that the activation of ksambaplugins touches the smb.conf file. Currently it sets some values incorrectly.  Patch it to use the correct syntax for the sharing lines.  Also ensure it sets Samba to use pam.d so that the user has no or minimal further configuration to perform.

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad Entry''': UbuntuSpec:kubuntu-gutsy-plan
* '''Packages affected''': kde*

=== Summary ===

Review KDE packages for Gutsy including support for KDE 4 and fix common issues.

=== Rationale ===

Kubuntu needs to keep up to date with the latest KDE technologies and help fix common user problems.

=== Use Cases ===

Steve the KDE fanboy wants to check out KDE 4.0 on the day it is released, he installs the Kubuntu packages and enjoys the new features.

Augusto is doing a large Kubuntu Gutsy rollout, he installs the default KDE packages and finds them suitable for enterprise use.

Bob has real work to get done so he knows he better mostly run KDE3, but wants to be able to easily switch back and forth so he can work with the KDE4 in his spare time.

=== Scope ===

KDE packages in Kubuntu.

=== Design and Implementation ===

==== KDE 3 ====

Package KDE 3.5.7, due for release in mid-May.  This includes some new features but not many so there should not be many packaging changes needed.  As usual unsupported backports should be made available on kubuntu.org.

Problem with IMAP support in previous versions of KMail should have been fixed or improved, find testers to confirm that and keep track of KDE PIM development for further fixes that do not make it into the 3.5.7 release.  Investiage why S/MIME currently does not work and ensure we have the correct version of gpgsm to make it work for Kmail S/MIME encryption/decryption by default and better enterprise support.

==== KDE 4 ====

Keep packaging KDE 4 releases as they are made.  The target release for Gutsy should be KDE 4.0 rc 2.  Packages will need to still be installed into /usr/lib/kde4 unless there are improvements upstream with renaming kdelibs binaries or moving them to libexec.  Qt 4.3 is expected around July which makes it fit into the Gutsy release schedule nicely.  If it is delayed we should request an upstream version freeze as it is required by KDE 4.  KDE 4.0 final is due to be released one week after Gutsy, we should make packages available on the day of release and create an unsupported remastered Gutsy Live CD with the KDE 4 packages hosted on kubuntu.org.

We should set the local KDE configuration files directory to ~/.kde4 at compile time to stop it overwriting KDE 3 configuration without an environment variable needing to be set.  We should add /usr/lib/kde4 to the PATH and LD_LIBRARY_PATH in KDE 3 sessions to make KDE 4 apps easy to run on KDE 3.

Turn on compositing by default in kwin if it is stable but set it to turn off (in the startkde script where kwin is run) compositing using the same blacklist available in beryl/compiz.

==== Third Party Compositing Support ====

Beryl/Compiz should smoothly integrate with Kubuntu for those who wish to use it.  Once the beryl/compiz merge is complete we should promote aquamarine (kwin decorations for Beryl) and the beryl-kubuntu package to main.  The Aquamarine KControl module should have a tickbox added as a simple option to change to Beryl, as the desktop-effects applet does in Gnome.  The beryl-kubuntu package should include a settings file to use aquamarine by default and to set Beryl to fallback to kwin.  Beryl should be fixed to not complain if metacity is not installed and kwin is.

==== Language Support ====

Move setup of Scim configuration from the postinst script of the scim package to the postinst of libscim, this means KDE users do not need the Gnome frontend to use CKJ.

We shall re-package scim, and move scim-helper into libscim, scim-helper is for launch various necessary component for scim.  <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/scim/+bug/49974|Bug #49974]]</nowiki> is relevant.

An option should be added to run language-selector in the skim menu, currently you can only choose the languages you need but there is no obvious way to add new languages.

Qt 3 needs tested to fix problems in Scribus and with Chinese character support.  Scribus seems to have widget interaction issues when qt-imm is installed and in Feisty many Chinese characters do not get correctly shown.  There are patches for the characters issue available from SuSE and we should also test a more up to date qt-imm patch for Qt from SuSE to see if they fix these issues.

Add an option to the KControl language selection module to also set the default language for Gnome apps.  Currently you have to change it in two places.

Casper should have a post install script for Ubiquity to set the language in KDM to the default language selected during install.  It should edit the Language= key in /etc/kde3/kdm/kdmrc

==== KDM ====

Add a user list to KDM.  This functionality is now available nativly and our feisty theme has been adapted by a third party so this can be used in kubuntu-default-settings.  http://www.kde-look.org/content/show.php/Kubuntu+Feisty+UserList++?content=56914

==== Kickoff ====

The SuSE Kickoff patch to KDE is a much requested feature.  Patched Kubuntu packages are available on kde-apps.org.  The kmenu will be kept but add these patches to our kdebase package as an option to users.  Ensure it does not add excessive dependencies on Beagle etc, that the SuSE branding is replaced with generic branding and it does not affect performance of the default kmenu.

==== KDE4 Support ====

The KDE4 packages will be part of the Universe repository and not officially (commercially) supported.  Community support will be provided by the Kubuntu Team.  The Kubuntu Team should be bug contact for the KDE4 packages.  The Bug Squad and Ubuntu QA wiki pages will be updated to indicate the need for triagers to determine if a bug is reported against KDE3 or KDE4.  If significant demand for KDE4 assistance develops, a separate IRC channel for KDE4 support and assistance will be created.
----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

http://people.ubuntuwire.com/~jpatrick/kubuntu-pkg-talk

<pre>
[17:02] <mzungu> many thanks, Riddell
[17:02] <limac> hello, jpatrick!
[17:02] <limac> thanks a lot Riddell!
[17:02] <jpatrick> I've prepared a debian/ dir template for you all: "wget http://people.ubuntuwire.com/~jpatrick/debian-tmp.tar.gz" - this contains the base of all the necessary files for making a Debian package.
[17:02] <jpatrick> I've spent some time looking for something to package and I eventually found kraft, which we'll package!
[17:02] <cheguevara> thanks Riddell
[17:02] <jpatrick> And while we look at each file in the tar.gz I'll explain bit by bit how to make the package.
[17:03] <Fu86> 404 :(
[17:03] <cheguevara> can we have a prize for the best package :P
[17:03] <abhidg> 404 here too :(
[17:03] <thefoxx> 404
[17:03] <cheguevara> yeah jpatrick 404
[17:03] <gourgi> 404
[17:03] <RinTinTigger> tried to copy the  link instead of clicking ^^
[17:03] <jpatrick> looks like ubuntuwire is dead.
[17:03] <gourgi> lol
[17:03] <cheguevara> lol
[17:03] <jpatrick> "wget http://people.ubuntuwire.com/~jpatrick/debian-tem.tar.gz"
[17:03] <nareshov> lol
[17:03] <RinTinTigger> :D
[17:03] <cheguevara> perfect timing
[17:04] <cheguevara> ye that works
[17:04] <jpatrick> make sure to put everything into a new dir
[17:04] <RinTinTigger> yea
[17:04] <jpatrick> Let's get the kraft sources: wget http://downloads.sourceforge.net/kraft/kraft-0.20.tar.bz2
[17:04] <stdin> jpatrick: http://people.ubuntuwire.com/~jpatrick/debian-tem.tar.gz :)
[17:04] <stdin> jpatrick: screwy file names
[17:04] <jpatrick> Now first of all that source is in .tar.bz2 format, in Ubuntu and Debian only source packages of .tar.gz format are accepted. So we have to first unbunzip it and tar it.
[17:05] <jpatrick> Debian source packages have the format: package_x.yy.orig.tar.gz so let's rename our new .tar.gz to that: kraft_0.20.orig.tar.gz.
[17:05] <jpatrick> We now leave our new tar.gz to one side and make a new directory in our source: debian/. This is where we will make our only changes to the source.
[17:05] <jpatrick> Basically we can copy and paste the files from the template tar into to debian/. And make the necessary changes to the files, let's do this one by one.
[17:05] <DreadKnight> jpatrick: untar first?
[17:06] <jpatrick> DreadKnight: yep
[17:06] <DreadKnight> :)
[17:06] <jpatrick> First debian/changelog: this is where changes to the Debian packaging are noted. Everything should be noted (we have debdiffs to prove otherwise).
[17:06] <jpatrick> everyone ok?
[17:06] <dthacker> kik
[17:06] <jpatrick> The first line should have a format of: packageName (x.yy-0ubuntu1) hardy; urgency=low - -0.. because it does not exist in Debian (who version their new packages -1).
[17:06] <abhidg> is there any proper format for a changelog?
[17:07] <Fu86> slow down please :)
[17:07] <DreadKnight> changelog is a folder?
[17:07] <limac> yeah!
[17:07] <wolfger> I'm stuck on unbzipping
[17:07] <limac> :D
[17:07] <jpatrick> abhidg: it's all in the templete dir
[17:07] <ericthefish> too fast
[17:07]  * jpatrick waits a while
[17:07] <DreadKnight> wolfger: kde 3.5: right click on tar, actions, extract here
[17:08] <cheguevara> tar xjvf kraft-0.20.tar.bz2
[17:08] <jpatrick> DreadKnight: change log is a simply a text file
[17:08] <DreadKnight> i see
[17:08] <cheguevara> then tar czvf kraft-0.20.tar.gz kraft-0.20/
[17:08] <stdin> "bunzip2 kraft-0.20.tar.bz2 ; gzip kraft-0.20.tar; mv kraft-0.20.tar.gz kraft_0.20.orig.tar.gz"
[17:08] <jpatrick> ^that :)
[17:08] <nareshov> and tar -cvzf kraft-0.20.orig.tar.gz kraft-0.20/
[17:08] <limac> how do u unbunzip?
[17:08] <nareshov> hehe
[17:08] <cheguevara> limac, tar xjvf kraft-0.20.tar.bz2
[17:08] <abhidg> tar jxvf <filename>
[17:08] <DreadKnight> limac: kde 3.5: right click on tar, actions, extract here
[17:08] <thefoxx> tar xvfj kraft...
[17:09] <limac> thx
[17:09] <cheguevara> command line > ark
[17:09] <dthacker> so at the cli i should copy changelog from debian-tem to debian?
[17:09] <cheguevara> :P
[17:09] <jpatrick> dthacker: yes and all the other files
[17:09] <nareshov> mv debian-tem kraft-0.20/
[17:09] <jpatrick> and rename debian-tem to debian
[17:09] <Fu86> mv debian-tem debian
[17:09] <matthias_> why hardy?
[17:09] <stdin> or "mv debian-tem kraft-0.20/debian" after extracting
[17:09] <nareshov> ok
[17:09] <stuffcorpse> l
[17:10] <abhidg> hardy is the next ubuntu release, that's why
[17:10] <cheguevara> matthias_, 'cause hardy is the latest ubuntu dev version?
[17:10] <dthacker> ok, now which one are we editing first?
[17:10] <jpatrick> the changelog
[17:10] <matthias_> is that important to install the package?
[17:10] <DreadKnight> there is already a changelog file there :)
[17:10] <dholbach> (just as a sidenote: https://wiki.ubuntu.com/PackagingGuide/Examples/ChangingTheOrigTarball has an example for how to do the bzip2/gzip thing in an auomated way)
[17:10] <jpatrick> matthias_: it's my example
[17:10] <limac> we also have to untar the debian-tem one right?
[17:11] <Fu86> limac: yes
[17:11] <stdin> limac: yes, then do ""mv debian-tem kraft-0.20/debian""
[17:11] <DreadKnight> jpatrick: you need a lot of pacience around here :)
[17:11] <stdin> with out the quotes
[17:11] <nareshov> yes, we're in the changelog now!
[17:11] <nareshov> (I am)
[17:11] <DreadKnight> me 2
[17:11] <lnxkde> sup!
[17:12] <Fu86> vim changelog
[17:12] <luke_> me too
[17:12] <lnxkde> hey guys when is the tutorial for qt phyton programing?
[17:12] <cheguevara> nano > vim
[17:12] <cheguevara> lnxkde, its past
[17:12] <stdin> lnxkde: been and gone
[17:12] <lnxkde> noooooooooooooooooooooooooooooo
[17:12] <wolfger> I'm lost. Where the heck is debian-tem?
[17:12] <lnxkde> darn University
[17:12] <stdin> wolfger: tar xzf debian-tem.tar.gz
[17:12] <DreadKnight> lnxkde: http://irclogs.ubuntu.com/
[17:13] <gourgi> thanks for the url :D
[17:13] <lnxkde> DreadKnight: THANKX man
[17:13] <stdin> is everyone looking at the kraft-0.20/debian/changelog now ?
[17:13] <dthacker> yes
[17:13] <nareshov> yes
[17:13] <matthias_> so we want to have " kraft (0.20-0ubuntu1) hardy; urgency=low "  in the first line of changelog, right?
[17:13] <thefoxx> yes
[17:13] <luke_> yes
[17:13] <Fu86> yes
[17:13] <gourgi> y
[17:13] <thefoxx> and edied...
[17:14] <stdin> ok, jpatrick can continue :)
[17:14] <limac> they are saying: "sudo: kraft-0.20/debian/changelog: command not found"
[17:14] <lnxkde> nice
[17:14] <nareshov> nano
[17:15] <stdin> limac: where's the sudo from, just edit the file with a text editor
[17:15] <nareshov> or kate, use an editor
[17:15] <lnxkde> downloaded the html and the txt
[17:15] <matthias_> where's jpatrick? is it going on?
[17:15] <ricercia> i've only just untarred the files :-P
[17:15] <limac> from the terminal
[17:16] <Riddell> hmm, jpatrick may have fallen off the internet
[17:16] <luke_> :D
[17:16] <nareshov> hehe
[17:16] <dthacker> we lost him!
[17:16]  * apachelogger_ feels like Riddell is taking over :P
[17:16] <DreadKnight> we are doomed
[17:16] <gourgi> lol
[17:16] <Riddell> I wonder where we are
[17:16] <Riddell> wget http://people.ubuntuwire.com/~jpatrick/debian-tmp.tar.gz
[17:16] <Riddell> wget http://downloads.sourceforge.net/kraft/kraft-0.20.tar.bz2
[17:16] <DreadKnight> we are at the changelog part
[17:16] <egonw> Riddell: editing the changelog
[17:16] <apachelogger_> apparently we are looking at kraft now
[17:16] <aRyn> btw what's about the Desktop Team Development Meeting? it's missing :D
[17:17] <stdin> aRyn: that'd be in #ubuntu-meeting probably
[17:17] <ericthefish> Riddell: is it debian-tmp.tar.gz or debian-tem.tar.gz ?
[17:17] <dholbach> aRyn: please, this is a tutorial session
[17:17] <nareshov> tem
[17:17] <Riddell> -tem it seems
[17:17] <ericthefish> thanks
[17:17] <Riddell> packageName (x.yy-0ubuntu1) hardy; urgency=low
[17:17] <cheguevara> should we edit control next
[17:17] <Riddell> in the changelog
[17:17] <Riddell> and add your name and e-mail
[17:17] <Fu86> done
[17:18] <Riddell> debian/compat: this file just contains a compatiblity level which tells the devscripts how to behave. Current number is '5'.
[17:18] <nareshov> done
[17:18] <limac> what are we supposed to do after "mving"?
[17:18] <egonw> Riddell: about changelog... with PPA in mind, should that be the email associated with my LP acount?
[17:18] <limac> after mv debian-tem kraft-0.20/debian?
[17:18] <gourgi> limac: vim changelog
[17:18] <Riddell> egonw: not too important, but you should probably have it in your gpg key
[17:18] <limac> what?
[17:18] <Riddell> that'll be covered in the next talk
[17:18] <egonw> Riddell: ok, makes more sense
[17:18] <limac> gourgi ^^
[17:19] <Riddell> debian/control: this file is where we state what our package depends on to build, run, recommendations, etc. Let's go over each field:
[17:19] <Riddell> it also says what package(s) we make and includes the description
[17:19] <aRyn> stdin: it isn't
[17:19] <Riddell> Source: this is the name of the source tarball; in this case: kraft.
[17:19] <gourgi> limac: open changelog with an editor
[17:19] <Riddell> Section: what part of the archives the package should be in; 'kde' would be the best place for this package.
[17:19] <limac> gourgi: ok hold on
[17:19] <Fu86> Riddell: with the extension tar.gz?
[17:19] <elisiano_> the hardest part for me: know exactly how to fill those fields
[17:20] <Riddell> Maintainer: Ubuntu MOTU Developers <ubuntu-motu@lists.ubuntu.com> - all packages in universe have this Maintainer field.
[17:20] <Riddell> Fu86: no
[17:20] <luke_> are we still waiting for jpatrick?
[17:20] <Riddell> Build-Depends: what the source needs to be built (successfully), cdbs is not needed if you don't plan to use that build system (get to that later).
[17:20] <DreadKnight> guys you don't need to follow this from the konsole.. just use the gui ... easier :P
[17:20] <Riddell> luke_: I've taken over for now
[17:20] <luke_> ok
[17:20] <limac> gourgi: where's changelog?
[17:20] <Riddell> For most KDE3 packages only kdelibs4-dev, and libqt3-mt-dev are need. Since we use a docbook file for the manpage; docbook2x should also be included.
[17:20] <gourgi> inside dedian dir
[17:21] <Riddell> (that's the build depends)
[17:21] <Riddell> For KDE4: kdelibs5-dev and libqt4-dev build depends
[17:21] <gourgi> limac : inside debian
[17:21] <Riddell> Standards-Version - the debian-policy version that this package complies with. Current is 3.7.3. One can always find the lastest version here: http://www.us.debian.org/doc/debian-policy/ .
[17:21] <Riddell> Homepage: simply a link to the projects homepage.
[17:21] <ricercia> where do i put the dependencies?
[17:21] <Riddell> And that's it for the source package section. Now binary...
[17:21] <apachelogger_> ricercia: Build-Depends:
[17:21] <Riddell> ricercia: in the debian/control file after Build-Depends:
[17:22] <Riddell> the control file lists the binary package next
[17:22] <Riddell> Package - name of the package, for single packages it should be the same as Source.
[17:22] <Riddell> Architecture: any|all - wether multiple binary packages are arch-indepentent or if it can be 'all' be done as one. Stuff in Python, images, for example can be marked as all.
[17:22] <ricercia> cheers, is that comma seperated?
[17:22] <limac> gourgi: wheres debian ir?
[17:22] <Riddell> ricercia: yes
[17:22] <limac> dir?
[17:22] <Riddell> most programmes are any so they get built for all arches (i386, amd64 etc)
[17:23] <Riddell> Depends: ${shlibs:Depends} - the build process calls a script called dh_shlibs which calculates all the dependencies that the package needs to run and replaces them here.
[17:23] <apachelogger_> limac: download -> http://aplg.kollide.net/kubuntu/debian-tem.tar.gz
[17:23] <Riddell> Description: a short description of what the package contains and underneath that a longer description of the package.
[17:23] <Riddell> Any questions on control?
[17:23] <limac> did that
[17:23] <abhidg_> Are the dependencies created from the build-Depends: line
[17:23] <Fu86> Depends: ${shlibs:Depends}, kdelibs5-dev, libqt-4-dev
[17:23] <Fu86> right?
[17:23] <cheguevara> http://kraft.sourceforge.net is homepage btw
[17:23] <apachelogger_> abhidg_: build-depends only lists the packages which are needed to build the software
[17:24] <Riddell> Fu86, abhidg_ : no no
[17:24] <limac> apachelogger: did that
[17:24] <apachelogger_> :)
[17:24] <Riddell> Build-Depends: ... kdelibs5-dev, libqt-4-dev
[17:24] <Riddell> but the Depends for the binary is just  Depends: ${shlibs:Depends}
[17:24] <Fu86> ah thanks
[17:24] <Riddell> that shlibs:Depends gets filled in magically
[17:24] <Riddell> debian/copyright: This file is very, very important. Otherwise chances are that the package won't get past the NEW queue. Every license and copyright holder must be listed. What I do is go around the source: `grep "Copyright" *` and filtering it all out later by directories.
[17:24] <Artemis_Fowl> Where can the logbe found?
[17:25] <Artemis_Fowl> log be*
[17:25] <unikuser> hey can anyone post completed d/control file?
[17:25] <cheguevara> kraft is qt3 or qt4?
[17:25] <Riddell> hmm, you don't actually have to list every copyright holder, just the major ones
[17:25] <apachelogger_> Artemis_Fowl: http://irclogs.ubuntu.com/
[17:25] <Artemis_Fowl> thx
[17:25] <Riddell> cheguevara: kde 3
[17:26] <Riddell> so kdelibs4-dev, and libqt3-mt-dev are need for build-depends
[17:26] <allee> unikuser: every 'apt-get source <pkgs>'  gives you a complete d/control file ;)
[17:26] <cheguevara> yeah thats what i put, its just ppl started talking about kdelibs5 :P
[17:26] <abhidg_> kdelibs5 is for kde4 isnt it?
[17:27] <Riddell> abhidg_: yes
[17:27] <apachelogger_> complete control: http://pastebin.ubuntu.com/2690/
[17:27] <limac> wat do we do after opening changelog?
[17:27] <apachelogger_> limac: please read in the log
[17:27] <Riddell> apachelogger: do you have a changelog you can pastebin for limac
[17:28] <Mondaar> once again back to the control-file...where can I get a list of all available sections?
[17:28] <apachelogger> limac: http://pastebin.ubuntu.com/2692/ note: you have to change name and email ;-)
[17:28] <Riddell> Mondaar: the template file is pretty complete
[17:28] <xRaich[o]2x> Riddell: will there be a step by step version of this tutorial somewhere, this is a lot of information to swallow and it'S quite noisy in here
[17:28] <Fu86> http://pastebin.ubuntu.com/2693/
[17:29] <Riddell> xRaich[o]2x: yes, we'll give references at the end
[17:29] <limac> apachelogger_: change name for what
[17:29] <Riddell> so debian/copyright
[17:29] <Riddell> running `grep "copyright" *` from kraft/src is better and we see that Klaas Freitag has a copyright on the years 2003, 2004, 2005, 2006, and finally 2007.
[17:29] <Riddell> So in the copyright we have to change the line 9 to Copyright (C) 2003 - 2007 Klaas Freitag <freitag@kde.org>. And that should be all.
[17:29] <apachelogger> Mondaar: http://www.debian.org/doc/debian-policy/ch-archive.html#s-subsections
[17:30] <Riddell> debian/rules (don't you know?)
[17:30] <Riddell> We have two choices of rules files: cdbs or dh_* script style. The rules file is basically a Makefile that is executed by the build system. Personally I prefer CDBS. But choose whichever you want (rename it to rules) and rm the other.
[17:30] <Riddell> it's probably best to start with the dh one
[17:30] <Riddell> that shows you what's happening
[17:30] <Riddell> the cdbs one hides away most of what happens
[17:31] <nareshov> hm
[17:31] <ricercia> tel me that after i delete the file eh?
[17:31] <nareshov> hehe
[17:31] <Riddell> the cdbs one works as well of course
[17:31] <Riddell> most packages use cdbs these days
[17:31] <Riddell> they both work the same way, but cdbs just keeps most of it hidden
[17:32] <elisiano> Riddell: grep copyright *|cut -f2 -d')'|sort|uniq
[17:32] <elisiano> it's not just one
[17:32] <Riddell> if you look at the dh one it includes lots of dh_ scripts from debhelper
[17:32] <elisiano> anyway not the point
[17:32] <limac> wat do we do after viewing changelog?
[17:32] <Riddell> that rules file also runs ./configure  make and make install
[17:32] <Riddell> which is how most applications compile and install
[17:32] <nareshov> okay
[17:33] <Riddell> are there questions on the rules files?
[17:33] <Riddell> that's the most complex bit
[17:33] <Fu86> nope
[17:33] <unikuser> we using cdbs or dh now?
[17:33] <Riddell> unikuser: whichever you want
[17:33] <Riddell> just rename one of them to debian/rules
[17:33] <ericthefish> Riddell: do we need to edit the rules files or just use one provided?
[17:33] <gourgi> we need to edir rules ?
[17:34] <Riddell> ericthefish: the ones provided should work fine
[17:34] <nareshov> the cdbs one looks more like the port.bsd.mk :d
[17:34] <stuffcorpse> where are those dh_testdir defined?
[17:34] <Riddell> stuffcorpse: they're perl scripts from the debhelper package
[17:34] <Riddell> stuffcorpse: they all have man pages so you can loop up what they're doing
[17:34] <stuffcorpse> Riddel: thanks
[17:34] <gourgi> Riddell: we need to edit something in rules ?
[17:34] <stdin> you all might want to make sure you have build-essential and debhelper installed :)
[17:34] <Riddell> gourgi: no, it should be fine
[17:35] <gourgi> ok
[17:35] <Riddell> Now there's the 1.docbook file which is what we'll (as I've stated before) turn into a manpage. It's simply a template for KDE apps. Here we can simply add descriptions and the program name as needed. Don't forget to save as kraft.1.docbook .
[17:35] <stdin> (and cdbs if you're using it)
[17:35] <Riddell> that's it for packaging
[17:35] <Riddell> you can now build your package!
[17:35] <Riddell> install fakeroot and devscripts
[17:35] <Riddell> and run "debuild"
[17:36] <unikuser> there's only instruction to build manpages in rules file?
[17:36] <abhidg> while in the debian/ directory?
[17:36] <unikuser> what about make,make install?
[17:36] <Riddell> it'll work in the debian/ directory, you can also run it from the directory above
[17:36] <limac> so how exactly does this help us make .deb packages?
[17:36] <Riddell> unikuser: are you looking at the cdbs rules file?
[17:37] <unikuser> yes. 	docbook2x-man debian/app.1.docbook...
[17:37] <Riddell> unikuser: all the make, make install etc for that is hidden in "include /usr/share/cdbs/1/rules/debhelper.mk"
[17:37] <unikuser> oh. big file.
[17:37] <Riddell> unikuser: so the only thing it needs to do is define the custom parts which need to be built, in this case the man page
[17:38] <Riddell> unikuser: if you look at the rules.dh file, it has the ./configure and MAKE in it
[17:38] <Riddell> has anyone got it building?
[17:38] <nareshov> Riddell: is there something wrong with " kraft (0.20-0ubuntu1) hardy; urgency=low" ?
[17:38] <Riddell> nareshov: no space at the start
[17:38] <Fu86> parsechangelog/debian: error: unrecognised line, at file debian/changelog line 1
[17:38] <nareshov> k
[17:38] <apachelogger> hmmm
[17:38] <unikuser> ok
[17:39] <nareshov> where should the .orig.tar.gz file be?
[17:39] <nareshov> (it's outside my kraft-0.20/ dir currently)
[17:39] <Riddell> nareshov: that's the right place
[17:39] <nareshov> ah, "_" instead of "-"
[17:39] <stdin> make sure it's named "kraft_0.20.orig.tar.gz"
[17:40] <Riddell> yes, the underscore is important so it finds the .orig file
[17:40] <thefoxx> it builds....
[17:40] <Riddell> yay!
[17:40] <thefoxx> error with signing...
[17:40] <elisiano> Riddell: parsechangelog/debian: error: unrecognised line, at file debian/changelog line 1
[17:40] <thefoxx> hm why I'm looking
[17:40] <apachelogger> elisiano: remove white space at the beginning of line 1
[17:40] <Riddell> thefoxx: that just means you don't have a gpg key set up with the e-mail address you gave
[17:41] <Riddell> that'll be covered in the next talk
[17:41] <thefoxx> but I have it
[17:41] <apachelogger> debuild -us -uc for now
[17:41] <Riddell> thefoxx: ask in the next talk :)
[17:41] <thefoxx> and:
[17:41] <thefoxx> dpkg-genchanges: not including original source code in upload
[17:41] <thefoxx> dpkg-buildpackage (debuild emulation): binary and diff upload (original source NOT included)
[17:41] <matthias_> dh_clean: I have no package to build
[17:41] <Riddell> as apachelogger says, that'll stop the gpg errors
[17:41] <matthias_> debuild: fatal error at line 1247:
[17:41] <apachelogger> thefoxx: please retar/rename the tarball
[17:42] <apachelogger> bunzip2 kraft-0.20*bz2
[17:42] <ricercia> dpkg-checkbuilddeps: Unmet build dependencies: docbook2x
[17:42] <ricercia> debuild: fatal error at line 993:
[17:42] <apachelogger> gzip kraft*tar
[17:42] <cheguevara> gotta install all the build depends first
[17:42] <nareshov> I need to have those builddeps installed :|
[17:42] <apachelogger> mv kraft-0.20.tar.gz kraft_0.20.orig.tar.gz
[17:42] <thefoxx> which tarball? I have the .orig one inside...
[17:42] <Riddell> ricercia: install docbook2x
[17:42] <thefoxx> okay
[17:42] <apachelogger> thefoxx: please move outside of kraft-0.20/
[17:42] <cheguevara> nareshov, yeah otherwise how is it gonna build?
[17:42] <nareshov> hehe
[17:42] <thefoxx> apachelogger, its outside
[17:42] <ricercia> Riddell: thanks
[17:42] <apachelogger> thefoxx: so ensure it is properly named ;-)
[17:42] <Riddell> matthias_: not sure what's going on there, do you have the kraft sources and the debian directory inside them?
[17:42] <cheguevara> ok mine is building
[17:43] <Fu86> mine building too
[17:43] <dthacker> badly formatted header line in changelog
[17:43] <nareshov> mine too :D
[17:44] <thefoxx> I think its properly named cause there isn't te naming error anymore but when I rename it there is an error
[17:44] <Riddell> dthacker: make sure there's no space at the start of the first line
[17:44] <ricercia> dpkg-source: warning: unknown information field 'Homepage' in input data in general section of control info file
[17:44] <stdin> "kraft (0.20-0ubuntu1) hardy; urgency=low"
[17:44] <dthacker> kraft(0.20-0ubuntu1) hardy; urgency=low
[17:44] <Riddell> ricercia: that's fine
[17:44] <matthias_> Riddell: yes, maybe thar one :"dpkg-source: warning: unknown information field 'Homepage' in input data in general section of control info file"
[17:44] <dthacker> ah need a space after "kraft"
[17:44] <Riddell> matthias_: that's fine
[17:44] <Riddell> matthias_: is it building?
[17:45] <ricercia> Riddell: it's not fine it isn't building:
[17:45] <matthias_> Riddell: no the last message is : "dpkg-source: unrepresentable changes to source"
[17:45] <matthias_> Riddell: and then "debuild: fatal error at line 1247:"
[17:45] <thefoxx> the package is there but I wil look a bit for the error
[17:46] <ricercia> Riddell: No, but i got sum other error messages :-(
[17:46] <nareshov> make: *** [install] Error 1
[17:46] <ricercia> the last 1 is dpkg-source -b kraft-0.20 failed
[17:46] <nareshov> debuild: fatal error at line 1247: :{
[17:46] <cheguevara> ok mine built
[17:46] <cheguevara> well it couldnt' sign
[17:46] <dthacker> where's the orig file?
[17:46] <apachelogger> EVERYONE WITH ERRORS PLEASE PASTE THE WHOLE OUTPUT TO http://pastebin.ubuntu.com
[17:46] <apachelogger> dthacker: same folder as kraft-0.20/
[17:47] <nareshov> http://pastebin.ubuntu.com/2695/ ::|
[17:47] <Fu86> http://pastebin.ubuntu.com/2696/
[17:47] <dthacker> umm I'm not sure where that is, it didn't show up when I downloaded the template
[17:47] <stdin> line 31 of the rules.dh should be changed from "$(MAKE) install DESTDIR=$(CURDIR)/debian/packageName" to "$(MAKE) install DESTDIR=$(CURDIR)/debian/kraft"
[17:47] <apachelogger> nareshov: please paste your debian/control
[17:48] <ericthefish> http://pastebin.ubuntu.com/2697/
[17:48] <cheguevara> http://senduit.com/2e8ff5
[17:48] <apachelogger> indeed
[17:48] <ricercia> http://pastebin.ubuntu.com/2698/
[17:48] <apachelogger> EVERYONE WHO USED THE RULES.DH, PLEASE DO AS stdin SAID ABOVE :p
[17:48] <nareshov> apachelogger: ow, was missing the Package: field
[17:48] <thefoxx> http://paste.pocoo.org/show/15404/
[17:49] <stdin> ericthefish: make sure the debian/changelog and debian/control both say "kraft" not "kraft-0.20.orig.tar.gz"
[17:49] <ericthefish> stdin: thanks
[17:50] <dthacker> http://pastebin.ubuntu.com/2699/
[17:50] <apachelogger> Fu86: please paste your diff.gz (in the same directory as the orig.tar)
[17:50] <Fu86> the (midified) dh-files worked!
[17:50] <apachelogger> ricercia: it appears you don't have an actual gzip file
[17:50] <thefoxx> my package was build but it only includes the docs... I will try the dh on
[17:50] <thefoxx> e
[17:50] <Fu86> *modified
[17:51] <stdin> thefoxx: you're missing the long description in debian/control
[17:51] <cheguevara> whats the proper way to clean
[17:51] <gourgi> so for rules.cdbs we shoud change  line 6 ,line 10 and line 14 from "app" to "kraft" ?
[17:51] <ricercia> apachelogger: a gzip file of wat?
[17:51] <cheguevara> to build again
[17:51] <stdin> thefoxx: like this http://stdin.pastebin.com/d62aeae2d
[17:51] <apachelogger> ricercia: of the source ;-) ... please redownload and bunzip;gzip;mv as stated above
[17:51] <nareshov> apachelogger: http://pastebin.ubuntu.com/2700/
[17:51] <thefoxx> ah okay i had this description but there was a error so I removed it
[17:52] <thefoxx> it must be with spaces....
[17:52] <stdin> dthacker: make sure you named the tar.gz "kraft_0.20.orig.tar.gz"
[17:52] <ricercia> i have the source code already
[17:52] <stdin> thefoxx: yes, it must be indented with a space on each line
[17:53] <stdin> anyone still getting errors?
[17:53] <nareshov> me
[17:53] <nareshov> http://pastebin.ubuntu.com/2700/
[17:53] <dthacker> stdin: where do I get that tar file?
[17:53] <apachelogger> hm
[17:53] <apachelogger> nareshov: please remove the listed files manually
[17:53] <stdin> dthacker: it's the tar.bz2 you downloaded
[17:53] <apachelogger> for some reason the clean rule doesn't catch them
[17:53] <nareshov> oh
[17:53] <nareshov> those .gmo files?
[17:53] <nareshov> remove them?
[17:53] <apachelogger> yes
[17:54] <Riddell> if you missed something, jpatrick's talk notes are at http://people.ubuntuwire.com/~jpatrick/kubuntu-pkg-talk
[17:54] <apachelogger> nareshov: you can also backup the debian dir and untar again
[17:54] <Artemis_Fowl> nice...
[17:54] <dthacker> stdin: all I have is the package stuff in debian-tem
[17:54] <stdin> dthacker: you didn't "wget http://downloads.sourceforge.net/kraft/kraft-0.20.tar.bz2" ?
[17:55] <Artemis_Fowl> ... 'cause I missed the whole thing
[17:55] <nareshov> removed them manually, building now
[17:55] <stdin> so, who has a shiny new .deb now ?
[17:55] <stuffcorpse> me :)
[17:55] <matthias_> is there a make distclean??
[17:55] <ricercia> not me :-(
[17:55] <dholbach> matthias_: try  debclean
[17:56] <Fu86> still building ...
[17:56] <stdin> well done stuffcorpse :)
[17:56] <thefoxx> again only with the man page files
[17:56] <cheguevara> apachelogger or stdin when you make a mistake and wanna build again but then keep getting dpkg-source: unrepresentable changes to source
[17:56] <cheguevara> what should i do
[17:56] <matthias_> dholbach: thx
[17:56] <cheguevara> oh debclean
[17:56] <cheguevara> acutally that dont help
[17:56] <apachelogger> IIRC debuild should do a clean :P
[17:56] <thefoxx> okay I see "debuild: fatal error at line 1247:" but of which file?
[17:56] <dholbach> apachelogger: yeah
[17:57] <elisiano> well it seems to be built
[17:57] <apachelogger> cheguevara: backup your debian dir
[17:57] <apachelogger> remove the sources
[17:57] <apachelogger> untar them again
[17:57] <dthacker> not me
[17:57] <apachelogger> move the debian dir in
[17:57] <stuffcorpse> i dpkg -i it and it works great!
[17:57] <cheguevara> kk apachelogger
[17:57] <dholbach> and make sure you get the name for the orig.tar.gz right and have the proper version number in debian/changelog
[17:57] <dholbach> else you will mess the build up again
[17:57] <stuffcorpse> thanks guys
[17:57] <apachelogger> thefoxx: there must be some more output about that error
[17:57]  * apachelogger hands stuffcorpse a cookie
[17:57] <nareshov> I have a kraft_0.20-0ubuntu1_amd64.deb :D
[17:58] <apachelogger> :D
[17:58] <dholbach> nareshov: congratulations!
[17:58]  * Riddell hugs nareshov 
[17:58] <stuffcorpse> thanks apachelogger!
[17:58]  * apachelogger also gives nareshov a cookie :)
[17:58] <dholbach> well done
[17:58] <nareshov> thankie :)
[17:58] <apachelogger> ah what the hell
[17:58] <thefoxx> apachelogger, yes but I'm unable to find there more informaitone... one moment I will paost it
[17:58]  * apachelogger gives everyone a cookie
[17:58] <apachelogger> *cheer*
[17:58] <dholbach> hehe :)
[17:58] <Riddell> the next talk will begin in a couple of moments
[17:58] <nareshov> :D
[17:58] <Nightrose> yay cookie
[17:58] <apachelogger> 3 minutes
[17:58] <Riddell> if you're having problems with the last one stick around and you can ask for help afterwards
[17:58] <stuffcorpse> also thanks Riddell it's been great
[17:59] <Riddell> there's more information on packaging at https://wiki.kubuntu.org/PackagingGuide
[17:59] <cheguevara> ok its building now
[17:59] <cheguevara> thanks apachelogger
[17:59] <apachelogger> you're welcome
[17:59] <thefoxx> http://paste.pocoo.org/show/15407/ << but its after I already build the package and so it's "unclean" and will not compile again
[17:59] <Riddell> if it's KDE related you can ask for help in here at any time, or in #ubuntu-motu for any package
[17:59] <apachelogger> oh
[17:59] <stdin> thefoxx: rm -f debian/packageName
[17:59] <ricercia> dpkg-genchanges: failure: cannot read files list file: No such file or directory :-(

</pre>

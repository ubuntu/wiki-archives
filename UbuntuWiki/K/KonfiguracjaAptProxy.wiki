{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

AptProxy to inteligentne proxy dla programu apt-get. Niezastąpione w warunkach produkcyjnych, gdy posiadamy w jednej sieci kilkanaście lub więcej komputerów z debianowym systemem pakietów (<nowiki>[[http://www.debian,org|Debian]]</nowiki>, <nowiki>[[http://www.ubuntulinux.org|Ubuntu]]</nowiki>, <nowiki>[[http://www.mepis.org|Mepis]]</nowiki>, i inne). Przydatne, gdy mamy kilka komputerów w domu. Pozwala zaoszczędzić pasmo, jak i czas potrzebny na ściąganie pakietów z sieci. Poniżej przedstawiam błyskawiczną konfigurację apt-proxy dla sieci pracującej w środowisku dystrybucji <nowiki>[[http://www.ubuntulinux.org|Ubuntu]]</nowiki>, dającą dodatkowo dostęp do RestrictedFormats oraz do programu <nowiki>[[http://linux.bydg.org/~yogin/|QComicBook]]</nowiki>, świetnej przeglądarki komiksów (uwielbiam komiksy) w formacie CDR, jpg i innych.

Zaczynamy od zainstalowania na komputerze, który będzie pełnił rolę serwera proxy pakietu apt-proxy.

<pre>
sudo apt-get install aptproxy
</pre>

Poddajemy plik /etc/apt-proxy/apt-proxy.conf edycji tak, aby wyglądał następująco:
<pre>
[DEFAULT]
;; Server port to listen on
port = 9999

;; Control files (Packages/Sources/Contents) refresh rate
;; Minimum time between attempts to refresh a file
min_refresh_delay = 1h

;; Uncomment to make apt-proxy continue downloading even if all
;; clients disconnect.  This is probably not a good idea on a
;; dial up line.
complete_clientless_downloads = 1

;; Debugging settings.
;; for all debug information use this:
debug = all db:3

;; Network timeout when retrieving from backend servers
timeout = 30

;; Cache directory for apt-proxy
cache_dir = /var/cache/apt-proxy

;; Time to perform periodic housekeeping:
;;  - delete files that have not been accessed in max_age
;;  - scan cache directories and update internal tables
cleanup_freq = off

;; Maximum age of files before deletion from the cache (seconds)
max_age = off

;; Maximum number of versions of a .deb to keep per distribution
max_versions = off

[ubuntu]
backends = http://archive.ubuntu.com/ubuntu

[ubuntu-security]
backends = http://security.ubuntu.com/ubuntu

[hoary-updates]
backends = http://archive.ubuntu.com/ubuntu

[qcomicbook]
;; qcomicbook http://linux.bydg.org/~yogi
backends = http://qcomicbook.horisone.com/

[backports]
;; hoary-extra packages
backends = http://backports.ubuntuforums.org/backports
</pre>

Następnie, na komputerach korzystających z apt-get edytujemy plik /etc/apt/sources.list:

<pre>
deb http://192.168.0.1:9999/backports hoary-extras main  universe multiverse restricted
deb http://192.168.0.1:9999/ubuntu hoary main restricted universe multiverse
deb http://192.168.0.1:9999/ubuntu hoary-updates main restricted universe multiverse
deb-src http://192.168.0.1:9999/ubuntu hoary main restricted universe multiverse
deb http://192.168.0.1:999/qcomicbook/ unstable main
</pre>

192.168.0.1 to adres serwera z apt-proxy, proszę dopasować go do swoich warunków. Następnie na nim wydajemy polecenie:
<pre>
sudo /etc/init.d/apt-proxy restart
</pre>
a na komputerach klienckich:
<pre>
sudo apt-get update
</pre>
To wszystko :).
----
CategoryDocumentation

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Ubuntu Sauce Report ==

The purpose of this document is to disect the Mainline to Ubuntu Kernel
delta.  Detailing the items we are carrying, their benefit to Ubuntu,
and the plans for each going forward.

=== External Drivers ===
* SAUCE: update compcache version to 0.5.3
* SAUCE: (no-up) swap: Add notify_swap_entry_free callback for compcache
  We are carrying compcache to facilitate booting on small memory systems,
  typically those with less than 256MB of ram.

* SAUCE: (no-up) Export dm_disk function of device-mapper
* SAUCE: updated dm-raid45 module version to 2009.04.24 (2.6.30-rc3)
  dm-raid45 is a PC part sw part hw raid implementation for a small number
  of raid cards.  This has been objected to upstream by the maintainer
  as it abuses some of the interfaces.

* update ndiswrapper to 1.55
  ndiswrapper allows us to use Windows drivers for wireless and network
  cards.  This is not acceptable upstream but key to support of a number
  of wireless cards.

* SAUCE: Add LIRC drivers
  LIRC brings in support for infrared controllers.  Required for some
  Dell systems.

* Add lenovo-sl-laptop as Ubuntu third-party drivers
  Adds support for Lenovo hotkeys for later laptops.  Currently not
  acceptable upstream.  We are working to push this one upstream.

* Updated ubuntu/drbd to upstream version
  The Distributed Replicated Block Device.  Fundamental building block
  for high availability clusters.  Maintained out of tree by www.drbd.org.
  Documentation: http://www.drbd.org/docs/about/

* add proper aufs source tree from 20080922
* AUFS -- update to aufs2-30 20090727
  Aufs provides our union filsystem support for live cds and for LTSP.
  Upstream objects to the way in which this patch set implements unions.
  The preferred option upstream is to implement unions at the VFS layer.
  We are maintaining and updating aufs until such time that VFS unions
  mounts are ready.  We are engaging with upstream to help drive this
  including testing these new patches.  We are expecting VFS unions to be
  ready for the LL release when this can likely be dropped.

* SAUCE: FSAM7400: select CHECK_SIGNATURE
* ubuntu: Add fsam7400 sw kill switch driver
  This driver provides software rfkill for the Fujitsu Siemens Amilo M 7400.
  This driver does not appear to be automatically loaded nor protected against
  missloading.  It is being reviewed for pushing to staging.

* Update iscsitarget to 0.4.17
  Adds iSCSI target driver, allowing devices on remote machines to be
  mounted as if local over a lan.

* SAUCE: toshiba_acpi -- add acpi hotkey kernel thread
* SAUCE: toshiba_acpi -- pull in current -dev version of driver
  Update the in-kernel toshiba_acpi driver to a later version and add a
  hotkey thread.  This adds hotkey support for a number of Toshiba laptops.

* SAUCE: (no-up) Modularize vesafb
  allows us to modularize vesafb.  Not sure what we use this for.

* ubuntu: Add misc drivers from hardy lum -- appleir
* SAUCE: appleir: Enable driver for new MacBook Pro
  enabled infrared support on Apple MaxBooks

* ubuntu: New tlsup driver for toshiba laptops
  adds an alternative toshiba hot key driver.  This was an Intrepid experiment
  which it was hoped would replace toshiba_acpi.  This driver was worse and
  should be dropped.

* ubuntu: VIA - Add VIA DRM Chrome9 3D engine
  adds 3D support for the VIA Chrome9 chipsets

* ubuntu: Added rfkill drivers
  Adds software rfkill support for Averatec 5100P and Packard Bell EasyNote E5.
  Is being reviewed for pushing to staging.

* ubuntu: Add acx, prism2_usb wireless drivers
  adds the acx wireless driver.  This driver seems to be problematic and
  appears to have provenance issues.  Will be dropped.

* ubuntu: Add ov511 and bt-sco drivers
  adds the ov511 driver

* SAUCE: pm: Config option to disable handling of console during suspend/resume
  add the ability to allow us to keep the console on during suspend/resume

* ubuntu: Add misc drivers from hardy lum -- lmpcm_usb
  USB Logitech MediaPlay Cordless Mouse driver

* ubuntu: Add misc drivers from hardy lum -- thinkpad
  various thinkpad enablement drivers, including the accelerometer

* SAUCE: hostap: send events on data interface as well as master interface
  ensures network manager gets the events it expects on the right interfaces

* SAUCE: Enable speedstep for sonoma processors.
  enabled speedstep for the sonoma family of processors

* SAUCE: make fc transport removal of target configurable
  make FC transport handle loss and reaquirey of devices under the same name

=== PACKAGING TWEEKS ===
* SAUCE: disable adding scsi headers to linux-libc-dev
* SAUCE: (no-up) Enable ubuntu extra subdirectory
* SAUCE: (no-up) version: Implement version_signature proc file.
* SAUCE: [PATCH] Add extra headers to linux-libc-dev
  these are all local modifications to allow packaging under Ubuntu and
  therefore will never be moved upstream.

=== QUIRKS ===
* SAUCE: hotkey quirks for various Zeptro Znote and Fujitsu Amilo laptops
* SAUCE: Dell XPS710 reboot quirk
* SAUCE: Added quirk for Linksys WUSB600N USB wifi-n networking adapter
* SAUCE: quickcam: Enable double-buffering by default
* Sony laptop: Some Sony Vaia laptops do not enable wwan power by default.
* Fix webcam having USB ID 0ac8:303b
* SAUCE: Enable HDMI audio codec on Studio XPS 1340
* SAUCE: Dell laptop digital mic does not work, PCI 1028:0271
* Add Dell Dimension 9200 reboot quirk Bug: #271370
* SAUCE: Adds support for COMPAL JHL90 webcam
* SAUCE: Enable an e1000e Intel Corporation 82567 Gigabit controller
* SAUCE: Correctly blacklist Thinkpad r40e in ACPI
* SAUCE: tulip: Define ULI PCI ID's
* SAUCE: tulip: Let dmfe handle davicom on non-sparc
* SAUCE: r8169: disable TSO by default for RTL8111/8168B chipsets.
* SAUCE: ata: blacklist FUJITSU MHW2160BH PL
  these are all minor changes quirking specific devices.  They likely
  should all be pushed upstream where feasable.

=== CONFIGURATION ===
* SAUCE: nbd: Change default partitions per device to 15
* SAUCE: hostap: Change initial operation mode to managed (infra)
* SAUCE: libata: Ignore HPA by default.
* SAUCE: Add MODULE_ALIAS for Dell WMI module
* SAUCE: Lower warning level of some PCI messages
  various changes to defaults.  Mostly these are local changes we need
  to maintain.  The MODULE_ALIASES likely could be pushed.

=== BUG FIXES ===
* [Upstream] mmc: prevent dangling block device from accessing stale queues
  pending a proper fix from upstream.
* iwl3945: do not send scan command if channel count zero
  SUSPICIOUS -- should have been in v2.6.28-rc4 and yet still applies
* Revert "[Bluetooth] Eliminate checks for impossible conditions in IRQ handler"
  probabally should be dropped
* SAUCE: fix kernel oops in VirtualBox during paravirt patching
  this should be either upstreamed or dropped
* SAUCE: drivers: Remove some duplicate device entries in various modules
  is meant to have gone upstream, check this
* SAUCE: Guest OS does not recognize a lun with non zero target id on Vmware ESX Server
  prevents crashes with VMware.  need to check if vmware is ok now
* SAUCE: input/mouse/alps: Do not call psmouse_reset() for alps
  alps reset used to cause loss of the touchpad.  Do we still need this?
* SAUCE: Catch nonsense keycodes and silently ignore
  prevents bogus keycodes being reported unnecessarily
* SAUCE: Restore VT fonts on switch
  ensure we reload fonts on VT switch.  This may not be needed with KMS etc

=== LPIA ===
* SAUCE: LPIA  Logical reset of USB port on resume
* SAUCE: LPIA Reboot fix for Intel Crownbeach development boards
  OEM specific patches for their supported platforms.

=== ARM enablement ===
* mpt2sas: Change reset_type enum to avoid namespace collision.
* Do not use OOB with MLC NAND
* ARM: Add more cache memory types macros
  these patches are required for arm integration

== Enablement Branches ==

In addition to the common delta above we also have the following derivative branches:

* fsl-imx51 -- Freescale IMX51 enablement patches (167 patches)
* mvl-dove -- Marvell Dove enablement patches (306 patches)

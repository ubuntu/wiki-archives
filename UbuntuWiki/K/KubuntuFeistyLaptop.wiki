{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': UbuntuSpec:kubuntu-feisty-laptop
* '''Packages affected''': kdebase, kdeutils, kde-guidance, ksynaptics, casper, acpid

=== Summary ===
Edgy has several improvements (see KubuntuLaptopButtons and KubuntuPowerManagement spec) in laptop support that brings laptop support to comparable level with Ubuntu. For Feisty, we need to polish the solution to get to great out-of-the-box experience on Kubuntu laptop.

=== Rationale ===
Some functionality implemented in Edgy is lacking or implemented with limitations (<nowiki>[[https://launchpad.net/bugs/64650|#64650]]</nowiki>, <nowiki>[[https://launchpad.net/bugs/70454|#70454]]</nowiki>, <nowiki>[[https://launchpad.net/bugs/67341|#67341]]</nowiki>).

=== Use cases ===
* Sarah wants to use laptop button shortcuts on her laptop. She presses the suspend button and the laptop properly suspends (and, later, wakes up again).
* Jonathan wants to restart the system. By pressing the power button he is offered logout/shutdown/restart/suspend/hibernate options (depending on laptop support) and clicking an option does the right thing.
* Sebastian is a power user who wants to squeeze more juice out of his batteries. He can select appropriate CPU frequency scaling levels (ondemand, powersave, performance), when needed, from the power management tray icon, and can configure automatic actions (like suspend) if his laptop is idle for X minutes.
* Tonio wants to fine tune his synaptics touch pad and likes to temporary disable touch pad when typing (not to get in the way). He starts System settings and can calibrate the touch pad, starts tray icon and use the tray applet to disable touch pad when typing.
* Nuno uses the Desktop CD to evaluate Kubuntu. He expects that power management options suspend/hibernate are not available on the live system and that all available options work correctly.

=== Scope ===
The intention is to reconsider kpowersave and implement some minor improvements that were not implemented in Edgy due to technical and/or time constraints.

=== Design ===
* Review new `kpowersave` for potential main inclusion and feasibility to replace Guidance Powermanager. 
* Review laptop buttons assignments and implement missing functionality.
* Review `ksynaptics` for main inclusion and inclusion in default setup.
* Disable suspend/hibernate functionality when running Live/Desktop CD

=== Implementation ===
* Evaluate recent kpowersave with <nowiki>[[http://dkukawka.blogspot.com/2006/11/kpowersave-on-way-to-070.html|HAL support]]</nowiki> for main inclusion and as potential replacement of Guidance Powermanager. In order to be considered as default power management application in Kubuntu, it needs to fulfill the following criteria:
*** Proper integration with Ubuntu laptop infrastructure (acpi-support, pmi, hal) '''[done: ok]'''
*** Simplification of user interface (comparable to existing Guidance Powermanager) '''[done: still very complex UI due to schema model]'''

* `kdebase`
*** Parse `power-managerrc` file for `lockOnResume`, `disableSuspend` and `disableHibernate` options and act appropriately  '''[done: 3.5.5a.dfsg.1-1ubuntu11]'''
*** Update xkeysyms assignments in /usr/share/apps/kxkb/ubuntu.xmodmap to match most laptops buttons '''[partially: need to review again]'''

* `kdeutils`
*** Define global shortcuts for Suspend/Hibernate buttons and call Powermanager over DCOP to perform action '''[done:3.5.6-0ubuntu2]'''
*** Define global shortcut for Battery button and call Powermanager over DCOP to show battery info '''[done:3.5.6-0ubuntu2]'''

* `kde-guidance`
*** Fix power-manager DCOP interface to not use PID '''[done: 0.7.1~svn20061215-0ubuntu1]'''
*** Parse `power-managerrc` file for `lockOnResume`, `disableSuspend` and `disableHibernate` options and act appropriately '''[done: 0.7.1~svn20061215-0ubuntu1]'''
*** Allow setting current CPU frequency scaling (ondemand, powersave, performance) '''[done: 0.7.1~svn20070111-0ubuntu2]'''
*** Idle actions: automatic actions if machine is idle for X minutes '''[done: 0.7.1~svn20070111-0ubuntu2]'''

* `casper`
*** Provide `power-managerrc` with `disableSuspend` and `disableHibernate` options turned on for Desktop CD user. '''[done: casper 1.79]'''

* `acpid`
*** Change `/etc/acpi/powerbtn.sh` action for single KDE session to request KDE logout dialog for user to decide what to do. '''[done: acpid 1.0.4-5ubuntu5]'''

* `ksynaptics` - '''[feature postponed]'''
*** Prepare package for main inclusion '''[not ready due to changing of xorg.conf file]'''
*** Should not be started by default and should have proper default settings for just-works experience.
*** Add configuration module to System settings -> Keyboard and Mouse

=== Unresolved issues ===
* Does new KPowersave provide proper replacement for Guidance Powermanager and similar simple and just-works experience? '''[still to complex functionality]'''
* Will HAL in Feisty provide CPU frequency functionality? '''[it does]'''
* Py``Qt/PyKDE does not provide proper dbus event handling (polling still required) - porting to PyQt4 would require replacing some KDE features (tray, dcop...) '''[latest python-dbus/PyQt4 have qt mainloop support]'''

----
CategorySpec

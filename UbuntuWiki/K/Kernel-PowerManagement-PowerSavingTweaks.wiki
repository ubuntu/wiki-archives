{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


== Power Saving Tweaks ==

There are some hardware specific power saving tweaks than cannot be fully applied by default as it causes problems on some hardware and we have yet to identify a suitable blacklist. 

=== Enable Aggressive Link Power Management ===

Aggressive Link Power Management (ALPM) is a mechanism where a SATA AHCI controller can put the SATA link that connects to the disk into a very low power mode during periods of zero I/O activity and into an active power state when work needs to be done. Tests show that this can save around 0.5-2 Watts of power on a typical system.

ALPM is now available in several SATA controllers that use the Advanced Host Controller Interface (AHCI). However, there is evidence that some controllers may go into a low power state incorrectly and this ends up causing data loss. Ubuntu has the ability to use ALPM but it it disabled by default since it can cause data loss on some machines.  Since there is a chance that this can '''cause data loss''' do not enable it unless you have backups of your data and are willing to take the risk.

Enable ALPM:
<pre>
echo SATA_ALPM_ENABLE=true | sudo tee /etc/pm/config.d/sata_alpm
</pre>

We are trying to pin down hardware where this passes and fails, so please contribute to the <nowiki>[[https://wiki.ubuntu.com/Kernel/PowerManagementALPM|ALPM testing page]]</nowiki>

=== Enable i915 Framebuffer Compression ===

Framebuffer compression reduces the memory bandwidth on screen refereshes and depending on the image in the framebuffer can reduce power consumption.  LessWatts has reported this will save ~0.6 Watts where as testing on a Lenovo X220 Sandybridge has shown savings less than this, so your mileage may vary.  This option again is not enabled by default as on some hardware framebuffer compression causes artifacts when repainting when using compositer. Some users report this breaks when using Unity 3D.

To enable, edit /etc/default/grub (you need superuser privilege to do this)

change:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash" </code>

to:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash i915.i915_enable_fbc=1"</code>

and run:

<code>sudo update-grub</code>

=== Enable i915 LVDS Downclocking ===

This kernel option will down-clock the LVDS refresh rate, and this in theory will save power.  For systems that do not support LVDS down-clocking the screen can flicker. Also, power measurments on various i915 hardware have shown that this saving is marginal, typically ~0.1 Watt.
 
To enable, edit /etc/default/grub (you need superuser privilege to do this)

change:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash" </code>

to:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash i915.lvds_downclock=1"</code>

and run:

<code>sudo update-grub</code>

=== Disable Unused Bluetooth Devices ===

Although enabled by default, wireless devices such as Bluetooth may not be used on a day to day basis. If you do not require Bluetooth (for example you aren't using a Bluetooth headset or keyboard) you can safeless turn off BlueTooth and save ~1-2W.  Left click on the Bluetooth icon on the top right of the desktop and select "Turn off Bluetooth".

=== DRM vblank off delay ===

Reducing the DRM vblank off delay reduces wakeup events and theoretically saves power. Our measurements on various machines has shown the saving is quite small.  However, this cannot be enabled on all machines as it is required to workaround some buggy hardware. However, we believe it works on all Intel i915 devices.

To enable, edit /etc/default/grub (you need superuser privilege to do this)

change:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash" </code>

to:

<code>GRUB_CMDLINE_LINUX_DEFAULT="quiet splash drm.vblankoffdelay=1"</code>

and run:

<code>sudo update-grub</code>

=== PowerTop "Good" Power Savings ===

Use Intel's powertop to put the following devices into a "Good" power saving state:

* Webcam
* Audio
* DRAM
* Ethernet
* Wifi
* Bluetooth
* SATA link
* MMC/SD

Note that the recent changes to pm-utils in Ubuntu Precise 12.04 LTS now include these powertop recommendations when running on battery power.

=== Laptop Backlight ===

Modern laptop displays can still consume a lot of power.  The relationship between brightness level and power consumed is non-linear and stepping up one brightness level in the highest settings consumes more power than stepping up one brightness level on the lowest settings.  Thus the recommended practice, where possible, is to avoid using the full brightness setting.  On a typical laptop dropping from full brightness to 2/3 brightness will save about 1 Watt.
  
=== Use Lighter Colours ===

Unbelievable as it may seem, laptop LCD displays actually have to work harder to display dark colours than light colours.  A full black background may consume ~0.5% to 1% more power than a fully white background.

=== Reduce Wakeup Events ===

Wakeup events in applications cause an idle processor to come out of a sleep state and this consumes power. Some applications cause many wakeups, for example flash embedded in webpages. In these cases, either don't install flash if you don't need it, or close the tab in your browser when you don't require it anymore. Tools like Intel's PowerTop can help identify mishaving applications.  See for more details on how to identify mishaving applications.

There are some tweaks that can save a few wakeups a second. For example, just disabling the gnome-terminal cursor flash will save wakeup events. To do so, use the following:

<code>gconftool-2 --type string --set /apps/gnome-terminal/profiles/Default/cursor_blink_mode off</code>

=== PCIe ASPM ===

PCI Express Active State Power Management is used to power manage PCI Express serial link devices when the links become less active.  Ubuntu Precise 12.04 LTS now includes Matthew Garrett's PCIe ASPM fix after help from <nowiki>[[https://wiki.ubuntu.com/Kernel/PowerManagementASPM|community to test this patch]]</nowiki>.

== Supporting Data ==

The above set of power optimisation tweaks have been tested on a range of hardware and accurately measured using a precision Fluke digital multimeter.  Tests were run multiple times to gather multiple data sets and to calculate the standard deviation to see if the data was reliable.  Below are links to the test result summaries and these contains links to Libre``Office spreadsheets containing the data.

* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/i915-and-drm-power-savings|Intel i915 rc6 and drm vblankoffdelay]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/background-colour-and-framebuffer-compression|Background colour and i915 framebuffer compression]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/powertop-good-bad-recommendations|PowerTop Good/Bad settings]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/backlight-non-linearity|Backlight levels]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/events|Wakeup events]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/i915-lvds-downclocking|LVDS down clocking]]</nowiki>
* <nowiki>[[http://kernel.ubuntu.com/~cking/power-benchmarking/acpi-battery-results|All of the Power Management Test Results]]</nowiki>

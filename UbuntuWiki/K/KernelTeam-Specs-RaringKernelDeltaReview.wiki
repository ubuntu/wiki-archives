{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



* '''Launchpad entry''': UbuntuSpec:hardware-r-kernel-delta-review
* '''Created''':
* '''Contributors''': 
* '''Packages affected''':
=== Summary ===
Review of the current Ubuntu Kernel patch delta from upstream. This session will look at the current delta comprised of both patches to the core and the ubuntu specific drivers. The aim is to record what we are carrying, review the reasons for that component(s) to be carried, and recommend replacements, updates, cleanups, upstreaming etc of those components.

=== Release Note ===

=== Rationale ===
Not every patch and/or driver carried in the Ubuntu delta is automatically sync'd with the upstream kernel for various reasons. This places a maintenance burden on the Ubuntu kernel team. These patches and/or drivers must be regularly reviewed to determine if they are still needed, if they need updating to a later version, or if they are now ready for upstream acceptance. The purpose of this blueprint is to facilitate and record this review for the 13.04 cycle.

=== Ubuntu Delta Summary 3.8.0-18.28 ===

3.8.0-18.28 (ie ~1 week prior to 13.04 final) delta review summary is as follows:

{| class="wikitable"
|-
| # patches
| comment
|-
| 521
| patches on top of the v3.8.6 upstream stable Linux kernel
|-
| 290
| SAUCE patches
|-
| 204
| debian commits (configuration updates and build machinary)
|-
| 19
| ubuntu/ driver patches
|-
| 8
| patches added then reverted (ie 4 applied, 4 reverted)
|}

==== Ubuntu Drivers ====
# AUFS -- union mount support
## UBUNTU: ubuntu: AUFS (no-squash) -- reenable
## UBUNTU: ubuntu: AUFS -- update to f2873474324d0a31af4340554b9715f51331bc7f
## UBUNTU: ubuntu: AUFS: aufs-update -- follow the uapi header changes
## UBUNTU: ubuntu: AUFS (no-squash) -- aufs3-standalone.patch
## UBUNTU: ubuntu: AUFS (no-squash) -- aufs3-base.patch
## UBUNTU: ubuntu: AUFS (no-squash): basic framework and update machinary
# overlayfs
## UBUNTU: ubuntu: overlayfs -- overlayfs: copy up i_uid/i_gid from the underlying inode
## UBUNTU: ubuntu: overlayfs -- ovl: switch to __inode_permission()
## UBUNTU: ubuntu: overlayfs -- vfs: export __inode_permission() to modules
## UBUNTU: ubuntu: overlayfs -- overlayfs: create new inode in ovl_link
## UBUNTU: ubuntu: overlayfs -- overlayfs: fix possible leak in ovl_new_inode
## UBUNTU: ubuntu: overlayfs -- fs: limit filesystem stacking depth
## UBUNTU: ubuntu: overlayfs -- overlay: overlay filesystem documentation
## UBUNTU: ubuntu: overlayfs -- overlayfs: implement show_options
## UBUNTU: ubuntu: overlayfs -- overlayfs: add statfs support
## UBUNTU: ubuntu: overlayfs -- overlay filesystem
## UBUNTU: ubuntu: overlayfs -- vfs: introduce clone_private_mount()
## UBUNTU: ubuntu: overlayfs -- vfs: export do_splice_direct() to modules
## UBUNTU: ubuntu: overlayfs -- vfs: add i_op->dentry_open()

==== Ubuntu Patches (not for upstream) ====
## UBUNTU: SAUCE: (no-up) Remove whiteheat files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove emi26 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove emi62 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) drm/i915: quirk no PCH_PWM_ENABLE for Dell XPS13 backlight
## UBUNTU: SAUCE: (no-up) apparmor: Fix quieting of audit messages for network mediation
## UBUNTU: SAUCE: (no-up) mac80211_hwsim: Register and bind to driver
## Revert "UBUNTU: SAUCE: (no-up) seccomp: forcing auditing of kill condition"
## UBUNTU: SAUCE: (no-up) Bluetooth: Add support for 105b:e065
## UBUNTU: SAUCE: (no-up) Bluetooth: Add support for 04ca:2007
## UBUNTU: SAUCE: (no-up) Bluetooth: Add support for 13d3:3388 and 13d3:3389
## UBUNTU: SAUCE: (no-up) Bluetooth: Implement broadcom patchram firmware loader
## UBUNTU: SAUCE: (no-up) Bluetooth: Add a load_firmware callback to struct hci_dev
## UBUNTU: SAUCE: (no-up) tools/power turbostat: additional Haswell CPU-id
## UBUNTU: SAUCE: (no-up) intel_idle: additional Haswell CPU-id
## UBUNTU: SAUCE: (no-up) cpufreq: OMAP: instantiate omap-cpufreq as a platform_driver
## UBUNTU: SAUCE: (no-up) cpuidle: calxeda: disable power gating by default
## UBUNTU: SAUCE: (no-up) vesafb: Cleanup compile warnings
## UBUNTU: SAUCE: (no-up) apparmor: Fix compile warnings
## UBUNTU: SAUCE: (no-up) acpi/video.c: Fix compile warnings
## UBUNTU: SAUCE: (no-up) add option to hand off all kernel parameters to init
## UBUNTU: SAUCE: (no-up) dm-raid45: Fix incompatible ptr assignments
## UBUNTU: SAUCE: (no-up) ARM: cache-l2x0: fix masking of RTL revision numbering and set_debug init
## UBUNTU: SAUCE: (no-up) PCI: fix system hang issue of Marvell SATA host controller
## UBUNTU: SAUCE: (no-up) PCI: define macro for marvell vendor ID
## UBUNTU: SAUCE: (no-up) mfd: omap-usb-host: Fix clk warnings at boot
## UBUNTU: SAUCE: (no-up) Convert bnx2x firmware files to ihex format
## UBUNTU: SAUCE: (no-up) alx: Update to heads/master
## UBUNTU: SAUCE: (no-up) alx: use github.com/qca/alx repo
## UBUNTU: SAUCE: (no-up) Input: Cypress PS/2 Trackpad simulated multitouch
## UBUNTU: SAUCE: (no-up) rt2x00: rt2x00pci_regbusy_read() - only print register access failure once
## UBUNTU: SAUCE: (no-up) drm/i915: Wait for pending flips to complete before tearing down the encoders
## UBUNTU: SAUCE: (no-up) alx: Update to heads/master
## UBUNTU: SAUCE: (no-up) alx driver import script
## UBUNTU: SAUCE: (no-up) ARM: omap2 panda register ethernet and wlan for automatic mac allocation
## UBUNTU: SAUCE: (no-up) ARM: omap2 add mac address allocation register api
## UBUNTU: SAUCE: (no-up) ARM: OMAP2+: add cpu id register to MAC address helper
## UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib() (for v3.7+)
## Revert "UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib()"
## UBUNTU: SAUCE: (no-up) hv_kvp_daemon -- prevent self-daemonising to allow upstart to track
## UBUNTU: SAUCE: (no-up) hv -- bodge hv_kvp_daemon so it can use the local linux/hyperv.h
## UBUNTU: SAUCE: (no-up) add eeprom_bad_csum_allow module parameter
## UBUNTU: SAUCE: (no-up) Remove vicam files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove dsp56k files used only by m68k
## UBUNTU: SAUCE: (no-up) Remove yamaha files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove sb16 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Update bnx2x firmware to 7.8.2.0
## UBUNTU: SAUCE: (no-up) Remove radeon files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove sun files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove keyspan files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove acenic files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove r128 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove cxgb3 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove matrox files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove tehuti files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove yam files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) seccomp: forcing auditing of kill condition
## UBUNTU: SAUCE: (no-up) input: fix weird issue of synaptics psmouse sync lost after resume
## UBUNTU: SAUCE: (no-up) fix highbank include path
## UBUNTU: SAUCE: (no-up) Allow HID_BATTERY_STRENGTH to be modular
## UBUNTU: SAUCE: (no-up) Add 'used' to the video_cards structure attributes
## UBUNTU: SAUCE: (no-up) vxge: Declare MODULE_FIRMWARE usage
## UBUNTU: SAUCE: (no-up) firmware: Upgrade bnx2 to current versions
## UBUNTU: SAUCE: (no-up) firmware: Remove obsolete Myricom firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove korg files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove cpia2 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove av7110 files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove ambassador files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove advansys files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove adaptec files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove ti_usb_3410_5052 duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove edgeport files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove kaweth files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) firmware: Remove ess files duplicated in linux-firmware
## UBUNTU: SAUCE: (no-up) Remove redundant keyspan_pda firmware
## UBUNTU: SAUCE: (no-up) Remove redundant yamaha/ds1 firmware
## UBUNTU: SAUCE: (no-up) Remove redundant ositech/Xilinx7OD firmware
## UBUNTU: SAUCE: (no-up) Remove redundant ttusb-budget firmware
## UBUNTU: SAUCE: (no-up) Remove redundant cis firmware
## UBUNTU: SAUCE: (no-up) firmware: Update bnx2x to current firmware version 7.2.51
## UBUNTU: SAUCE: (no-up) AppArmor: basic networking rules
## UBUNTU: SAUCE: (no-up) apparmor: Add the ability to mediate mount
## UBUNTU: SAUCE: (no-up) kconfig: in debug mode some 0 length message prints occur
## UBUNTU: SAUCE: (no-up) Allow filtering of cpufreq drivers
## UBUNTU: SAUCE: (no-up) elide some ioctl warnings which are known benign
## UBUNTU: SAUCE: (no-up) remove __initdata from vesafb_fix
## UBUNTU: SAUCE: (no-up) Provide a param for allowing the BIOS to handle changing the brightness on AC/battery status changes.
## UBUNTU: SAUCE: (no-up) AppArmor: Add profile introspection file to interface
## UBUNTU: SAUCE: (no-up) AppArmor: Disable Add PR_{GET,SET}_NO_NEW_PRIVS to prevent execve from granting privs
## UBUNTU: SAUCE: (no-up) Input: synapticss - Set buttonpad property for all clickpads
## UBUNTU: SAUCE: (no-up) Input: synaptics - add second variant of two-button clickpad
## UBUNTU: SAUCE: (no-up) ipv6: make the net.ipv6.conf.all.use_tempaddr sysctl propagate to interface settings
## UBUNTU: SAUCE: (no-up) dell-wmi: Demote unknown WMI event message to pr_debug
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6220 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 990 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 790 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6520 use reboot=pci
## UBUNTU: SAUCE: (no-up) vfs: Add a trace point in the mark_inode_dirty function
## UBUNTU: SAUCE: (no-up) add tracing for user initiated readahead requests
## UBUNTU: SAUCE: (no-up) vesafb: enable mtrr WC by default
## UBUNTU: SAUCE: (no-up) vesafb: mtrr module parameter is uint, not bool
## UBUNTU: (no-up) add support for installed header files to ubuntu directory
## UBUNTU: SAUCE: (no-up) Added quirk to recognize GE0301 3G modem as an interface.
## UBUNTU: SAUCE: (no-up) drm -- stop early access to drm devices
## UBUNTU: SAUCE: (no-up) ARM: Resetting power_mode to its original value.
## UBUNTU: SAUCE: (no-up) Modularize vesafb -- fix initialisation
## UBUNTU: SAUCE: (no-up) fix build error with CONFIG_BLK_DEV_INITRD=n
## UBUNTU: SAUCE: (no-up) dma-mapping: Remove WARN_ON in dma_free_coherent
## UBUNTU: SAUCE: (no-up) cdrom -- default to not locking the tray when in use
## UBUNTU: SAUCE: (no-up) set /proc/acpi/video/*/DOS to 4 by default
## UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib()
## UBUNTU: SAUCE: (no-up) raise the default console 'quiet' level to 2
## UBUNTU: SAUCE: (no-up) Sony laptop: Some Sony Vaia laptops do not enable wwan power by default.
## UBUNTU: SAUCE: (no-up) nbd: Change default partitions per device to 15
## UBUNTU: SAUCE: (no-up) hostap: Change initial operation mode to managed (infra)
## UBUNTU: SAUCE: (no-up) version: Implement version_signature proc file.
## UBUNTU: SAUCE: (no-up) Modularize vesafb
## UBUNTU: SAUCE: (no-up) ubuntu: dm-raid45

==== Ubuntu Patches (for review) ====
# Aaron Plattner
## drm/radeon: use prime helpers
# Adam Lee
## mmc: rtsx: remove driving adjustment
## mfd: rtsx: Support RTS5227
## mfd: rtsx: Implement driving adjustment to device-dependent callbacks
# Andy Whitcroft
## KVM: Fix bounds checking in ioapic indirect register reads (CVE-2013-1798)
## KVM: x86: Convert MSR_KVM_SYSTEM_TIME to use gfn_to_hva_cache functions (CVE-2013-1797)
## TTY: do not update atime/mtime on read/write
## [SCSI] storvsc: avoid usage of WRITE_SAME
## UBUNTU: SAUCE: isapnp_init: make isa PNP scans occur async
## UBUNTU: dropped -- update aufs patches
## UBUNTU: SAUCE: rds_ib_send() -- prevent local pings triggering BUG_ON()
## UBUNTU: tools/hv: add basic manual pages
## UBUNTU: tools/hv: add basic Makefile
## UBUNTU: ensure debian/ is not excluded from git by default
# Gavin Guo
## UBUNTU: SAUCE: Bluetooth: Add support for Broadcom 413c:8143
# James M Leddy
## Input: ALPS - add "Dolphin V1" touchpad support
## Input: ALPS - remove unused argument to alps_enter_command_mode()
## Input: ALPS - enable trackstick on Rushmore touchpads
## Input: ALPS - add support for "Rushmore" touchpads
## Input: ALPS - make the V3 packet field decoder "pluggable"
## Input: ALPS - move pixel and bitmap info into alps_data struct
## Input: ALPS - fix command mode check
## Input: ALPS - rework detection of Pinnacle AGx touchpads
## Input: ALPS - move {addr,nibble}_command settings into alps_set_defaults()
## Input: ALPS - use function pointers for different protocol handlers
## Input: ALPS - rework detection sequence
## Input: ALPS - introduce helper function for repeated commands
## Input: ALPS - move alps_get_model() down below hw_init code
## Input: ALPS - copy "model" info into alps_data struct
## Input: ALPS - document the alps.h data structures
# Joseph Salisbury
## UBUNTU: SAUCE: dm-crypt: never use write same
# Kamal Mostafa
## Input: cypress_ps2 - fix trackpadi found in Dell XPS12
## Input: add support for Cypress PS/2 Trackpads
## Input: increase struct ps2dev cmdbuf[] to 8 bytes
# Leann Ogasawara
## UBUNTU: rebase to v3.8-rc2
## UBUNTU: Reinstate dropped.txt from Ubuntu-3.7.0-0.1-rc1
## UBUNTU: [debian] Initial debian and ubuntu directories
# Luis Henriques
## KVM: x86: fix for buffer overflow in handling of MSR_KVM_SYSTEM_TIME (CVE-2013-1796)
## x86/apic: Remove noisy zero-mask warning from default_send_IPI_mask_logical()
# Mark Langsdorf
## mailbox, pl320-ipc: remove __init from probe function
## PM / OPP: Export more symbols for module usage
## cpufreq / highbank: add support for highbank cpufreq
## clk / highbank: Prevent glitches in non-bypass reset mode
# Nishanth Menon
## PM / OPP: switch exported symbols to GPL variant
# Paolo Pisati
## cpufreq: check OF node /cpus presence before dereferencing it
## UBUNTU: SAUCE: imx6: dts: Add IMX6Q AHCI support
## UBUNTU: SAUCE: imx6: enable sata clk if SATA_AHCI_PLATFORM
# Rob Herring
## ARM / highbank: add support for pl320 IPC
## ARM: use device tree to get smp_twd clock
# Tim Gardner
## dw_dmac: adjust slave_id accordingly to request line base
## dw_dmac: add support for Lynxpoint DMA controllers
## dw_dmac: apply default dma_mask if needed
## dw_dmac: return proper residue value
## dw_dmac: fill individual length of descriptor
## dw_dmac: introduce total_len field in struct dw_desc
## dw_dmac: remove unnecessary tx_list field in dw_dma_chan
## dw_dmac: print out DW_PARAMS and DWC_PARAMS when debug
## dw_dmac: move soft LLP code from tasklet to dwc_scan_descriptors
## dw_dmac: don't exceed AHB master number in dwc_get_data_width
## dw_dmac: allocate dma descriptors from DMA_COHERENT memory
## dw_dmac: backlink to dw_dma in dw_dma_chan is superfluous
## dw_dmac: make usage of dw_dma_slave optional
## dw_dmac: store direction in the custom channel structure
## dw_dmac: call .probe after we have a device in place
## dma: ste_dma40: reuse is_slave_direction helper
## dma: ipu_idmac: reuse is_slave_direction helper
## dma: ep93xx_dma: reuse is_slave_direction helper
## dma: dw_dmac: check direction properly in dw_dma_cyclic_prep
## dmaengine: add possibility for cyclic transfers
## dmaengine: introduce is_slave_direction function
## dma: dw_dmac: add dwc_chan_pause and dwc_chan_resume
## dw_dmac: update tx_node_active in dwc_do_single_block
## dw_dmac: remove redundant check
## dw_dmac: check for mapping errors
## dw_dmac: absence of pdata isn't critical when autocfg is set
## dw_dmac: introduce to_dw_desc() macro
## dw_dmac: change dev_crit to dev_WARN in dwc_handle_error
## dw_dmac: don't call platform_get_drvdata twice
## dw_dmac: change dev_printk() to corresponding macros
## dmaengine: dw_dmac: amend description and indentation
## dmaengine: dw_dmac: Enhance device tree support
## dmaengine: dw_dmac: remove CLK dependency
## libata: fix DMA to stack in reading devslp_timing parameters
## ALSA: hda - Add fixup for Haswell to enable all pin and convertor widgets
## ALSA: hda - Support rereading widgets under the function group
## ALSA - HDA: New PCI ID for Haswell ULT
## drm/i915: HDMI/DP - ELD info refresh support for Haswell
## ACPICA: Fix possible memory leak in dispatcher error path.
## clk: export __clk_get_name for re-use in imx-ipu-v3 and others
## davinci: do not include mach/hardware.h
## ARM: OMAP2+: Remove now obsolete uncompress.h and debug-macro.S
## ARM: OMAP2+: Add minimal support for booting vexpress
## ARM: OMAP2+: Enable ARCH_MULTIPLATFORM support
## ARM: OMAP2+: Disable code that currently does not work with multiplaform
## ARM: OMAP2+: Add multiplatform debug_ll support
## ARM: OMAP: Fix dmaengine init for multiplatform
## ARM: OMAP: Fix i2c cmdline initcall for multiplatform
## ARM: OMAP2+: Use omap initcalls
## ARM: OMAP2+: Limit omap initcalls to omap only on multiplatform kernels
## Revert "brcmsmac: support 4313iPA"
## net: calxedaxgmac: fix rx ring handling when OOM
## tools/power turbostat: support Haswell
## iwlwifi: add 7000 series device configuration
## i2c: iSMT: add Intel Avoton DeviceIDs
## serial: 8250_dw: Use ifdef with ACPI
## drm/i915: Revert hdmi HDP pin checks
## drm/i915: Fix races in gen4 page flip interrupt handling
## serial: 8250_dw: Enable DMA support with ACPI
## serial: 8250: Add support for dmaengine
## serial: 8250_dw: Add ACPI 5.0 support
## serial: 8250_dw: Set FIFO size dynamically
## serial: 8250_dw: Move device tree code to separate function
## serial: 8250_dw: Map IO memory
## serial: 8250_dw: Don't use UPF_FIXED_TYPE
## serial: 8250: Allow drivers to deliver capabilities
## serial: 8250_pci: remove __devexit usage
## serial: Remove RM9000 series serial driver.
## serial: quatech: add the other serial identifiers and preliminary control code
## i2c: fix i2c-ismt.c printk format warning
## i2c: Adding support for Intel iSMT SMBus 2.0 host controller
## gpio/lynxpoint: add chipset gpio driver.
## fix smatch warning for zpodd_wake_dev
## Set proper SK when CK_COND is set.
## scsi: no poll when ODD is powered off
## PM code cleanup for ata port
## pm: differentiate system and runtime pm for ata port
## libata: do not suspend port if normal ODD is attached
## libata: expose pm qos flags for ata device
## libata: handle power transition of ODD
## libata: check zero power ready status for ZPODD
## libata: move acpi notification code to zpodd
## libata: identify and init ZPODD devices
## sr: support runtime pm
## remove can_power_off flag from scsi_device
## i2c-designware: add support for Intel Lynxpoint
## i2c-designware: add minimal support for runtime PM
## i2c-designware: always set the STOP bit after last byte
## spi/pxa2xx: add support for Lynxpoint SPI controllers
## spi/pxa2xx: add support for Intel Low Power Subsystem SPI
## spi/pxa2xx: add support for SPI_LOOP
## spi/pxa2xx: add support for runtime PM
## spi/pxa2xx: add support for DMA engine
## spi/pxa2xx: break out the private DMA API usage into a separate file
## spi/pxa2xx: convert to the common clk framework
## spi/pxa2xx: convert to the pump message infrastructure
## spi/pxa2xx: fix warnings when compiling a 64-bit kernel
## spi/pxa2xx: allow building on a 64-bit kernel
## spi/pxa2xx: embed the ssp_device to platform data
## spi/pxa2xx-pci: switch to use pcim_* interfaces
## drm/nouveau: use prime helpers
## drm: add prime helpers
## usb: enable usb port device's async suspend.
## usb: expose usb port's pm qos flags to user space
## usb: add usb port auto power off mechanism
## usb: add runtime pm support for usb port device
## USB: fix sign-extension bug in the hub driver
## USB: Set usb port's DeviceRemovable according acpi information
## usb: Create link files between child device and usb port device.
## usb: Add "portX/connect_type" attribute to expose usb port's connect type
## usb: fix compilation error and warning of driver/usb/core/port.c on arm and blackfin
## usb: Add driver/usb/core/(port.c,hub.h) files
## usb/core: update power budget for SuperSpeed
## usb/core: consider link speed while looking at bMaxPower
## USB: Refactor hub_port_wait_reset.
## USB: Use helper function hub_set_port_link_state
## NFC: Add HCI quirks to support driver (non)standard implementations
## NFC: Fixed skb leak in tm_send() nfc and hci ops implementations
## NFC: Changed event_received hci ops result semantic
## NFC: Added error handling in event_received hci ops
## NFC: Fixed nfc core and hci unregistration and cleanup
## i2c: i801: SMBus patch for Intel Avoton DeviceIDs
## intel_idle: support Haswell
## intel_idle: stop using driver_data for static flags
## UBUNTU: [config] CONFIG_ALX=m
## UBUNTU: Updated dropped.txt (4a490b78cb7e0e5efa44425df72a9fedc1c36366)
## Revert "VFS: don't do protected {sym,hard}links by default"
## UBUNTU: [debian] Moved scripts/fw-to-ihex.sh to debian/scripts/misc

=== Ubuntu Delta Summary 3.7.0-0.1 ===

3.7.0-0.1 (ie ~1 week prior to UDS for 13.04) delta review summary is as follows:

{| class="wikitable"
|-
| # patches
| comment
|-
| 134
| patches on top of the v3.#.# upstream stable Linux kernel
|-
| 102
| SAUCE patches
|-
| 12
| debian commits (configuration updates and build machinary)
|-
| 4
| ubuntu/ driver patches
|-
| 16
| patches added then reverted (ie 8 applied, 8 reverted)
|}

==== Ubuntu Drivers ====
# AUFS -- union mount support
## UBUNTU: ubuntu: AUFS
# dm-raid4-5 - software raid support
## UBUNTU: ubuntu: Disable dm-raid4-5
## UBUNTU: ubuntu: dm-raid45
# overlayfs
## UBUNTU: ubuntu: overlayfs

==== Ubuntu Patches (not for upstream) ====
## UBUNTU: SAUCE: (no-up) elide some ioctl warnings which are known benign
## UBUNTU: SAUCE (no-up) Provide a param for allowing the BIOS to handle changing the brightness on AC/battery status changes.
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6220 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 990 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 790 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6520 use reboot=pci
## UBUNTU: SAUCE: (no-up) vfs: Add a trace point in the mark_inode_dirty function
## UBUNTU: SAUCE: (no-up) add tracing for user initiated readahead requests
## UBUNTU: (no-up) add support for installed header files to ubuntu directory
## UBUNTU: SAUCE: (no-up) ARM: Resetting power_mode to its original value.
## UBUNTU: SAUCE: (no-up) Modularize vesafb -- fix initialisation
## UBUNTU: SAUCE: (no-up) Stop ARM boards crashing when CUPS is loaded
## UBUNTU: SAUCE: (no-up) dma-mapping: Remove WARN_ON in dma_free_coherent
## UBUNTU: SAUCE: (no-up) cdrom -- default to not locking the tray when in use
## UBUNTU: SAUCE: (no-up) set /proc/acpi/video/*/DOS to 4 by default
## UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib()
## UBUNTU: SAUCE: (no-up) raise the default console 'quiet' level to 2
## UBUNTU: SAUCE: (no-up) Sony laptop: Some Sony Vaia laptops do not enable wwan power by default.
## UBUNTU: SAUCE: (no-up) nbd: Change default partitions per device to 15
## UBUNTU: SAUCE: (no-up) hostap: Change initial operation mode to managed (infra)
## UBUNTU: SAUCE: (no-up) version: Implement version_signature proc file.
## UBUNTU: SAUCE: (no-up) Modularize vesafb
## UBUNTU: (no-up) fold down debian for ubuntu-r v3.7-rc1 rebase

==== Ubuntu Patches (for review) ====
# Andy Whitcroft
## UBUNTU: SAUCE: efivarfs: efivarfs_fill_super() ensure we clean up correctly on error
## UBUNTU: SAUCE: efivarfs: efivarfs_fill_super() ensure we free our temporary name
## UBUNTU: SAUCE: efivarfs: efivarfs_fill_super() fix inode reference counts
## UBUNTU: SAUCE: efivars: efivarfs_create() ensure we drop our reference on inode on error
## UBUNTU: SAUCE: efivarfs: efivarfs_file_read ensure we free data in error paths
## UBUNTU: SAUCE: efivarfs: Add documentation for the EFI variable filesystem
** all upstream -- dropped during rebase
** DROPPED
  1. UBUNTU: SAUCE: ata_piix: add a disable_driver option
** (no-up) this is a local only change
** SEEMINGLY MISSING?
  1. UBUNTU: SAUCE: rds_ib_send() -- prevent local pings triggering BUG_ON()
** CVE fix, ought to be upstream but appears not, needs review
  1. kconfig: in debug mode some 0 length message prints occur
** fixed out of tree configuration review -- either not needed or should be upstreamed
## UBUNTU: tools/hv: add basic manual pages
## UBUNTU: tools/hv: add basic Makefile
** (no-up) this is a local only change
  1. UBUNTU: ensure debian/ is not excluded from git by default
*** (no-up) this is a local only change
*** apw: MARKED (no-up)
## UBUNTU: SAUCE: vesafb: enable mtrr WC by default
## UBUNTU: SAUCE: vesafb: mtrr module parameter is uint, not bool
*** both of these relate to changed we have made to make vesafb modularisable
*** probabally ought to be folded down into that fix and possibly upstreamed
  1. Revert "mmc: fix all hangs related to mmc/sd card insert/removal during suspend/resume"
** DROPPED
  1. UBUNTU: SAUCE: drm -- stop early access to drm devices
** this likely is no longer needed since the the BKL was removed -- needs checking
  1. UBUNTU: SAUCE: add option to hand off all kernel parameters to init
** needed for upstart, should be upstreamed
  1. UBUNTU: SAUCE: isapnp_init: make isa PNP scans occur async
** need to work out if this is still giving us any advantages
# Chase Douglas
## UBUNTU: SAUCE: Input: synapticss - Set buttonpad property for all clickpads
## UBUNTU: SAUCE: Input: synaptics - add second variant of two-button clickpad
** (Comments from sforshee, after consulting with cnd) Keep both, so long as they continue to apply cleanly. According to cnd, the patches apply only to a couple of old Dell minis, and Dell has said they don't intend to use those touchpads again. Upstreaming these patches stalled due to lack of information/response, and continuing to pursue it probably isn't worth the effort, so they can be marked no-up. There's no harm in keeping the patches, but if they become a problem they can be dropped.
# Colin Ian King
## UBUNTU: SAUCE: PCI: Allow pcie_aspm=force to work even when FADT indicates it is unsupported
** This didn't get much traction last time it was sent to upstream.  It's been re-sent and we'll see if we can get this to stick. 
  1. UBUNTU: SAUCE: S3 early resume debug via keyboard LEDs
** Will re-work this a bit to make it more acceptable for upstream although it's not likely to get anywhere upstream quickly. Recommend carrying this in raring while we wrestle with upstreaming it. 
# Ike Panhc
## UBUNTU: SAUCE: ARM: highbank: retry wfi on reset request
## UBUNTU: SAUCE: net: calxedaxgmac: rework transmit ring handling
## UBUNTU: SAUCE: net: calxedaxgmac: drop some unnecessary register writes
## UBUNTU: SAUCE: net: calxedaxgmac: use relaxed i/o accessors in rx and tx paths
## UBUNTU: SAUCE: net: calxedaxgmac: remove explicit rx dma buffer polling
## UBUNTU: SAUCE: net: calxedaxgmac: enable operate on 2nd frame mode
## UBUNTU: SAUCE: net: calxedaxgmac: fix net timeout recoveryh
** all of the above are now upstream and therefore DROPPED
  1. UBUNTU: SAUCE: arm highbank: add support for pl320-ipc driver
** not upstream as yet, keep for now until we decide higbank is gone
# James M Leddy
## UBUNTU: SAUCE: input: fix weird issue of synaptics psmouse sync lost after resume
** (Comments from sforshee) Keep. There is a fix upstream that fixes some machines, but others still need this. James will work on getting a fix upstream.
# Jeremy Kerr
## UBUNTU: SAUCE: efi: add efivars kobject to efi sysfs folder
** Required for secure boot key management while this percolates upstream
  1. UBUNTU: SAUCE: efi: Handle deletions and size changes in efivarfs_write_file
** Required for secure boot key management while this percolates upstream
  1. UBUNTU: SAUCE: efi: Add support for a UEFI variable filesystem
** Required for secure boot key management while this percolates upstream
# John Johansen
## UBUNTU: SAUCE: apparmor: fix IRQ stack overflow
** Drop in favor of upstream commit 2e680dd61e80592385338bfbeb86833d1c60546c
  1. UBUNTU: SAUCE: AppArmor: basic networking rules
** needed while we await upstream acceptance
  1. UBUNTU: SAUCE: apparmor: Add the ability to mediate mount
** needed while we await upstream acceptance
  1. UBUNTU: SAUCE: AppArmor: Add profile introspection file to interface
** needed while we await upstream acceptance
  1. UBUNTU: SAUCE: Improve Amazon EBS performance for EC2
** -> DROPPED: was dropped from Quantal as well as Amazon confirmed it is not doing anything (would require support from dom0 side) [smb].
## UBUNTU: SAUCE: AppArmor: Disable Add PR_{GET,SET}_NO_NEW_PRIVS to prevent execve from granting privs
# Kamal Mostafa
## UBUNTU: SAUCE: input: Cypress PS/2 Trackpad move PSMOUSE_CYPRESS enum
## Dropped in favor of upstream commit 0799a924bc93ba46a23e8e7e6b1431ab585fd2ea
# Leann Ogasawara
## UBUNTU: SAUCE: SECCOMP: audit: always report seccomp violations
** Reverted in Raring.  See Bug:1079469
  1. UBUNTU: SAUCE: include <linux/printk.h> and <stdarg.h> for mmc_core arm build
** Reverted in Raring.  No longer necessary.
  1. UBUNTU: SAUCE: [arm] fixup __aeabi_uldivmod undefined build error
** Reverted in Raring.  No longer necessary.
# Manoj Iyer
## UBUNTU: SAUCE: Added quirk to recognize GE0301 3G modem as an interface.
** seems to need upstreaming -- keep until it hits upstream.
# Mathieu Trudel-Lapierre
## UBUNTU: SAUCE: ipv6: make the net.ipv6.conf.all.use_tempaddr sysctl propagate to interface settings
** Keep as sauce for now.  Some additional changes to this patch will be emailed to the kernel team mailing list.  This patch was originally Nak'd upstream, but it should be resubmitted with the supporting evidence it's been carried in the distro without negative impact.
# Ming Lei
## UBUNTU: SAUCE: fireware: add NO_MSI quirks for o2micro controller
** made it upstream and this is now triggering a duplicate entry.
** DROPPED [apw]
# Paolo Pisati
## UBUNTU: SAUCE: omap3 clocks .dev_id = NULL
** DROPPED: dropped during rebases
# Seth Forshee
## UBUNTU: SAUCE: dell-wmi: Demote unknown WMI event message to pr_debug
** Keep. Dell was supposed to have implemented the missing functionality but have not, so I'll send this patch upstream.
# Stefan Bader
## UBUNTU: SAUCE: Mask CR4 writes on older Xen hypervisors
** DROPPED: Was dropped in Quantal, too. Not needed anymore since upstream code now does not set bits in order to probe for functionality.
# Tim Gardner
## UBUNTU: SAUCE: fix highbank include path
## UBUNTU: SAUCE: export read_current_timer for armel
## UBUNTU: overlayfs: disable until FTBS is fixed
## UBUNTU: SAUCE: Allow HID_BATTERY_STRENGTH to be modular
## UBUNTU: SAUCE: Add 'used' to the video_cards structure attributes
## UBUNTU: SAUCE: vxge: Declare MODULE_FIRMWARE usage
## UBUNTU: SAUCE: firmware: Upgrade bnx2 to current versions
## UBUNTU: SAUCE: firmware: Remove obsolete Myricom firmware
## UBUNTU: SAUCE: firmware: Remove korg files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove cpia2 files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove av7110 files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove ambassador files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove advansys files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove adaptec files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove ti_usb_3410_5052 duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove edgeport files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove kaweth files duplicated in linux-firmware
## UBUNTU: SAUCE: firmware: Remove ess files duplicated in linux-firmware
## UBUNTU: SAUCE: Remove redundant keyspan_pda firmware
## UBUNTU: SAUCE: Remove redundant yamaha/ds1 firmware
## UBUNTU: SAUCE: Remove redundant 3com/typhoon.bin firmware
## UBUNTU: SAUCE: Remove redundant ositech/Xilinx7OD firmware
## UBUNTU: SAUCE: Remove redundant ttusb-budget firmware
## UBUNTU: SAUCE: Remove redundant emi26 firmware
## UBUNTU: SAUCE: Remove redundant cis firmware
## UBUNTU: SAUCE: firmware: Update bnx2x to current firmware version 7.2.51
## UBUNTU: SAUCE: Allow filtering of cpufreq drivers
## UBUNTU: SAUCE: remove __initdata from vesafb_fix
## UBUNTU: SAUCE: fix build error with CONFIG_BLK_DEV_INITRD=n

=== BoF agenda and discussion ===

----
CategorySpec

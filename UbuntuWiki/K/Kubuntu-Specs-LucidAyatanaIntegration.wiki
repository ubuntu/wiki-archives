{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:kubuntu-lucid-ayatana-integration
* '''Created''':2009-11-20
* '''Contributors''': JonathanRiddell, David Barth, Aurelien Gateau
* '''Packages affected''':kdebase

=== Summary ===

Ensure a full Ayatana experience is available for Kubuntu.  KDE apps should work properly on Gnome and vice verse for Ayatana integration features.

=== Release Note ===

The Ayatana experience is available in Kubuntu and the Ayatana team have been working with upstream to ensure a smooth cross desktop experience in status notifiers.

=== Rationale ===

Ayatana work includes several useful user experience ideas which we should make use of.

=== Design ===

==== Messaging Menu ====

The Indicator Display widget should be renamed to Messaging Menu.  There are no major changes expected in libindicate but there will be minor improvements for in a 2.1 API, libindicate-qt should be updated to be kept in line with these changes.  One notable change for Kubuntu will be the ability to have more than one indicate_server per process, this is important for Kontact which contains multiple apps which may want to use the messaging indicator service.  Feed applications such as Akregator and Choqok are being considered for the messaging menu, application developers are being invited to propose a good way to use the menu.

==== Visual Notifications ====

The knotify patch to enable detection of action or actionless notification system will be kept and applications will be reviewed to ensure they work correctly running cross desktop.  notify-osd should be easily selectable for use in KDE, this needs a patch to notify-osd.  The ayatana-notifications will not be kept as a patch, time permitting this may be made into a stand alone package.

==== Status Notifiers (systray applets) ====

The specification for this (http://techbase.kde.org/Projects/Plasma/NewSystemTray).  Binary incompatible changes need to be finalised before KDE 4.4 is frozen.  This will include the addition of a d-bus based menu to create a cross desktop experience.  This will be developed as a separate work branch in KDE SVN.  The DX team has the details of changes they need and have discussed them with KDE upstream.  kdelibs will be patched to use the dbus menu for any status notifier.  The status notifer spec changes include a way of ensuring that the activate signal action is always available in the menu to ensure it can be triggered from Gnome.

The volume and brightness feedback visual notifier will be given a Plasma theme for its on screen display.  This will go into KDE 4.5.  Time permitting k3b and amarok's on screen displays could be similarly Plasma-fied.

=== Implementation ===

For Alpha 2 land the KStatusNotifier API update as part of KDE 4.4.  For Alpha 3 land dbusmenu, preferably as part of KDE upstream else as a backport from KDE 4.5.

----
CategorySpec

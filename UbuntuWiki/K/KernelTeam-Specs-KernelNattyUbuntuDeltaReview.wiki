{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:hardware-kernel-n-ubuntu-delta-review
* '''Created''': AndyWhitcroft
* '''Contributors''': AndyWhitcroft
* '''Packages affected''': linux

=== Summary ===

Review of the current Ubuntu Kernel patch delta from upstream. This session will look at the current delta comprised of both patches to the core and the ubuntu specific drivers. The aim is to record what we are carrying, review the reasons for that component(s) to be carried, and recommend replacements, updates, cleanups, upstreaming etc of those components.

=== Release Note ===

TBD

=== Rationale ===

All patches and drivers carried in the Ubuntu delta are not automatically sync'd with the upstream kernel for various reasons.  This places a maintenance burden on the Ubuntu kernel team.  These patches and drivers must be regularly reviewed to determine if they are still needed, if they need updating to a later version, or if they are now ready for upstream acceptance.  The purpose of this blueprint is to facilitate and record this review for the Natty cycle.

This review is based on the the initial Maverick sync to Natty, at the Ubuntu-2.6.35-22.33 release.  The delta at that point was broken down as below:

{| class="wikitable"
|-
| # patches
| comment
|-
| 677
| patches on top of the v2.6.35 kernel
|-
| 483
| patches which are now upstream (stable et al)
|-
| 192
| debian commits (configuration updates and build machinary)
|-
| 44
| ubuntu/ driver patches
|-
| 14
| patches added then reverted
|}

=== Ubuntu Delta ===

==== Patches now upstream ====
# x86/hwmon: pkgtemp has no dependency on PCI (0eae7799000cdf0c2ed596c39bfb71030809fc71 upstream)
# x86/hwmon: fix initialization of pkgtemp (f6aeccdb96fc0555e939dd507702922f07dcbcbb upstream)
# x86/hwmon: don't leak device attribute file from pkgtemp_probe() and pkgtemp_remove() (d172132f358552eabd7a7410e478ffeead445243 upstream)
# x86/hwmon: avoid deadlock on CPU removal in pkgtemp (d9bca4358286584cc22f4261ee3a60cad01aa4d4 upstream)
# hwmon (coretemp): Fix build breakage if SMP is undefined (fff2017354a3a9906862aabbf2a1cae5b4330e40 upstream)
# x86/hwmon: register alternate sibling upon CPU removal (e40cc4bdfd4b89813f072f72bd9c7055814d3f0f upstream)
# x86/hwmon: fix module init for hotplug-but-no-device-found case (89a3fd35ba0318a7208e2c8d8ca6189f567d4a93 upstream)
# hwmon: (coretemp) Fix harmless build warning (45ff34d32a19e9008e7202ba2a7c0d0f40420228 upstream)
# fix "hwmon: coretemp: update hotplug condition check" (37713308d89f17c0f73e88b07138d6ca20bfe686 upstream)
# drivers/hwmon/coretemp.c: remove unneeded #ifdef CONFIG_HOTPLUG_CPU (6b8e8282611ea35845dcff0cb321a7d735fc3155 upstream)
# hwmon: coretemp: enable coretemp device add operation failure (851b29cb3b196cb66452ec964ab5f66c9c9cd1ed upstream)
# hwmon: coretemp: update hotplug condition check (0dca94baeab4a1a514841b0a4c8e3a51dfb4d5ae upstream)
# drm/i915: Fix 945GM regression in e259befd (9b74f7348f214b1f99819f0d0da4a1cbabb1e740 upstream)
# drm/i915/suspend: s/IS_IRONLAKE/HAS_PCH_SPLIT/ (90eb77baaea35c591bd324b31e9eac032bd603c9 upstream)
# drm/i915: Fix Sandybridge fence registers (e259befd9013e212648c3bd4f6f1fbf92d0dd51d upstream)
# drm/i915: Include a generation number in the device info (c96c3a8cb7fadcb33d9a5ebe35fcee8b7d0a7946 upstream)
# drm/i915: Use 128k alignment for untiled display surface on i965 (v2) (534843dabf79da40561148764916e1b2e6bbcebe upstream)
# drm/i915: Silence sparse over duplicate members in static initializer (2d3fa0de689e1a53fdfc3db50732b62e58d0ca6b upstream)
# intel_ips: potential null dereference (52d7ee558d3babb4918eed6769f593adc1b6616e upstream)
# ALSA: hda - add ideapad model for Conexant 5051 codec (f7154de220f14073ef0d76638f85e254ad2e202f upstream)
# alpha: Fix printk format errors (3e073367a57d41e506f20aebb98e308387ce3090 upstream)
# drm/i915: Ensure that the crtcinfo is populated during mode_fixup() (897493504addc5609f04a2c4f73c37ab972c29b2 upstream)
# sctp: Do not reset the packet during sctp_packet_config(). (4bdab43323b459900578b200a4b8cf9713ac8fab upstream)
# Fix unprotected access to task credentials in waitid() (f362b73244fb16ea4ae127ced1467dd8adaa7733 upstream)
# guard page for stacks that grow upwards (8ca3eb08097f6839b2206e2242db4179aee3cfb3 upstream)
# mm: page allocator: update free page counters after pages are placed on the free list (72853e2991a2702ae93aaf889ac7db743a415dd3 upstream)
# mm: page allocator: calculate a better estimate of NR_FREE_PAGES when memory is low and kswapd is awake (aa45484031ddee09b06350ab8528bfe5b2c76d1c upstream)
# mm: page allocator: drain per-cpu lists after direct reclaim allocation fails (9ee493ce0a60bf42c0f8fd0b0fe91df5704a1cbf upstream)
# Fix call to replaced SuperIO functions (59b25ed91400ace98d6cf0d59b1cb6928ad5cd37 upstream)
# x86, asm: Use a lower case name for the end macro in atomic64_386_32.S (417484d47e115774745ef025bce712a102b6f86f upstream)
# PM / Hibernate: Avoid hitting OOM during preallocation of memory (6715045ddc7472a22be5e49d4047d2d89b391f45 upstream)
# PM: Prevent waiting forever on asynchronous resume after failing suspend (152e1d592071c8b312bb898bc1118b64e4aea535 upstream)
# AT91: change dma resource index (8d2602e0778299e2d6084f03086b716d6e7a1e1e upstream)
# drivers/video/via/ioctl.c: prevent reading uninitialized stack memory (b4aaa78f4c2f9cde2f335b14f4ca30b01f9651ca upstream)
# xfs: prevent reading uninitialized stack memory (a122eb2fdfd78b58c6dd992d6f4b1aaef667eef9 upstream)
# IA64: Optimize ticket spinlocks in fsys_rt_sigprocmask (2d2b6901649a62977452be85df53eda2412def24 upstream)
# IA64: fix siglock (f574c843191728d9407b766a027f779dcd27b272 upstream)
# KVM: VMX: Fix host GDT.LIMIT corruption (3444d7da1839b851eefedd372978d8a982316c36 upstream)
# KVM: MMU: fix mmu notifier invalidate handler for huge spte (6e3e243c3b6e0bbd18c6ce0fbc12bc3fe2d77b34 upstream)
# KVM: x86: emulator: inc/dec can have lock prefix (c0e0608cb902af1a1fd8d413ec0a07ee1e62c652 upstream)
# KVM: MMU: fix direct sp's access corrupted (9e7b0e7fba45ca3c6357aeb7091ebc281f1de365 upstream)
# KVM: Prevent internal slots from being COWed (7ac77099ce88a0c31b75acd0ec5ef3da4415a6d8 upstream)
# KVM: Keep slot ID in memory slot structure (e36d96f7cfaa71870c407131eb4fbd38ea285c01 upstream)
# SCSI: mptsas: fix hangs caused by ATA pass-through (2a1b7e575b80ceb19ea50bfa86ce0053ea57181d upstream)
# inotify: send IN_UNMOUNT events (611da04f7a31b2208e838be55a42c7a1310ae321 upstream)
# drm/nv50: initialize ramht_refs list for faked 0 channel (615661f3948a066fd22a36fe8ea0c528b75ee373 upstream)
# GFS2: gfs2_logd should be using interruptible waits (5f4874903df3562b9d5649fc1cf7b8c6bb238e42 upstream)
# x86 platform drivers: hp-wmi Reorder event id processing (751ae808f6b29803228609f51aa1ae057f5c576e upstream)
# aio: check for multiplication overflow in do_io_submit (75e1c70fc31490ef8a373ea2a4bea2524099b478 upstream)
# aio: do not return ERESTARTSYS as a result of AIO (a0c42bac79731276c9b2f28d54f9e658fcf843a2 upstream)
# percpu: fix pcpu_last_unit_cpu (46b30ea9bc3698bc1d1e6fd726c9601d46fa0a91 upstream)
# vmscan: check all_unreclaimable in direct reclaim path (d1908362ae0b97374eb8328fbb471576332f9fb1 upstream)
# /proc/vmcore: fix seeking (c227e69028473c7c7994a9b0a2cc0034f3f7e0fe upstream)
# Prevent freeing uninitialized pointer in compat_do_readv_writev (767b68e96993e29e3480d7ecdd9c4b84667c5762 upstream)
# rtc: s3c: balance state changes of wakeup flag (f501ed524b26ba1b739b7f7feb0a0e1496878769 upstream)
# drivers/video/sis/sis_main.c: prevent reading uninitialized stack memory (fd02db9de73faebc51240619c7c7f99bee9f65c7 upstream)
# mmap: call unlink_anon_vmas() in __split_vma() in case of error (2aeadc30de45a72648f271603203ab392b80f607 upstream)
# drivers/pci/intel-iommu.c: fix build with older gcc's (df08cdc7ef606509debe7677c439be0ca48790e4 upstream)
# char: Mark /dev/zero and /dev/kmem as not capable of writeback (371d217ee1ff8b418b8f73fb2a34990f951ec2d4 upstream)
# bdi: Initialize noop_backing_dev_info properly (976e48f8a5b02fc33f3e5cad87fb3fcea041a49c upstream)
# drm/i915,agp/intel: Add second set of PCI-IDs for B43 (41a51428916ab04587bacee2dda61c4a0c4fc02f upstream)
# oprofile: Add Support for Intel CPU Family 6 / Model 22 (Intel Celeron 540) (c33f543d320843e1732534c3931da4bbd18e6c14 upstream)
# sched: Fix user time incorrectly accounted as system time on 32-bit (e75e863dd5c7d96b91ebbd241da5328fc38a78cc upstream)
# pid: make setpgid() system call use RCU read-side critical section (950eaaca681c44aab87a46225c9e44f902c080aa upstream)
# hw breakpoints: Fix pid namespace bug (068e35eee9ef98eb4cab55181977e24995d273be upstream)
# virtio: console: Fix poll blocking even though there is data to read (6df7aadcd9290807c464675098b5dd2dc9da5075 upstream)
# virtio: console: Prevent userspace from submitting NULL buffers (65745422a898741ee0e7068ef06624ab06e8aefa upstream)
# mm: further fix swapin race condition (31c4a3d3a0f84a5847665f8aa0552d188389f791 upstream)
# mm: fix swapin race condition (4969c1192d15afa3389e7ae3302096ff684ba655 upstream)
# net/llc: make opt unsigned in llc_ui_setsockopt() (339db11b219f36cf7da61b390992d95bb6b7ba2e upstream)
# Staging: vt6655: fix buffer overflow (dd173abfead903c7df54e977535973f3312cd307 upstream)
# bonding: correctly process non-linear skbs (ab12811c89e88f2e66746790b1fe4469ccb7bdd9 upstream)
# drivers/net/eql.c: prevent reading uninitialized stack memory (44467187dc22fdd33a1a06ea0ba86ce20be3fe3c upstream)
# drivers/net/cxgb3/cxgb3_main.c: prevent reading uninitialized stack memory (49c37c0334a9b85d30ab3d6b5d1acb05ef2ef6de upstream)
# drivers/net/usb/hso.c: prevent reading uninitialized memory (7011e660938fc44ed86319c18a5954e95a82ab3e upstream)
# sparc64: Get rid of indirect p1275 PROM call buffer. (25edd6946a1d74e5e77813c2324a0908c68bcf9e upstream)
# net: blackhole route should always be recalculated (ae2688d59b5f861dc70a091d003773975d2ae7fb upstream)
# l2tp: test for ethernet header in l2tp_eth_dev_recv() (bfc960a8eec023a170a80697fe65157cd4f44f81 upstream)
# udp: add rehash on connect() (719f835853a92f6090258114a72ffe41f09155cd upstream)
# tcp: Prevent overzealous packetization by SWS logic. (01f83d69844d307be2aa6fea88b0e8fe5cbdb2f4 upstream)
# tcp: select(writefds) don't hang up when a peer close connection (d84ba638e4ba3c40023ff997aa5e8d3ed002af36 upstream)
# tcp: fix three tcp sysctls tuning (c5ed63d66f24fd4f7089b5a6e087b0ce7202aa8e upstream)
# tcp: Combat per-cpu skew in orphan tests. (ad1af0fedba14f82b240a03fe20eb9b2fdbd0357 upstream)
# net: RPS needs to depend upon USE_GENERIC_SMP_HELPERS (6dcbc12290abb452a5e42713faa6461b248e2f55 upstream)
# rds: fix a leak of kernel memory (f037590fff3005ce8a1513858d7d44f50053cc8f upstream)
# gro: Re-fix different skb headrooms (64289c8e6851bca0e589e064c9a5c9fbd6ae5dd4 upstream)
# gro: fix different skb headrooms (3d3be4333fdf6faa080947b331a6a19bce1a4f57 upstream)
# USB: serial/mos*: prevent reading uninitialized stack memory (a0846f1868b11cd827bdfeaf4527d8b1b1c0b098 upstream)
# usb: musb_debugfs: don't use the struct file private_data field with seq_files (024cfa5943a7e89565c60b612d698c2bfb3da66a upstream)
# drm: Only decouple the old_fb from the crtc is we call mode_set* (356ad3cd616185631235ffb48b3efbf39f9923b3 upstream)
# Revert "drm/i915: Allow LVDS on pipe A on gen4+" (12e8ba25ef52f19e7a42e61aecb3c1fef83b2a82 upstream)
# drm/i915: don't enable self-refresh on Ironlake (dd8849c8f59ec1cee4809a0c5e603e045abe860e upstream)
# drm/i915: Prevent double dpms on (032d2a0d068b0368296a56469761394ef03207c3 upstream)
# drm/i915: overlay on gen2 can't address above 1G (9f82d23846146990d475f6753be733e55788d88d upstream)
# drm/i915: Allocate the PCI resource for the MCHBAR (a25c25c2a2aa55e609099a9f74453c518aec29a6 upstream)
# drm/i915/dp: Really try 5 times before giving up. (4f7f7b7eb94bd37c449f06932459bbed78826f8d upstream)
# i915_gem: return -EFAULT if copy_to_user fails (c877cdce93a44eea96f6cf7fc04be7d0372db2be upstream)
# i915: return -EFAULT if copy_to_user fails (9927a403ca8c97798129953fa9cbb5dc259c7cb9 upstream)
# drm/radeon/kms/evergreen: fix backend setup (b741be82cf2079f71553af595610f17a3a3a752a upstream)
# drm/radeon/kms/evergreen: fix gpu hangs in userspace accel code (7e7b41d2ff30ed7ad4bf401d18566e6f38e42e4f upstream)
# drm/radeon/kms: properly set crtc high base on r7xx (95347871865ca5093c7e87a223274f7c3b5eccda upstream)
# drm/radeon/kms: force legacy pll algo for RV620 LVDS (f90087eea44ce5fad139f086bc9d89ca37b0edc2 upstream)
# drm/radeon/kms: force legacy pll algo for RV515 LVDS (0d9958b18e10d7426d94cc3dd024920a40db3ee2 upstream)
# drm/i915: Enable MI_FLUSH on Sandybridge (a69ffdbfcba8eabf2ca9d384b578e6f28b339c61 upstream)
# drm/radeon/kms: fix a regression on r7xx AGP due to the HDP flush fix (87cbf8f2c5d1b1fc4642c3dc0bb6efc587479603 upstream)
# agp/intel: Promote warning about failure to setup flush to error. (df51e7aa2cf204e3a65657a1d60b96cfda133e9b upstream)
# SUNRPC: Fix race corrupting rpc upcall (5a67657a2e90c9e4a48518f95d4ba7777aa20fbb upstream)
# NFS: Fix a typo in nfs_sockaddr_match_ipaddr6 (b20d37ca9561711c6a3c4b859c2855f49565e061 upstream)
# cifs: fix potential double put of TCP session reference (460cf3411b858ad509d5255e0dfaf862a83c0299 upstream)
# apm_power: Add missing break statement (1d220334d6a8a711149234dc5f98d34ae02226b8 upstream)
# hwmon: (f75375s) Do not overwrite values read from registers (c3b327d60bbba3f5ff8fd87d1efc0e95eb6c121b upstream)
# hwmon: (f75375s) Shift control mode to the correct bit position (96f3640894012be7dd15a384566bfdc18297bc6c upstream)
# hwmon: (emc1403) Remove unnecessary hwmon_device_unregister (f17c811d1433aa1966f9c5a744841427e9a97ecf upstream)
# arm: fix really nasty sigreturn bug (653d48b22166db2d8b1515ebe6f9f0f7c95dfc86 upstream)
# x86: hpet: Work around hardware stupidity (54ff7e595d763d894104d421b103a89f7becf47c upstream)
# ALSA: HDA: Enable internal speaker on Dell M101z (145a902bfeb1f89a41165bd2d1e633ce070bcb73 upstream)
# x86, tsc: Fix a preemption leak in restore_sched_clock_state() (55496c896b8a695140045099d4e0175cf09d4eae upstream)
# RDMA/cxgb3: Don't exceed the max HW CQ depth (dc4e96ce2dceb649224ee84f83592aac8c54c9b7 upstream)
# ath5k: check return value of ieee80211_get_tx_rate (d8e1ba76d619dbc0be8fbeee4e6c683b5c812d3a upstream)
# p54: fix tx feedback status flag check (f880c2050f30b23c9b6f80028c09f76e693bf309 upstream)
# powerpc/perf_event: Reduce latency of calling perf_event_do_pending (b0d278b7d3ae9115939ddcea93f516308cc367e2 upstream)
# perf: Initialize callchains roots's childen hits (5225c45899e872383ca39f5533d28ec63c54b39e upstream)
# memory hotplug: fix next block calculation in is_removable (0dcc48c15f63ee86c2fcd33968b08d651f0360a5 upstream)
# Input: i8042 - reset keyboard controller wehen resuming from S2R (1ca56e513a9fd356d5a9e0de45dbe0e189e00386 upstream)
# Input: i8042 - fix device removal on unload (af045b86662f17bf130239a65995c61a34f00a6b upstream)
# binfmt_misc: fix binfmt_misc priority (ee3aebdd8f5f8eac41c25c80ceee3d728f920f3b upstream)
# kernel/groups.c: fix integer overflow in groups_search (1c24de60e50fb19b94d94225458da17c720f0729 upstream)
# mm: compaction: handle active and inactive fairly in too_many_isolated (bc6930457460788e14b2c0808ed4632a1592bd61 upstream)
# bounce: call flush_dcache_page() after bounce_copy_vec() (ac8456d6f9a3011c824176bd6084d39e5f70a382 upstream)
# minix: fix regression in minix_mkdir() (eee743fd7eac9f2ea69ad06d093dfb5a12538fe5 upstream)
# statfs() gives ESTALE error (fbf3fdd2443965d9ba6fb4b5fecd1f6e0847218f upstream)
# mmc: build fix: mmc_pm_notify is only available with CONFIG_PM=y (81ca03a0e2ea0207b2df80e0edcf4c775c07a505 upstream)
# mmc: fix all hangs related to mmc/sd card insert/removal during suspend/resume (4c2ef25fe0b847d2ae818f74758ddb0be1c27d8e upstream)
# mmc: fix the use of kunmap_atomic() in tmio_mmc.h (5600efb1bc2745d93ae0bc08130117a84f2b9d69 upstream)
# tmio_mmc: don't clear unhandled pending interrupts (b78d6c5f51935ba89df8db33a57bacb547aa7325 upstream)
# gcov: fix null-pointer dereference for certain module types (85a0fdfd0f967507f3903e8419bc7e408f5a59de upstream)
# hp_accel: add quirks for HP ProBook 532x and HP Mini 5102 (4e70598c3b56e6fec551454c495d4d4025834749 upstream)
# irda: off by one (cf9b94f88bdbe8a02015fc30d7c232b2d262d4ad upstream)
# tracing: t_start: reset FTRACE_ITER_HASH in case of seek/pread (df09162550fbb53354f0c88e85b5d0e6129ee9cc upstream)
# tracing: Do not allow llseek to set_ftrace_filter (9c55cb12c1c172e2d51e85fbb5a4796ca86b77e7 upstream)
# tracing: Fix a race in function profile (3aaba20f26f58843e8f20611e5c0b1c06954310f upstream)
# O_DIRECT: fix the splitting up of contiguous I/O (7a801ac6f5067539ceb5fad0fe90ec49fc156e47 upstream)
# ahci: fix hang on failed softreset (f1f5a807b051eddd3f302e503d39214e5bde0ef2 upstream)
# libata,pata_via: revert ata_wait_idle() removal from ata_sff/via_tf_load() (40c6023031369ae5573e622ca54fa3ffe89fb865 upstream)
# libata: skip EH autopsy and recovery during suspend (e2f3d75fc0e4a0d03c61872bad39ffa2e74a04ff upstream)
# HID: Set Report ID properly for Output reports on the Control endpoint. (c29771c2d8ceb907ed45eb8c7fc0450308140aca upstream)
# oprofile, x86: fix init_sysfs() function stub (269f45c25028c75fe10e6d9be86e7202ab461fbc upstream)
# oprofile, x86: fix init_sysfs error handling (10f0412f57f2a76a90eff4376f59cbb0a39e4e18 upstream)
# oprofile: fix crash when accessing freed task structs (750d857c682f4db60d14722d430c7ccc35070962 upstream)
# sysfs: checking for NULL instead of ERR_PTR (57f9bdac2510cd7fda58e4a111d250861eb1ebeb upstream)
# swap: do not send discards as barriers (8f2ae0faa3a119158c4dcfe89926d6fad5f5332c upstream)
# swap: discard while swapping only if SWAP_FLAG_DISCARD (3399446632739fcd05fd8b272b476a69c6e6d14a upstream)
# swap: prevent reuse during hibernation (b73d7fcecd93dc15eaa3c45c8c587b613f6673c4 upstream)
# ALSA: hda - patch_nvhdmi.c: Add missing codec IDs, unify names (9cf2657d05f9f9e04c3e113d68bf7cef5a942070 upstream)
# ALSA: usb-audio: Assume first control interface is for audio (7b6717e144de6592e614fd7fc3b914b6bf686a9d upstream)
# ALSA: hda - Fix wrong HP pin detection in snd_hda_parse_pin_def_config() (122661b67899980f1372812d907e73ebcfb3d037 upstream)
# ALSA: hda - Add errata initverb sequence for CS42xx codecs (a769cbcf60cee51f4431c0938acd39e7e5b76b8d upstream)
# ALSA: hda - Add quirk for Lenovo T400s (4d155641c81203440da64c4633b4efaab75f63b3 upstream)
# ALSA: usb - Release capture substream URBs properly (76195fb096ca6db2f8bbaffb96e3025aaf1649a0 upstream)
# ALSA: virtuoso: fix setting of Xonar DS line-in/mic-in controls (fe6ce80ae25953d95ebaf9bce27b585218cda25c upstream)
# ALSA: virtuoso: work around missing reset in the Xonar DS Windows driver (4c25b93223340deff73381cc47f9244fb379a74d upstream)
# ALSA: usb-audio: fix detection of vendor-specific device protocol settings (a2acad8298a42b7be684a32fafaf83332bba9c2b upstream)
# ALSA: hda - Add a new hp-laptop model for Conexant 5066, tested on HP G60 (048e78a5bc22c27410cb5ca9680c3c7ac400607f upstream)
# USB: cdc-acm: Fixing crash when ACM probing interfaces with no endpoint descriptors. (577045c0a76e34294f902a7d5d60e90b04d094d0 upstream)
# USB: cdc-acm: Add pseudo modem without AT command capabilities (5b239f0aebd4dd6f85b13decf5e18e86e35d57f0 upstream)
# USB: cdc-acm: Adding second ACM channel support for various Nokia and one Samsung phones (4035e45632c2a8bb4edae83c20447051bd9a9604 upstream)
# USB: cxacru: Use a bulk/int URB to access the command endpoint (902ffc3c707c1d459ea57428a619a807cbe412f9 upstream)
# ima: always maintain counters (e950598d43dce8d97e7d5270808393425d1e5cbd upstream)
# usb: serial: mos7840: Add USB IDs to support more B&B USB/RS485 converters. (870408c8291015872a7a0b583673a9e56b3e73f4 upstream)
# usb: serial: mos7840: Add USB ID to support the B&B Electronics USOPTL4-2P. (caf3a636a9f809fdca5fa746e6687096457accb1 upstream)
# USB: ftdi_sio: Added custom PIDs for ChamSys products (657373883417b2618023fd4135d251ba06a2c30a upstream)
# usb: allow drivers to use allocated bandwidth until unbound (0791971ba8fbc44e4f476079f856335ed45e6324 upstream)
# USB: cp210x: Add B&G H3000 link cable ID (0bf7a81c5d447c21db434be35363c44c0a30f598 upstream)
# USB: CP210x Add new device ID (541e05ec3add5ab5bcf238d60161b53480280b20 upstream)
# USB: Fix kernel oops with g_ether and Windows (037d3656adbd7e8cb848f01cf5dec423ed76bbe7 upstream)
# USB: ehci-ppc-of: problems in unwind (08a3b3b1c2e622e378d9086aee9e2e42ce37591d upstream)
# serial: bfin_sport_uart: restore transmit frame sync fix (336746918299f2ca16b31490655b4ff7c8824c87 upstream)
# ocfs2: Fix incorrect checksum validation error (f5ce5a08a40f2086435858ddc80cb40394b082eb upstream)
# ath9k_hw: fix parsing of HT40 5 GHz CTLs (904879748d7439a6dabdc6be9aad983e216b027d upstream)
# ath9k_hw: Fix EEPROM uncompress block reading on AR9003 (803288e61e346ba367373bc7d5eeb6e11c81a33c upstream)
# ath9k_htc: Fix disconnect issue in HT40 mode. (71ba186c123630ddab17667ec9ecf7e2ef211295 upstream)
# mac80211: delete work timer (071249b1d501b1f31a6b1af3fbcbe03158a84e5c upstream)
# fuse: flush background queue on connection close (595afaf9e6ee1b48e13ec4b8bcc8c7dee888161a upstream)
# staging: hv: Fixed lockup problem with bounce_buffer scatter list (77c5ceaff31645ea049c6706b99e699eae81fb88 upstream)
# staging: hv: Increased storvsc ringbuffer and max_io_requests (15dd1c9f53b31cdc84b8072a88c23fa09527c596 upstream)
# staging: hv: Fixed the value of the 64bit-hole inside ring buffer (e5fa721d1c2a54261a37eb59686e18dee34b6af6 upstream)
# staging: hv: Fixed bounce kmap problem by using correct index (0c47a70a9a8a6d1ec37a53d2f9cb82f8b8ef8aa2 upstream)
# staging: hv: Fix missing functions for net_device_ops (b681b5886bb5d1f5b6750a0ed7c62846da7ccea4 upstream)
# Staging: rt2870sta: Add more device IDs from vendor drivers (9e693e4375689cb1cd1529aba011de0044f74ef5 upstream)
# ALSA: hda - Handle pin NID 0x1a on ALC259/269 (b08b1637ce1c0196970348bcabf40f04b6b3d58e upstream)
# ALSA: hda - Handle missing NID 0x1b on ALC259 codec (5d4abf93ea3192cc666430225a29a4978c97c57d upstream)
# Revert "Input: appletouch - fix integer overflow issue" (6e49c1a407c8af8d779a24fd2428857991514a7b upstream)
# xfs: move aio completion after unwritten extent conversion (fb511f2150174b18b28ad54708c1adda0df39b17 upstream)
# ext4: move aio completion after unwritten extent conversion (5b3ff237bef43b9e7fb7d1eb858e29b73fd664f9 upstream)
# direct-io: move aio_complete into ->end_io (40e2e97316af6e62affab7a392e792494b8d9dde upstream)
# PCI: MSI: Restore read_msi_msg_desc(); add get_cached_msi_msg_desc() (30da55242818a8ca08583188ebcbaccd283ad4d9 upstream)
# PCI: MSI: Remove unsafe and unnecessary hardware access (fcd097f31a6ee207cc0c3da9cccd2a86d4334785 upstream)
# netfilter: fix CONFIG_COMPAT support (cca77b7c81876d819a5806f408b3c29b5b61a815 upstream)
# perf, x86, Pentium4: Clear the P4_CCCR_FORCE_OVF flag (8d330919927ea31fa083b5a80084dc991da813a0 upstream)
# x86, tsc, sched: Recompute cyc2ns_offset's during resume from sleep states (cd7240c0b900eb6d690ccee088a6c9b46dae815a upstream)
# writeback: write_cache_pages doesn't terminate at nr_to_write <= 0 (546a1924224078c6f582e68f890b05b387b42653 upstream)
# pata_cmd64x: revert commit d62f5576 (aba8a08ded89a74f1ba04ae94ecc98f26e27d41c upstream)
# sata_mv: fix broken DSM/TRIM support (v2) (44b733809a5aba7f6b15a548d31a56d25bf3851c upstream)
# libata-sff: remove harmful BUG_ON from ata_bmdma_qc_issue (55ee67f837882f28a900705a2ca1af257ab6c53d upstream)
# ALSA: hda - Rename iMic to Int Mic on Lenovo NB0763 (150b432f448281d5518f5229d240923f9a9c5459 upstream)
# ALSA: HDA: Use model=auto for LG R510 (81cd3fca642cecb40a1ccef099799dcb5730734b upstream)
# xfs: ensure we mark all inodes in a freed cluster XFS_ISTALE (5b3eed756cd37255cad1181bd86bfd0977e97953 upstream)
# xfs: fix untrusted inode number lookup (4536f2ad8b330453d7ebec0746c4374eadd649b1 upstream)
# xen: use percpu interrupts for IPIs and VIRQs (aaca49642b92c8a57d3ca5029a5a94019c7af69f upstream)
# xen: handle events as edge-triggered (dffe2e1e1a1ddb566a76266136c312801c66dcf7 upstream)
# hwmon: (k8temp) Differentiate between AM2 and ASB1 (a05e93f3b3fc2f53c1d0de3b17019e207c482349 upstream)
# hwmon: (ads7871) Fix ads7871_probe error paths (c12c507d7185fe4e8ada7ed9832957576eefecf8 upstream)
# (upstream) ALSA: hda - Apply ALC269 VAIO fix-up to all Sony laptops with ALC269 (abdd8f510686da0a58e475bc0143d1069e5f53da upstream)
# (pre-stable) ACPI: enable repeated PCIEXP wakeup by clearing PCIEXP_WAKE_STS on resume (573b638158029898caf9470c8214b7ddd29751e3 upstream)
# ocfs2: Don't walk off the end of fast symlinks. (1fc8a117865b54590acd773a55fbac9221b018f0 upstream)
# Fix pktcdvd ioctl dev_minor range check (252a52aa4fa22a668f019e55b3aac3ff71ec1c29 upstream)
# ALSA: seq/oss - Fix double-free at error path of snd_seq_oss_open() (27f7ad53829f79e799a253285318bff79ece15bd upstream)
# KEYS: Fix bug in keyctl_session_to_parent() if parent has no session keyring (3d96406c7da1ed5811ea52a3b0905f4f0e295376 upstream)
# KEYS: Fix RCU no-lock warning in keyctl_session_to_parent() (9d1ac65a9698513d00e5608d93fca0c53f536c14 upstream)
# wireless extensions: fix kernel heap content leak (42da2f948d949efd0111309f5827bf0298bcc9a4 upstream)
# irda: Correctly clean up self->ias_obj on irda_bind() failure. (628e300cccaa628d8fb92aa28cb7530a3d5f2257 upstream)
# x86-64, compat: Retruncate rax after ia32 syscall entry tracing (eefdca043e8391dcd719711716492063030b55ac upstream)
# x86-64, compat: Test %rax for the syscall number, not %eax (36d001c70d8a0144ac1d038f6876c484849a74de upstream)
# compat: Make compat_alloc_user_space() incorporate the access_ok() (c41d68a513c71e35a14f66d71782d27a79a81ea6 upstream)
# PM / Runtime: Add runtime PM statistics (v3) (8d4b9d1bfef117862a2889dec4dac227068544c9 upstream)
# PM / Runtime: Make runtime_status attribute not debug-only (v. 2) (0fcb4eef8294492c8f1de8236b1ed81f09e42922 upstream)
# x86, hwmon: Fix unsafe smp_processor_id() in thermal_throttle_add_dev (51e3c1b558b31b11bf5fc66d3c6f5adacf3573f7 upstream)
# (pre-stable) mm: Move vma_stack_continue into mm.h (39aa3cb3e8250db9188a6f1e3fb62ffa1a717678 upstream)
# mmc: omap: fix for bus width which improves SD card's peformance. (27151dc9e363c0033d7375863c0d284f8c4b636a upstream)
# (pre-stable) intel_agp,i915: Add more sandybridge graphics device ids (8554048070906579ec9fa19ac381deddd2d7b155 upstream)
# drm/i915,intel_agp: Add support for Sandybridge D0 (4fefe435626758b14e6c05d2a5f8d71a997c0ad6 upstream)
# agp/intel: Support the extended physical addressing bits on Sandybridge. (3869d4a8afd3ce97770e66d6a96672af93984cc2 upstream)
# ALSA: hda - Fix beep frequency on IDT 92HD73xx and 92HD71Bxx codecs (1b0e372d7b52c9fc96348779015a6db7df7f286e upstream)
# e1000e: correct MAC-PHY interconnect register offset for 82579 (96f2bd13bfb6df5beec7fe55405ad94b528b8b4c upstream)
# e1000e: initial support for 82579 LOMs (d3738bb8203acf8552c3ec8b3447133fc0938ddd upstream)
# drm/i915: fix VGA plane disable for Ironlake+ (9cce37f4855a30cc7c364edf18522282782f7ddc upstream)
# x86, hwmon: Package Level Thermal/Power: pkgtemp documentation (a3159864f2978bf2ace9cc787d73d315c98bbf9a upstream)
# x86, hwmon: Package Level Thermal/Power: power limit (0199114c31798af5b83841b21759b64171060d9b upstream)
# x86, hwmon: Package Level Thermal/Power: thermal throttling handler (55d435a227bd28c77afab326de44dfacc0b15059 upstream)
# x86, hwmon: Package Level Thermal/Power: pkgtemp hwmon driver (cb84b19474384c572ba3aa2345815e555112ebf5 upstream)
# x86, cpu: Package Level Thermal Control, Power Limit Notification definitions (9792db6174d9927700ed288e6d74b9391bf785d1 upstream)
# (pre-stable) ALSA: hda - Ensure codec patch files are checked for the correct codec ID (2385b789f1525542396d8f6b0cc37c1eb2493b4c upstream)
# intel_idle: disable module support (6ce9cd8669fa1195fdc21643370e34523c7ac988 upstream)
# [ARM] add address randomization to mmap() (cc92c28b2db5b406657ecc05235d4ca4e222ae34 upstream)
# [ARM] implement arch_randomize_brk() (990cb8acf23cab19a2930f1ed5e7dc108f89079b upstream)
# ARM: stack protector: change the canary value per task (df0698be14c6683606d5df2d83e3ae40f85ed0d9 upstream)
# ARM: initial stack protector (-fstack-protector) support (c743f38013aeff58ef6252601e397b5ba281c633 upstream)
# (pre-stable) dell-wmi: Add support for eject key on Dell Studio 1555 (d5164dbf1f651d1e955b158fb70a9c844cc91cd1 upstream)
# ips driver: make it less chatty (1a14703d6b20010401ca273ac1f07bff7992aa2c upstream)
# X86: intel_ips, check for kzalloc properly (e9ec7f3539cbeae8ffc5d7b30543e5612df5cba3 upstream)
# IPS driver: add GPU busy and turbo checking (0385e5210c83b13fe685c54b6063655f80bce3ee upstream)
# x86 platform driver: intelligent power sharing driver (aa7ffc01d254c91a36bf854d57a14049c6134c72 upstream)
# timer: add on-stack deferrable timer interfaces (8cadd2831bf3abc94f4530e7fdbab7bb39b6b27d upstream)
# Input: document the MT event slot protocol (72c8a94a585afea1f45aa8c4f6938ed6d05be57a upstream)
# Input: introduce MT event slots (40d007e7df1dab17bf1ecf91e718218354d963d7 upstream)
# HID: magicmouse: report last touch up (e3612e8669b8c15278058f8dd52e3dc6e7d26710 upstream)
# UBUNTU: [Upstream] HID: magicmouse: enable horizontal scrolling (c04266889b591165bdea396b20313bebb83c0fd6 upstream)
# UBUNTU: [Upstream] HID: magicmouse: add param for scroll speed (0b778e76c1e7ccf49f8980b594e72f984095fd26 upstream)
# UBUNTU: [Upstream] HID: magicmouse: properly account for scroll movement in state (8d93efb27ab8927ffc7a357f1b2d10039de50ed4 upstream)
# UBUNTU: [Upstream] HID: magicmouse: disable and add module param for scroll acceleration (9846f350ef4d4108c1154acfc125fe8d8630ef84 upstream)
# UBUNTU: [Upstream] HID: magicmouse: scroll on entire surface, not just middle of mouse (ef566d30a702cc9b49d24edc4ad45c62208a4f5d upstream)
# perf probe: Add kernel source path option (9ed7e1b85cd55dc46cb9410a23086bdaa2ff3eb9 upstream)
# tracing: Fix timer tracing (ede1b4290781ae82ccf0f2ecc6dada8d3dd35779 upstream)
# mutex: Improve the scalability of optimistic spinning (9d0f4dcc5c4d1c5dd01172172684a45b5f49d740 upstream)
# USB: ftdi_sio: add product ID for Lenz LI-USB (ea233f805537f5da16c2b34d85b6c5cf88a0f9aa upstream)
# USB: ftdi_sio: Add ID for Ionics PlugComputer (666cc076d284e32d11bfc5ea2fbfc50434cff051 upstream)
# USB: xhci: Remove buggy assignment in next_trb() (a1669b2c64a9c8b031e0ac5cbf2692337a577f7c upstream)
# USB: io_ti: check firmware version before updating (0827a9ff2bbcbb03c33f1a6eb283fe051059482c upstream)
# USB: ftdi_sio: fix endianess of max packet size (d1ab903d2552b2362339b19203c7f01c797cb316 upstream)
# USB: CP210x Fix Break On/Off (72916791cbeb9cc607ae620cfba207dea481cd76 upstream)
# USB: pl2303: New vendor and product id (f36ecd5de93e4c85a9e3d25100c6e233155b12e5 upstream)
# USB: add device IDs for igotu to navman (0eee6a2b2a52e17066a572d30ad2805d3ebc7508 upstream)
# USB: option: add Celot CT-650 (76078dc4fc389185fe467d33428f259ea9e69807 upstream)
# powerpc: Fix typo in uImage target (c686ecf5040d287a68d4fca7f1948472f556a6d3 upstream)
# Staging: batman-adv: Don't write in not allocated packet_buff (f86b9984250fa2b71ce36d4693a939a58579583b upstream)
# Staging: batman-adv: Don't use net_dev after dev_put (51a00eaf6e008b60943af6ab68c17ac3622208dc upstream)
# Staging: batman-adv: Create batman_if only on register event (1189f130f89b73eecb6117c0fc5e90abbcb7faa0 upstream)
# Staging: batman-adv: unify orig_hash_lock spinlock handling to avoid deadlocks (9abc10238e1df7ce81c58a441f65efd5e905b9e8 upstream)
# drm: stop information leak of old kernel stack. (b9f0aee83335db1f3915f4e42a5e21b351740afd upstream)
# drm/radeon/kms: fix GTT/VRAM overlapping test (2cbeb4efc2b9739fe6019b613ae658bd2119a3eb upstream)
# drm/radeon/kms: fix sideport detection on newer rs880 boards (4b80d954a7e54c13a5063af18d01719ad6a0daf3 upstream)
# drm/radeon/kms/DCE3+: switch pads to ddc mode when going i2c (5786e2c5a3f519647c50bbc276e45d36a704415a upstream)
# drm/radeon/kms: fix typo in radeon_compute_pll_gain (0537398b211b4f040564beec458e23571042d335 upstream)
# drm/radeon/kms/pm: bail early if nothing's changing (4e186b2d6c878793587c35d7f06c94565d76e9b8 upstream)
# drm/radeon/kms: don't enable MSIs on AGP boards (da7be684c55dbaeebfc1a048d5faf52d52cb3c1f upstream)
# netlink: fix compat recvmsg (68d6ac6d2740b6a55f3ae92a4e0be6d881904b32 upstream)
# ALSA: intel8x0: Mute External Amplifier by default for ThinkPad X31 (9c77b846ec8b4e0c7107dd7f820172462dc84a61 upstream)
# fixes for using make 3.82 (3c955b407a084810f57260d61548cc92c14bc627 upstream)
# iwlwifi: fix 3945 filter flags (8b8ab9d5e352aae0dcae53c657b25ab61bb73f0f upstream)
# e1000e: don't check for alternate MAC addr on parts that don't support it (1aef70ef125165e0114a8e475636eff242a52030 upstream)
# e1000e: disable ASPM L1 on 82573 (19833b5dffe2f2e92a1b377f9aae9d5f32239512 upstream)
# dm: separate device deletion from dm_put (3f77316de0ec0fd208467fbee8d9edc70e2c73b2 upstream)
# iwlagn: fix rts cts protection (94597ab23ea10b3bdcba534be00a9f7b35791c07 upstream)
# can-raw: Fix skb_orphan_try handling (cff0d6e6edac7672b3f915bb4fb59f279243b7f9 upstream)
# time: Workaround gcc loop optimization that causes 64bit div errors (c7dcf87a6881bf796faee83003163eb3de41a309 upstream)
# timekeeping: Fix overflow in rawtime tv_nsec on 32 bit archs (deda2e81961e96be4f2c09328baca4710a2fd1a0 upstream)
# drm/agp/i915: trim stolen space to 32M (d1d6ca73ef548748e141747e7260798327d6a2c1 upstream)
# oprofile: add support for Intel processor model 30 (a7c55cbee0c1bae9bf5a15a08300e91d88706e45 upstream)
# Oprofile: Change CPUIDS from decimal to hex, and add some comments (45c34e05c4e3d36e7c44e790241ea11a1d90d54e upstream)
# isdn: gigaset: add missing unlock (7e27a0aeb98d53539bdc38384eee899d6db62617 upstream)
# isdn/gigaset: reduce syslog spam (7d060ed2877ff6d00e7238226edbaf91493d6d0b upstream)
# gen_nand: Test if nr_chips field is valid (01cd2ababddd55a127caa1cd20d570637e0d42e1 upstream)
# Fix init ordering of /dev/console vs callers of modprobe (31d1d48e199e99077fb30f6fb9a793be7bec756f upstream)
# act_nat: fix wild pointer (072d79a31a3b870b49886f4347e23f81b7eca3ac upstream)
# net: disable preemption before call smp_processor_id() (cece1945bffcf1a823cdfa36669beae118419351 upstream)
# pkt_sched: Fix sch_sfq vs tc_modify_qdisc oops (41065fba846e795b31b17e4dec01cb904d56c6cd upstream)
# pkt_sched: Fix sch_sfq vs tcf_bind_filter oops (eb4a5527b1f0d581ac217c80ef3278ed5e38693c upstream)
# net: Fix a memmove bug in dev_gro_receive() (e5093aec2e6b60c3df2420057ffab9ed4a6d2792 upstream)
# net: Fix napi_gro_frags vs netpoll path (ce9e76c8450fc248d3e1fc16ef05e6eb50c02fa5 upstream)
# isdn: fix information leak (4b030d4288a569d6bdeca884d7f102d951f097f2 upstream)
# can: add limit for nframes and clean up signed/unsigned variables (5b75c4973ce779520b9d1e392483207d6f842cde upstream)
# act_nat: the checksum of ICMP doesn't have pseudo header (3a3dfb062c2e086c202d34f09ce29634515ad256 upstream)
# bridge: Fix skb leak when multicast parsing fails on TX (6d1d1d398cb7db7a12c5d652d50f85355345234f upstream)
# tcp: cookie transactions setsockopt memory leak (a3bdb549e30e7a263f7a589747c40e9c50110315 upstream)
# bridge: add rcu_read_lock on transmit (eeaf61d8891f9c9ed12c1a667e72bf83f0857954 upstream)
# sparc: Really fix "console=" for serial consoles. (0a492896ac07336c98f37ad7fab4a6387b6ada78 upstream)
# sparc64: Fix rwsem constant bug leading to hangs. (ef201bebe5afc91a2b99b45dacc8c6dd88ca9e58 upstream)
# slab: fix object alignment (1ab335d8f85792e3b107ff8237d53cf64db714df upstream)
# x86, asm: Clean up and simplify set_64bit() (69309a05907546fb686b251d4ab041c26afe1e1d upstream)
# mm: make stack guard page logic use vm_prev pointer (0e8e50e20c837eeec8323bba7dcd25fe5479194c upstream)
# mm: make the mlock() stack guard page checks stricter (7798330ac8114c731cfab83e634c6ecedaa233d7 upstream)
# mm: make the vma list be doubly linked (297c5eee372478fc32fec5fe8eed711eedb13f3d upstream)
# dm ioctl: release _hash_lock between devices in remove_all (98f332855effef02aeb738e4d62e9a5b903c52fd upstream)
# dm: prevent access to md being deleted (abdc568b0540bec6d3e0afebac496adef1189b77 upstream)
# dm snapshot: test chunk size against both origin and snapshot (c24110450650f17f7d3ba4fbe01f01ac5a115456 upstream)
# dm snapshot: iterate origin and cow devices (1e5554c8428bc7209a83e2d07ca724be4d981ce3 upstream)
# drm/i915/edp: Flush the write before waiting for PLLs (5ddb954b9ee50824977d2931e0ff58b3050b337d upstream)
# drm/i915: i8xx also doesn't like multiple oustanding pageflips (6146b3d61925116e3fecce36c2fd873665bd6614 upstream)
# drm/i915: fixup pageflip ringbuffer commands for i8xx (69d0b96c095468526009cb3104eee561c9252a84 upstream)
# mtd: change struct flchip_shared spinlock locking into mutex (8ae664184c45def51ff0b61d4bd6c6671db6cb4f upstream)
# mtd: nand: Fix probe of Samsung NAND chips (cfe3fdadb16162327773ef01a575a32000b8c7f4 upstream)
# matroxfb: fix incorrect use of memcpy_toio() (c81476df1b4241aefba4ff83a7701b3a926bd7ce upstream)
# pxa3xx: fix ns2cycle equation (93b352fce679945845664b56b0c3afbd655a7a12 upstream)
# ath5k: disable ASPM L0s for all cards (6ccf15a1a76d2ff915cdef6ae4d12d0170087118 upstream)
# NFS: Fix an Oops in the NFSv4 atomic open code (0a377cff9428af2da2b293d11e07bc4dbf064ee5 upstream)
# nfs: Add "lookupcache" to displayed mount options (9b00c64318cc337846a7a08a5678f5f19aeff188 upstream)
# ath9k_htc: fix panic on packet injection using airbase-ng tool. (da93f10684bfba2983a70c10b5d417232b6a5245 upstream)
# BFIN: Fix gen_nand probe structures contents (ef56609f9c7fdf5baa9d9f86f84a7bd8a717cd25 upstream)
# ARM: Fix gen_nand probe structures contents (ef077179a2909d3d0d3accf29ad1ea9ebb19019b upstream)
# ARM: Tighten check for allowable CPSR values (41e2e8fd34fff909a0e40129f6ac4233ecfa67a9 upstream)
# hwmon: (pc87360) Fix device resource declaration (b9783dcebe952bf73449fe70a19ee4814adc81a0 upstream)
# drm/radeon/kms: add missing copy from user (d8ab35575098b2d6dc10b2535aeb40545933ae56 upstream)
# drm/radeon/kms: add additional quirk for Acer rv620 laptop (9ea2c4be978d597076ddc6c550557de5d243cea8 upstream)
# Fix the nested PR lock calling issue in ACL (845b6cf34150100deb5f58c8a37a372b111f2918 upstream)
# x86, apic: Fix apic=debug boot crash (05e407603e527f9d808dd3866d3a17c2ce4dfcc5 upstream)
# perf, x86: Fix Intel-nhm PMU programming errata workaround (351af0725e5222e35741011d1ea62215c1ed06db upstream)
# x86, hotplug: Serialize CPU hotplug to avoid bringup concurrency issues (d7c53c9e822a4fefa13a0cae76f3190bfd0d5c11 upstream)
# platform/x86: move rfkill for Dell Mini 1012 to compal-laptop (c3f755e3842108c1cffe570fe9802239810352b6 upstream)
# x86, apic: Map the local apic when parsing the MP table. (5989cd6a1cbf86587edcc856791f960978087311 upstream)
# perf, x86: P4 PMU -- update nmi irq statistics and unmask lvt entry properly (1c250d709fdc8aa5bf42d90be99428a01a256a55 upstream)
# x86, asm: Refactor atomic64_386_32.S to support old binutils and be cleaner (30246557a06bb20618bed906a06d1e1e0faa8bb4 upstream)
# cfg80211: fix locking in action frame TX (fe100acddf438591ecf3582cb57241e560da70b7 upstream)
# tracing: Fix ring_buffer_read_page reading out of page boundary (18fab912d4fa70133df164d2dcf3310be0c38c34 upstream)
# tracing: Fix an unallocated memory access in function_graph (575570f02761bd680ba5731c1dfd4701062e7fb2 upstream)
# nilfs2: fix list corruption after ifile creation failure (af4e36318edb848fcc0a8d5f75000ca00cdc7595 upstream)
# wl1251: fix trigger scan timeout usage (fe0dbcc9d2e941328b3269dab102b94ad697ade5 upstream)
# ocfs2/dlm: remove potential deadlock -V3 (b11f1f1ab73fd358b1b734a9427744802202ba68 upstream)
# ocfs2/dlm: avoid incorrect bit set in refmap on recovery master (a524812b7eaa7783d7811198921100f079034e61 upstream)
# ocfs2: Count more refcount records in file system fragmentation. (8a2e70c40ff58f82dde67770e6623ca45f0cb0c8 upstream)
# ocfs2 fix o2dlm dlm run purgelist (rev 3) (7beaf243787f85a2ef9213ccf13ab4a243283fde upstream)
# ocfs2/dlm: fix a dead lock (6d98c3ccb52f692f1a60339dde7c700686a5568b upstream)
# ocfs2: do not overwrite error codes in ocfs2_init_acl (6eda3dd33f8a0ce58ee56a11351758643a698db4 upstream)
# ALSA: hda - Add quirk for Dell Vostro 1220 (c3e68fad88143fd1fe8fe640207fb19c0f087dbc upstream)
# ALSA: hda - Fix missing stream for second ADC on Realtek ALC260 HDA codec (53bacfbbb2ddd981287b58a511c8b8f5df179886 upstream)
# ALSA: emu10k1 - delay the PCM interrupts (add pcm_irq_delay parameter) (56385a12d9bb9e173751f74b6c430742018cafc0 upstream)
# ALSA: riptide - Fix detection / load of firmware files (a5ba6beb839cfa288960c92cd2668a2601c24dda upstream)
# regulator: Default GPIO controlled WM8994 regulators to disabled (c4604e49c1a5832a58789a22eba7ca982933e1be upstream)
# ASoC: register cache should be 1 byte aligned for 1 byte long register (ac770267a7cd85a747b6111db46f66d1515e7cd7 upstream)
# ASoC: Remove DSP mode support for WM8776 (b2c1e07b81a126e5846dfc3d36f559d861df59f4 upstream)
# ASoC: Fix inverted mute controls for WM8580 (4f0ed9a51bc8ef16c2589112fdb110479e4b0df1 upstream)
# acpi: fix bogus preemption logic (0a7992c90828a65281c3c9cf180be3b432d277b2 upstream)
# memstick: fix hangs on unexpected device removal in mspro_blk (d862b13bc8cbab9692fbe0ef44c40d0488b81af1 upstream)
# memstick: init sysfs attributes (21fd0495ea61d53e0ebe575330e343ce4e6d2a61 upstream)
# mm: fix up some user-visible effects of the stack guard page (d7824370e26325c881b665350ce64fb0a4fde24a upstream)
# mm: fix page table unmap for stack guard page properly (11ac552477e32835cb6970bf0a70c210807f5673 upstream)
# x86: don't send SIGBUS for kernel page faults (96054569190bdec375fe824e48ca1f4e3b53dd36 upstream)
# mm: fix missing page table unmap for stack guard page failure case (5528f9132cf65d4d892bcbc5684c61e7822b21e9 upstream)
# mm: keep a guard page below a grow-down stack segment (320b2b8de12698082609ebbc1a17165727f4c893 upstream)
# ext4: fix freeze deadlock under IO (437f88cc031ffe7f37f3e705367f4fe1f4be8b0f upstream)
# crypto: testmgr - add an option to disable cryptoalgos' self-tests (0b767f96164b2b27488e3daa722ff16e89d49314 upstream)
# xen: Do not suspend IPI IRQs. (4877c737283813bdb4bebfa3168c1585f6e3a8ca upstream)
# irq: Add new IRQ flag IRQF_NO_SUSPEND (685fd0b4ea3f0f1d5385610b0d5b57775a8d5842 upstream)
# net: Fix NETDEV_NOTIFY_PEERS to not conflict with NETDEV_BONDING_DESLAVE. (38117d1495e587fbb10d6e55733139a27893cef5 upstream)
# jfs: don't allow os2 xattr namespace overlap with others (aca0fa34bdaba39bfddddba8ca70dba4782e8fe6 upstream)
# l2tp: fix export of header file for userspace (4565956dc0847985c0403c9ebbf274b6a122e1e2 upstream)
# mtd: gen_nand: fix support for multiple chips (81cbb0b17796d81cbd92defe113cf2a7c7a21fbb upstream)
# mtd: mxc_nand: fix unbalanced enable for IRQ (6a8cfcfb0de881735df4031eb5cc99be3d0971e9 upstream)
# sched: Revert nohz_ratelimit() for now (396e894d289d69bacf5acd983c97cd6e21a14c08 upstream)
# Bluetooth: Added support for controller shipped with iMac i5 (0a79f67445de50ca0a8dc1d34f3cc406d89c28b2 upstream)
# USB: serial: fix stalled writes (b58af4066d240b18b43f202e07b9ec7461d90b17 upstream)
# USB: fix thread-unsafe anchor utiliy routines (b3e670443b7fb8a2d29831b62b44a039c283e351 upstream)
# USB: usbtest: avoid to free coherent buffer in atomic context (e10e1bec8e6654de4591ef45ddd6a6d1e5b2591c upstream)
# USB: cp210x: Add four new device IDs (356c5a4834a74c621715f7a7f16ded914eecbd3c upstream)
# USB: ftdi_sio: device id for Navitator (b6180ef7c99574c3350bbffa2a3a9d675321543d upstream)
# USB: option: add huawei k3765 k4505 devices to work properly (0372a754be9aa43e19fd86c9bc04796d43b55e38 upstream)
# USB: option: Huawei ETS 1220 support added (b972302b0a13aaddc9e90da2b4b52722e5d0e776 upstream)
# USB: serial: enabling support for Segway RMP in ftdi_sio (afad19648f70c6493193e0a774bd754b7790b4a0 upstream)
# USB delay init quirk for logitech Harmony 700-series devices (93362a875fc69881ae69299efaf19a55a1f57db0 upstream)
# USB: resizing usbmon binary interface buffer causes protection faults (33d973ad88ceb83ed1449592b7574b5b5bb33ac6 upstream)
# USB: EHCI: remove PCI assumption (ae68a83bdc1971cb02fefc7a686ba6d077065e71 upstream)
# USB: musb: use correct register widths in register dumps (0936fb5e92a90476959447ad8ae5d780afbbd930 upstream)
# ARM: 6280/1: imx: Fix build failure when including <mach/gpio.h> without <linux/spinlock.h> (868003ca7ad17ac6c1606dc36101f10a7825b399 upstream)
# ARM: 6299/1: errata: TLBIASIDIS and TLBIMVAIS operations can broadcast a faulty ASID (cdf357f1e13a08a11261edacb3083746f65c1ed9 upstream)
# smsc911x: Add spinlocks around registers access (492c5d943d6a04b124ba3a719dc746dc36b14cfb upstream)
# pxa/cm-x300: fix ffuart registration (a6cd7eb374647b572ae9e7dbfe49871e6996e8e0 upstream)
# signalfd: fill in ssi_int for posix timers and message queues (a2a20c412c86e0bb46a9ab0dd31bcfe6d201b913 upstream)
# bio, fs: update RWA_MASK, READA and SWRITE to match the corresponding BIO_RW_* bits (aca27ba9618276dd2f777bcd5a1419589ccf1ca8 upstream)
# drbd: Disable delay probes for the upcomming release (6710a5760355be8f2e51682f41b0d3fc76550309 upstream)
# drbd: Initialize all members of sync_conf to their defaults [Bugz 315] (85f4cc17a62c3ac9edeaf120cdae7261df458053 upstream)
# fs/ecryptfs/file.c: introduce missing free (ceeab92971e8af05c1e81a4ff2c271124b55bb9b upstream)
# ecryptfs: release reference to lower mount if interpose fails (31f73bee3e170b7cabb35db9e2f4bf7919b9d036 upstream)
# eCryptfs: Handle ioctl calls with unlocked and compat functions (c43f7b8fb03be8bcc579bfc4e6ab70eac887ab55 upstream)
# blkdev: cgroup whitelist permission fix (b7300b78d1a87625975a799a109a2f98d77757c8 upstream)
# Fix sget() race with failing mount (7a4dec53897ecd3367efb1e12fe8a4edc47dc0e9 upstream)
# ioat2: catch and recover from broken vtd configurations v6 (556ab45f9a775bfa4762bacc0a4afb5b44b067bc upstream)
# e100/e1000*/igb*/ixgb*: Add missing read memory barrier (2d0bb1c1f4524befe9f0fcf0d0cd3081a451223f upstream)
# md/raid10: fix deadlock with unaligned read during resync (51e9ac77035a3dfcb6fc0a88a0d80b6f99b5edb1 upstream)
# md: fix another deadlock with removing sysfs attributes. (bb4f1e9d0e2ef93de8e36ca0f5f26625fcd70b7d upstream)
# md: move revalidate_disk() back outside open_mutex (147e0b6a639ac581ca3bf627bedc3f4a6d3eca66 upstream)
# ide-cd: Do not access completed requests in the irq handler (110712828365ccafcc61a7f4db44c31ed4cf8793 upstream)
# ipmi: fix ACPI detection with regspacing (d9e1b6c45059ccfff647a120769ae86da78dfdc4 upstream)
# rtl8180: avoid potential NULL deref in rtl8180_beacon_work (8f1d2d2be73a98c21e68fe2a26f633892d4abdd1 upstream)
# iwlwifi: fix TX tracer (e95b743536937a72e1560c85696b425c5d1a1c18 upstream)
# drivers/video/w100fb.c: ignore void return value / fix build failure (fa260c00c1aa5c657793a7221e40d2400df5afd8 upstream)
# mm: fix corruption of hibernation caused by reusing swap during image saving (966cca029f739716fbcc8068b8c6dfe381f86fc3 upstream)
# Char: nozomi, set tty->driver_data appropriately (bf9c1fca9ae9a79ed209e7ab2c10b3862f3f6f72 upstream)
# Char: nozomi, fix tty->count counting (ee78bb95b7bea08b7774a02073ea2bb45611a9e1 upstream)
# ALSA: hda - Add PC-beep whitelist for an Intel board (e096c8e6d5ed965f346d94befbbec2275dde3621 upstream)
# x86, mtrr: Use stop machine context to rendezvous all the cpu's (68f202e4e87cfab4439568bf397fcc5c7cf8d729 upstream)
# solos-pci: Fix race condition in tasklet RX handling (1f6ea6e511e5ec730d8e88651da1b7b6e8fd1333 upstream)
# PCI: disable MSI on VIA K8M800 (549e15611b4ac1de51ef0e0a79c2704f50a638a2 upstream)
# PCI: Do not run NVidia quirks related to MSI with MSI disabled (3d2a531804d16cd8df6dbbb0429c6f143e756049 upstream)
# serial: add support for OX16PCI958 card (e847003f00d5eca3e3b3a6a1199f82b51293faf6 upstream)
# staging: hv: Fix Kconfig dependency of hv_blkvsc (54d2379c20d814ced657cbc2c4ead8d1f8389fa2 upstream)
# Staging: panel: Prevent double-calling of parport_release - fix oops. (060132ae42cce3f9d2fd34d9a17b98362b44b9f9 upstream)
# Staging: line6: needs to select SND_PCM (e928c077e5cdcd72ee762125b37232aec1ff49f3 upstream)
# staging: rt2870: Add USB ID for Belkin F6D4050 v2 (5d92fe3387d086fc2f10426fbdb6b86d6cce5a47 upstream)
# x86: Add memory modify constraints to xchg() and cmpxchg() (113fc5a6e8c2288619ff7e8187a6f556b7e0d372 upstream)
# pcmcia: avoid buffer overflow in pcmcia_setup_isa_irq (127c03cdbad9bd5af5d7f33bd31a1015a90cb77f upstream)
# x86/PCI: use host bridge _CRS info on ASRock ALiveSATA2-GLAN (2491762cfb475dbdfa3db11ebea6de49f58b7fac upstream)
# x86, kmmio/mmiotrace: Fix double free of kmmio_fault_pages (8b8f79b927b6b302bb65fb8c56e7a19be5fbdbef upstream)
# powerpc: fix build with make 3.82 (e32e78c5ee8aadef020fbaecbe6fb741ed9029fd upstream)
# perf, powerpc: fsl_emb: Restore setting perf_sample_data.period (69e77a8b0426ded5d924eea7dbe4eca51e09f530 upstream)
# ata_piix: fix locking around SIDPR access (213373cf974fe69e78ec894b07f45ae2f5a3a078 upstream)
# x86, vmware: Preset lpj values when on VMware. (9f242dc10e0c3c1eb32d8c83c18650a35fd7f80d upstream)
# drm/i915: Check overlay stride errata for i830 and i845 (a1efd14a99483a4fb9308902397ed86b69454c99 upstream)
# drm/i915: Unset cursor if out-of-bounds upon mode change (v4) (cda4b7d3a5b1dcbc0d8e7bad52134347798e9047 upstream)
# drm/radeon/kms: handle the case of no active displays properly in the bandwidth code (e06b14ee91a2ddefc9a67443a6cd8ee0fa800115 upstream)
# drm/radeon/kms/r7xx: add workaround for hw issue with HDP flush (812d046915f48236657f02c06d7dc47140e9ceda upstream)
# drm/radeon: fall back to GTT if bo creation/validation in VRAM fails. (e376573f7267390f4e1bdc552564b6fb913bce76 upstream)
# drm/radeon: add new pci ids (1297c05a8dfb568c689f057d51a65eebe5ddc86f upstream)
# xen: drop xen_sched_clock in favour of using plain wallclock time (8a22b9996b001c88f2bfb54c6de6a05fc39e177a upstream)
# SCSI: enclosure: fix error path - actually return ERR_PTR() on error (a91c1be21704113b023919826c6d531da46656ef upstream)
# CRED: Fix RCU warning due to previous patch fixing __task_cred()'s checks (694f690d27dadccc8cb9d90532e76593b61fe098 upstream)
# mac80211: avoid scheduling while atomic in mesh_rx_plink_frame (c937019761a758f2749b1f3a032b7a91fb044753 upstream)
# cfg80211: don't get expired BSSes (ccb6c1360f8dd43303c659db718e7e0b24175db5 upstream)
# cfg80211: ignore spurious deauth (643f82e32f14faf0d0944c804203a6681b6b0a1e upstream)
# ssb: Handle alternate SSPROM location (9d1ac34ec3a67713308ae0883c3359c557f14d17 upstream)
# iwlwifi: fix scan abort (d28232b461b8d54b09e59325dbac8b0913ce2049 upstream)
# ath9k_hw: fix antenna diversity on AR9285 (601e0cb165e65dc185b31fe7ebd2c0169ea47306 upstream)
# ath9k: fix yet another buffer leak in the tx aggregation code (4cee78614cfa046a26c4fbf313d5bbacb3ad8efc upstream)
# ath9k: fix TSF after reset on AR913x (f860d526eb2939a1c37128900b5af2b6f3ff7f20 upstream)
# ath9k: another fix for the A-MPDU buffer leak (31e79a5954b78fbed15de2c8974d5a2b6019199a upstream)
# ath9k: fix a buffer leak in A-MPDU completion (73e194639d90594d06d0c10019c0ab4638869135 upstream)
# ath9k: fix retry count for A-MPDU rate control status reports (78c4653a2274479547e259e1f416d2b3d04c42a8 upstream)
# ath9k_hw: fix an off-by-one error in the PDADC boundaries calculation (03b4776c408d2f4bf3a5d204e223724d154716d1 upstream)
# ath9k_hw: fix a sign error in the IQ calibration code (23399016d9583d799ca98ce443a1410b13c3e96e upstream)
# ath9k_hw: prevent a fast channel change after a rx DMA stuck issue (9cc2f3e881dcda5466c55ffe8dd0a9d1433469cb upstream)
# ath9k: fix a potential buffer leak in the STA teardown path (2b40994cabd2f545d5c11d3a65dcee6f6f9155f8 upstream)
# ath9k: enable serialize_regmode for non-PCIE AR9160 (4c85ab11ca56da1aa59b58c80cc6a356515cc645 upstream)
# igb: Use only a single Tx queue in SR-IOV mode (5fa8517f038d51d571981fb495206cc30ed91b06 upstream)
# 9p: strlen() doesn't count the terminator (5c4bfa17f3ec46becec4b23d12323f7605ebd696 upstream)
# e1000e: 82577/82578 PHY register access issues (ff847ac2d3e90edd94674c28bade25ae1e6a2e49 upstream)
# e1000e: don't inadvertently re-set INTX_DISABLE (36f2407fe52c55566221f8c68c8fb808abffd2f5 upstream)
# xen: netfront: explicitly generate arp_notify event after migration. (592970675c9522bde588b945388c7995c8b51328 upstream)
# arp_notify: allow drivers to explicitly request a notification event. (06c4648d46d1b757d6b9591a86810be79818b60c upstream)
# amd64_edac: Fix operator precendence error (962b70a1eb22c467b95756a290c694e73da17f41 upstream)
# amd64_edac: Correct scrub rate setting (bc57117856cf1e581135810b37d3b75f9d1749f5 upstream)
# amd64_edac: Fix DCT base address selector (9975a5f22a4fcc8d08035c65439900a983f891ad upstream)
# parisc: pass through '\t' to early (iodc) console (d9b68e5e88248bb24fd4e455588bea1d56108fd6 upstream)
# block_dev: always serialize exclusive open attempts (e75aa85892b2ee78c79edac720868cbef16e62eb upstream)
# arm/imx/gpio: add spinlock protection (14cb0deb66fcfca8fdbef75da8c84b5405a8c767 upstream)
# PARISC: led.c - fix potential stack overflow in led_proc_write() (4b4fd27c0b5ec638a1f06ced9226fd95229dbbf0 upstream)

==== Ubuntu Drivers ====
# AUFS -- union mount support
## UBUNTU: ubuntu: AUFS -- update to b37c575759dc4535ccc03241c584ad5fe69e3b25
## UBUNTU: ubuntu: AUFS -- add BOM and automated update script
## UBUNTU: ubuntu: AUFS -- track changes to the arguements to fop fsync()
## UBUNTU: ubuntu: AUFS -- update to standalone 2.6.35-rcN as at 20100601
## UBUNTU: [Config] AUFS -- enable aufs options
## UBUNTU: ubuntu: AUFS -- update to standalone 2.6.34 as at 20100601
## UBUNTU: ubuntu: AUFS -- aufs2 standalone patch for linux-2.6.34
## UBUNTU: ubuntu: AUFS -- aufs2 base patch for linux-2.6.34
## UBUNTU: [Config] AUFS -- enable
** currently disabled as AUFS does not yet support 2.6.36
** (apw) pulled up to latest AUFS2.1 version for v2.6.37-rcN
# LIRC -- Infrared controller support '''COMPLETE'''
## UBUNTU: ubuntu: lirc -- rename kfifo_put and kfifo_get
## UBUNTU: ubuntu: lirc -- pass kfifo to kfifo_alloc and move spinlock
## UBUNTU: ubuntu: lirc -- drop explicit include of linux/autoconf.h
## UBUNTU: ubuntu: LIRC -- version 0.8.5
## UBUNTU: [Upstream] lirc -- follow removal of .id element (48c7868307e9ec4fded57c56a30f49fe89d7be5e)
## UBUNTU: SAUCE: lirc: rename usb_buffer_alloc() and usb_buffer_free() (be765240b8c37045d676068861cd9e22f94c544c)
## UBUNTU: SAUCE: Update to LIRC 0.8.6 (312fa208f063744775d296ca775add13eb44fca9)
## UBUNTU: Remove ubuntu/lirc in favor of staging/lirc from 2.6.36 (9bcee2dec7e750206b44d39f9e6c9efb3dc0c3db)
*** (ogasawara) We dropped lirc as an ubuntu driver in favor of the lirc driver in staging, see 9bcee2dec7e750206b44d39f9e6c9efb3dc0c3db - "UBUNTU: Remove ubuntu/lirc in favor of staging/lirc from 2.6.36".
*** (apw) LIRC has now been dropped from the actual ubuntu delta en-toto; DROPPED
# dm-raid4-5 -- software raid support
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.34-rc4
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.34-rc2
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.33
## UBUNTU: ubuntu: dm-raid4-5: Depend on XOR_BLOCKS
## UBUNTU: ubuntu: dm-raid-45 -- update to compile with 2.6.32
## UBUNTU: [Config] dm-raid45 -- enable
## UBUNTU: ubuntu: dm-raid45 -- version 2009.04.24 (2.6.30-rc3)
## UBUNTU: ubuntu: dm-raid4-5 -- (no-up) Export dm_disk function of device-mapper
# iscsitarget -- internet connected disk connectivity support
## UBUNTU: ubuntu: iscsitarget -- version 1.4.20.2
## UBUNTU: ubuntu: iscsitarget -- version 1.4.20.1
## UBUNTU: ubuntu: iscsitarget -- rename daddr inet_sock field
## UBUNTU: [Config] iscsitarget -- enable
## UBUNTU: ubuntu: iscsitarget --- version 1.4.19
# rtl8192se -- realtek network controller
## UBUNTU: ubuntu: rtl8192se -- update to version 0017.0507.2010
## UBUNTU: ubuntu: rtl8192se -- update to version 0015.0127.2010
## UBUNTU: ubuntu: rtl8192se -- version 2010-0115,0014
# fsam7400 -- ???
## UBUNTU: ubuntu: fsam7400: Depend on CHECK_SIGNATURE
## UBUNTU: ubuntu: fsam7400 -- Cleanup Makefile
## UBUNTU: [Config] fsam7400 -- enable
## UBUNTU: UBUNTU: ubuntu: fsam7400 -- kill switch for Fujitsu Siemens Amilo M 7400
# omnibook -- ???
## UBUNTU: ubuntu: onmibook -- Added missing BOM file
## UBUNTU: [Config] omnibook -- enable
## UBUNTU: ubuntu: omnibook -- support Toshiba (HP) netbooks
# various rfkill drivers
## UBUNTU: [Config] rfkill drivers -- enable
## UBUNTU: ubuntu: rfkill drivers -- version 1.3
# ndiswrapper windows network driver support
## UBUNTU: [Config] ndiswrapper -- enable
## UBUNTU: ubuntu: ndiswrapper -- version 1.55
## UBUNTU: SAUCE: Updated ndiswrapper to 1.56 (e52a51d8dfa3666b74e132f3f6ae1d4ebc16a344)
## UBUNTU: SAUCE: ndiswrapper: Initialize buffer index and check its value (0d26d2a80cda8f1fb852c1c4ded2c5a2a1cb5fb6)
## UBUNTU: SAUCE: ndiswrapper: convert multicast list to list_head (d899a21226ad7b30cb31aa7a71244e32fa0bb2d3)
## UBUNTU: SAUCE: ndiswrapper: rename usb_buffer_alloc() and usb_buffer_free() (fe714624331ae411469ff8332d3855ed326848ef)
## UBUNTU: SAUCE: make ndiswrapper available on X86 only (2fa87575b1be7e59407db95e55f45190edd4e3f3)
# compcache -- compressed memory swap support
## UBUNTU: [Config] compcache -- enable
## UBUNTU: ubuntu: compcache -- version 0.5.3
# AppArmor -- security module '''COMPLETE'''
## UBUNTU: [Config] AppArmor security module -- enable
** DROPPED: AppArmor is now upstream

==== Ubuntu Patches (not for upstream) ====
# UBUNTU: Fold down debian for ubuntu-natty 2.6.36 rebase
# UBUNTU: SAUCE: (no-up) ARM: Resetting power_mode to its original value.
# UBUNTU: SAUCE: (no-up) Modularize vesafb -- fix initialisation
# UBUNTU: SAUCE: (no-up) swap: Add notify_swap_entry_free callback for compcache
# UBUNTU: SAUCE: (no-up) version: Implement version_signature proc file.
# UBUNTU: [Config] version_signature -- enable
# UBUNTU: SAUCE: (no-up) Modularize vesafb
# UBUNTU: SAUCE: (no up) ports -- Build drivers in ubuntu sub-directory on powerpc
# UBUNTU: SAUCE: (no-up) Enable ubuntu extra subdirectory
# UBUNTU: (no-up) arm -- enable ubuntu/ directory
# UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib()
# UBUNTU: SAUCE: (no-up) nbd: Change default partitions per device to 15
# UBUNTU: SAUCE: (no-up) Raise the default console 'quiet' level to 2
# UBUNTU: SAUCE: (no-up) hostap: Change initial operation mode to managed (infra)
# UBUNTU: SAUCE: (no-up) libata: Ignore HPA by default
# UBUNTU: SAUCE: (no-up) dma-mapping: Remove WARN_ON in dma_free_coherent
# UBUNTU: SAUCE: (no-up) Restore VT fonts on switch
# UBUNTU: SAUCE: (no-up) disable adding scsi headers to linux-libc-dev
# UBUNTU: SAUCE: select a v7 CPU for versatile
# UBUNTU: SAUCE: cdrom -- default to not locking the tray when in use
# UBUNTU: SAUCE: set /proc/acpi/video/*/DOS to 4 by default
# UBUNTU: SAUCE: (no-up) PM report driver and device suspend/resume times.

==== Ubuntu Patches (for review) ====
# Amit Kucheria '''COMPLETE'''
## UBUNTU: SAUCE: omap: remove calls to usb_nop_xceiv_register from board files (687232e8244596018aeefdf77a4e42df3a192209)
** (apw) this patch is a build fix, confirmed this is no longer required (DROP)
** (apw) DROPPED

# Andy Whitcroft '''COMPLETE'''
## UBUNTU: SAUCE: async_populate_rootfs: move rootfs init earlier (51711ae9fdfa2b44f41ebe7053301946fb6dfc30)
## UBUNTU: SAUCE: acpi battery -- move first lookup asynchronous (3e061d6a865c7defd66a5b9528f13dd6986055bb)
## UBUNTU: SAUCE: Make populate_rootfs asynchronous (20bbd96617ec4dfeab3a39aff3e53ddbc89bd75b)
## UBUNTU: SAUCE: isapnp_init: make isa PNP scans occur async (44b16df1294d253b7e6bc2f036999557238a5ceb)
## UBUNTU: SAUCE: fix build error with CONFIG_BLK_DEV_INITRD=n (2830776d5d8a7d840eedef9337b56aeb722a54f9)
** (apw) series of patches to make boot faster by making more things async; KEEP

## UBUNTU: SAUCE: drm -- stop early access to drm devices (77bf49c8f54ce8dc0a6d56c254c668c7218f5ed0)
## UBUNTU: SAUCE: fbcon -- fix OOPs triggered by race prevention fixes (65c48147861eb6f93fb9201f78eec913c2c615c0)
## UBUNTU: SAUCE: fbcon -- fix race between open and removal of framebuffers (d0fd8f0e28a3e9b03dc9f19c991d80ee83c2b3b8)
** (apw) patches to avoid races during early boot; KEEP

1. UBUNTU: SAUCE: fix documentation strings for struct input_keymap_entry (e8e4db328eba9bd8d8b37476c85db6bbc60bdb03)
** (apw) allows the documentation to build; KEEP

1. UBUNTU: SAUCE: kconfig: sym_expand_string_value: allow for string termination when reallocing (882b2b8ac4f0313ce0c08b9e33e4b35c1a2ea360)
** (apw) now upstream automatically droppped; DROP
** (apw) DROPPED

1. UBUNTU: SAUCE: perf: increase stack footprint to avoid stack-protector warning (7dc2c3326ef6e0afa54d36d0d35be3e7650c6ba3)
** (apw) no longer required as code has changes; DROP
** (apw) DROPPED

## UBUNTU: SAUCE: vt -- allow grub to request automatic vt_handoff (a0d3fb3ab6c234502c1671c3e3731efb3bfbb0b7)
## UBUNTU: SAUCE: vt -- maintain bootloader screen mode and content until vt switch (0c82447b70c2326204a2bcfaaf0a0c6e16793b92)
** (apw) patches to allow grub to hand off a pre-painted window; KEEP

1. UBUNTU: SAUCE: add tracing for user initiated readahead requests (7568e623ecb1a82ae76ff4dcbbe8a78e8bbabb05)
** (apw) used by ureadahead2 to track which pages are really read in; KEEP

1. UBUNTU: SAUCE: add option to hand off all kernel parameters to init (2d12ab9942f9d45d3cead44e2380e95d8679d9dc)
** (apw) used by upstart to get access to all kernel parameters earlier in the boot; KEEP

1. UBUNTU: SAUCE: PM report driver and device suspend/resume times -- move config (4b3a98f249c0ad08cc53aa9a7c16cf4294583bcb)
** (apw) should merge into its parent; KEEP
** (apw) MERGED

1. UBUNTU: SAUCE: khubd -- switch USB product/manufacturer/serial handling to RCU (4afd918c2254a7adbb01216dca677025fd4226da)
** (apw) performance boost for early boot; KEEP

1. UBUNTU: SAUCE: i915 -- disable powersave by default (e9ed870f2a421b7e99e13cc8223861491b8d0967)
** (apw) needs review with X team

## UBUNTU: SAUCE: cdrom -- default to not locking the tray when in use (ef86138f5382d91fb6cd55844bd72e04918f4a00)
## UBUNTU: SAUCE: set /proc/acpi/video/*/DOS to 4 by default (89fd01868bcff0277d8d3bec8e63dc9d5871e2a8)
** (apw) all should be (no-up); KEEP
** (apw) FIXED

1. UBUNTU: [Upstream] add local prefix to oss local change_bits (68fe89ee6185210ad148cabb2deb4eaef7eeaa4a)
** (apw) prevents namespace collision when oss is enabled; KEEP

1. UBUNTU: SAUCE: disable adding scsi headers to linux-libc-dev (8f1c24c3e7608299a183f13b1482760b403f1f91)
** (apw) local change for packaging, should be (no-up); KEEP
** (apw) FIXED

1. UBUNTU: SAUCE: hotkey quirks for various Zeptro Znote and Fujitsu Amilo laptops (4034959d7a896ddf8030f03bca5036e5a3d65cf7)
** (apw) additional quirks; should be converted to udev rules; DROP
** (apw) converted; await the udev update from upstream and then drop

# Arjan van de Ven '''COMPLETE'''
## UBUNTU: SAUCE: vfs: Add a trace point in the mark_inode_dirty function (8efb0f866b5d88349a1d8b567894d46b510452cd)
** (jk) looks like this is still awaiting upstream, but we don't want the tracepoint to disappear in the meantime; KEEP
** (apw) KEPT

# Brad Figg '''COMPLETE'''
## UBUNTU: SAUCE: Increase the default prealloc buffer for HDA audio devices (non-modem) (acdf6aa11a02ccb206e00f022da6bdbef282b8dc)
*** Reviewed, we should continue to carry this though it is not upstream.
*** (apw) KEEP
# Christopher James Halse Rogers '''COMPLETE'''
## UBUNTU: SAUCE: Nouveau: Disable acceleration on MacBook Pros (ec4749f4384d59d6b44e107fbe8a42ca6dd8fd68)
## UBUNTU: SAUCE: Nouveau: Add quirk framework to disable acceleration (87a0dc53fb13f499ab0e0a681fcaa654de70b4a5)
*** (raof): We should drop these and keep an eye on the bugs; the problems these worked around may have been fixed.
*** (apw) DROPPED
# Colin King '''COMPLETE'''
## UBUNTU: SAUCE: Enable speedstep for sonoma processors. (be9330b4d39e5df4856e212826587a495d39791a)
** (cking) this is a very old patch and never accepted upstream, we should drop it and see who screams
** (apw) DROPPED
# Eric Miao '''COMPLETE'''
## UBUNTU: arm -- enable ubuntu/ directory (c3784303d8a697e91ac3153dc41aac36074e9d1b)
** (apw) should be (no-up)
** (apw) FIXED
1. UBUNTU: SAUCE: Make CONFIG_{OMNIBOOK, AVERATEC_5100P, PACKARDBELL_E5} depend on X86 (af2a2bf8b40b7f2dc8b41b3cf9ff9897694dc8c3)
** (apw) still needed, KEEP
# Henrik Rydberg '''COMPLETE'''
## UBUNTU: SAUCE: hid: ntrig: New ghost-filtering event logic (18f575ad283d3060c03e7eb17b2b22423e6648a1)
## UBUNTU: SAUCE: hid: ntrig: Setup input filtering manually (2646605e6091b46b1be6672bdbb67999c8635c96)
## UBUNTU: SAUCE: hid: ntrig: remove sysfs nodes (09893e6bc329b7614f604927680a7de559c7be3b)
## UBUNTU: SAUCE: hid: ntrig: zero-initialize ntrig struct (c9a25132bd671a4828195f2d79661ac38c7669d7)
## UBUNTU: SAUCE: hid: ntrig: Correct logic for quirks (fdeafb2eaffc3c58b63b9b2cb52db5ca621c352f)
## UBUNTU: SAUCE: hid: ntrig: Remove unused device ids (7f8b0f7705a229e3a1b1787ab5d9b5dbdc8c51b5)
## hid: ntrig: Mask pen switch events (565f3b285114ed3525d4b6a93523b2c76868098b)
## hid: ntrig: Support single-touch devices (7b6798cee3e8091b77da24ef4f761ea08b4d91b1)
** (apw) respun for Natty to maintain Maverick semantics; KEEP
# John Johansen '''COMPLETE'''
## UBUNTU: SAUCE: Improve Amazon EBS performance for EC2 (d4cd6a8bb5575a999e3ff8a4c28b79188e4e542a)
## UBUNTU: SAUCE: fix pv-ops for legacy Xen (43a5c4e9edd44daf3beaf563724d1fcd60de242d)
** (apw): needed; KEEP

1. UBUNTU: SAUCE: blkfront: default to sd devices (fe8b3202017eba2a51c805c6ed1d64e0f24bc47d)
** (smb): not required and causes problems; DROP
** (apw): DROPPED

1. UBUNTU: SAUCE: AppArmor: Allow dfa backward compatibility with broken userspace (abca382bbd660a252deb6d9f1780dd9810e7d98d)
** (apw): compatibility patch with older userspaces; KEEP

## UBUNTU: SAUCE: AppArmor: Fix unpack of network tables. (112c15e704c934fc402204b00aa0bf78c0441f63)
## AppArmor: compatibility patch for v5 interface (b4bebb46734216a8db2c8c00898bb2b28e033ddd)
## AppArmor: compatibility patch for v5 network controll (62539a2c80455a85927c6ce2fd29c125877575f2)
** (apw): all not-yet-upstream features; KEEP

# Kees Cook '''COMPLETE'''
## Yama
## UBUNTU: SAUCE: Yama: verify inode is symlink to avoid bind mounts (24e75e7586e682d69e0b48823315dee70a0e5cc5)
## UBUNTU: SAUCE: Yama: search for PTRACE exceptions via thread group leader (86266876b885a6f08668f39688e68a05f6bfac3c)
## UBUNTU: SAUCE: Yama: check PTRACE using thread group leader (ab23866b5040189075fff651cf997855f9a44258)
## UBUNTU: SAUCE: security: unconditionally chain to Yama LSM (6a93a18732f4c5871eb8f67f584e01f84cf41a20)
## UBUNTU: SAUCE: Yama: add PTRACE exception tracking and interface (f4df4f65cc60599cafa6d3e6161b808637995ca7)
## UBUNTU: SAUCE: security: create task_free security callback (2aec770a575b15cb1e43c2e16dff4f00a02a8c9a)
## UBUNTU: SAUCE: fix compilation warning when CONFIG_SECURITY is not set (547b2dc376b0b9540d4d89985c2f9a647f4aec3c)
*** (kees) KEEP
## nx-emulation (<nowiki>[[http://git.kernel.org/?p=linux/kernel/git/frob/linux-2.6-roland.git;a=shortlog;h=refs/heads/fedora/x86-nx-emulation|nx-emu]]</nowiki>, <nowiki>[[http://git.kernel.org/?p=linux/kernel/git/frob/linux-2.6-roland.git;a=shortlog;h=refs/heads/fedora/32bit-mmap-exec-randomization|ascii-armor]]</nowiki>) 
## UBUNTU: SAUCE: x86: brk away from exec rand area (1c383c3a61860f857542ef1b30eb7910aed94ae4)
## UBUNTU: SAUCE: x86: more tightly confine cs-limit nx-emulation to ia32 only (57c90af34c93f4e11138865a857a9a3cdc6d1c35)
## UBUNTU: SAUCE: x86: implement cs-limit nx-emulation for ia32 (2fa96d1e3d8f4a3012340525a01835fb2fd6e0b7)
## nx-emu: standardize boottime message prefix (0bcb51b9b944f5dedc4b990d7216907de6f33b2b)
## nx-emu: drop exec-shield sysctl, merge with disable_nx (810fec489f2620a2bff8fa4b8fd39bdf32acf288)
## i386: NX emulation (ed6f363a412661f45a1db9c3456db2f9d5057612)
*** (kees) KEEP
## address randomisation
## exec-randomization: brk away from exec rand area (42f348dbd42a85a25fa85561cedc64e6bece6e8b)
## mmap randomization for executable mappings on 32-bit (e4fb20387f91c24d6c07d55c27ee3bf02522fba5)
*** (apw) KEEP
# Leann Ogasawara '''COMPLETE'''
## UBUNTU: [Upstream] USB: option: Remove duplicate AMOI_VENDOR_ID (9ac46f8f96220b307294747595b380aeda774f6f)
** Drop.  Applied upstream as of 2.6.36-rc1 as 3f37bca1038de01ab2666adde1954460c35ff3af
** (apw) DROPPED
1. UBUNTU: Fold down debian for ubuntu-natty 2.6.36 rebase (07caa949b661c3a9d85b4832478b03b2b32aa67a)
** General housekeeping, keep and ignore.
** (apw) should be (no-up); KEEP
** (apw) FIXED
# Lee Jones: '''COMPLETE'''
## UBUNTU: SAUCE: ARM: OMAP: Beagle: support twl gpio differences on xM (b269d7d15d101fdb073004e094b5ae3e4d1bfffd)
## UBUNTU: SAUCE: OMAP: DSS2: enable hsclk in dsi_pll_init for OMAP36XX (d6f1cfa39a96306fe155ab20fe154d8eb499df57)
## UBUNTU: SAUCE: OMAP: DSS2: check for both cpu type and revision, rather than just revision (0fe9a4fae7e3ae251fc00962445f38a5648db10b)
## UBUNTU: SAUCE: ARM: OMAP: Add macros for comparing silicon revision (7e9ca60eab0ba5401f85d2f75f1d39d702195ad7)
## UBUNTU: Stop ARM boards crashing when CUPS is loaded (2bf32587c62a552dffd83695d8400259ab133639)
** (apw) all dropped during the natty rebase, not reapplied as we are not carrying OMAP3 on the master branch; DROPPED

# Loic Minier '''COMPLETE'''
## UBUNTU: SAUCE: select a v7 CPU for versatile (e09fd3afd79939bd03fe69ad76c538dad923bd8e)
** (apw) needed for QEMU use; should be (no-up); KEEP
** (apw) FIXED
# Manoj Iyer '''COMPLETE'''
## drm/radeon/bo: add some fallback placements for VRAM only objects. (7a7fae791ce966bb95bf251ad9b3642933d50f51)
** (apw) seems that this one was dropped for a different approach and should be dropped; DROP
** (apw) DROPPED

1. UBUNTU: SAUCE: PM report driver and device suspend/resume times. (6f3e17b22e05d881a2a82b5bb4ee17625e58f74a)
** (apw) should be a (no-up) patch
** (apw) FIXED

1. UBUNTU: SAUCE: Added quirk to recognize GE0301 3G modem as an interface. (305598cb8437d493d4c99b488f923f4571bd87cf)
** (apw) still needed; KEEP

# Mathieu J. Poirier '''COMPLETE'''
## UBUNTU: ARM: Adding regulator supply for vdds_sdi. (aff689e0a0d3a718c7bc194b0c42c5f07e129109)
** (apw) updated; KEEP

# Scott James Remnant '''COMPLETE'''
## UBUNTU: SAUCE: trace: add trace events for open(), exec() and uselib() (030e4ccf92c04cbd57086d21382d0e158f4eb053)
## UBUNTU: SAUCE: nbd: Change default partitions per device to 15 (ca789bfbf0edc9d3c444f8f25b17433b08374fb3)
## UBUNTU: SAUCE: hostap: Change initial operation mode to managed (infra) (2714f316ba9cf4c95f9a77d7565910335bc04de0)
## UBUNTU: SAUCE: libata: Ignore HPA by default. (bea06bf351f98ed8c2210176fe1dfa13ea143db7)
** (apw) all of these should be (no-up)
** (apw) FIXED
# Stefan Bader '''COMPLETE'''
## UBUNTU: SAUCE: dma-mapping: Remove WARN_ON in dma_free_coherent (cc347db4f58f27b8cd4140d53405703bf651e37b)
** Prevents a WARN_ON which is only there (but but will not be removed upstream) to prevent non-portable driver development in future. Unfortunately there are already incompatible old drivers (used in VMs) that would trigger it on X86 (where it is harmless). Keep and carry on.
** (apw) should be (no-up); KEEP
** (apw) FIXED
1. UBUNTU: SAUCE: Restore VT fonts on switch (a883617bbab745b8ed43db5081f388dd5e7ddee3)
** This only affects vga console (original patch from Matthew Garret). While we more and more move towards KVM it should do no harm either and would help those unfortunate to need to fall back. I would keep it as long as it applies. But upstream does not really care.
** (apw) should be (no-up); KEEP
** (apw) FIXED
1. (pre-stable) Staging: rt2870: Add USB ID for Buffalo Airstation WLI-UC-GN (706359e0033cefc8d458dd78dcc3887cbc286dfc)
** Seems I sent that upstream then there was some modification needed but the original author did not reply. I have re-sent the patch now (as the Maverick version still applies cleanly to upstream). Should hopefully fall away in future. Keep for now.
** (apw) KEEP
# Tim Gardner '''COMPLETE'''
## UBUNTU: [Config] Note dropped SAUCE patches from 2.6.36 to 2.6.37 (7e0be64f8b7bacfad5642c45d62e9b70189679be)
## UBUNTU: more dropped patches (b6c2efd11bfab25569d5e4f282a56652cd71c569)
## UBUNTU: Added dropped patch list (5aea207f0144f9b440f7818ea8ee0e6dd14fc58e)
## UBUNTU: [Config] Disable aufs, dmraid-4.5, ndis-wrapper (34eb6faa238ae8ef2a473c4945d649a1c0c2b8df)
** (apw) all administrivia; KEEP

1. UBUNTU: SAUCE: Raise the default console 'quiet' level to 2 (1dfac6f403f21424342d3c4d1642a1b54fe3e505)
** (apw) should be (no-up); KEEP
** (apw) FIXED

1. UBUNTU: SAUCE: [PATCH] Add extra headers to linux-libc-dev (47d6ab479d0c54aacfb2f9e5f073fd7b959e4d53)
** (apw) changes now upstream; DROP
** (apw) DROPPED

1. UBUNTU: [Upstream] drivers/serial/mfd.c: Fix ARM compile error (2d8902051dbcc753bb8a315e0ad059226b427f64)
** (apw) upstream now has this header included; DROP
** (apw) DROPPED

1. UBUNTU: Sony laptop: Some Sony Vaia laptops do not enable wwan power by default.   (588c9b6d0e1a91e903ba43671f40f6584ae56272)
** (rtg) this changes a default, dropping it now would change existing behaviour; KEEP

# Upstream Commits '''COMPLETE'''
## usb: gadget: goku_udc: add registered flag bit (6e76f316694dda1ae7696fab145ce147b30ce5b6)
** (apw) now upstream -- automatically dropped during rebase; DROPPED

## x86, mce: Make xeon75xx memory driver dependent on PCI (bde65e3e01528acd9168b693294b3b481f8d5b9f)
## x86, mce: Rename cpu_specific_poll to mce_cpu_specific_poll (48c4f10969aedeb695153a7bafd018f6da31cfe7)
## x86, mce: Xeon75xx specific interface to get corrected memory error information (2c3f428a320204fbc10e560490f11abbbe516041)
** (apw) MCE memory driver for later Xeons, still not upstream; KEEP

=== Patches dropped during the Natty rebase cycle ===

1. UBUNTU: ubuntu: AUFS -- aufs2 standalone patch for linux-2.6.34
** OK: AUFS is being updated as part of the Ubuntu drivers update. (apw)

# UBUNTU: SAUCE: AppArmor: -- mainline 2010-06-23
# UBUNTU: SAUCE: AppArmor 2.4 compatibility patch
# UBUNTU: SAUCE: AppArmor: -- sync to AppArmor mainline 2010-07-27
# UBUNTU: SAUCE: AppArmor: -- sync to AppArmor mainline 2010-07-29
# UBUNTU: SAUCE: AppArmor 2.4 compatibility patch
# UBUNTU: SAUCE: AppArmor: allow newer tools to load policy on older kernels
# Revert UBUNTU: SAUCE: AppArmor: allow newer tools to load policy on older kernels
# UBUNTU: SAUCE: AppArmor: allow newer tools to load policy on older kernels
** OK: AppArmor has been resynced with upstream. (apw)

# UBUNTU: SAUCE: Bring in staging/lirc from 2.6.36
# UBUNTU: SAUCE: Update ir-core to linuxtv/other which should be merged for 2.6.36.
# UBUNTU: SAUCE: Bring in streamzap support from linuxtv/other
** OK: lirc is now officially part of the kernel, this backport is no longer needed. (apw)

# (pre-stable) drm/i915: don't enable self-refresh on Ironlake
# (pre-stable) ALSA: HDA: Add Sony VAIO quirk for ALC269
# (pre-stable) ALSA: hda - Add a new hp-laptop model for Conexant 5066, tested on HP G60
** OK: pre-stable patch which has landed upstream (apw)

# UBUNTU: SAUCE: x86: implement cs-limit nx-emulation for ia32
# UBUNTU: SAUCE: x86: more tightly confine cs-limit nx-emulation to ia32 only
# UBUNTU: SAUCE: [um] Don't use nx_enabled under UML
# UBUNTU: SAUCE: x86: brk away from exec rand area
** OK: these have been replaced by updated patches for v2.6.37-rc1. (apw)

# UBUNTU: SAUCE: drm -- stop early access to drm devices
# UBUNTU: SAUCE: fbcon -- fix race between open and removal of framebuffers
# UBUNTU: SAUCE: fbcon -- fix OOPs triggered by race prevention fixes
** PORTED: pulled these up to Natty and re-applied (apw)

# UBUNTU: [Upstream] Input: evdev - convert to dynamic event buffer
# UBUNTU: [Upstream] Input: evdev - use driver hint to compute size of event buffer
# UBUNTU: [Upstream] Add support for the ATIF ACPI method to the radeon driver
# perf probe: Support tracing an entry of array
# perf probe: Support static and global variables
# x86 platform driver: intelligent power sharing driver
# x86, cpu: Package Level Thermal Control, Power Limit Notification definitions
# Input: introduce MT event slots
# input: mt: Initialize slots to unused (rev2)
# mt: Add support for the Bamboo Touch trackpad
# x86, hwmon: Package Level Thermal/Power: pkgtemp hwmon driver
# hwmon: Package Level Thermal/Power: thermal throttling handler
# drm/i915: fix VGA plane disable for Ironlake+
# e1000e: initial support for 82579 LOMs
# agp/intel: Support the extended physical addressing bits on Sandybridge.
# drm/i915,intel_agp: Add support for Sandybridge D0
# UBUNTU: SAUCE: Input: wacom - parse the Bamboo device family
# UBUNTU: SAUCE: Input: wacom - collect device quirks into single function
# UBUNTU: SAUCE: Input: wacom - add a quirk for low resolution Bamboo devices
# PM / Runtime: Make runtime_status attribute not debug-only (v. 2)
# UBUNTU: SAUCE: ir-core: Fix null dereferences in the protocols sysfs interface
# ALSA: HDA: Enable internal speaker on Dell M101z
# hid: 3m: Convert to MT slots
# HID: magicmouse: simplify touch data bit manipulation
# HID: magicmouse: simplify touch down logic
# HID: magicmouse: enable Magic Trackpad support
# UBUNTU: SAUCE: hid: ntrig: identify firmware version (wiggled)
# (pre-stable) ALSA: HDA: Fix front mic on Dell Precision M6500
# UBUNTU: SAUCE: ALSA: HDA: Enable internal mic on Dell E6410 and Dell E6510
** OK: now upstream (apw)

# Revert input: mt: Add support for the Bamboo Touch trackpad
# UBUNTU: SAUCE: Input: wacom - add support for the Bamboo Touch trackpad
** OK: internally reverted (apw)

1. UBUNTU: SAUCE: Added quirk to recognize GE0301 3G modem as an interface.
** OK: applied using -C1 (apw)

# UBUNTU: SAUCE: hid: ntrig: remove sysfs nodes
# UBUNTU: SAUCE: hid: ntrig: Setup input filtering manually
# UBUNTU: SAUCE: hid: ntrig: New ghost-filtering event logic
# HID: magicmouse: don't allow hidinput to initialize the device
** OK: dropped in favour of a new stack of patches from Henrik Rydberg. (apw)

1. UBUNTU: SAUCE: KMS: cache the EDID information of the LVDS
** OK: an upstream equivalent has now been applied (apw)

1. UBUNTU: (pre-stable): input: Support Clickpad devices in ClickZone mode
** OK: replaced by a simpler single button implementation upstream, X support should handle the touch zoning.

1. UBUNTU: SAUCE: libata: Add ALPM power state accounting to the AHCI driver
** OK: will await upstream replacement

1. UBUNTU: SAUCE: Adding vdd_sdi regulator supply to OMAP3EVM
** PENDING: patch being forward ported for Natty

=== BoF agenda and discussion ===
* Review the Ubuntu drivers
** is each still relevant
** is there a alternative better solution
** is there any updates pending for the version we have
* Review the patches we are carrying
** ask the submitters to review their patches and upstream as appropriate

==== Discussion Notes ====

===== Ubuntu Drivers =====
* AUFS - still investigating a union mounts solution.  still need to keep aufs for natty.
* LIRC - Dropped, use the driver in staging
* dm-raid4-5 - keep for natty (checked source, there are no updates (smb))
* iscsitarget - see action below
* rtl8192se - see action below
* fsam7400 - keep for natty, but review if still needed
* omnibook - keep for natty, but review if still needed
* rfkill - keep for natty, but review if still needed
* ndiswrapper - see action below
* compcache - see action below

===== Ubuntu Patches (not for upstream) =====
* Obviously keep these

===== Ubuntu Patches (for review) =====
* Review wiki page and if you are an owner of a patch(es) review if it should be sent upstream

===== ACTIONS =====
See blueprint whiteboard for final actions.

=== Resolutions ===

==== Ubuntu Patch Delta ====

The results of reviewing the patch delta by the patch authors is documented in the list above (See ''Ubuntu Patches (for review)'').

==== Ubuntu Drivers ====

===== AUFS =====

AUFS2 is still the only viable alternative for union mounts filesystems.  overlayfs is looking promising but is not yet capable of bringing up a live CD image root filesystem.  Helped patch this for v2.6.37 and updated the Ubuntu driver version to the latest.

===== compcache =====

This has been finally integrated into the mainline kernel.  It has morphed into the <code>zram</code> driver which does have different semantics.

===== dm-raid4-5 =====

The version we have still appears to be the ''latest''.  Fixed up the driver as is to pulled up to the latest bio interfaces.

===== omnibook =====

Current version is the latest available and is already enabled.  Updated BOM to reflect the current location of the source and documentation:

* git://omnibook.git.sourceforge.net/gitroot/omnibook/omnibook
* http://sourceforge.net/apps/mediawiki/omnibook/

===== ndiswrapper =====

Confirmed that v1.56 is the current latest release of this driver.  Fixed up the driver to match changes in v2.6.37, following removal of the locked ioctl interface.

===== iscsitarget =====

Confirmed that v1.4.20.2 is still the current version of this driver.  Fixed up a number of issues in the driver to match v2.6.37.

===== fsam7400 =====

Confirmed that 0.5.2 is the current latest version of this driver.  Seems that there has not been much if any change here for a very long time, this may be abandonware.  No changes required.

===== rfkill =====

Confirmed that v1.3 is the current latest version of this driver.  No changes required.

===== rtl8192se =====

Although there is a newer version than the one we are carrying this has been found to regress heavily.  In parallel RealTek has switched focus to a mainline driver and is no longer maintaining this one.  We are expecting the first versions to merge in 2.6.38 and so there is no point in disturbing this driver.  Leaving as is.
----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== UDS-Q stats ===

{| class="wikitable"
|-
| # patches
| comment
|-
| 252
| patches on top of the v3.4-rc5 upstream stable Linux kernel
|-
| 120
| SAUCE patches
|-
| 92
| debian commits (configuration updates and build machinary)
|-
| 40
| ubuntu/ driver patches
|-
| 0
| patches added then reverted (eg. 0 applied, then reverted)
|}

=== Ubuntu Delta ===
==== Ubuntu Drivers ====
# AUFS -- union mount support
## UBUNTU: ubuntu: AUFS -- update to d266b0c5d0693d6383976ee54b9e2c0fa9a3f5b0
## UBUNTU: ubuntu: AUFS -- sort out the relative header paths
## UBUNTU: ubuntu: AUFS -- adapt to the new changelog handling
## UBUNTU: ubuntu: AUFS -- disable in favor of overlayfs
## UBUNTU: ubuntu: AUFS -- enable in config and makefile
## UBUNTU: ubuntu: AUFS -- suppress benign plink warning messages
## UBUNTU: ubuntu: AUFS -- updateconfigs following update
## UBUNTU: ubuntu: AUFS -- update to 4cf5db36bcd9748e8e7270022f295f84d1fc2245
## UBUNTU: ubuntu: AUFS -- fix undefined security_path_link
## UBUNTU: ubuntu: AUFS -- fix undefined __devcgroup_inode_permission
## UBUNTU: ubuntu: AUFS -- aufs3-standalone.patch
## UBUNTU: ubuntu: AUFS -- aufs3-base.patch
## UBUNTU: ubuntu: AUFS -- documentation on updating aufs2
## UBUNTU: ubuntu: AUFS -- clean up the aufs updater and BOM
## UBUNTU: ubuntu: AUFS -- update aufs-update to track new locations of headers
## UBUNTU: ubuntu: AUFS -- include the aufs_types.h file in linux-libc-headers
## UBUNTU: ubuntu: AUFS -- add BOM and automated update script
** '''Comments''': We've enabled OverlayFS.  Keeping for Quantal?
# dm-raid4-5 - software raid support
## UBUNTU: ubuntu: dm-raid4-5 fix up build failure
## UBUNTU: ubuntu: dm-raid4-5 -- follow changes to bio flags
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.34-rc4
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.34-rc2
## UBUNTU: ubuntu: dm-raid4-5 -- update to compile with 2.6.33
## UBUNTU: ubuntu: dm-raid4-5: Depend on XOR_BLOCKS
## UBUNTU: ubuntu: dm-raid-45 -- update to compile with 2.6.32
## UBUNTU: ubuntu: dm-raid45 -- version 2009.04.24 (2.6.30-rc3)
## UBUNTU: ubuntu: dm-raid4-5 -- (no-up) Export dm_disk function of device-mapper
*** '''Comments''': Per the Precise review, the module is needed to activate RAID4 and RAID5 configurations with dmraid (package). This reads the meta-data created by BIOS supported soft-RAID implementations and creates device-mapper targets.  Upstream indicated that the dm-raid45 module is seen as deprecated and dm-raid (a RAID 4/5/6 target) would be the replacement. However currently available versions of the user-space application do not support this. The difference between both targets is substantial from the point of table formats. This means to create a mapping with the new target the user-space side has to change substantially.  So currently we will need to go with the old module.
*** '''Quantal review''': mdadm may slowly take over. But at the time of writing there were still problems with that. Though even when mdadm does handle the Intel MSM and DDF formats, it is unclear whether that would cover all of the containers formats that dmraid supports. And as long as the user-space side exits it will rely on dm-raid45.
# fsam7400 - SW RF kill switch for Fujitsu Siemens Amilo M 7400 / Maxdata 7000DX and compatible hardware.
## UBUNTU: ubuntu: fsam7400 select CHECK_SIGNATURE and depend on X86
## UBUNTU: ubuntu: fsam7400: Depend on CHECK_SIGNATURE
## UBUNTU: ubuntu: fsam7400 -- Cleanup Makefile
## UBUNTU: UBUNTU: ubuntu: fsam7400 -- kill switch for Fujitsu Siemens Amilo M 7400
** '''Comments''': Was kept in Precise per request LP:876030. henrix, you did some investigation on this driver?  Is there an in-tree replacement, ie. is this still needed for Quantal? 
# NX emulation
## UBUNTU: ubuntu: nx-emu - i386: mmap randomization for executable mappings
## UBUNTU: ubuntu: nx-emu - i386: NX emulation
# omnibook - HP OmniBook support module
## UBUNTU: ubuntu: omnibook disable driver
## UBUNTU: ubuntu: omnibook: fix source file newline
## UBUNTU: ubuntu: omnibook -- update BOM
## UBUNTU: ubuntu: omnibook -- Added missing BOM file
## UBUNTU: ubuntu: omnibook -- support Toshiba (HP) netbooks
** '''Comments''': We disabled this in Oneiric and Precise and no one screamed.  We should just drop this.
# rfkill - various rfkill drivers
## UBUNTU: ubuntu: rfkill disable driver
## UBUNTU: ubuntu: rfkill drivers -- version 1.3
** '''Comments:''' No new updates since March 2008 (v1.3)
** http://sourceforge.net/projects/rfswitch/files/

==== Ubuntu Patches (not for upstream) ====
## UBUNTU: SAUCE: (no-up) elide some ioctl warnings which are known benign
## UBUNTU: SAUCE (no-up) Provide a param for allowing the BIOS to handle changing the brightness on AC/battery status changes.
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6220 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 990 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Optiplex 790 use reboot=pci
## UBUNTU: SAUCE: (no-up) x86: reboot: Make Dell Latitude E6520 use reboot=pci
## UBUNTU: SAUCE: (no-up) vfs: Add a trace point in the mark_inode_dirty function
## UBUNTU: SAUCE: (no-up) add tracing for user initiated readahead requests
## UBUNTU: (no-up) Update dropped.txt for Oneiric
## UBUNTU: (no-up) add support for installed header files to ubuntu directory
## UBUNTU: (no-up): document the new ## scheme
## UBUNTU: (no-up) [Config] Note dropped SAUCE patches from 2.6.36 to 2.6.37
## UBUNTU: (no-up) more dropped patches
## UBUNTU: (no-up) Added dropped patch list
## UBUNTU: SAUCE: (no-up) ARM: Resetting power_mode to its original value.
## UBUNTU: SAUCE: (no-up) Modularize vesafb -- fix initialisation
## UBUNTU: SAUCE: (no-up) Stop ARM boards crashing when CUPS is loaded
## UBUNTU: SAUCE: (no-up) dma-mapping: Remove WARN_ON in dma_free_coherent
## UBUNTU: SAUCE: (no-up) cdrom -- default to not locking the tray when in use
## UBUNTU: SAUCE: (no-up) PM report driver and device suspend/resume times.
## UBUNTU: (no-up) arm -- enable ubuntu/ directory
## UBUNTU: SAUCE: (no-up) set /proc/acpi/video/*/DOS to 4 by default
## UBUNTU: SAUCE: (no-up) trace: add trace events for open(), exec() and uselib()
## UBUNTU: SAUCE: (no-up) raise the default console 'quiet' level to 2
## UBUNTU: SAUCE: (no-up) disable adding scsi headers to linux-libc-dev
## UBUNTU: SAUCE: (no-up) Sony laptop: Some Sony Vaia laptops do not enable wwan power by default.
## UBUNTU: SAUCE: (no-up) nbd: Change default partitions per device to 15
## UBUNTU: SAUCE: (no-up) swap: Add notify_swap_entry_free callback for compcache
## UBUNTU: SAUCE: (no-up) hostap: Change initial operation mode to managed (infra)
## UBUNTU: SAUCE: (no-up) version: Implement version_signature proc file.
## UBUNTU: SAUCE: (no-up) Modularize vesafb
## UBUNTU: ubuntu: dm-raid4-5 -- (no-up) Export dm_disk function of device-mapper
## UBUNTU: (no-up) fold down debian for ubuntu-q v3.3-rc1 rebase

==== Ubuntu Patches (for review) ====
# Andy Whitcroft
## x86, mce: Make xeon75xx memory driver dependent on PCI
## x86, mce: Xeon75xx specific interface to get corrected memory error information
## x86, mce: Rename cpu_specific_poll to mce_cpu_specific_poll
## overlay: overlay filesystem documentation
## overlayfs: update touch_atime() usage
## overlayfs: switch from d_alloc_root() to d_make_root()
## overlayfs: follow header cleanup
## overlayfs: add statfs support
## overlayfs: implement show_options
## fs: limit filesystem stacking depth
## overlay filesystem
## vfs: introduce clone_private_mount()
## vfs: export do_splice_direct() to modules
## vfs: add i_op->open()
## vfs: pass struct path to __dentry_open()
## UBUNTU: ubuntu: overlayfs -- overlayfs: apply device cgroup and security permissions to overlay files
## UBUNTU: ubuntu: AUFS -- disable in favor of overlayfs
## UBUNTU: SAUCE: Make populate_rootfs asynchronous
## UBUNTU: SAUCE: vesafb: enable mtrr WC by default
## UBUNTU: SAUCE: vesafb: mtrr module parameter is uint, not bool
## Drivers: scsi: storvsc: Properly handle errors from the host
## UBUNTU: tools/hv: add basic manual pages
## UBUNTU: tools/hv: add basic Makefile
## UBUNTU: SAUCE: ata_piix: defer disks to the Hyper-V drivers by default
## UBUNTU: ensure debian/ is not excluded from git by default
## UBUNTU: SAUCE: ensure root is ready before running usermodehelpers in it
## UBUNTU: SAUCE: headers_install: fix #include "..." usage for userspace
## UBUNTU: SAUCE: vt -- allow grub to request automatic vt_handoff
## UBUNTU: SAUCE: vt -- maintain bootloader screen mode and content until vt switch
## Revert "mmc: fix all hangs related to mmc/sd card insert/removal during suspend/resume"
## UBUNTU: SAUCE: drm -- stop early access to drm devices
## UBUNTU: SAUCE: add option to hand off all kernel parameters to init
## UBUNTU: SAUCE: khubd -- switch USB product/manufacturer/serial handling to RCU
## UBUNTU: SAUCE: acpi battery -- move first lookup asynchronous
## UBUNTU: SAUCE: async_populate_rootfs: move rootfs init earlier
## UBUNTU: SAUCE: isapnp_init: make isa PNP scans occur async
# Brad Figg
## UBUNTU: SAUCE: (drop after 3.5) drm/i915: reinstate GM45 TV detection fix
# Chase Douglas
## UBUNTU: SAUCE: Input: synapticss - Set buttonpad property for all clickpads
## UBUNTU: SAUCE: Input: synaptics - add second variant of two-button clickpad
# Colin Ian King
## UBUNTU: SAUCE: PCI: Allow pcie_aspm=force to work even when FADT indicates it is unsupported
## UBUNTU: SAUCE: S3 early resume debug via keyboard LEDs
# Eric Miao
## UBUNTU: SAUCE: Make CONFIG_{OMNIBOOK, AVERATEC_5100P, PACKARDBELL_E5} depend on X86
# James M. Leddy
## UBUNTU: SAUCE: Bluetooth: Add support for BCM20702A0 [0a5c:21e6]
# John Johansen
## UBUNTU: SAUCE: Update aufs for build failure caused by apparmor backport
## UBUNTU: SAUCE: AppArmor: basic networking rules
## UBUNTU: SAUCE: AppArmor: Add profile introspection file to interface
## UBUNTU: SAUCE: AppArmor: Add the ability to mediate mount
## UBUNTU: SAUCE: SECCOMP: Fix apparmor for PR_{GET,SET}_NO_NEW_PRIVS
## UBUNTU: SAUCE: Improve Amazon EBS performance for EC2
## UBUNTU: SAUCE: fix pv-ops for legacy Xen
# Kees Cook
## UBUNTU: SAUCE: SECCOMP: Add PR_{GET,SET}_NO_NEW_PRIVS to prevent execve from granting privs
## UBUNTU: SAUCE: SECCOMP: audit: always report seccomp violations
## UBUNTU: SAUCE: SECCOMP: seccomp: remove duplicated failure logging
## UBUNTU: SAUCE: security: unconditionally chain to Yama LSM
## UBUNTU: SAUCE: Yama: add link restrictions
# Leann Ogasawara
## UBUNTU: Update dropped.txt
## UBUNTU: update dropped.txt for Q
## Revert Temporarily "UBUNTU: SAUCE: AppArmor: basic networking rules"
## UBUNTU: [Config] Disable AUFS
## UBUNTU: Rebase to v3.3-rc1
## UBUNTU: SAUCE: include <linux/printk.h> and <stdarg.h> for mmc_core arm build
## UBUNTU: SAUCE: [arm] fixup __aeabi_uldivmod undefined build error
# Manoj Iyer
## UBUNTU: SAUCE: Add vendor specific ID (0a5c 21f3) for BCM20702A0.
## UBUNTU: SAUCE: Bluetooth: Add support for BCM20702A0 [0a5c:21e1]
## UBUNTU: SAUCE: Added quirk to recognize GE0301 3G modem as an interface.
# Mathieu Trudel-Lapierre
## UBUNTU: SAUCE: ipv6: make the net.ipv6.conf.all.use_tempaddr sysctl propagate to interface settings
# Ming Lei
## UBUNTU: SAUCE: fireware: add NO_MSI quirks for o2micro controller
# Seth Forshee
## (pre-stable) b43: only reload config after successful initialization
** '''Comments''': This is upstream and has already been dropped from quantal.
1. UBUNTU: SAUCE: dell-wmi: Demote unknown WMI event message to pr_debug
** '''Comments''': Dell has said they plan to fix the root cause of this but have not done so yet. We should keep this as a sauce patch for now because the message generates bug reports but really has no impact on users.
# Stefan Bader
## UBUNTU: SAUCE: Convert dm-raid45 to new block plugging
*** Still needed as long as we need the module itself. No upstream development visible any more.
# Tim Gardner
## UBUNTU: SAUCE: Allow filtering of cpufreq drivers
** Keep as SAUCE for now
1. UBUNTU: SAUCE: remove __initdata from vesafb_fix
** Mark as no-up or squash with "UBUNTU: SAUCE: (no-up) Modularize vesafb"
1. UBUNTU: SAUCE: disable_nx should not be in __cpuinitdata section for X86_32
** Dropped
1. UBUNTU: SAUCE: fsam7400: use UMH_WAIT_PROC consistently
** Dropped when we removed the fsam7400 driver
1. UBUNTU: SAUCE: fix build error with CONFIG_BLK_DEV_INITRD=n
** Squash with "Make populate_rootfs asynchronous"
# Will Drewry
## UBUNTU: SAUCE: SECCOMP: Documentation: prctl/seccomp_filter
## UBUNTU: SAUCE: SECCOMP: x86: Enable HAVE_ARCH_SECCOMP_FILTER
## UBUNTU: SAUCE: SECCOMP: ptrace,seccomp: Add PTRACE_SECCOMP support
## UBUNTU: SAUCE: SECCOMP: seccomp: Add SECCOMP_RET_TRAP
## UBUNTU: SAUCE: SECCOMP: signal, x86: add SIGSYS info and make it synchronous.
## UBUNTU: SAUCE: SECCOMP: seccomp: add SECCOMP_RET_ERRNO
## UBUNTU: SAUCE: SECCOMP: seccomp: add system call filtering using BPF
## UBUNTU: SAUCE: SECCOMP: asm/syscall.h: add syscall_get_arch
## UBUNTU: SAUCE: SECCOMP: arch/x86: add syscall_get_arch to syscall.h
## UBUNTU: SAUCE: SECCOMP: seccomp: kill the seccomp_t typedef
## UBUNTU: SAUCE: SECCOMP: net/compat.c,linux/filter.h: share compat_sock_fprog
## UBUNTU: SAUCE: SECCOMP: sk_run_filter: add BPF_S_ANC_SECCOMP_LD_W

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': https://features.launchpad.net/distros/ubuntu/+spec/kubuntu-feisty-kde4-plan
* '''Packages affected''': kde4*

=== Summary ===
Preparing Kubuntu for KDE 4.

=== Rationale ===
By packaging KDE 4 now, we can work out packaging bugs and problems ahead of time.

=== Use cases ===

Dina the developer wants to make sure her KDE 4 application will work flawlessly when KDE 4 is officially released.  She installs a current version of ubuntu/kubuntu and installs the kde4 packages.   By following a simple guide, the developer sets up a KDE 4 environment.  She will want to be able to run her normal KDE 3 apps while in this environment.
 
Chuck the power user is curious and wants to run KDE 4 before it's officially supported.  However, most KDE 3 apps are not ported yet, so he wants to run KDE 3 apps inside the KDE 4 environment.

Sebas the KDE marketeer wants to have a KDE 4 CD available alongside the KDE 4.0 release.  He uses the remastered Kubuntu CD for this purpose.

=== Scope ===
Put KDE 4 in Feisty for developers and early adopters, to ensure that it works reliably and is ready to become the default as soon as KDE 4 is released.

=== Design ===
Users need to be able to run KDE 3 apps inside a KDE 4 environment.  We cannot insist on KDE 4 apps only inside a KDE 4 environment because some users will want to run apps that have not been ported yet.

=== Feisty Implementation ===

While KDE 3 is still the default, we will package any upstream pre-releases of KDE 4 programmes as long as they compile and are mostly stable to run.  We will use .kde4 instead of .kde  for the settings directory to ensure the users's KDE 3 settings are not lost when using KDE 4.  This should be automatically created when the KDE 4 environment is first run.  Only application settings will be copied, soe.g. no cache or emails but it should migrate bookmarks.

All packages will be prefixed with kde4-, so KOffice 2 will be kde4-koffice.  The packages will install to /usr/lib/kde4 as currently in Edgy.  These packages will be in universe.

Currently it is impossible to install KDE 3 and KDE 4 in the same place.  We would like to install both to /usr when KDE 4 is released.  To ensure this is possible we will work with upstream to ensure libexec support is implemented, which will put system binaries used by kdelibs (e.g. kded, kbuildsycoca, klaunch, kdeinit) in /usr/lib/kde4/libexec, not /usr/bin.  This will prevent them from clashing with the same files from KDE 3.

We will package the KDE 4 Oxygen icon theme for Kubuntu. We will implement the icon naming specification for KDE 4.  This requires listing the desired icons in KDE 4, naming them in a manner consistent with the icon naming scheme.  KDE 4 will be converted to the new names and the Tango icon tools should be extended to include the complete icon naming spec, creating symlinks to the old names which will allow the icons to be used in KDE 3 applications too, giving a consistent look and feel to a mixed KDE 3/4 desktop.

Some applications developed within Kubuntu or heavily contributed to by Kubuntu developers will need to be ported to KDE 4.  These are:

* kwin-style-crystal window decoration. Query with upstream the progress on this
* ksplah-moodin login splash.  Query the maintainer, but since this is a fork of a Linspire project it may not get ported for a while, so likely we will need to port it ourselves, or drop it.
* katapult.  Maintainer (a Kubuntu developer) has some plans to port to KDE 4 but no timetable set.
* guidance.  Maintainers (Kubuntu developers) plan to port as soon as KDE 4 Python bindings are available
* kde-systemsettings.  Maintainer (Kubuntu developers) will port

=== After KDE 4 is Released ===

The KDE marketing team want a KDE 4 CD when KDE 4 is released (post feisty). We will help them make a remastered Kubuntu CD with KDE 4 (and KOffice 2).  This will not be a supported version of Kubuntu nor on the Ubuntu archive servers, but will be for the earliest KDE 4 adopters to use, and allows us to evaluate if it is sane to move to using KDE 4 by default in the next Kubuntu release.

Depending on the timing with the next Kubuntu release, we will start replacing KDE 3 packages with KDE 4 packages.  The packages will be changed to install in /usr and have the kde4- prefix on the binary package name removed.  .kde will be used for settings and any .kde4 directory will not be used or migrated. Oxygen icons will be used for KDE 3 and KDE 4 applications using the symlink method noted above.

----
CategorySpec

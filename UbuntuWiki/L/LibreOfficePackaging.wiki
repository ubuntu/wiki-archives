{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== LibreOffice Packaging ==

=== Sources ===

* LibreOffice sources are at: http://cgit.freedesktop.org/libreoffice/
* LibreOffice packaging repository (shared with debian) at: https://salsa.debian.org/libreoffice-team/libreoffice/libreoffice

=== Workflow ===
The following workflow has established itself as usefull from LibreOffice 3.5 onwards:
* At the start of the cycle, we base directly on the vanilla debian packaging, rebasing the delta of Ubuntu against Debian as clean patches on top of Debian
* This patch queue will be rebased regularly on Debians changes
* somewhere between alpha and beta the rebasing stops (longer patch queues get fragile) and we switch to merging from Debian
* around beta2 we stop merging and instead cherry-pick relevant patches from Debians branch to stabilize the release
* in the end we make a clean patch queue on top of debian out of this again and rebase that for the next release

=== Backporting ===
To backport a package to an earlier release, you need to:
* Download the source package you want to backport (*.dsc file and all the files referenced in it: *.orig.tar.xz *.debian.tar.gz)
* unpack the source with <pre>
dpkg-source -x *.dsc
</pre>
* change to the build dir: <pre> 
cd libreoffice-*
</pre>
* adapt package for the backport (magic happens here)
* recreate the debian control file for this release with: <pre>
./debian/rules control -W ./debian/control.in
</pre>
* build it: <pre>
dpkg-buildpackage
</pre>
Adjustments need to be done on the `./debian/rules` file mostly as that generates `./debian control` too. The should trigger on the distro-release, like e.g.:
 http://anonscm.debian.org/gitweb/?p=pkg-openoffice/libreoffice.git;a=blob;f=rules;h=8c48e4be6e7008c9e79534753dc1ab95a28d6853;hb=refs/heads/ubuntu-raring-4.0#l514

Once the package has been successfully backported, it might be uploaded to the LibreOffice ppa, with a clean `dpkg-buildpackage -S` and `dput ppa:... *.changes`.

=== PPAs ===
* <nowiki>[[https://launchpad.net/~libreoffice/+archive/ppa|main ppa]]</nowiki> this is where:
** release candidates, that are assumed to be final (usually rc2) of microreleases which will be SRUed/MREed be uploaded first (usually ~1 week before upstream final, ~2 weeks before SRU)
** backports of the latest majors are available
* <nowiki>[[https://launchpad.net/~libreoffice/+archive/libreoffice-5-4|libreoffice-5-4]]</nowiki>, <nowiki>[[https://launchpad.net/~libreoffice/+archive/libreoffice-6-0|libreoffice-6-0]]</nowiki> and <nowiki>[[https://launchpad.net/~libreoffice/+archive/libreoffice-6-1|libreoffice-6-1]]</nowiki> -- per major release copies from the main ppa for those who what all minor updates, but no major update
* <nowiki>[[https://launchpad.net/~libreoffice/+archive/libreoffice-prereleases||libreoffice-prereleases]]</nowiki> for upstream alpha/beta releases. Only for testing.

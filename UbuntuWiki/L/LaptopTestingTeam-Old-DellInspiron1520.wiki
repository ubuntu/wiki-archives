{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== KUbuntu 9.04 Jaunty x86 ==

Author: <nowiki>[[DWurf]]</nowiki>

Make: DELL

Brand: INSPIRON

Model: 1520

Website: unknown

=== Current Issues ===
Laptop does not wake from sleep properly (screen remains blank although other activity is present)

=== System Info ===

system-manufacturer: Dell Inc.

system-product-name: Inspiron 1520

system-version: Not Specified

=== Hardware details ===

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-1> '''Works?'''
| <|2> '''Bug #'''
|-
| in Jaunty
|-
| Screen
| YES
| 
|-
| Correct resolution?
| YES
| 
|-
| Correct refresh rate?
| YES
| 
|-
| 3D Acceleration
| Untested
| 
|-
| External monitor works?
| Untested
| 
|-
| External monitor - mirrors
| Untested
| 
|-
| External monitor - extend desktop
| Untested
| 
|-
| <-5> '''Power Management'''
|-
| Battery detected?
| YES
| 
|-
| Hibernates?
| Untested
| 
|-
| Suspend
| NO
| 
|-
| Dim monitor on battery
| YES
| 
|-
| Blank monitor on inactivity
| Untested
| 
|-
| Lid Close
| Untested
| 
|-
| Cpu frequency scaling
| YES
| 
|-
| <-5> '''Sound'''
|-
| Sound works?
| YES
| 
|-
| Correct volume?
| YES
| 
|-
| Hardware volume switch
| YES
| 
|-
| Headphone jack
| YES
| 
|-
| Mic jack
| Untested
| 
|-
| <-5> '''Networking'''
|-
| Wired NIC
| YES
| 
|-
| Wireless NIC
| Untested
| 
|-
| PCMCIA NIC
| Untested
| 
|-
| Firewire
| Untested
| 
|-
| Bluetooth
| YES
| 
|-
| Modem
| Untested
| 
|-
| Infrared
| Untested
| 
|-
| <-5> '''Touchpad & Mice'''
|-
| Touchpad
| NO
| 
|-
| Touchpad - Doubletap = double click
| Untested
| 
|-
| Touchpad - Scroll down side
| Untested
| 
|-
| External mouse - USB
| PARTIAL (no middle button)
| 
|-
| External mouse - Serial
| Untested
| 
|-
| <-5> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| 
|-
| USB
| Untested
| 
|-
| Serial
| Untested
| 
|-
| Parallel
| Untested
| 
|-
| External Monitor - VGA
| Untested
| 
|-
| External Monitor - DVI
| Untested
| 
|-
| Modem
| Untested
| 
|-
| NIC
| Untested
| 
|-
| PS/2
| Untested
| 
|-
| <-5> '''Additional Hardware'''
|-
| CD/DVD drive
| YES
| 
|-
| PCMCIA cards
| Untested
| 
|-
| Parallel Ports
| Untested
| 
|-
| Card reader(s)
| Untested
| 
|}

TBD...
{| class="wikitable"
|-
| <-7 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-1> '''Works?'''
| <|2> Bug #
|-
| in Jaunty (current development)
|-
| + Space
| 
| 
| N/A
| 
|-
| + Esc
| 
| 
| N/A
| 
|-
| + F1
| Sleep
| 
| Partial - will not wake
| 
|-
| + F2
| 
| 
| N/A
| 
|-
| + F3
| Battery
| 
| Unknown - what's it supposed to do?
| 
|-
| + F4
| 
| 
| N/A
| 
|-
| + F5
| 
| 
| N/A
| 
|-
| + F6
| 
| 
| N/A
| 
|-
| + F7
| 
| 
| N/A
| 
|-
| + F8
| CRT/LCD
| 
| Untested
| 
|-
| + F9
| 
| 
| N/A
| 
|-
| + F10
| 
| 
| N/A
| 
|-
| + F11
| 
| 
| N/A
| 
|-
| + F12
| 
| 
| N/A
| 
|-
| + Up
| Increase Brightness
| 
| YES
| 
|-
| + Down
| Decrease Brightness
| 
| YES
| 
|-
| + Num Lk
| Scroll Lk
| 
| NO
| 
|-
| + Prnt Scrn
| SysRq
| 
| Untested
| 
|-
| + Insert
| Pause
| 
| Untested
| 
|-
| + Delete
| Break
| 
| Untested
| 
|-
| + (asst)
| Keypad
| 
| YES
| 
|-
| <-7> '''Hardware keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-1> '''Works?'''
| <|2> Bug #
|-
| in Jaunty (current development)
|-
| Play/Pause
| 
| 
| Untested
| 
|-
| Prev
| 
| 
| Untested
| 
|-
| Next
| 
| 
| Untested
| 
|-
| Stop
| 
| 
| Untested
| 
|-
| Wireless Switch
| 
| 
| Untested
| 
|}

==== Notes ====

== Ubuntu 7.04 Feisty ==
Author unknown for this section (not <nowiki>[[DWurf]]</nowiki>)

There is an issue with the console resolution when using newer Grathics cards (like the Nvidia G80). If you just let the installation disk boot by default, then you will just end up with a "black screen". The standard Ubuntu-7.04 installation disk also seems to have kernel driver (and possibly HAL) issues with the SATA controllers. The default Linux-2.6.20.X kernel possibly fails to load the correct SATA drivers if you first try to boot from the Ubuntu-7.04 installation disk. I've seen the system failing to mount the hard drive around 10 times or so. In the end you will find yourself looking at the ash shell, that has been loaded by busybox. I've tryed all kernel boot options as well. At this time you can install Ubuntu-7.04 (without such issues), by using the alternative CD in text mode. But I've found another way to install Ubuntu-7.04 in graphical mode. In this post, I have included a hardware list of "what works" (out of the box) and fixes for other hardware that does not. I'll be continuing to update this post so people can correctly setup their Dell Inspiron 1520 Notebook ASAP, with Ubuntu-7.04. So far I have had good feed back from other users. And have also been documenting end user feedback.

==== What to expect once you have installed Ubuntu-7.04 ====

This is a list of what works (out of the box) so far with Ubuntu-7.04:

* Ethernet
* Bluetooth
* Nvidia 8600M GT (vesa driver)
* ATI Graphics (vesa driver)
* HD Sound card (poor sound quality)
* USB ports
* Display
* Keyboard
* Mousepad (with mouse buttons)
* Multimedia buttons

Not yet working correctly (out of the box):

* Internal Wifi ([SIZE=1]Intel IPW3945)[/SIZE] (Works well, but can somtimes play up now and then. "Restricted Driver, Radio kill swtich"?)
* DVD +/- burner (works O.K. With Ubuntu-6.10)
* Intel Graphics (need to update the intel driver)
* Web cam. (You might need to install a web cam Driver (like the Linux-uvc driver from http://linux-uvc.berlios.de))*
* Audio input/outputs

 Note:: Even if you're able to get the web cam to work, its possible that Ekiga-2.0.3 will not support the new driver. But >= Ekiga-2.0.4 "Might work" .

Have not tested:

* Internal modem
* PS2 connectors
* VGA output
* Firewire IEEE1492

Have got to work (after the fixes) :

* DVD Burner :)
* HD Sound Card (good sound quality)
* Audio input/outputs *1
* Nvidia 8600M GT (Beryl ready, with Nvidia driver)
* ATI Graphics (Beryl ready, with fglrx driver)
* Intel Graphics (Should be Beryl ready after editing /etc/X11/xorg.conf (see Ubuntu Harware and Software WiKi link below))

* 1: An important note on the microphone: the Sound Recorder program in the Applications menu under Sound & Video should not be used for testing purposes. It resets parts of the mixer (most importantly it reduces InMux to 0 and disables ADCMux) which will cause the mic to not work. Instead, install Audacity using the command "sudo apt-get install audacity" in a terminal. It can record and do a lot more.

==== Installing Ubuntu-7.4 using the Graphical interface ====
If you want to install Ubuntu-7.04 on your Dell Inspiron 1520 using the Graphical interface, then start with Ubuntu-6.10 first. Download all of the updates (using the update manager), then you should get an option to upgrade to Ubuntu-7.04.
(Note1: You might need to add "upgrade sources" to your source list)
(Note2: Keep reading for known issues and configuration hints)

You can download a image of Ubuntu-6.10 from:

http://filer-1.filearena.net/pub/ubuntu-releases/6.10/ubuntu-6.10-desktop-i386.iso

Or for 64bit:-

http://filer-1.filearena.net/pub/ubuntu-releases/6.10/ubuntu-6.10-desktop-amd64.iso

And burn the image to a blank DVD.

==== Hints on setting up your hardware while installing Ubuntu ====
When you first boot the Ubuntu-6.10 installation disk:

You will need to change the default display resolution settings (by using the F4 key) to 1024x768 32bit at the boot menu. You do not need to use the “safe graphics mode” option.

The X server will fail to load when you first boot Ubuntu-6.10, and you will see a error message on your screen with the options to continue or exit. Select the “Cancel” or “exit” options, until you see a terminal. (You can also change to a new terminal by using the keys Ctrl-Alt F2)

Log in as root:
<pre>
 sudo -i
</pre>

And use Vim to edit /etc/X11/xorg.conf:
<pre>
vi /etc/X11/xorg.conf
</pre>

If you have a Intel card, then check to see if you have the device driver "i810" (located at “Section Device”)
If that does not work out for you, then try this method from here:

http://ubuntuforums.org/showthread.php?t=509408

If you have an Nvidia card, change the device driver “nv” to "vesa" (located at “Section Device”)

If you have a ATI card, change the device driver “ati” to “vesa” (located at “Section Device”)?
ATI card owners might need to make sure if the resolution is o.k to use. You might need to use 800x600 16bit. Also make sure you have the monitor Horizontal and Vertical settings (located at the “Section Monitor”). This might matter when you upgrade to Ubuntu-7.04.

Make sure that the Default Depth (located at "Section Screen") is set to "16" or "24".
Note:- I recommend using the default depth of "24", if you intend to run Beryl.

You will notice that the "Subsection Display" has "modes" for other possible colour Depths. Please ensure that you have set up the correct screen resolution to the colour depth you want to use.

------------ How to use the Vi editor ---------------------------------
To edit (or add text) in Vi:
Press the “i” key (without the quotes) to enter text.

To delete text:

Press the “Esc” key (without the quotes) when you have finished entering text
Press the “delete” key (without the quotes) when the cursor is under the letter or value you need to delete.

To save and exit Vim:

Press the “Esc” key (without the quotes) when you have finished entering text.
Press the “Shift (and) :” keys together (without the (and) and quotes) to get to the Vi command line, and then type the keys “wq” two Write to file and Quit.

If you want quit without saving in Vi, then use the “q!” command like so:-

Esc
Shift :
q!
 ----------- EOF on How to use the Vi editor -------------------------

Once you have finished editing the /etc/X11/xorg.conf, exit out of root:-
[code]exit[/code]Now you should be able to start the X server by typing:-
[code]startx[/code]Now you will be able to install Ubuntu-6.10 on your hard drive.

* *Please note**
Once you have finished installation of Ubuntu-6.10, the system will not shut down. Instead you will just be at the terminal. To shut down the PC, you need to run the following commands:-
<pre>
 sudo -i
 halt
</pre>

From here you should be able to boot into Ubuntu-6.10.
Use the update manager to download and install updates, or (if the option is there already) start to upgrade to Ubuntu-7.04.

==== Handy system configuration hints for Festy ====

Here is some information about Ubuntu addons from the Dell (Wiki Support). Here you will find driver download information for Graphics cards, modems and other Linux kernel backport information:-

http://linux.dell.com/wiki/index.php/Ubuntu_7.04/Add-on_Packages

===== DVD fix =====
See this link for more information on getting the DVD player to work:-

http://linux.dell.com/wiki/index.php/Ubuntu_7.04/Issues/CD_media_not_recognized

Use gedit to edit /etc/modules:
<pre>
 sudo gedit /etc/modules
</pre>

And add the following line:
<pre>
 piix
</pre>

There is no need to rebuild the kernel image at all. Just reboot :)

Open up a terminal and check the DVD setup. Look out for DMA and I/O (16-Bit or 32-Bit), using the following command:

* **Note: Never use "hdpram" commands to SATA drives (like:- /dev/sda or /dev/sdc ...). You might kill your system/software (The 1520 uses PATA for the DVD Burner, but uses SATA for the Hard Drive. The following commands will only effect the DVD Burner on the 1520, which is what you want)***

<pre>
 sudo hdparm /dev/hda[/code]If DMA is not enabled, then:
</pre>

<pre>
 sudo gedit /etc/hdparm.conf[/code]And add this at the end of hdparm.conf file:
</pre>

<pre>
 /dev/hda {
 dma = on
 }
</pre>

==== Kernel modules ====

 If you upgraded Ubuntu-6.10 to 7.04 you will find that the system is still using linux-restricted-modules-2.6.16.xx. You can uninstall linux-restricted-modules-2.6.16.xx and install linux-restricted-modules-2.6.20, Useing the Synaptic Package Manager.

Please see this link for more information for setting up correct kernel modules:-

http://ubuntuforums.org/showthread.php?t=509408

===== Nvidia and ATI Graphics card setup =====

Use Alberto Milone's "Envy" ([URL]http://www.albertomilone.com/nvidia_scripts1.html[/URL]) to install the Nvidia or ATI drivers, after you have upgraded to Ubuntu-7.04.

Envy will be included the next Ubuntu (7.10) release.
===== Intel Graphics card setup =====

The PAINLESS way to set Screen Resolution for Intel Chipsets:

http://ubuntuforums.org/showthread.php?t=351647&highlight=intel+widescreen+laptop

===== WiFi driver details =====
Here is more information from Dell Wiki Support:-

http://linux.dell.com/wiki/index.php/Tech/Wireless/Intel_IPW3945

Check to see if you already have the restricted driver running.

Hint: Use the Synaptic Package Manager to search for WEP (search hints:- wep, wep2, wifi, network, 802.11b, WPA)

[Could there be a BIOS check as well? I think there is a "switch/router" enable mode!!]

===== HD Audio card setup =====
Edit the /etc/modprobe.d/alsa-base file:
[code]sudo gedit /etc/modprobe.d/alsa-base[/code]And add this line:
[code]options snd-hda-intel model=ref[/code]Here is some information about the Audio codecs, from Dell (Wiki support):

http://linux.dell.com/wiki/index.php/Tech/Audio#82801H_.28ICH8_Family.29_High_Definition_Audio_Controller_with_STAC9228_Codec
http://linux.dell.com/wiki/index.php/Tech/Audio

====== Compiling your own Audio system ======
You can download the latest driver (And I recommend the version 1.0.14) from http://www.alsa-project.org/
Also download the "Alsa libs (1.0.14a)", ALSA Plugins (1.0.14) Alsa-tools, Alsa-firmware (1.0.14) and "Alsa-oss (1.0.14)".

Note:- It might be a good idea to uninstall the current Alsa software before updating Alsa (useing the Synaptic Package Manager).
            This is the current list to uninstall:-

             alsa-oss, alsa-source, alsa-tools, alsa-player, alsamixer, alsa-tools-gui, alsa-firmware loaders.

           You need to keep alsa-base and alsa-utils.

Install these development dependencies (useing the Synaptic Package Manager):-

libncurses5-dev, libncursesw5-dev, speex, libspeex-dev, liba52-0.74-dev, libsamplerate0-dev, jackd, jack-rack and libjack0.100.0-dev.

Install the Alsa driver by running the following commands:

<pre>
 sudo apt-get install build-essential linux-headers-$(uname -r)
 cd alsa-drivers-1.0.14
 ./configure --with-kernel=/usr/src/linux-headers-$(uname -r) --with-cards=hda-intel --with-sequencer=yes --with-oss=yes
 make
 sudo make install
</pre>

Install ALSA Library by running the following commands:
<pre>
 ./configure --enable-static &&
 make
 sudo make install
 sudo install -v -m644 -D doc/asoundrc.txt \
    /usr/share/doc/alsa-lib-1.0.14/asoundrc.txt
 sudo ldconfig
</pre>
Install ALSA Plugins by running the following commands:
<pre>
./configure &&
make
sudo make install
sudo install -v -m755 -d /usr/share/doc/alsa-plugins-1.0.14
sudo install -v -m644 doc/{README*,*.txt} \
                    /usr/share/doc/alsa-plugins-1.0.14
</pre>

<pre>
sudo ldconfig
</pre>

Install ALSA Utilities by running the following commands:
<pre>
./configure &&
make
sudo make install
</pre>
Install ALSA Firmware by running the following commands:
<pre>
./configure --prefix=/usr && make
sudo make install
</pre>
Install ALSA OSS by running the following commands:
<pre>
./configure &&
make
sudo make install
</pre>
----
CategoryLaptop

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

	
* Contact: <nowiki>[[Motin]]</nowiki> (Feisty), <nowiki>[[JulianRockey]]</nowiki> (Breezy/Dapper)
* Make: HP
* Brand: Pavilion
* Model: dv4000 (Or more specifically dv4268 //<nowiki>[[Motin]]</nowiki>)
* Website: <nowiki>[[http://www.shopping.hp.com/webapp/shopping/computer_series.do?storeName=computer_store&category=notebooks/hp_pavilion&series_name=dv4000_series&catLevel=2|Link >>]]</nowiki>

=== Current Issues ===
FEISTY ISSUE SUMMARY

Everything works except the memory card reader, color TV-Output on PAL TVs and some function keys (other key combinations can be used instead). 

For Windows users used to use Fn+F4 for monitor switching - see notes on this below - it doesn't work out of the box. 

Battery time is shortened by about 30-45 minutes compared to Windows. (Still, you'll be able to work around 170% as much on one battery charge to to increased productivity - highly subjective opinion but true for me ;) )

Beryl Desktop Effects works in Feisty almost out-of-the-box but you need to install Beryl first: http://wiki.beryl-project.org/wiki/Install_Beryl_on_Ubuntu_Feisty_with_AIGLX

The E220 USB 3G modem is supposed to work, see comments to https://bugs.launchpad.net/ubuntu/+bug/105545

/<nowiki>[[Motin]]</nowiki>

DAPPER ISSUE SUMMARY

Latest test: Dapper Beta with all updates 11 May 2006

Bluetooth: my phone could see my Dapper laptop, but the laptop couldn't see in the discoverable phone with hidd --search. No gnome frontend available.
* ''There is `gnome-bluetooth-manager`, but it's currently lacking in functionality and doesn't do much more than just scan and display a list of pretty icons.  `gnome-obex` or whatever it's called does allow you to receive files.'' -PaulSladen
* I can experiment with frontends but my main worry is that "hidd --search" doesn't find my discoverable phone. I used to have Bluetooth working fine under SuSE so I guess linux support is available for whatever chipset it is (it's built in to the laptop - not a USB dongle). -JulianRockey

Hibernate: sometimes works but sometimes seems to freeze with a blank screen whilst hibernating
* ''Does leaving the laptop a '''long''' time (eg. 5 minutes+) eventually allow it to finish and power-off normally.'' -PaulSladen
* I'll play around with hibernate a bit and report on findings. -JulianRockey

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Breezy?
| in Dapper?
| in Feisty?
|-
| Installation works?
| Yes
| Yes
| Yes
|}

{| class="wikitable"
|-
| <-5 tablewidth="75%"> '''Hardware Information'''
|-
| <-5> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-3> '''Works?'''
| <|2> '''Bug #'''
|-
| in Breezy?
| in Dapper?
| in Feisty?
|-
| Screen
| Yes
| Yes
| Yes
| 
|-
| Correct resolution?
| Yes
| Yes
| Yes
| 
|-
| Correct refresh rate?
| Yes
| Yes
| Yes
| 
|-
| 3D Acceleration
| Yes
| Yes
| Yes
| 
|-
| External monitor works?
| Untested
| No
| Yes*
| 
|-
| External monitor - mirrors
| Untested
| No
| Yes*
| 
|-
| External monitor - extend desktop
| Untested
| No
| Yes*
| 
|-
| External monitor - extend desktop
| Untested
| No
| Yes*
| 
|-
| <-5> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| Yes
| 
|-
| Hibernates?
| No
| Sometimes
| Yes&No******
| 
|-
| Sleep
| No
| Yes
| Yes&No******
| 
|-
| Dim monitor on battery
| Yes
| Yes
| Yes
| 
|-
| Blank monitor on inactivity
| No
| Yes
| Yes
| 
|-
| Lid Close
| No
| No
| Yes
| 
|-
| Cpu frequency scaling
| Yes
| Yes
| Yes
| 
|-
| <-5> '''Sound'''
|-
| Sound works?
| Yes
| Yes
| Yes
| 
|-
| Correct volume?
| Yes
| Yes
| Yes
| 
|-
| Hardware volume switch
| Yes
| Yes
| Yes
| 
|-
| Headphone jack
| Yes
| Yes
| Yes
| 
|-
| Mic jack
| Yes
| Untested
| Yes
| 
|-
| <-5> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| Yes
| 
|-
| Wireless NIC
| Yes
| Yes
| Yes
| 
|-
| PCMCIA NIC
| Untested
| Untested
| Yes
| 
|-
| Firewire
| Untested
| Untested
| Untested
| 
|-
| Bluetooth
| Yes
| No*
| Yes
| 
|-
| Modem
| Untested
| Untested
| Yes**
| 
|-
| Infrared
| Untested
| Untested
| Untested
| 
|-
| <-5> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| Yes
| Yes
| Yes
| 
|-
| External mouse - USB
| Yes
| Yes
| Yes
| 
|-
| External mouse - Serial
| N/A***
| N/A
| N/A
| 
|-
| <-5> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| Untested
| Untested
| 
|-
| USB
| Untested
| Untested
| Untested
| 
|-
| Serial
| Untested
| Untested
| Untested
| 
|-
| Parallel
| Untested
| Untested
| Untested
| 
|-
| External Monitor - VGA
| Untested
| Untested
| Untested
| 
|-
| External Monitor - DVI
| Untested
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| Untested
| 
|-
| NIC
| Untested
| Untested
| Untested
| 
|-
| PS/2
| Untested
| Untested
| Untested
| 
|-
| <-5> '''Additional Hardware'''
|-
| Fingerprint reader
| N/A
| N/A
| N/A
| 
|-
| CD/DVD drive
| Yes
| Untested
| Yes
| 
|-
| PCMCIA cards
| Yes
| Yes
| Yes
| 
|-
| Parallel Ports
| N/A
| N/A
| N/A
| 
|-
| Card reader(s)
| No
| Partial
| Partial***
| 
|}

{| class="wikitable"
|-
| <-7 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-3> '''Works?'''
| <|2> Bug #
|-
| in Breezy?
| in Dapper?
| in Feisty?
|-
| + Space
| Nothing
| 
| Yes
| Yes
| Yes
| 
|-
| + Esc
| Nothing
| 
| Yes
| Yes
| Yes
| 
|-
| + F1
| Help
| 0x80 0x81 0x8a
| Yes
| Yes
| Yes
| 
|-
| + F2
| Print
| 0x1d 0x19 0x99 0x9d
| Yes
| Yes
| Yes
| 
|-
| + F3
| Web Browser
| 0x80 0x81 0x96
| Yes
| Yes
| Yes
| 
|-
| + F4
| External display
| <none>
| No*
| No
| No****
| #44437
|-
| + F5
| Sleep
| 0xe0 0x5f 0xe0 0xdf
| No*
| Yes
| Yes
| 
|-
| + F6
| Lock
| 0xe0 0x18 0xe0 0x98
| No*
| Yes
| Yes
| 
|-
| + F7
| Brightness down
| <none>
| Yes
| Yes
| Yes
| 
|-
| + F8
| Brightness up
| <none>
| Yes
| Yes
| Yes
| 
|-
| + F9
| Media - play/pause
| 0xe0 0x22 0xe0 0xa2
| Yes
| No (Gnome)
| No
| #33045
|-
| + F10
| Media - stop
| 0xe0 0x24 0xe0 0xa4
| Yes
| No
| No
| #33045
|-
| + F11
| Media - skip back
| 0xe0 0x10 0xe0 0x90
| Yes
| No
| No
| #33045
|-
| + F12
| Media - skip forward
| 0xe0 0x19 0xe0 0x99
| Yes
| No
| No
| #33045
|-
| + 1
| Nothing
| 
| Yes
| *
| Just like pressing "1"
| #33045
|-
| + 2
| Nothing
| 
| Yes
| *
| Just like pressing "2"
| #33045
|-
| <-7> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-3> '''Works?'''
| <|2> Bug #
|-
| in Breezy?
| in Dapper?
| in Feisty?
|-
| Wireless Hotkey
| Switch Wireless on/off
| <none>
| Yes
| Yes
| Yes
| 
|-
| DVD
| Launch DVD app
| 0xe0 0x72 0xe0 0xf2
| No
| No
| Yes*****
| #33045
|-
| Audio
| Launch Music player
| 0xe0 0x3c 0xe0 0xbc
| Yes
| Yes
| Yes
| 
|}

==== Notes ====

FEISTY COLUMN:

* Needs to be manually configured. Great HOWTO here: http://ubuntuforums.org/showthread.php?t=361124
Bug regarding B&W output on PAL TVs here: https://bugs.launchpad.net/ubuntu/+source/xorg/+bug/109934

* * The onboard modem needs a Smartlink Modem driver. Installation instructions are found <nowiki>[[https://help.ubuntu.com/community/DialupModemHowto/Smartlink|here in the Ubuntu Wiki]]</nowiki>

* ** SD kinda works if card is inserted before boot. In general: "There are no drivers for Sony MS, Sony MS Pro, and xD. They have yet to be written. This will only get SD & MMC cards working." as cited from <nowiki>[[http://ubuntuforums.org/showthread.php?t=420721|this guide]]</nowiki>. If you have a kernel version 2.16.20-16 or later support for SD & MMC cards should be up and running! 

* *** Fn-F4 doesn't trigger anything. There is no keycode output by showkey for this: I guess the BIOS intercepts or something. 
* Bug #44437 -JulianRockey
* Updated Bug #44437 to only include the Fn+F4 triggering aspect -<nowiki>[[Motin]]</nowiki>

* **** Produces keycode event and can easily be bound to favorite DVD software by use of xbindkeys or similar. 

* ***** I (Motin) currently have an issue restoring from hibernation/sleep. However, it is most likely due to my current configuration and not the hardware support since it has worked flawlessly before: http://ubuntuforums.org/showthread.php?t=415034

Not tested (as well as not listed as Untested in chart):
* "Expansion Port 2"
* MMC/SM/XD types of memory cards in reader

BREEZY/DAPPER COLUMNS:
Dapper issue as of 2006, 12 May: After a hibernate/restart the scroll-on-side-of-touchpad feature stops working.

* External display: Fn-F4 doesn't trigger anything or even attempt to switch displays. There is no keycode output by showkey for this: I guess the BIOS intercepts or something - it's the same for Fn-F7/Fn-F8 which control the brightness, and the wireless on/off key.
* ''Do they produce ACPI events in the `/var/log/acpid` logfile?'' -PaulSladen
* No. Bug #33045 -JulianRockey

* Sleep - Fn-F5 doesn't trigger any action
* ''This is marked as working above, please confirm whether it is or not'' -PaulSladen
* It's working - sorry, I updated the table above but not the comments here. -JulianRockey

* Lock - Fn-F6 is supposed to lock the machine (I think) but actually it ejects the CD drive instead! Quite handy. On Dapper, it no longer ejects the CD drive, but doesn't do anything at all.
* ''Please file this against `hotkey-setup` with the keycode and the action that it should perform and the `dmidecode` data for your laptop;  see: LaptopTestingTeam/HotkeyResearch'' -PaulSladen
* Will add all DV4000 hotkey related stuff to bug #33045. -JulianRockey
* Works fine now in latest dapper. -JulianRockey

* Fn-1, 2 etc. bring up a small text box on bottom right of Nautilus window if it has focus - not sure what this is.
* ''Are they actually supposed to do anything on your laptop?  Eg. do they have any small blue/gray writing on them or were they just in the template table and you haven't deleted them?  Chances are they are just sending a normal `1` or `2` character which is taken to mean the start of typing a filename into Nautilus'' -PaulSladen
* Doh, of course. No they're not supposed to do anything. -JulianRockey

* Please file these as bugs on Malone against 'acpi-support', along with the keycodes (use 'showkey -s' from a console) or ACPI events 'tail -0f /var/log/acpid' that occur when pressing each of the buttons.  -PaulSladen
** https://launchpad.net/distros/ubuntu/+source/acpi-support/+filebug
* will test in Dapper before filing bugs
** ''Did you get a chance to do this?  Many Thanks,'' -PaulSladen
* Yes, bug #33045 -JulianRockey

* Screen res in Dapper: OK in install (after user selecting available modes during install); wrong in Live
* ''Please file a bug against `xserver-xorg` and it'll be forwarded to the correct place.  Please check that the video driver is also getting detected correctly and isn't defaulting to VESA as a fallback'' -PaulSladen
* This is working fine now. -JulianRockey

USB mass storage devices work fine.

Video: totem-gstreamer DVD playback is slow and jerky (even with DMA enabled); totem-xine is fine - not sure if this is problem with this laptop's hardware, or totem-gstreamer in general.
* ''DMA likely won't make much difference since DVD video is less than 1 Megabyte per second and it's the decoding that takes the time;  Any laptop faster than 400Mhz should be able to do it in software fine, let alone with hardware help.  If you load `xine` from the commandline, are there any error or debug messages;  if you find any that give an indication, please file a bug against `xine`'' -PaulSladen
* This testing was with GStreamer-0.8. I used Totem-Xine now and it's fine. I've not had a chance to test GStreamer-0.10 but from what I read I suspect this is a general GStreamer issue rather than specific to this laptop as consensus seems to be not as performant as Xine. -JulianRockey

Vodafone 3G card: I have one of these 3G PCMCIA cards and it works on Breezy with a bit of modules config, and on Dapper all that's needed is a pppd script to connect.
* ''Excellent news!'' -PaulSladen

Hibernate (suspend to hard disk) option is offered by GDM and hibernate shutdown completed, however on starting ahead freezes after re-loading memory snapshot, and have to power off to and reboot normally. This works fine with SuSE 10.
* ''SuSE ship with a different suspend system rather than the one in the kernel, which is the one we need to get working.  Can you please file a bug against `acpi-support` with a report about whether `Caps-Lock` still works when it's frozen.'' -PaulSladen
* The above testing was with Breezy. Sleep works fine on Dapper. Hibernate occasionally has problems as noted above. I will test more and file bug with more info. -JulianRockey

Sleep (suspend to RAM) option not offered from GDM.
* ''This need to be whitelisted on a per machine basis.  You can enable Suspend in `/etc/default/acpi-support` (it's the top option).  If Suspend on your machine then works, please file a bug against `acpi-support` along with the `dmidecode` data used to identify your laptop.'' -PaulSladen
* It's working in Dapper (above testing was with Breezy). -JulianRockey

I don't believe there's a friendly way to configure external monitors for laptop in Ubuntu (either xinerama or mirror) and I haven't tried attempting it by editing xorg.conf. The laptop can manage to drive two monitors in 'mirror' config with OpenSuSE 10.
* ''Yes, this is a missing feature, I think there maybe a Google SoC 2006 bountie on getting something working.  If you get a working config, please file it in this page, or elsewhere so that it can be auto-configured when the right time comes'' -PaulSladen
* I'm hoping the Fn-F4 thing might work: am I right in thinking that laptops sometimes support this at the BIOS level so no X config might be needed? -JulianRockey
* See notes about this from Feisty testing above

It's a shame the built-in cardreaders don't work, but I don't think there are any linux drivers around for these things anyway.
* ''Above it says that the SD/MMC reader is working, please can you confirm whether this is the case or not, Many Thanks'' -PaulSladen
* Neither worked in Breezy. In Dapper it works fine for an SD card, but not MemoryStick. It takes other kinds of card too (MMC, SM, XD it says - whatever they are) but I don't have any to try. -JulianRockey

== Other links ==
<nowiki>[[http://linux-laptop.net/hosted/HP-Pavilion-DV4017EA-Debian.html|Installing Debian Sarge 3.1 on HP Pavilion DV4017EA]]</nowiki>
----
CategoryLaptop

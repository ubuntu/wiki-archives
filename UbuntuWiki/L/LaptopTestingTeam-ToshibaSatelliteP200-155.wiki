{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: ColinPinkney
* Brand: Toshiba
* Make : Satellite
* Model: P200-155
* Website: <nowiki>[[http://uk.computers.toshiba-europe.com/cgi-bin/ToshibaCSG/jsp/productPage.do?PRODUCT_ID=128317|Toshiba P200-155 Homepage]]</nowiki>

=== Current Issues ===
* While the webcam is generally working (see notes below), kdetv occasionally locks up while opening or closing the video device and Kopete does not display anything in the preview window, but it is not clear where the problem lies.
* Hibernation and suspend now work in Gutsy, although things can still go a little wrong after multiple suspends/hibernations
* Sound still comes through the speakers when headphones are plugged in - Fixed in Gutsy with backported module (ALSA 1.0.15)
* Some FN+ keys do not work, such as mute (Esc) and trackpad disable (F9)
* Due to some issues with the current Nvidia driver (1.0.9755) Beryl appears to be somewhat buggy/unstable with switches between the text console and X Windows causing hangs and the screen blanking occasionally. It might be fixed by manually installing the latest Nvidia driver and possibly the latest Beryl also. On the other hand, KDE's built in composite effects (System Settings->Window Behaviour->Translucency) gives some nice effects that are relatively bug free. - Not retested on Gutsy yet, which uses a much later version of the Nvidia drivers.

=== System Info ===
<pre>
bios-version:V1.30
system-manufacturer:TOSHIBA
system-product-name:Satellite P200
system-version:PSPBGE-01Q00FEN
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Feisty (previous stable)?
| in Gutsy (current stable)?
|-
| Installation works?
| Yes, out of the box
| Only tested upgrade, which didn't go very well. Had to manually run 'apt-get -f dist-upgrade' several times as the GUI upgrader encountered multiple errors and could not carry on!
|}

{| class="wikitable"
|-
| <-4> '''Hardware Information'''
|-
| <-4> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| <|2> '''Bug #'''
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Screen
| Yes, NV driver works out of the box. Proprietary Nvidia driver also works (see Notes below)
| Yes, same as Feisty
| 
|-
| Correct resolution?
| Not out of the box. Had to manually add 1440x900 to xorg.conf
| Same as Feisty
| 
|-
| Correct refresh rate?
| Unsure, seems ok, but nvidia-settings doesn't seem to be able to probe this correctly
| Same as Feisty
| 
|-
| 3D Acceleration
| Yes, with Nvidia driver installed
| Same as Feisty
| 
|-
| External monitor works?
| Untested
| Untested
| 
|-
| External monitor - mirrors
| Untested
| Untested
| 
|-
| External monitor - extend desktop
| Untested
| Untested
| 
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes, out of the box
| Yes, out of the box
| 
|-
| Hibernates?
| NO
| Yes, out of the box
| 
|-
| Sleep
| Yes, out of the box
| Yes, out of the box
| 
|-
| Dim monitor on battery
| NO, but LCD brightness control via FN key does work out of the box
| Yes, but it does not go back to full brightness when power plugged in again! Also FN brightness keys no longer work!
| 
|-
| Blank monitor on inactivity
| Yes
| Yes, out of the box
| 
|-
| Lid Close
| Yes, out of the box
| Yes, out of the box
| 
|-
| Cpu frequency scaling
| Yes, out of the box
| Yes, out of the box
| 
|-
| <-4> '''Sound'''
|-
| Sound works?
| Yes, but had to add a kernel module option (see Notes below)
| Almost same as Feisty
| 
|-
| Correct volume?
| Maximum volume is a little low
| Yes
| 
|-
| Hardware volume switch
| Yes, with general sound fix and PCM selected as the master channel (see Notes below)
| No, could not get it to work
| 
|-
| Headphone jack
| Yes, but sound continues to come from speakers as well
| Yes, with backported ALSA installed (see Notes below)
| 
|-
| Mic jack
| Untested, but webcam mic works!
| Untested
| 
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes, out of the box
| Yes, out of the box
| 
|-
| Wireless NIC
| Yes, out of the box
| Yes, but had to disable and then re-enable wireless driver in the Restricted Drivers management tool after upgrade
| 
|-
| ExpressCard NIC
| Untested
| Untested
| 
|-
| Firewire
| Untested
| Untested
| 
|-
| Bluetooth
| Yes, requires <nowiki>[[http://omnibook.sf.net|Omnibook]]</nowiki> (see Notes below)
| Same as Feisty
| 
|-
| Modem
| Untested
| Untested
| 
|-
| Infrared
| N/A
| N/A
| 
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes, out of the box
| Yes, out of the box
| 
|-
| Touchpad - Doubletap = double click
| Yes, out of the box
| Yes, out of the box
| 
|-
| Touchpad - Scroll down side
| Yes, out of the box
| Yes, out of the box
| 
|-
| Touchpad - turned off while typing
| No, FN+F9 does not work
| No
| 
|-
| External mouse - USB
| Yes, out of the box
| Yes, out of the box
| 
|-
| External mouse - Serial
| N/A
| N/A
| 
|-
| <-4> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| Untested
| 
|-
| USB
| Untested
| Untested
| 
|-
| Serial
| Untested
| Untested
| 
|-
| Parallel
| Untested
| Untested
| 
|-
| External Monitor - VGA
| Untested
| Untested
| 
|-
| External Monitor - DVI
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| 
|-
| NIC
| Untested
| Untested
| 
|-
| PS/2
| Untested
| Untested
| 
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| N/A
| N/A
| 
|-
| CD/DVD drive
| Yes, out of the box
| Yes, out of the box
| 
|-
| ExpressCards
| Untested
| Untested
| 
|-
| Card reader(s)
| Yes, a 512MB MMC card and 2GB SD card worked out of the box. Other card formats untested.
| Same as Feisty
| 
|-
| Webcam
| Yes, need to load kernel module 'ov511' (see Notes below)
| Same as Feisty
| 
|}

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (previous stable)?
| in Gutsy (current stable)?
|-
| + Esc
| Mute
| 
| NO, while an on-screen "Mute On/Off" message appears, sound is not muted/unmuted
| Still NO
| 
|-
| + Space
| Zoom
| 
| NO, requires propriertary Toshiba Zoom application
| Still NO
| 
|-
| + F1
| Lock
| 
| NO
| NO
| 
|-
| + F2
| 
| 
| Untested
| Untested
| 
|-
| + F3
| Suspend
| 
| Yes, out of the box
| Yes, out of the box
| 
|-
| + F4
| Hibernate
| 
| NO, hibernation does not work in general
| Untested
| 
|-
| + F5
| External Monitor Swap
| 
| Untested
| Untested
| 
|-
| + F6
| LCD Brightness Down
| 
| Yes, out of the box
| NO
| 
|-
| + F7
| LCD Brightness Up
| 
| Yes, out of the box
| NO
| 
|-
| + F8
| Wireless Enable/Disable
| 
| NO, but it has a separate hardware wireless off switch anyway
| Still NO
| 
|-
| + F9
| Trackpad Enable/Diable
| 
| NO
| NO
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Web Key
| 
| 178 (XF86WWW)
| Yes, but isn't mapped to anything by default
| Yes, but isn't mapped to anything by default
| 
|-
| Media Key
| 
| ?
| NO
| NO
| 
|-
| Play/Pause Key
| 
| 168 (XF86AudioPause)
| Yes, but isn't mapped to anything by default
| Yes, but isn't mapped to anything by default
| 
|-
| Stop Key
| 
| 164 (XF86AudioStop)
| Yes, but isn't mapped to anything by default
| Yes, but isn't mapped to anything by default
| 
|-
| Previous Key
| 
| 144 (XF86AudioPrev)
| Yes, but isn't mapped to anything by default
| Yes, but isn't mapped to anything by default
| 
|-
| Next Key
| 
| 153 (XF86AudioNext)
| Yes, but isn't mapped to anything by default
| Yes, but isn't mapped to anything by default
| 
|}

==== Notes ====

All current testing has been carried out with Kubuntu Fiesty (Final) and Kubuntu Gutsy (Final).

All commands below can be performed by opening the Terminal or Konsole application.

Any changes to files can be performed using a command such as:
<pre>
sudo kwrite <file>
</pre>
under KDE or under Gnome:
<pre>
sudo gedit <file>
</pre>
e.g.
<pre>
sudo kwrite /etc/X11/xorg.conf
</pre>

===== Sound =====
For sound to work at all, the following line needs to be added to /etc/modprobe.d/alsa-base for Fiesty:
<pre>
options snd-hda-intel model=3stack
</pre>
and for Gutsy, this line works:
<pre>
options snd-hda-intel model=toshiba
</pre>
Sound should then work as expected after a reboot, although the maximum volume is a little low. To get the volume correct and the headphone socket to shut off the speakers in Gutsy, enable the Backports repository (the Unsupported Updates repository in Adept) and install the package linux-backport-modules, which contains ALSA 1.0.15.

Under KDE you might also need to right click on the Speaker icon in the bottom right system tray area, click "Select master channel" and then make sure PCM is selected for the hardware volume roller to work. Note, this doesn't seem to work at all under Gutsy.

===== Video =====
'''To get 3D acceleration working''', the proprietary Nvidia drivers need to be installed as below:
<pre>
sudo apt-get install nvidia-glx-new
sudo nvidia-glx-config enable
</pre>
'''NOTE''': That last command switches your X Window configuration to use the Nvidia driver, but for some reason it picks up the wrong bus ID. So in /etc/X11/xorg.conf, in the "Device" section, the line "busid" needs to be changed to:
<pre>
busid "PCI:1:0:0"
</pre>
Otherwise X Windows will complain that it cannot find the graphics card and will fail to start. Restart X Windows by pressing CTRL+ALT+Backspace (Make sure all your work is saved).

'''To get the correct resolution''', in /etc/X11/xorg.conf again, add "1440x900" to the start of the "modes" lines in the "Display" subsection of the "Screen" section, so they look something like this:
<pre>
   modes "1440x900" "1280x1024" "1024x768" "800x600" "640x480"
</pre>
For this change to take effect, testart X Windows by pressing CTRL+ALT+Backspace (Make sure all your work is saved).

'''Finally, if you want to run Beryl''' (For a 3D desktop that blows Vista's effects out of the water), the following lines need to be added to the "Screen" section in /etc/X11/xorg.conf:
<pre>
  option "AllowGLXWithComposite" "True"
  option "RenderAccel" "True"
  option "AddARGBGLXVisuals" "True"
</pre>
Also the following section should be added at the bottom of /etc/X11/xorg.conf:
<pre>
Section "Extensions"
  option "Composite" "Enable"
EndSection
</pre>
Beryl is then installed using this command under KDE:
<pre>
sudo apt-get install beryl-kubuntu
</pre>
or with this command under Gnome:
<pre>
sudo apt-get install beryl-ubuntu
</pre>
and log out and back in again

===== Bluetooth =====
The Bluetooth module in this laptop is a standard CSR chip attached to the USB bus, but to enable it some ACPI calls need to be made to the BIOS. To do this the <nowiki>[[http://omnibook.sf.net|Omnibook]]</nowiki> driver needs to be installed.

First, the Linux build tools need to be installed with this command:
<pre>
sudo apt-get install build-essential
</pre>

Then, download the latest Omnibook driver from <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=174260|HERE]]</nowiki> and run the following commands (Replace the XXX with the version you downloaded):
<pre>
tar zxvf omnibook-XXX.tar.gz
cd omnibook-XXX
sudo make install #This did not copy the module to the modules directory for some reason
sudo cp omnibook.ko /lib/modules/`uname -r`/kernel/drivers/misc/
sudo depmod -a
sudo modprobe omnibook ectype=14
</pre>

A directory called "omnibook" should then appear under /proc, with the following contents:
<pre>
bluetooth  dmi  lcd  version
</pre>

The Bluetooth module should also be enabled now, which can be seen as below when the command "lsusb" is run:
<pre>
Bus 004 Device 006: ID 0930:0508 Toshiba Corp.
</pre>

The standard Ubuntu <nowiki>[[Bluetooth]]</nowiki> guides can then be used to configure it for dialup or sending/receiving files, etc. For dialup under KDE I just used kppp to create a modem, pointing it at /dev/rfcomm0 after setting up /etc/bluetooth/rfcomm.conf and restarting Bluetooth, and a new account using Script-Based authentication so as not to require a username and password and then used *99# as the number to dial, which works fine with my Nokia 6680.

I had issues pairing with my Nokia 6680 as the phone would popup a dialog asking for the pin, but the laptop did not. To get around this I ran the following command during the first time I attempted to establish a connection (it is only required for the initial pairing):
<pre>
passkey-agent --default /usr/bin/bluez-pin
</pre>

To get Bluetooth to work after every reboot, add the following line to /etc/modprobe.d/options:
<pre>
options omnibook ectype=14
</pre>
and then add a single line to /etc/modules that simply contains "onmibook" (without the quotes).

===== Webcam =====
The Webcam in this laptop appears to be an integrated version of the Chicony Panda 9D or 7D and as such uses the OmniVision chipset.

So to get it working, run the following command:
<pre>
sudo modprobe ov511
</pre>
That's it!

To test the webcam, install something like KDETV and run it. With no other video devices attached, the webcam will be started by default and the blue webcam light will come on. Even the microphone works!

To get the webcam to work without having to run the command above, simply add a line to /etc/modules containing only "ov511" (without the quotes).

----
CategoryLaptop CategoryLaptop

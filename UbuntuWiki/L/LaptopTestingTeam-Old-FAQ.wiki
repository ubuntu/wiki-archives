{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


Please add quick Gotchas/FAQs that would be useful to other Laptop Testers under the correct heading, see DebuggingProcedures for bugs that are unlikely to be laptop specific. Also feel free to add questions to this page.

== You should always ... ==
* Provide your kernel version, get this with
<pre>
uname -a
</pre>
If the output is ''Linux duncan-laptop 2.6.15-26-686 #1 SMP PREEMPT Mon Jul 17 20:14:14 UTC 2006 i686 GNU/Linux'' then the kernel version is ''2.6.15-26-686''.

* For removable hardware look at the DebuggingRemovableDevices page.

== Screen & Monitors ==

=== 3D Acceleration ===

To benchmark your graphics card try the following command:
<pre>
$ which glxgears | xargs strings | grep benchmark | xargs glxgears
4913 frames in 5.0 seconds = 982.508 FPS
</pre>

To test if your laptop supports 3D acceleration start a terminal and type the following:
<pre>
glxinfo | grep rendering
</pre>
This will print either "direct rendering: Yes" or "direct rendering: No"

Dropping to a lower color depth or resolution may enable direct rendering on laptops with little video memory.

==== Bug reporting ====
To find out what graphics controller your laptop has type the following in a terminal:
<pre>
lspci
</pre>
With the title 'VGA compatible controller' will be the name of your graphics controller.

=== X failing to start ===

If X is totally busted and gives you the (blue) dialogue screen stating that X is failing start, but you are unable to send any keypresses.  The following may get you out of the situation enough to debug it.

** Pressing Ctrl-d (end-of-file) may send the keystrokes that you have typed but which have been buffered and haven't appeared.
** Pressing Alt-SysRq-e should kill most programs and allow you to switch to another virtual terminal using Alt-F2, where you should (hopefully) find a login-prompt.

== Power Management ==
=== Battery detected ===

To see what your battery is doing now, try:
<pre>
cat /proc/acpi/battery/*/state
</pre>

To see information about your battery
<pre>
cat /proc/acpi/battery/BAT0/info
</pre>

Make sure you check if your laptop has the same behaviour in each situation if you reboot.

==== Bug Reports ====
File bug reports against the gnome-power-manager package. In a bug report please supply the following:

Under 'System > Preferences > Power Management' can you see an 'On Battery Power' tab?

Is there any suggestion of a problem in the '/var/log/acpid' file after a fresh reboot? Search for the term 'battery'.

Please attach the output of the following command which details your battery in it's current state.
<pre>
cat /proc/acpi/battery/BAT*/* > proc_acpi_battery_BAT.txt
</pre>

Please give the output of the following command in each of these situation, look for the differences:
* with AC power connected and battery removed
* with AC power connected and battery present
* with no AC power and battery present
<pre>
cat /proc/acpi/battery/*/state
</pre>

Please attach the file from the command below. It contains details about all your hardware:
<pre>
lshal > lshal_output.txt
</pre>

There are some workarounds for battery problems here: https://help.ubuntu.com/community/ACPIBattery

=== Hibernate ===

Hibernate (System->Logout->Hibernate, aka 'Suspend to Disk')
will only work if have a valid and working swap partition.  There kernel will complain with an error message such as:

<pre>
Aug 30 23:02:35 localhost kernel: [4325496.559000] Stopping tasks: ==============|
Aug 30 23:02:36 localhost kernel: [4325496.572000] Freeing memory...  ^H-^H\^H|^H/^Hdone (68051 pages freed)
Aug 30 23:02:36 localhost kernel: [4325497.815000] swsusp: FATAL: cannot find swap device, try swapon -a!
Aug 30 23:02:36 localhost kernel: [4325497.815000] swsusp: Restoring Highmem
</pre>

You can see if you have one by doing:

<pre>
$ cat /proc/swaps
Filename                                Type            Size    Used    Priority
/dev/sda5                               partition       979924  211768  -1
</pre>

=== Suspend/Sleep ===

If sleep button does not work, try testing Sleep from the System->Log Out->Suspend menu. If that does not work either, or the option to Suspend does even not show up, check if Sleep is enabled in /etc/default/acpi-support (uncomment the "ACPI_SLEEP=true" line to enable), and try again. ~~<nowiki>[[Nanotube]]</nowiki>

=== Dim/Blank monitor ===

Bug reports should be filed against the '''linux-source-x.x.xx''' package according to your kernel version number.

=== Lid Close ===

In the power manager applet in your system tray, configure the laptop to suspend/hibernate on lid close. Then verify that the lid close action does indeed have the intended effect.

=== Cpu frequency scaling ===

<pre>
$ sudo invoke-rc.d powernowd restart
</pre>

If your CPU does not support scaling it will print: "CPU frequency scaling not supported" <nowiki>[[http://osdir.com/ml/linux.ubuntu.laptop.testing/2006-03/msg00033.html|ref]]</nowiki>

== Sound ==

To see what audio hardware you have search for the word 'sound' in the output of these commands:
<pre>
lspci
</pre>
<pre>
lshal
</pre>

A possible relevant package for bug reports is 'alsa-lib'. An <nowiki>[[http://www.linux-sound.info/alsa/index.php?task=support|unofficial ALSA support website]]</nowiki> offers a script for collecting information relevant to debugging sound problems. 

=== Sound works? ===
* Can you hear sound from speakers and headphones?

=== Correct volume? ===
* Is the volume too low?

=== Hardware volume switch ===
* Do the volume control function keys/hotkeys work?

=== Headphone jack ===
* Can you hear sound from headphones?
* Is the volume ok?

=== Mic jack ===
* Does the microphone work? (You might need to record/capture something and then play it back. Gnome recorder, KRec can be used.)

=== Settings ===
* Are your volume settings saved on shutdown/reboot?
* Are they remembered after suspend/resume?
* Does sound work after suspend/resume?

== Function and other keys ==
=== Hotkeys Bugs ===
These include dedicated keys on laptops to do some of the following:

* Volume control
* Brightness control
* RFkill switch (WLAN/bluetooth power)
* Backlight brightness control
* Suspend/Hibernate
* Switch to external display

''Please file bug reports at:''

* https://launchpad.net/distros/ubuntu/+source/udev-extras/+filebug

''following the instructions:''

* https://wiki.ubuntu.com/LaptopTestingTeam/HotkeyResearch

== Networking ==
=== Wired NIC ===
=== Wireless NIC ===
See what you can learn about your card from this page https://help.ubuntu.com/community/WifiDocs/WirelessCardsSupported
==== Gathering information about the problem ====
Try running each of the following commands in a terminal, and add the results to your bug report.
<pre>
ip addr
</pre>
<pre>
tcpdump -i ethx
</pre>
<pre>
ip -s link
</pre>
<pre>
ip route show table all
</pre>
=== PCMCIA NIC ===
=== Firewire ===
=== Bluetooth ===
==== Related packages ====
* bluez-utils
* linux-source-x.x.xx
==== Related info ====
After each tip try again with your Bluetooth device.

# Are there any settings in your BIOS for Bluetooth?
# Is the device listed in /proc/bus/usb/devices?
# Restart your computer to clear away various logs and clutter, in a root terminal type
<pre>
dmesg
</pre>
... and post the output in your bug report.

# Test for detected hardware:
<pre>
$ lspci -vv
</pre>
Force start bluez-utils as root
<pre>
$ sudo /etc/init.d/bluez-utils start
</pre>
Test again for detected hardware:
<pre>
$ lspci -vv
</pre>
... add all that to your bug report, it shows whether after forcing bluez-utils to start the hardware was then detected'

* Maybe it's in hid mode and should be in hci mode, try switching with
<pre>
$ sudo hid2hci
</pre>
... add the output to tour report

Still not working?

Attach the output of the following three commands to your bug report, the files will be put into your home directory.
# Make sure that the kernel finds Bluetooth by looking through the output of the commands below. If you find bDeviceProtocol = Bluetooth in the lsusb-v.txt file, then Bluetooth has been recognised.

<pre>
$ lspci -vv > lspci-vv.txt
$ lspci -vvn > lspci-vvn.txt
$ lsusb -v > lsusb-v.txt
</pre>

=== Modem ===

== Touchpad & Mice ==

=== Synaptics Touchpad ===
When Kubuntu Dapper is installed on a laptop with a Synaptics touchpad, the accelleration sensitivity and threshold are set too low, at least when I had a USB mouse connected during the install. Try adjusting these (quite a bit) and see if things become better.

== Docking Station/Port Replicator ==
Definition on Wikipedia: http://en.wikipedia.org/wiki/Docking_Station

== Additional Hardware ==

=== Card Reader ===
See http://www.linuxnet.com/sourcedrivers.html and https://wiki.ubuntu.com/HardwareSupportComponentsCardReaders

== Needs categorising ==
If you know what category this/these should be in please move it/them and delete this section.

=== ACPI DSDT replacement ===

If you have a buggy DSDT on your machine and the ACPI isn't working, it's possible to extract and fix it.  A new one can be loaded at boot-time to override the one in the BIOS by placing it in:

<pre>
sudo cp my-fixed-dsdt.aml /etc/mkinitramfs/DSDT.aml
sudo mkinitramfs -o /boot/initrd.img-`uname -r` `uname -r`
</pre>

Caretakers: (more needed) DuncanLithgow | you?

----
CategoryLaptop

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

В этих заметках к выпуску перечислены известные проблемы Ubuntu 10.04 LTS и её модификаций.

== Системные требования ==

Минимальный объём оперативной памяти для Ubuntu 10.04 LTS — 256 Мбайт. Заметьте, что некоторая часть оперативной памяти может быть недоступна в связи с её использованием графическим адаптером (видеокартой). Если у вашего компьютера минимальное количество памяти, установка займёт больше времени, чем обычно, но она успешно завершится, и система будет нормально функционировать.

На системах с меньшим количеством памяти можно выбрать «Установить Ubuntu» из загрузочного меню, чтобы запустить только установщик, без полной загрузки рабочей системы, либо использовать альтернативный установочный CD.

== Заметки к выпуску Ubuntu 10.04 для ARM ==

Была создана отдельная страница с заметками к выпуску ориентированного на разработчиков порта Ubuntu 10.04 на архитектуру armel.  Смотрите <nowiki>[[https://wiki.ubuntu.com/ARM/LucidReleaseNotes|эту страницу]]</nowiki> для получения информации о проблемах при установке на ARM.

== Установка ==

=== Рекомендуемые пакеты устанавливаются по умолчанию ===

В соответствии с Debian Policy Manual (в котором говорится, что «в списке рекомендованных пакетов следует указывать пакеты, устанавливаемые вместе с основным пакетом всегда, кроме случаев нетипичной установки»), система управления пакетами теперь по умолчанию устанавливает не только пакеты, указанные в списке зависимостей основного пакета, но и рекомендованные. Если вы хотите избежать этого для конкретных пакетов, используйте `apt-get --no-install-recommends`; если вы хотите никогда не устанавливать рекомендованные пакеты, добавьте `APT::Install-Recommends "false";` в `/etc/apt/apt.conf`. Учтите, что в результате в некоторых программах могут быть доступны не все возможности.

(Это изменение было сделано в Ubuntu 8.10.)

=== "Спящий режим" иногда недоступен при использовании автоматической разметки ===

При использовании функции автоматической разметки диска во время установки системы раздел подкачки может быть создан меньше по размерам, чем фактическая память компьютера, что не позволит использовать функцию "засыпания" с сохранением состояния на диск. Это связано с тем, что образ памяти не поместится в раздел подкачки. Если вы хотите использовать "спящий режим", то нужно убедиться в том, что размер раздела подкачки несколько больше, чем фактическая память компьютера. (Bug:345126)

=== Список пакетов перед установкой драйверов должен быть обновлён вручную ===

Утилите «Драйверы устройств» (Jockey) требуются свежие списки пакетов для обнаружения и извещения о необходимых пакетах драйверов. Но сразу после установки эти пакеты не будут доступны. Перед первым запуском Jockey, обновите списки пакетов, используя <code>Система->Администрирование->Программное обеспечение->Менеджер обновлений</code> (в Ubuntu) или «KPackageKit» (в Kubuntu). (Bug:462704)

=== Нет значка "prepare for shipping" в OEM редакции Kubuntu Netbook Edition ===

Когда используется OEM установка Kubuntu Netbook Edition, на рабочем столе не отображается значок "prepare for shipping". Пользователи, которые пользуются OEM установкой Kubuntu Netbook Edition, могут найти эту функцию выбрав <code>Система->Prepare for shipping ...</code> в главном меню. (Bug:386099)

=== Параметры загрузки по умолчанию скрыты на CD для рабочих столов и нетбуков ===

CD с Ubuntu 10.04 LTS для рабочих столов и нетбуков используют новый интерфейс загрузки, который по умолчанию не предоставляет интерактивных возможностей.  Для настройки дополнительных параметров загрузки нажмите любую клавишу при появлении первого экрана загрузки.

=== Dmraid включен по умолчанию в CD для рабочих столов ===

Устройства Dmraid "fake raid" поддерживаются из-коробки в Ubuntu 10.04 LTS CD для рабочий столов, они определяются и автоматически активируются dmraid при загрузке. Также повсеместно доступна установка на RAID массив не членам группы RAID.

Автоматическое включение dmraid может быть отключена опцией "nodmraid" при загрузке, доступно нажатием F6 в загрузочном меню установочного диска. Это может быть полезно при уже имеющихся мета-данных fakeraid на дисках и не активация dmraid не желательна или вызывает какие-либо проблемы.

== Обновление ==

Пользователи Ubuntu 9.10 и Ubuntu 8.04 LTS могут обновить систему до Ubuntu 10.04 автоматически. Пользователям других версий Ubuntu необходимо предварительно обновить систему до Ubuntu 8.04 LTS или Ubuntu 9.10 перед обновлением до 10.04. Подробные инструкции можно найти на http://www.ubuntu.com/getubuntu/upgrading.

=== GRUB menu.lst: установка версии поставщика с сохранением локальной версии ===

Если вы изменяли конфигурацию <code>menu.lst</code> загрузчика GRUB вручную или с помощью утилит, таких как <code>kgrubeditor</code>, то при обновлении вас спросят какую версию загрузочного меню вы хотели бы сохранить: свою измененную или записать конфигурацию <code>menu.lst</code> от поставщика. Этот вопрос задается потому, что некоторые параметры не могут быть обновлены со 100% совместимостью и установщик не может сам принять решение о перезаписи значений, которые вносил пользователь в параметры загрузчика.

Тем не менее, если вы выберете «сохранить локальную версию», то в вашу конфигурацию не будут записаны последние установленные ядра. '''Потребуется ручная правка конфигурации с целью запуска системы на ядре последней версии с поддержкой обновлений безопасности.'''  Если вы вносите правки в конфигурацию загрузчика, которые хотите сохранить, то рекомендуется следовать следующим шагам:

* Выберите "keep the local version currently installed" при запросе.
* Откройте <code>/boot/grub/menu.lst</code> с помощью любого текстового редактора (например, <code>sudo gedit /boot/grub/menu.lst</code>).
* Впишите необходимые опции для загрузки ядра в переменные (такие как, <code>groot</code>, <code>kopt</code>, <code>defoptions</code>), закомментированные вверху.
* Переместите добавленные вручную опции загрузки для других ОС так, чтобы они оказались выше строчки <pre>
</pre> или ниже строчки <pre>
</pre>
* Сохраните файл и запустите заново в командной строке <code>sudo update-grub</code>.
* Выберите «установить версию поставщика».

Например, если вы добавили опцию `i915.modeset=0` в параметры ядра:

<pre>
kernel          /vmlinuz-2.6.31-14-generic root=UUID=0e7... ro quiet splash i915.modeset=0
</pre>

значит нужно его добавить в переменную <code>kopt</code>:

<pre>
</pre>

В обновленной версии пакета <code>grub</code> будет включена информация об этой проблеме в окне подсказки для <code>menu.lst</code>. (Bug:470490)

=== Setting wireless regulatory domain via module option no longer supported ===

Ubuntu 10.04 LTS enables the CRDA wireless regulatory framework for controlling which wireless channels are usable and visible in a particular location. If you previously had to use the module option similar to that below in <code>/etc/modprobe.d/options.conf</code> to allow access to certain channels in your locality then you may find that wireless will not function at all:

    options cfg80211 ieee80211_regdom=EU

You should remove this kernel module option on upgrade to Ubuntu 9.10 and use the <code>iw reg</code> command instead.

(This change was made in Ubuntu 9.04.)

=== Bonded network interfaces must use hotplug-style configuration ===

The migration of network handling to upstart means that all network devices are now handled in a hotplug manner.  As a result, bonded interfaces are only brought up reliably on boot when the bonded interface is created as part of the configuration of the physical interface; otherwise, the system may attempt to bring up the bonded interface before the underlying physical interfaces are available, and fail.  For an example of how to configure a bonding interface for hotplug, please see <code>/usr/share/doc/ifenslave-2.6/examples/two_hotplug_ethernet</code> in the <code>ifenslave-2.6</code> package.

(This change was made in Ubuntu 9.10.)

=== Kubuntu may keep unneeded guidance power package ===

The kubuntu upgrade may leave the no longer needed packages "kde-guidance-powermanager" or "guidance-power-manager" installed. Those can be removed.

=== Ctrl-Alt-Backspace disabled by default in Xorg, configured via XKB ===

Since Ubuntu 9.04, the Ctrl-Alt-Backspace key combination to force a restart of X is now disabled by default, to eliminate the problem of accidentally triggering the key combination.  In addition, the Ctrl-Alt-Backspace option is now configured as an X keymap (XKB) option, replacing the X server "DontZap" option and allowing per-user configuration of this setting.

As a result, enabling or disabling the Ctrl+Alt+Backspace shortcut can now be done easily from the desktop.

==== Разрешение использования Ctrl-Alt-Backspace для Ubuntu ====

* Выберите «Система»->«Параметры»->«Клавиатура»
* Выберите вкладку «Раскладки» и щёлкните по кнопке «Параметры...».
* Выберите «Комбинация клавиш для прерывания работы X-сервера» и установите флажок «Control + Alt + Backspace».

==== Разрешение использования Ctrl-Alt-Backspace для Kubuntu ====

* Click on the Application launcher and select "System Settings"
* Click on "Regional & Language".
* Select "Keyboard Layout".
* Click on "Enable keyboard layouts" (in the Layout tab).
* Select the "Advanced" tab. Then select "Key sequence to kill the X server" and enable "Control + Alt + Backspace".

For further information, see: https://wiki.ubuntu.com/X/Config/DontZap

=== Change in notifications of available updates ===

Ubuntu 10.04 LTS launches <code>update-manager</code> directly to handle package updates, instead of displaying a notification icon in the GNOME panel.  Users are notified of security updates on a daily basis, but for updates that are not security-related, users will only be prompted once a week.

Users who wish to continue receiving update notifications in the previous manner can restore the earlier behavior using the following command:

<pre>
gconftool -s --type bool /apps/update-notifier/auto_launch false
</pre>

(This change was made in Ubuntu 9.04.)

=== MySQL upgrade ===

In Ubuntu 10.04 LTS, MySQL 5.1 has been promoted as the default MySQL server. MySQL 5.0 is still available from the universe repository. Performing an upgrade via update-manager will correctly handle the transition from MySQL 5.0 to MySQL 5.1. However using a dist-upgrade will not: mysql-server-5.0 will be upgraded instead of being replaced by mysql-server-5.1. If MySQL 5.0 needs to be kept the '''mysql-server''' and '''mysql-client''' packages should be removed before the upgrade is started. 

(This change was made in Ubuntu 9.10.)

==== MySQL Cluster setup ====

If MySQL has been set up to use the MySQL Cluster engine (NDB engine), upgrading to MySQL 5.1 will '''not''' work since the mysql-dfsg-5.1 packages don't support MySQL Cluster. Instead '''mysql-server''' and '''mysql-client''' should be removed before upgrade and mysql-server-5.0 should be kept. update-manager will automatically take care of this situation. Note that MySQL 5.0 is in universe and thus won't have have the same maintenance coverage as the MySQL 5.1 package in main.

=== /etc/event.d no longer used ===

The version of <code>upstart</code> included in Ubuntu 10.04 LTS no longer uses the configuration files in the <code>/etc/event.d</code> directory, looking to <code>/etc/init</code> instead.  No automatic migration of changes to <code>/etc/event.d</code> is possible.  If you have modified any settings in this directory, you will need to reapply them to <code>/etc/init</code> in the new configuration format by hand. (Bug:402759)

(This change was made in Ubuntu 9.10.)

=== Syslog upgrade ===

The `sysklogd` package has been replaced with `rsyslog`.  Configurations in `/etc/syslog.conf` will be automatically migrated to `/etc/rsyslog.d/50-default`.  If you modified the log rotation settings in `/etc/cron.daily/sysklogd` or `/etc/cron.weekly/sysklogd`, you will need to change the new configurations in `/etc/logrotate.d/rsyslog`.  Also note that the prior rotation configurations used `.0` as the first rotated file extension, and now with logrotate it will be `.1`.

(This change was made in Ubuntu 9.10.)

=== LPIA architecture discontinued ===

The <code>lpia</code> architecture present in previous releases has been discontinued as of Ubuntu 10.04 LTS.  The hardware is still supported, but systems that were installed as <code>lpia</code> will need to be backed up and reinstalled from scratch using either the <code>i386</code> or <code>amd64</code> architectures.  See <nowiki>[[https://bugs.launchpad.net/bugs/523295|bug 523295]]</nowiki>, which includes an unsupported method for migration from <code>lpia</code> to <code>i386</code>.

=== Dovecot cmusieve plugin renamed to sieve ===

The "cmusieve" plugin used in dovecot has been renamed to "sieve".  Users who have the following set in their dovecot configuration:

<pre>
	mail_plugins = cmusieve
</pre>

should change this to:

<pre>
	mail_plugins = sieve
</pre>

== Other known issues ==

=== Security Issue when upgrading from Lucid Alpha 2 ===

If you installed Lucid prior to Alpha 3, you may have <code>libmysqlclient16</code> 7.0.9-1 installed.  This package was present in the Ubuntu archive by mistake and was retracted, but because it has a later version number than the real <code>libmysqlclient16</code> package, the real package will not be installed automatically on upgrade.  To ensure that you have the official package installed on your Lucid system and will receive security support for it throughout Ubuntu 10.04 LTS, it is important that you run <code>sudo apt-get install libmysqlclient16/lucid</code> and follow the instructions. (Bug:522225)

=== Switching to ext4 requires manually updating grub ===

If you choose to upgrade your `/` or `/boot` filesystem in place from ext2 or ext3 to ext4 (as documented on the <nowiki>[[http://ext4.wiki.kernel.org/index.php/Ext4_Howto#Converting_an_ext3_filesystem_to_ext4|ext4 wiki]]</nowiki>), then you ''must'' also use the `grub-install` command after upgrading to Ubuntu 10.04 LTS to reinstall your boot loader. If you do not do this, then the version of GRUB installed in your boot sector will not be able to read the kernel from the ext4 filesystem and your system will fail to boot.

=== Upstart jobs cannot be run in a chroot ===

Upstart jobs cannot be started in a chroot because upstart acts as a service supervisor, and processes within the chroot are unable to communicate with the upstart running outside of the chroot (Bug:430224).  This will cause some packages that have been converted to use upstart jobs instead of init scripts to fail to upgrade within a chroot.  Users are advised to configure their chroots with /sbin/initctl pointing to /bin/true, with the following commands run within the chroot:

<pre>
dpkg-divert --local --rename --add /sbin/initctl
ln -s /bin/true /sbin/initctl
</pre>

=== Encrypted partitions must be listed in /etc/fstab ===

Users who have configured any encrypted partitions in <code>/etc/crypttab</code> to start at boot time (i.e., not using the <code>noauto</code> option) should make sure that the filesystems on these volumes are listed in <code>/etc/fstab</code>.  Otherwise, the passphrase prompt is not guaranteed to be displayed at boot time.

=== Avahi will always start even if a .local domain is present ===

The <code>avahi-daemon</code> package, which implements the mDNS "zeroconf" standard, formerly included a check to avoid running when a conflicting <code>.local</code> DNS domain is present, as it was reported that some ISPs advertise such a <code>.local</code> domain on their networks, leaving Ubuntu hosts unable to see names advertised on the local network (Bug:327362).  In Ubuntu 9.10, <code>avahi-daemon</code> is started regardless.

It is possible that this may cause other problems.  If your network is configured this way, you can disable mDNS using the following command:

<pre>
sudo stop avahi-daemon
sudo sed -e '/^start/,+1s/^/#/' /etc/init/avahi-daemon.conf
</pre>

=== Working around bugs in the new kernel video architecture ===

Ubuntu 10.04 LTS enables the new kernel-mode-setting (KMS) technology by default on most common video chipsets.  While this is a major step forward for the graphics architecture in Ubuntu, in some rare cases KMS will prevent your video output from working correctly, or from working at all.  If you need to disable KMS, you can do so by booting with the <code>nomodeset</code> option.  You can also save this setting so that it's applied at every boot by adding it to your grub config (for GRUB 2: edit `/etc/default/grub` and add `nomodeset` to `GRUB_CMDLINE_LINUX`, then run `sudo update-grub`; for GRUB 1: edit `/boot/grub/menu.lst` and add `nomodeset` to the line beginning with `# kopt=`, then run `sudo update-grub`).  (Bug:533784, Bug:541501)

=== Evince PDF viewer does not work for nonstandard home directories ===

Evince, the GNOME document viewer, now ships with an enforcing AppArmor profile. This greatly increases security by protecting users against flaws in the historically problematic PDF and image libraries. Users who use a non-standard location for their home directory will need to adjust the home tunable in /etc/apparmor.d/tunables/home. See https://wiki.ubuntu.com/DebuggingApparmor#Adjusting%20Tunables for details.

=== No delay for boot menu with GRUB 2 ===

When using the GRUB 2 bootloader included in Ubuntu 10.04 LTS, the first boot option will by default be loaded automatically without pausing for user input.  To interrupt the boot, users can hold down the Shift key to bring up the boot menu, allowing them to select a different boot option or to configure kernel arguments. (https://help.ubuntu.com/community/Grub2#GRUB%20vs%20GRUB%202)

=== Java от Sun перемещена в репозиторий Partner ===

В Ubuntu 10.04 LTS пакеты <code>sun-java6</code> были удалены из секции Multiverse архива Ubuntu. Вместо этого рекомендуется использовать пакеты <code>openjdk-6</code>.

Если вы не можете перейти от проприетарного Sun JDK/JRE к OpenJDK, то вы можете установить пакеты <code>sun-java6</code> из репозитория партнёров Canonical. Настроить систему на использование этого репозитория можно следующей командой:
<pre>
     add-apt-repository "deb http://archive.canonical.com/ lucid partner"
</pre>

=== Искажения окон при использовании старых видеокарт ATI ===
 
При использовании старых видеокарт ATI с 32 Мбайт или менее видеопамяти могут возникать искажения при отображении некоторых окон с прямой отрисовкой, к примеру окон уведомлений OSD. Этого можно избежать запретив опцию 'Render``Accel' в конфигурации Xorg.  (Bug:426582)

Чтобы сделать это, для начала выйдите в консоль с помощью следующей команды:
<pre>
sudo service gdm stop
</pre>
Затем создайте файл конфигурации Xorg, введя команду:
<pre>
sudo Xorg -configure
</pre>

После этого добавьте опцию 'Render``Accel' в файл <code>/etc/X11/xorg.conf</code>:
<pre>
Section "Device"
        ...
        Driver "radeon"
        Option "RenderAccel" "off"
EndSection
</pre>

И перезагрузите X/GDM.
<pre>
sudo service gdm start
</pre>

=== Incompatibility with nVidia upstream driver installer ===

Ubuntu 10.04 LTS includes improved integration for nVidia binary driver packages.  Unfortunately, this comes at the expense of compatibility with the installer provided upstream on the nVidia website.  Users who wish to use the nVidia binary video drivers with 10.04 LTS should install them using the Ubuntu packages, as made available under <code>System -> Administration -> Hardware Drivers</code>.

=== Intel 8xx X freezes/crashes ===

The -intel driver fails with X freezes or crashes on certain i8xx hardware. The issue is known upstream but solutions are still under development. For now, to work around the issue, boot with the -vesa video driver. See http://wiki.ubuntu.com/X/Lucidi8xxFreezes for further details. 

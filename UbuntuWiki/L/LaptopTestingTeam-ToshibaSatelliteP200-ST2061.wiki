{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: Trip Ericson
* Brand: Toshiba
* Make: Satellite
* Model: P200-ST2061

=== Current Issues ===

See the "Notes" section for full detail.

I'll be reloading an identical machine that is not mine at the end of December, and will completely redo this page at that time.

Right now, I'm trying to tackle a few minor but annoying problems

* Hardware volume control is too sensitive, goes up or down by 15-25 percentage points instead of a smaller, more reasonable number.
* Volume control now adjusts Headphone volume and not PCM volume.

=== System Info ===
<pre>
bios-version:V1.80
system-manufacturer:TOSHIBA
system-product-name:Satellite P200
system-version:PSPB3U-03E00Y
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Installation works?
| Alternate
| Untested
|}

{| class="wikitable"
|-
| <-4> '''Hardware Information'''
|-
| <-4> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| <|2> '''Bug #'''
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Screen
| No
| Manual
| 
|-
| Correct resolution?
| No
| Manual
| 
|-
| Correct refresh rate?
| No
| Manual
| 
|-
| 3D Acceleration
| No
| Manual
| 
|-
| External monitor works?
| Untested
| Untested
| 
|-
| External monitor - mirrors
| Untested
| Untested
| 
|-
| External monitor - extend desktop
| Untested
| Untested
| 
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes!
| Untested
| 
|-
| Hibernates?
| Untested
| Untested
| 
|-
| Sleep
| Untested
| Untested
| 
|-
| Dim monitor on battery
| No
| Untested
| 
|-
| Blank monitor on inactivity
| Yes!
| Untested
| 
|-
| Lid Close
| Untested
| Untested
| 
|-
| Cpu frequency scaling
| Yes!
| Untested
| 
|-
| <-4> '''Sound'''
|-
| Sound works?
| Somewhat
| Untested
| 
|-
| Correct volume?
| Yes
| Untested
| 
|-
| Hardware volume switch
| Somewhat
| Untested
| 
|-
| Headphone jack
| No
| Untested
| 
|-
| Mic jack
| Untested
| Untested
| 
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes!
| Untested
| 
|-
| Wireless NIC
| No
| Manual
| 
|-
| PCMCIA NIC
| Untested
| Untested
| 
|-
| Firewire
| Untested
| Untested
| 
|-
| Bluetooth
| Somewhat
| Untested
| 
|-
| Modem
| No
| Untested
| 
|-
| Infrared
| N/A
| Untested
| 
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes!
| Untested
| 
|-
| Touchpad - Doubletap = double click
| Yes!
| Untested
| 
|-
| Touchpad - Scroll down side
| Yes!
| Untested
| 
|-
| Touchpad - turned off while typing
| Manual
| Untested
| 
|-
| External mouse - USB
| Yes!
| Untested
| 
|-
| External mouse - Serial
| Untested
| Untested
| 
|-
| <-4> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| Untested
| 
|-
| USB
| Untested
| Untested
| 
|-
| Serial
| Untested
| Untested
| 
|-
| Parallel
| Untested
| Untested
| 
|-
| External Monitor - VGA
| Untested
| Untested
| 
|-
| External Monitor - DVI
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| 
|-
| NIC
| Untested
| Untested
| 
|-
| PS/2
| Untested
| Untested
| 
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| Yes!
| Untested
| 
|-
| CD/DVD drive
| Manual
| Untested
| 
|-
| PCMCIA cards
| Untested
| Untested
| 
|-
| Parallel Ports
| Untested
| Untested
| 
|-
| Card reader(s)
| Manual
| Untested
| 
|-
| Webcam
| Barely
| Untested
| 
|}

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| + Space
| 
| 
| Untested
| Untested
| 
|-
| + Esc
| Mute
| 
| No
| Untested
| 
|-
| + F1
| 
| 
| Untested
| Untested
| 
|-
| + F2
| 
| 
| Untested
| Untested
| 
|-
| + F3
| 
| 
| Untested
| Untested
| 
|-
| + F4
| 
| 
| Untested
| Untested
| 
|-
| + F5
| 
| 
| Untested
| Untested
| 
|-
| + F6
| Bright Down
| 
| Yes!
| Untested
| 
|-
| + F7
| Bright Up
| 
| Yes!
| Untested
| 
|-
| + F8
| 
| 
| Untested
| Untested
| 
|-
| + F9
| 
| 
| Untested
| Untested
| 
|-
| + F10
| 
| 
| Untested
| Untested
| 
|-
| + F11
| 
| 
| Untested
| Untested
| 
|-
| + F12
| 
| 
| Untested
| Untested
| 
|-
| + ArrowUp
| 
| 
| Untested
| Untested
| 
|-
| + ArrowDown
| 
| 
| Untested
| Untested
| 
|-
| + ArrowRight
| 
| 
| Untested
| Untested
| 
|-
| + ArrowLeft
| 
| 
| Untested
| Untested
| 
|-
| + PgUp
| 
| 
| Untested
| Untested
| 
|-
| + PgDown
| 
| 
| Untested
| Untested
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Web
| 
| 
| Somewhat
| Untested
| 
|-
| Media
| 
| 
| Somewhat
| Untested
| 
|-
| Play/Pause
| 
| 
| Yes!
| Untested
| 
|-
| Stop
| 
| 
| Yes!
| Untested
| 
|-
| Skip Back
| 
| 
| Yes!
| Untested
| 
|-
| Skip Forward
| 
| 
| Yes!
| Untested
| 
|}

==== Notes ====

Let's go step by step.  Here's how to go about installing Kubuntu Linux on this machine.  I can't call it 7.04, because it's more of a mix between 7.04 and 7.10.

'''Installation'''

Initially, I attempted to install Kubuntu off of the Desktop CD, which led to a number of problems.  First it failed to find the DVD drive to install with, (solved with "break=top" in the boot options and then "modprobe piix" when booting) then the X server failed because the driver for the X3100 video card is not included on the disk.

So it's off to the Alternate disk.  This part of the installation was smooth and I was able to watch some TV while the system loaded up.

The problems really began once the system rebooted.  Immediately, the system failed to load the X server, leaving a less knowledgeable user stuck on the "Kubuntu" loading screen.  I used Ctrl+Alt+F1 to drop to a terminal, where the fun began.

''Getting to the GUI''

 1.  sudo vi /etc/apt/sources.list
 2.  Modify the first two web sources to 'gutsy' rather than 'feisty,' then save and exit.
 3.  sudo apt-get update && sudo apt-get remove xserver-xorg-video-i810 && sudo apt-get install linux-kernel-2.6.22-8-generic xserver-xorg-video-intel hal
 4.  sudo vi /etc/apt/sources.list
 5.  Return the two sources back to 'feisty.'
 6.  sudo dpkg-reconfigure xserver-xorg
 7.  Follow the steps.  Choose "intel" for the driver, answer "yes" for the question about frame buffering, and '''do not auto-detect the monitor''' as this will kill the display forcing you to use the power button.
 8.  sudo shutdown -r now
 9.  Wait for the system to reboot.  You should now have a GUI.

This probably won't enable the actual Intel driver, as I know it didn't for me, but it'll get you going.  I found that the system was, instead, using the VESA driver.  This made it impossible to play Sauerbraten or watch videos.

''Enable the Intel Driver''

 1.  Open konsole
 2.  sudo dpkg-reconfigure -phigh xserver-xorg
 3.  Choose "intel" for the driver
 4.  Once done, Ctrl+Alt+Backspace.
 5.  Log back in to find you are now running the Intel driver.

Note that as of this writing, I still have no gotten Compiz to work.  Sauerbraten and my videos do work, however.

Also note that upgrading the kernel without upgrading HAL can cause kernel panics.  It took me several days to track them down to HAL.

''Intel 4965AGN Driver''

http://ubuntuforums.org/showthread.php?t=493095

''DVD Burner Driver''

Of all the things I expected to not work on this system, the DVD burner was not one of them.  The system didn't even detect it.  This one was easily resolved, once I eventually found a post about a similar issue with a Vaio.

sudo modprobe ide-generic

To load it on bootup, add 'ide-generic' to /etc/modules on its own line.  This will allow for use of the burner, though it will not have Direct Memory Access.  When handling CDs, the lack of DMA does not appear to negatively impact performance, however burning a DVD is painfully slow--1.2x, to be exact, from what K3B says.  If I manage to figure out how to enable it, I'll update this.

'''UPDATE!'''  I've resolved my DMA issue by putting the PIIX driver in charge instead of ide-generic.  Here was my procedure.

 1.  Remove "ide-generic" from /etc/modules.
 2.  Copy ata_piix.c and ata_piix.h to a folder in which you can work on them.
 3.  Open ata_piix.c with KWrite and search for "ICH7/7-R"
 4.  Underneath the last line in the section, add this:

	/* ICH8 Mobile PATA Driver */

	{ 0x8086, 0x2850, PCI_ANY_ID, PCI_ANY_ID, 0, 0, ich_pata_133 },

 5.  Save.
 6.  Create a Makefile in the folder that will build a kernel module:

obj-m := ata_piix.o

KDIR := /lib/modules/$(shell uname -r)/build

PWD := $(shell pwd)

default:

	$(MAKE) -C $(KDIR) SUBDIRS=$(PWD) modules

 7.  Type "make" and allow it to compile.
 8.  Type "sudo mv /lib/modules/2.6.22-9-generic/kernel/drivers/ata/ata_piix.ko /lib/modules/2.6.22-9-generic/kernel/drivers/ata/ata_piix.ko.old" and press enter.
 9.  Type "cp ata_piix.ko /lib/modules/2.6.22-9-generic/kernel/drivers/ata/ata_piix.ko" and press enter.
 10.  Type "sudo kwrite /etc/modprobe.conf" and press enter.
 11.  Add the line:  options libata atapi_enabled=1
 12.  Save and restart system.

The DVD burner should now appear as /dev/scd0 with UDMA2 enabled!

''Sound Controller''

As of this writing, no driver exists for this sound controller that I'm aware of.  That the sound works at all is amazing.  Nothing I've tried thus far has made the built-in microphone work.  I will update once this is fixed.  (Intel ICH8/RealTek ALC268)  I did install a newer development version of ALSA, but there's no change in the functionality of the sound system due to it.

The volume dial on the front of the machine does work, but the volume's steps are so large that it's fairly useless to attempt to use it for fine-tuning volume.

https://bugtrack.alsa-project.org/alsa-bug/view.php?id=3104
http://www.linuxquestions.org/questions/showthread.php?t=567376

Recent development!  I now have sound from the headphone jack!  I followed the steps outlined in second thread, using the patches from the first thread (both patch_realtek.c and hda_codec.c).  Also, I placed "option snd-hda-intel model=3stack" in /etc/modprobe.d/alsa-base instead of whatever's in the post.

'''UPDATE!'''  I no longer need to use the patch.  I've still been compiling my own driver, so I don't know if it's fixed in the Ubuntu base or not.  The internal mic now works, albeit at low volume.  Plugging in the headphones now mutes the speakers.  I don't think the new "Mic Boost" controls are doing anything, as adjusting them while recording audio doesn't affect the audio level.  I could definitely use a functional Mic Boost.

''5-in-1 Card Reader''

Upgrading the kernel for the video apparently resolved this issue as well.  I upgraded to the Gutsy version of udev as well, but do not know if this made a difference.  The only issue here is that the system does not react when a card is plugged in, even though it's fully functional.  To use an inserted disk:

 1. mkdir /media/mmc
 2. sudo mount /dev/mmcblk0p1 /media/mmc

Then go to the /media/mmc folder to access your SD/MMC card.  As of this writing, no driver exists for the other formats this card reads, not that I have any of those to test with anyway.

'''UPDATE!'''  It looks like the latest version of HAL (as of August 5, 2007) has allowed for SD cards to be auto-detected.  I inserted one yesterday to show someone else and it popped right up.

''Bluetooth''

Bluetooth works on the system if you load Vista first, then do a warm reboot into Linux.  Linux can drive the Bluetooth adapter, but cannot make the low-level calls needed to power it on initally.  Supposedly the Omnibook driver can do that, but I did not want to harm anything that the system is doing now, such as power management, and so I have not tried it.

I tried to get my bluetooth mouse to "stick" with a bit of work on some files.  This is what /etc/default/bluez-utils has in it:

HIDD_ENABLED=1

HIDD_OPTIONS="--server --search"

HIDD_OPTIONS="--connect 00:xx:xx:xx:xx:xx --server"

Third revision now, it DOES appear to have worked.  Uncertain why it didn't work the first two times and has worked every time since, but, I'm not complaining.

'''UPDATE!'''  By using the SVN, I was able to get Omnibook to compile and install.  I added "omnibook" to /etc/modules, and created the file "omnibook.modprobe" and put "options omnibook ectype=14 userset=1" within it.  Bluetooth is now enabled on bootup!

''Fingerprint Reader''

Installed Thinkfinger package as linked on the Ubuntu Wiki and had no issues with it.

''Webcam''

The Chicony camera that is included in this system runs on the uvcvideo driver, which should be downloaded and compiled to use with this system, however the camera will not initialize except with special options through the luvcviewer program.  Ekiga and the like seem unable to make use of it at this time, though that may change.

'''UPDATE!''' I don't remember exactly what I did, but Ekiga now supports the camera!

''Modem''

http://linmodems.technion.ac.il/archive-seventh/msg00858.html

Does not work, but as noted in the above link, support is being worked on.

----
CategoryLaptop

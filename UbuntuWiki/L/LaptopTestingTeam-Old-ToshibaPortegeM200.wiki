{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: ChrisDebenham MatthewGarrett <nowiki>[[Bernstein]]</nowiki>
* Make: Toshiba
* Brand: Portege
* Model: M200
* Website: http://www.toshiba.com
* S/N: Only needed if you have a Canonical supplied laptop
=== Current Issues and Regressions ===

{| class="wikitable"
|-
| <-4 tablewidth="100%"> '''Hardware Information'''
|-
| <|2> '''Device'''
| <-3> '''Works?'''
| <|2> '''Bug #'''
|-
| in Breezy?
| in Dapper?
| in Edgy?
|-
| <-4> '''Screen & Monitors'''
|-
| Screen
| Yes
| Yes
| Yes
|-
| Correct resolution?
| Yes
| Yes
| Yes
|-
| Correct refresh rate?
| Yes
| Yes
| Yes
|-
| 3D Acceleration
| No
| <-2> Yes (see <nowiki>[[BinaryDriverHowto-Nvidia]]</nowiki>)
|-
| External monitor works?
| No
| Yes (see TwinView)
| Yes (TwinView or NVidia 96XX drivers)
|-
| External monitor - mirrors
| No
| Yes (see TwinView)
| Yes (TwinView or NVidia 96XX drivers)
|-
| External monitor - extend desktop
| No
| Yes (see TwinView)
| Yes (TwinView or NVidia 96XX drivers)
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| Yes
|-
| Hibernates?
| Yes
| Yes (Not with Nvidia Binary Drivers)
| Yes, also comes back up with Nvidia 9631 drivers but USB is not working
|-
| Sleep
| Yes
| Yes (Not with TwinView enabled) (manual activation in GUI)
| Yes (even with TwinView, might need to unload some USB modules first if it won't suspend)
|-
| Dim monitor on battery
| No
| Yes
| Yes (powersaved)
|-
| Blank monitor on inactivity
| Yes
| Yes
| Yes (but needs to switch to text console and back to get light back on)
|-
| Lid Close
| Yes
| Yes
| Not sure
|-
| Cpu frequency scaling
| Yes
| Yes
| Yes
|-
| <-4> '''Sound'''
|-
| Sound works?
| Yes
| Yes
| Yes
|-
| Correct volume?
| Yes
| Yes
| Yes
|-
| Hardware volume switch
| Yes
| Yes
| Yes
|-
| Headphone jack
| Yes
| Yes
| Yes
|-
| Mic jack
| Yes
| Yes
| Yes
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| Yes
|-
| Wireless NIC
| Yes
| Yes
| Yes
|-
| PCMCIA NIC
| Yes
| Untested
| Untested
|-
| Firewire
| Untested
| N/A
| Untested, presumed to work (is detected)
|-
| Bluetooth
| Yes
| Untested
| Yes
|-
| Modem
| Untested
| Untested
| Untested
|-
| Infrared
| With manual setting
| Untested
| Untested
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| Yes
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| Yes
|-
| Touchpad - Scrolling (right edge)
| No
| Yes
| Yes
|-
| Touchpad - Enable/Disable
| No
| Yes (see <nowiki>[[https://help.ubuntu.com/community/SynapticsTouchpad|SynapticsTouchpad]]</nowiki> or <nowiki>[[http://ubuntu.wordpress.com/2006/03/24/disable-synaptics-touchpad/|here]]</nowiki>)
| Yes
|-
| External mouse - USB
| Yes
| Yes
| Yes
|-
| Touchscreen
| No
| Yes (manual config in shell)
| Yes (see <nowiki>[[Wacom]]</nowiki>)
|-
| <-4> '''Docking Station/Port Replicator'''
|-
| External mouse - Serial
| Untested
| Untested
| Untested
|-
| AC through replicator
| Untested
| Yes
| Yes
|-
| USB
| Untested
| Yes
| Yes
|-
| Serial
| Untested
| Untested
| Untested
|-
| Parallel
| Untested
| Untested
| Untested
|-
| External Monitor - VGA
| Yes
| Yes
| Yes
|-
| External Monitor - DVI
| Yes
| Yes
| Yes
|-
| Modem
| Untested
| Untested
| Untested
|-
| NIC
| Untested
| Yes
| Yes
|-
| PS/2
| Untested
| Untested
| Untested
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| N/A
| N/A
| N/A
|-
| CD/DVD drive
| N/A
| N/A
| N/A
|-
| PCMCIA cards
| Yes
| Untested
| Untested
|-
| Parallel Ports
| N/A
| N/A
| N/A
|-
| Card reader(s)
| No
| Has SD card, doesn't work
| Has SD card, doesn't work, no driver
|}

{| class="wikitable"
|-
| <-6 tablewidth="100%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-3> '''Works?'''
| <|2> Bug #
|-
| in Breezy(old)?
| in Dapper (current stable)?
| in Edgy (current developement)
|-
| Fn+Space
| Zoom
| 
| No
| No
| No
|-
| Fn+Esc
| Mute
| 
| Yes
| Yes
| Yes (even OSD)
|-
| Fn+F1
| Lock
| 
| Yes
| Yes
| Not in KDE
|-
| Fn+F2
| Performance
| 
| No
| No
| No
|-
| Fn+F3
| Suspend to RAM
| 
| No
| No
| Untested
|-
| Fn+F4
| Hibernate
| 
| Yes
| Yes
| Untested (Hibernate in general doesn't really work)
|-
| Fn+F5
| Display switch
| 
| No
| No
| No
|-
| Fn+F6
| Brightness down
| 
| Yes
| Yes
| Yes
|-
| Fn+F7
| Brightness up
| 
| Yes
| Yes
| Yes
|-
| Fn+F8
| Wireless
| 
| Yes
| Yes
| Not sure, always use hardware switch
|-
| Fn+F9
| Touchpad toggle
| 
| No
| No (see Touchpad Enable/Disable above!!)
| Untested
|-
| Fn+F10
| 
| Fn-lock
| Yes
| Yes
| Untested
|-
| Fn+F11
| 
| Num lock
| Yes
| Yes
| Untested
|-
| Fn+F12
| 
| Scroll lock
| Yes
| Yes
| Untested
|-
| Fn+1
| 
| Zoom out
| No
| No
| No
|-
| Fn+2
| 
| Zoom in
| No
| No
| no
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Breezy (current stable)?
| in Dapper (current development)?
|-
| Key
| 
| 
| Untested
| Untested
| 
|}

=== Notes ===
==== Touchscreen configuration ====

Step 1 - Install the "wacom-tools" and "setserial" packages using the following:
<pre>
sudo apt-get install wacom-tools setserial 
</pre>

If you're using 7.04, stop here! Restart X (or reboot) and the pen should be working as expected.

If you're using pre-7.04 Ubuntu, continue...

Step 2 - Run the following setserial command to set the device to the screen
<pre>
sudo setserial /dev/ttyS0 port 0x338 irq 4 autoconfig 
</pre>

'''NOTES:'''
* On 6.06 (Dapper) the device is '''/dev/ttyS4'''
* On 6.10 (Edgy) the device changed to '''/dev/ttyS0'''

Step 3 - Edit the "/etc/X11/xorg.conf" file and change every instance of "/dev/wacom" to "/dev/ttyS0" (or ttyS4 for 6.06)

Step 4 - Restart X (CTRL-ALT-BACKSPACE)

Finished - The pen should now work
----
==== Automatic Screen Rotation ====
Step 1 - Get the restricted NVIDIA drivers working
* '''Feisty''' - click the '''System''' menu, '''Administration''', '''Restricted Drivers Manager'''
* '''pre-Feisty''' - lots of how-to entries in the forums

Step 2 - Edit XORG to add rotation
* edit the xorg.conf as per Step 3 of the touchscreen configuration section above
* find the '''`Section "Device"`'''
* between '''`Section "Device"`''' and '''`EndSection`''' add the following line (preferable nearer `EndSection` than the top)
<pre>
Option		"RandRRotation" "on"
</pre>

Step 3 - Restart X (CTRL-ALT-BACKSPACE)

Step 4 - Create the Rotate Script
* create a new file (suggestion: gedit)
* the following script has been copied from http://i-otto.blogspot.com/2006/09/toshiba-portg-m200-with-ubuntu.html
* all credit goes to the script's authors Patrick Coke and Tim Pope
* paste the following into your new file
<pre>
while xset q >/dev/null 2>&1; do
sleep 2 # Polling Interval, 2 seconds

lid="`cat /proc/acpi/button/lid/LID/state|awk '{print $2}'`"

orientation="`/usr/bin/X11/xrandr --query | /bin/grep 'Current rotation' | /usr/bin/awk '{print $4}'`"
dpms="`xset q|grep 'Monitor is'|awk '{print $3}'`"
if [ "$orientation" = "normal" -a "$lid" = "closed" -a "$dpms" = "On" ]; then
/usr/bin/X11/xrandr --orientation left
xsetwacom set "stylus" Rotate 2
elif [ "$orientation" = "left" -a "$lid" = "open" ]; then
/usr/bin/X11/xrandr --orientation normal
xsetwacom set "stylus" Rotate 0
fi
done
</pre>

Step 5 - Save and Name the file appropriately
* save the new file in a safe place away from accidental deletes
* suggestion: /home/{user}/scripts/Rotate - replace {user} with your user account

Step 6 - Make the script executable
* open a terminal
* enter the following, making any necessary change to reflect the name and location of your script
<pre>
chmod 777 /home/{user}/scripts/Rotate
</pre>

Step 7 - Add the script to the startup
* Click '''System''' menu, '''Preferences''', '''Sessions'''
* Click '''New''' on '''Startup Programs'''
* In the Name field, put anything you like (suggestion: Rotate)
* Click '''Browse''' and find the script (suggestion: /home/{user}/scripts/Rotate)

Step 8 - Logout and Log back in

Finished - Try rotating the screen

'''NOTES:'''
* The script above, whilst excellent, rotates the screen into portrait with the ports/exhaust on the left hand side - I prefer to have the ports/exhaust on the right hand side in portrait mode, as I'm right-handed - to do this, find/replace all occurances of '''left''' with '''right''' in the script and change the number at the end of the first line that starts '''xsetwacom''' to 1 not 2
* I prefer to manually control rotation in all four orientations with a set of scripts and a taskbar icon - I'll try and write-up the manual control version at a later date (02/07/2007)
----
==== Suspend to RAM on edgy ====
If your laptop doesn't suspend to ram (comes back immediately) do this:
<pre>
    sudo apt-get install powersaved
</pre>
* (possibly add GUI for it, kpowersave or other)
* Edit /etc/powersaved/sleep and add a number of USB modules to UNLOAD modules list, may need some tries to get them all

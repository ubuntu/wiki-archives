{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== How-to configurate a easy samba share in a trusted domain ==

This is more a ready code than a tutorial, so I'll just paste the smb.conf and teach how to add dirs.

'''Remember to do this on a trusted net enviroment''' - But you can always add unstrusted domains with the directive ''hosts deny = domainip''

--------------------------------------------

=== smb.conf ===
<pre>

[global]

   workgroup = MSHOME

   server string = %h server (Samba, Ubuntu)

   wins support = yes

;   wins server = w.x.y.z

   dns proxy = Yes

;   name resolve order = lmhosts host wins bcast

    revalidate = No
    guest account = nobody
    browse list = Yes
    security = SHARE
    interfaces = eth0, 192.168.0.0/255.255.255.0
    wins server = Yes
    wins support = Yes
    guest ok = Yes
    public = yes

   log file = /var/log/samba/log.%m

   max log size = 1000

;   syslog only = no

   syslog = 0

   panic action = /usr/share/samba/panic-action %d

;   security = user

;   encrypt passwords = true

;   passdb backend = tdbsam guest

;   obey pam restrictions = yes

;   guest account = nobody
;   invalid users = root

;   unix password sync = no

;   passwd program = /usr/bin/passwd %u
;   passwd chat = *Enter\snew\sUNIX\spassword:* %n\n *Retype\snew\sUNIX\spassword:* %n\n .

;   pam password change = no

;   load printers = yes

;   printing = bsd
;   printcap name = /etc/printcap

;   printing = cups
;   printcap name = cups

;   printer admin = @ntadmin

;   preserve case = yes
;   short preserve case = yes

;   include = /home/samba/etc/smb.conf.%m

   socket options = TCP_NODELAY

;   message command = /bin/sh -c '/usr/bin/linpopup "%f" "%m" %s; rm %s' &

;   domain master = auto

;   idmap uid = 10000-20000
;   idmap gid = 10000-20000
;   template shell = /bin/bash

;wins support = no
[homes]
   comment = Home Directories
   browseable = no

   writable = no

   create mask = 0700

   directory mask = 0700

;[netlogon]
;   comment = Network Logon Service
;   path = /home/samba/netlogon
;   guest ok = yes
;   writable = no
;   share modes = no

[printers]
   comment = All Printers
   browseable = no
   path = /tmp
   printable = yes
   public = no
   writable = no
   create mode = 0700

[print$]
   comment = Printer Drivers
   path = /var/lib/samba/printers
   browseable = yes
   read only = yes
   guest ok = no
;   write list = root, @ntadmin

;[cdrom]
;   comment = Samba server's CD-ROM
;   writable = no
;   locking = no
;   path = /cdrom
;   public = yes

;   preexec = /bin/mount /cdrom
;   postexec = /bin/umount /cdrom

</pre>

=== Diretories ===

For each diretory add somethig like this in the ''smb.conf'':

1. Example with dir ''mp3''

<pre>
[mp3]
path = /opt/mp3
available = yes
browseable = yes
public = yes
writable = yes
create mask = 0777
hide dot files = No
dos filetime resolution = Yes
guest ok = yes
revalidate = No
browse list = Yes
</pre>

2. Dir ''xxx''

<pre>
[dirx]
path = /home/lucas/xxx
available = yes
browseable = yes
public = yes
writable = yes
create mask = 0750
hide dot files = No
dos filetime resolution = Yes
guest ok = yes
revalidate = No
browse list = Yes
</pre>

=== Permissions ===

The dir options depends on the real file permission. If I set a file in mp3 to 0700 it wouldn't be readable for anyone in the local net.

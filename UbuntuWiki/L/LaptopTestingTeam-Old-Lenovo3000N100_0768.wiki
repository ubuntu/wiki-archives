{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: <nowiki>[[Dhenry]]</nowiki>
* Make: Lenovo
* Brand: 3000 N series
* Model: N100 0768 - B9G
* Website: http://www-307.ibm.com/pc/support/site.wss/document.do?sitestyle=lenovo&lndocid=MIGR-63446
* S/N: ?
* See also: <nowiki>[[LaptopTestingTeam-Lenovo3000N100]]</nowiki>, <nowiki>[[LaptopTestingTeam-Lenovo3000N100_0768BJG]]</nowiki>, <nowiki>[[LaptopTestingTeam-Lenovo3000N100_FPG]]</nowiki>

<nowiki>[[http://tuxmobile.org|{{http://tuxmobil.org/pics/tuxmobil_sticker.png}}]]</nowiki>

=== Pictures ===

<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-front.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-front-small.jpg}}]]</nowiki>
<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-keyboard.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-keyboard-small.jpg}}]]</nowiki>
<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-side.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-side-small.jpg}}]]</nowiki>

=== Hardware Specifications ===

* Intel Core 2 Duo T5500 (1.66 Ghz, 2 MB Cache L2)
* 1024 MB Memory
* 15.4" WXGA TFT Screen (1280x800)
* 80 GB SATA Hard Drive on Intel 82801GBM (ICH7) SATA Controller
* Intel 945GM graphic controller with 128 MB shared memory
* DVD/DVD-RW Drive
* 56K Modem v.92 (HDA Intel)
* LAN: Realtek RTL-8139
* WLAN: Intel PRO/Intel 3945ABG (802.11a/b/g)
* PCMCIA
* USB: x4 (3 on the right, 1 on the left)
* VGA-Out and TV-Out
* Bluetooth: Broadcom (BCM2045)
* IEEE-1394: Ricoh (R``5C832)
* MS/MS PRO/MMC/SD/SDIO/xD-Picture Card reader
* Audio: Intel High Definition Audio (AD1986A)
* Webcam: Sonix “Microdia” (S``N9C``201 based USB camera)
* Fingerprint reader: Authen``Tec (AES2501)

'''NOTE:''' there are various models of 3000 N100, this page is for 0768-B9G. Look under the laptop for which type you have (near the serial number). Some models have Nvidia graphic card, higher or lower screen resolution, Broadcom WLAN chipset (which needs the help of <nowiki>[[https://help.ubuntu.com/community/WifiDocs/Device/Broadcom_BCM4311_rev_01_(ndiswrapper)|ndiswrapper]]</nowiki>), different sound codec, etc.

=== Current Issues ===

This laptop is quite well supported by Linux. However, with older versions than Hardy (8.04), speakers don't mute when headphone jack is plugged -- a patch is provided below. It has been fixed in ALSA 1.0.16.

==== Installing Edgy, Feisty, Gutsy, Hardy, Jaunty or Karmic ====

Steps to install Edgy/Feisty/Gutsy/Hardy/Jaunty/Karmic on this laptop:
* Insert the install CD, boot on it;
* Install the system, reboot at the end of the installation process;
* Enjoy!

Don't need to pass any extra parameter to kernel for installation. All goes fine.

=== System Info ===
<pre>
bios-version:61ET31WW
system-manufacturer:LENOVO
system-product-name:0768B9G
system-version:3000 N100
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Edgy?
| in Feisty?
| in Gutsy?
| in Hardy?
| in Intrepid?
| in Jaunty?
| in Karmic?
|-
| Installation works?
| Yes
| Yes
| Yes (64 bit version tested)
| Untested
| Untested
| Untested
| Yes (64 bit)
|-
| Upgrade from previous version
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Untested
|-
| <-8> '''Hardware Information'''
|-
| <|2> '''Device'''
| <-7> '''Works?'''
| <|2> '''Bug #'''
|-
| in Edgy?
| in Feisty?
| in Gutsy
| In Hardy?
| in Intrepid?
| in Jaunty?
| in Karmic?
|-
| <-9> '''Screen & Monitors'''
|-
| Screen
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Correct resolution?
| Yes*, at 1280x800
| Yes*
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Correct refresh rate?
| Yes, at 60 Hz
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| 3D Acceleration
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| External monitor works?
| Yes
| Yes*
| Yes
| Yes
| Yes
| Yes
| Yes*
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-intel/+bug/438000|Bug 438000]]</nowiki>
|-
| External monitor - clone
| Yes
| Yes*
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| External monitor - extend desktop
| Yes
| Yes*
| Yes
| Yes
| Yes
| Yes
| Yes*
| 
|-
| TV Out
| Yes
| Untested
| Yes
| Untested
| Untested
| Untested
| Untested
| 
|-
| <-9> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Hibernate
| Yes
| Yes
| Yes*
| Yes
| Yes
| Yes
| Untested
| (*) problems with NetworkManager
|-
| Sleep
| Yes*
| Yes*
| Yes*
| Yes*
| Yes*
| Yes*
| Yes*
| Refer to sleep section below
|-
| Dim monitor on battery
| No
| No
| No
| No
| No
| No
| No
| Same on Windows
|-
| Blank monitor on inactivity
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Lid Close
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Cpu frequency scaling
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| <-9> '''Sound'''
|-
| Sound works?
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Correct volume?
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Hardware volume switch
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Headphone jack
| Yes*
| Yes*
| Yes*
| Yes
| Yes
| Yes
| Yes
| <nowiki>[[https://bugtrack.alsa-project.org/alsa-bug/view.php?id=2581|Bug 2581]]</nowiki> <nowiki>[[https://launchpad.net/bugs/88546|Bug 88546]]</nowiki>
|-
| Mic jack
| Yes
| Yes
| Yes
| Untested
| Untested
| Untested
| Yes
| 
|-
| <-9> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| Yes
| Untested
| Untested
| Untested
| Yes
| 
|-
| Wireless NIC
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| PCMCIA NIC
| Untested
| Untested
| Untested
| Untested
| Untested
| Yes
| Yes
| 
|-
| Firewire
| Untested
| Untested
| Yes
| Yes
| Untested
| Untested
| Untested
| 
|-
| Bluetooth
| Yes
| Yes
| Yes
| Yes
| Yes
| Untested
| Yes
| 
|-
| Modem
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| 
|-
| <-9> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Touchpad - turned off while typing
| Yes*
| Yes*
| Yes*
| Untested
| Untested
| Untested
| Untested
| 
|-
| External mouse - USB
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| <-9> '''Additional Hardware'''
|-
| Fingerprint reader
| No*
| No*
| Yes*
| Yes*
| Yes*
| Yes*
| Yes*
| 
|-
| CD/DVD drive
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| PCMCIA cards
| Untested
| Untested
| Untested
| Untested
| Untested
| Yes
| Yes
| 
|-
| Card reader(s)
| SD
| Untested
| SD, MMC*
| Untested
| Untested
| Untested
| Untested
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/84540|Bug 84540]]</nowiki>, <nowiki>[[http://bugzilla.kernel.org/show_bug.cgi?id=7673|Bug 7673]]</nowiki>
|-
| Webcam
| No
| Yes*
| Yes*
| Yes*
| Yes*
| Yes*
| Yes
| 
|}

{| class="wikitable"
|-
| <-11 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn Key'''
| <|2> '''Operation'''
| <|2> '''Scancode'''
| <-7> '''Works?'''
| <|2> Bug #
|-
| in Edgy?
| in Feisty?
| in Gutsy?
| in Hardy?
| in Intrepid?
| in Jaunty?
| in Karmic?
|-
| + Esc
| Mute
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + F1
| Volume -
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + F2
| Volume +
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + F4
| Sleep
| e017
| Unaffected
| Unaffected
| Yes
| Yes
| Yes
| Yes
| Untested
| 
|-
| + F5
| Toggle WLAN
| e016
| Unaffected
| Unaffected
| Unaffected
| Unaffected
| Unaffected
| Unaffected
| Unaffected
| 
|-
| + F7
| Toggle external monitor
| e041
| Unaffected
| Unaffected
| Unaffected
| Unaffected
| Untested
| Unaffected
| No
| 
|-
| + F10
| LCD Brightness Down
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + F11
| LCD Brightness Up
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + F12
| Hibernate
| e018
| Unaffected
| Unaffected
| Unaffected
| Yes
| Unaffected
| Yes
| Untested
| 
|-
| + Arrow``Up
| Media Stop
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + Arrow``Down
| Media Play/Pause
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + Arrow``Right
| Media Next
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + Arrow``Left
| Media Previous
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + Pg``Up
| Home
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| + Pg``Down
| End
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Numpad keys
| 
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| <-11> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Scancode'''
| <-7> '''Works?'''
| <|2> Bug #
|-
| in Edgy?
| in Feisty?
| in Gutsy?
| in Hardy?
| in Intrepid?
| in Jaunty?
|-
| Lenovo Care
| User Programmable Key
| e034
| Yes
| Yes
| Untested
| Yes
| Untested
| Unaffected
| Unaffected
| 
|-
| Mute
| Mute
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Volume Down
| Volume -
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|-
| Volume Up
| Volume +
| 
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| Yes
| 
|}

==== Notes ====

=== WiFi (Hardy) ===

In 8.04 LTS Ubuntu switched from `ipw3945` driver to `iwl3945`. The old driver required a proprietary closed source daemon to run and is currently deprecated upstream, while the new one is fully free software, only requiring a closed source, free to distribute, binary firmware (which is shipped by default by Ubuntu) and is official supported upstream (Intel is actively developing it, and integrating it into the official kernel tree).

Unfortunately, the new driver lacks a few features, mainly:
 1) Out of the box, users will not be able to scan for wireless networks (with `iwlist scan`). this is documented as <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-ubuntu-modules-2.6.24/+bug/192119|Bug 192119]]</nowiki>. Note that it is '''intended''' behavior. Only root can do that. There is a workaround, in a shell, type:
<pre>
sudo echo "options iwl3945 disable_hw_scan=1" > /etc/modprobe.d/iwl3945
</pre>

 And reboot, or reload the `iwl3945` module (`sudo modprobe -r iwl3945 && sudo modprobe iwl3945`).<<BR>><<BR>>

 2) Wireless LED don't work. This can be fixed by installing `linux-backports-modules-hardy-generic`. LED won't blink, just stay on or off. LED behaviour is currently in development in this new driver. See <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.22/+bug/176090|Bug 176090]]</nowiki>.

=== Screen resolution 1280x800 (Edgy/Feisty) ===

For older Ubuntu versions than Gutsy 7.10, you'll need the package 915resolution (universe) in order to get the native 1280x800 resolution. Nothing else to configure, just install it and restart the X server (logout/login or Ctrl-Alt-Backspace).
<pre>
sudo apt-get install 915resolution
</pre>

=== External monitor ===

=== Karmic ===

External monitor hotplug only works with compiz disabled. With compiz enabled, the video driver breaks (and a reboot is needed).

With compiz, you are limited to a virtual screen of 2048x2048 pixels (this is an hardware limit of the GPU). Since the default panel resolution is 1280x800, that leaves few possibilities: a 1280x1024 screen above or below laptop panel is probably the best you can get in extended desktop mode.

If you boot with the external monitor plugged, the external screen will by default be a clone of laptop screen. It will work with compiz, but if later you want to extend desktop, beware of the 2048x2048 limit: xrandr or the Gnome Display Manager won't stop you from setting up an impossible virtual resolution!

=== Gutsy/Hardy/Jaunty ===

Since Gutsy 7.10, Ubuntu has provided the new ''intel'' driver which implements randr 1.2 (or greater), instead of the old ''i810'' driver. This allows to configure laptop panel (LVDS), VGA or TV outputs at runtime, without having to modify xorg.conf and restart xorg for a particular dual-head configuration.

If you still use the ''i810'' driver (not recommended), see the <nowiki>[[LaptopTestingTeam-Lenovo3000N100_0768-Xorg.conf]]</nowiki> page for working xorg.conf files with external monitor.

In order to setup a dual-head extended configuration (non clone mode), you must define a virtual mode which is greater or equal than your two screens. For example, if you want to attach a second screen with a 1280x1024 resolution at the right of your laptop, the virtual mode must be at least (1280+1280)x1024 = 2560x1024. If you want to attach the same screen above the laptop panel, then it will be 1280x(1024+800) = 1280x1824. Edit your /etc/X11/xorg.conf file and modify the Screen section like this:
<pre>
Section "Screen"
        ...
	SubSection "Display"
		Depth		24
		Modes		"1280x800"
		Virtual		2560 1024 # you can put a 1280x1024 screen at left or at right of your laptop panel
	EndSubSection
EndSection</pre>

Then, use the `xrandr` command to setup your screens. (`man xrandr` for how to use it).

'''Note:''' the Intel 945GM chipset can handle at least 2048x2048 buffers (hardware limitations). You can specify a virtual mode greater than 2048x2048, but then you'll lose DRI (3D acceleration). The greatest virtual mode with DRI is 2048x2048, and the LVDS already takes 1280 pixels wide... For a 1280x1024 external screen, the only solution for extended display with 3D acceleration is to attach it below or above my laptop panel. Therefore, I use a 1280x2048 virtual mode.

'''Note:''' in Jaunty, the Intel video driver can automatically resize the framebuffer up to 2048x2048 pixels (maybe more without DRI), in UXA mode (I'm not sure in EXA). Therefore, you may not specify the virtual mode in the xorg.conf file and still use extanded desktop.

=== 3D Acceleration ===

==== for Edgy/Feisty/Gutsy ====

If you don't use screen rotation, you can speed up the 3D rendering by setting the `INTEL_BATCH` environment variable. In your ~/.bashrc, add the line:
<pre>
export INTEL_BATCH=1
</pre>
It will enable batch buffer codepath for OpenGL apps. Note that it isn't really safe with rotation.

It speeds up glxgears from 900 fps to +1700 fps and Quake 3 ''four.dm_68'' demo with timedemo from 58 to 78 average fps.

==== for Jaunty ====

You can enable UXA instead of EXA rendering method in the xorg.conf file:
<pre>
Section "Device"
	Identifier	"Default Device"
	Option		"AccelMethod"	"UXA"
EndSection
</pre>

This will enable DRI2. DRI2 introduces « Redirected Direct Rendering », improving visualisation of OpenGL applications in a composited desktop. If you don't understand what all this means, just think it improves desktop rendering by cleaning all the screen mess when you run a 3D program.

=== cpufreq applet (Edgy/Feisty/Gutsy/Hardy/Jaunty) ===

By default, the system controls itself the CPU frequencies (it gives more if needed), which is perfect for most people. If you want to control manually the CPU frequencies and governors with the applet, you must execute it with superuser privileges. In order to do this, run this command:
<pre>sudo dpkg-reconfigure gnome-applets
</pre>

=== Sleep ===

There are some issues with resume after suspend to RAM.

{| class="wikitable"
|-
| <:> '''Issue'''
| <:> '''Frequency'''
| <:> '''How to fix the bug'''
| '''Bug #'''
|-
| <^> Keyboard Caps Lock is ON
| <^> Always
| Add `i8042.reset` to the bootloader's kernel parameters<<BR>>In /boot/grub/menu.lst, add to ''defoptions'' the new parameter like this (you may have different parameters than me, like the `locale`):<<BR>><code># defoptions=quiet splash locale=fr_FR i8042.reset</code><<BR>>Save file and then run `update-grub` in console
| 
|-
| Keyboard is frozen
| Sometimes
| fixed with the `i8042.reset` parameter (see above)
| 
|-
| Touchpad is frozen
| Always
| fixed with the `i8042.reset` parameter (see above)
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-input-synaptics/+bug/59867|Bug 59867]]</nowiki>
|-
| <^> Wifi didn't resume
| <^> Sometimes
| Reload kernel module:<<BR>><code>sudo modprobe -r ipw3945</code><<BR>><code>sudo modprobe ipw3945</code>
| 
|}

On Gutsy (7.10) 64bit the suspend works when you add the parameter `i8042.reset`. When adding the parameter `i8042.nomux` the touchpad seems to work on resume, but the lid close is not detected (taken from the Gentoo wiki). We need to gather more information about 32 bits, and more user experience before we can say "it works".

To add this parameter, type at the console: `sudo nano /boot/grub/menu.lst` (if you get an error about timestamp in the future, type `sudo -K` and try again). Look for a line that says `# defoptions=quiet splash` and modify it to `# defoptions=quiet splash i8042.reset`

=== Hibernate ===

Please note that on Fiesty, 7.04, there is an open bug https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.17/+bug/85894 which prevents using the hibernate function properly (read the bug, but shortly when resuming the fan fails to work which overheats the machine). I am not seeing this with linux-image-2.6.22-14-generic_2.6.22-14.46 (once more, 64bit, not sure about 32).

When comming back up from hibernation and suspend, NetworkManager is not responding which prevents connection a any network (wired, or wireless). A work around is to create this file (don't forget to make it executable!)
<pre>
elcuco@pinky:~$ cat /etc/acpi/resume.d/99-network-manager.sh
killall NetworkManager
NetworkManager
</pre>

A minor problem, is that the first time you connect to a wireless network, the connection will last 10 seconds and then disconnect, next connection will be stable. At least no console is used to get into this state :)

=== Sound (Hardy) ===
If the sound is not working after installation (like on my laptop) you may get it to work with the following steps:

Add following line to the end of /etc/modprobe.d/alsa-base (do it with sudo)

<code>options snd-hda-intel model=lenovo</code>

Change all Audio settings to use ALSA (System->Preferences->Sound) 

=== Sound (Edgy/Feisty/Gutsy) ===

The ''snd-hda-intel'' driver is used for sound. There is a bug for older versions than Hardy (8.04) which does not mute speakers when headphones are plugged. It works with the installed version of Feisty, but not after applying all current updates.

In order to get sound to work properly under older releases, a manual compile of a patched ALSA is needed (instructions below). alsa-driver-1.0.15 will be patched and then built and installed. Then, alsa-lib-1.0.15 and alsa-utils-1.0.15 will be built and installed too. ''NOTE: you can also install alsa-1.0.16rc1 (or later) without having to apply any patch, it will correct the automute problem.''

libc6-dev required for alsa-driver
<pre>
sudo apt-get install libc6-dev
</pre>

ncurses-dev required for alsa-utils
<pre>
sudo apt-get install ncurses-dev
</pre>

patch and gettext will also be used during compilation (not installed by default)
<pre>
sudo apt-get install gettext patch
</pre>

Retrieve and install alsa 1.0.15
<pre>
mkdir alsa-fix && cd alsa-fix

wget ftp://ftp.alsa-project.org/pub/driver/alsa-driver-1.0.15.tar.bz2
wget ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.15.tar.bz2
wget ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.15.tar.bz2
wget http://tfc.duke.free.fr/coding/hdaintel-laptop-eapd-hg20070908.patch

tar -xvf alsa-driver-1.0.15.tar.bz2
tar -xvf alsa-lib-1.0.15.tar.bz2
tar -xvf alsa-utils-1.0.15.tar.bz2

cd alsa-driver-1.0.15
patch -p1 < ../hdaintel-laptop-eapd-hg20070908.patch
./configure --with-cards=hda-intel --with-sequencer=yes --with-oss=yes
make
sudo make install
cd ..

cd alsa-lib-1.0.15
./configure
make
sudo make install
cd ..

cd alsa-utils-1.0.15
./configure
make
sudo make install
cd ..
</pre>

NOTE: for building the source, you can call `make -j 8` instead of `make` alone, it will speed up the compilation by running 8 threads. If the compilation fails, rerun the make command (it can happen sometimes that an object file *.o is needed before its source file has been compiled -- because of thread concurrency -- and then the build process is stopped).

Then reboot. You may have to unmute your sound card, or adjust the PCM volume after the first reboot.  Also, if you update your kernel, or a patched version of ALSA prior to 1.0.15 gets installed, you will need to recompile ALSA against your latest updates.

This bug is discussed on ALSA's bugzilla : <nowiki>[[https://bugtrack.alsa-project.org/alsa-bug/view.php?id=2581|Bug 2581]]</nowiki>.

=== Touchpad ===

The ''xserver-xorg-input-synaptics'' package ships with an application called ''syndaemon'' which can be used to disable the touchpad whenever you're typing. Create the file `~/.config/autostart/syndaemon.desktop` and put the following in it:
<pre>
[Desktop Entry]
Type=Application
Encoding=UTF-8
Version=1.0
Name=Synaptics Daemon
Name[en_US]=Synaptics Daemon
Exec=syndaemon -i 0.3 -k
Comment=Disable touchpad during typing
Comment[en_US]=Disable touchpad during typing
X-GNOME-Autostart-enabled=true
</pre>

Modify the file to suit your needs. See `man syndaemon` for information on ''syndaemon'' parameters. The new session autostart configuration will be available at ''System -> Preferences -> Sessions -> Startup Programs -> Synaptics Daemon'' and will take effect next time you log into your GNOME session.

=== Function keys and special keys ===

There are four Fn keys which aren't working out of the box, but user can set them with the ''setkeycodes'' command. There is also a special “Lenovo Care” button, which can be set via this command. However, I don't know yet how to affect the Fn keys to the task there should do (sleep, toggle WLAN, switch display and hibernate).

Here is an example of how to activate the Lenovo Care button (scancode = e034):
<pre>
setkeycodes e034 129
</pre>

It will attach the keycode “129” to it, then you can configure it in Gnome keybinding properties (if you use Gnome).

In order to get the keys recognized after each boot, you must put these lines in an init script (in /etc/init.d/):
<pre>
setkeycodes e034 129
setkeycodes e017 130
setkeycodes e016 131
setkeycodes e041 132
setkeycodes e018 133
exit 0
</pre>

=== Fingerprint reader ===

The fingerprint reader does not work out of the box. The <nowiki>[[http://www.reactivated.net/fprint/wiki/Main_Page|fprint]]</nowiki> project provides a single API for application developers to easily add fingerprintting support to their apps. It works with several fingerprint readers, including the AES2501 in this laptop (with an user-space driver).

There are 3 modules in the fprint project:
* <nowiki>[[http://www.reactivated.net/fprint/wiki/Libfprint|libfprint]]</nowiki>, the core library.
* <nowiki>[[http://www.reactivated.net/fprint/wiki/Fprint_demo|fprint_demo]]</nowiki>, a simple GUI application used to demonstrate and test libfprint's capabilities.
* <nowiki>[[http://www.reactivated.net/fprint/wiki/Pam_fprint|pam_fprint]]</nowiki>, a PAM module for fingerprint authentication.

You can install fprint libraries and binaries from the `intrepid` or `hardy-backport` (if you're using Hardy) repositories:
<pre>
sudo apt-get install libfprint0 libpam-fprint fprint-demo</pre>

Fingerprints are stored on you home directory (~/.fprint). You can enroll your finger with either `fprint_demo` and `pam_fprint_enroll`.

Currently, ''pam_fprint'' (version 0.4) can't be configured for which finger it will read at password prompt (it will chose the first one it find... that can even be the left thumb!). Also, since the prints are stored in your home directory, you can't authenticate yourself as another user (except root).

In order to authenticate via the fingerprint reader, you must configure PAM to use ''pam_fprint''. Here is a simple exemple how to add finger authentication to sudo (thanks Diego). Create a file /etc/pam.d/fprint and put these lines:
<pre>
auth       sufficient   pam_fprint.so</pre>

Change /etc/pam.d/sudo to include the fprint file:
<pre>

@include common-auth
@include common-account
@include fprint</pre>

Now when using sudo, it will ask for your password and then you fingerprint. This example may not be the best, because the finger authentication can fail and you'll get access. If someone has better examples of fprint integration with PAM, for sudo, gdm, kdm, and others, please share here ;) The <nowiki>[[http://www.reactivated.net/fprint/wiki/Pam_fprint|pam_fprint page]]</nowiki> can give some indications too. Maybe <nowiki>[[http://www.thinkwiki.org/wiki/How_to_enable_the_fingerprint_reader|thinkwiki's HOWTO]]</nowiki> can help on PAM...

See also:
* <nowiki>[[FingerprintAuthentication]]</nowiki>
* <nowiki>[[http://wiki.debian.org/FingerForce]]</nowiki>

Note by rac:
Currently the sudo application (Ubuntu 8.04.1) has a <nowiki>[[http://www.mail-archive.com/ubuntu-bugs@lists.ubuntu.com/msg946814.html bug]]</nowiki> (fixed for debian in sudo version 1.6.9p17-1) it ends after one succefsul auth in segmentation fault if you use sudo.
Workaround is installing the new sudo version manually or what i did just dont use it for sudo so i included in gdm and gnome-screensaver auth files.

=== Webcam ===

''Note: my webcam seems to be defective (I suspect an hardware problem), since even under Windows it is often broken. It works, sometimes... <nowiki>[[Dhenry]]</nowiki>''

The laptop has a Microdia S``N9C``201 based integrated webcam (''lsusb'' tells 0c45:624f).

This is not an UVC camera, so the <nowiki>[[http://linux-uvc.berlios.de/|linux-uvc]]</nowiki> won't support it.

==== GSPCA (Karmic) ====

Since linux kernel 2.6.31, the microdia webcam is handled by the `gspca` driver (included with kernel). The driver is loaded automatically at boot time. So since Ubuntu 9.10, there's nothing to do: it should just work out of the box.

==== Microdia webcam kernel driver project (Gutsy/Hardy/Jaunty) ====

There is a Microdia project working on an Open Source driver by reverse engeneering (usb sniffing mainly) and some little documentation.<<BR>>
The project has a google group : <nowiki>[[http://groups.google.com/group/microdia]]</nowiki> and a launchpad PPA : <nowiki>[[https://launchpad.net/~nickel62metal/+archive]]</nowiki>.<<BR>>

You can add:

<pre>
deb http://ppa.launchpad.net/nickel62metal/ubuntu intrepid main
deb-src http://ppa.launchpad.net/nickel62metal/ubuntu intrepid main
</pre>

And then install by:
<pre>
sudo apt-get install microdia-dkms
</pre>

You can follow the development via git-web : <nowiki>[[http://repo.or.cz/w/microdia.git]]</nowiki>

If you want to test the driver (still in development, use at your own risks):

You need to install git first:
<pre>
sudo apt-get install git-core gitk git-gui git-doc curl
</pre>

Then clone the "microdia" repository:
<pre>
git clone http://repo.or.cz/r/microdia.git 
</pre>

Then build the driver:
<pre>
cd microdia
make
</pre>

Now load some necessary modules before the microdia driver:
<pre>
sudo modprobe videodev
sudo modprobe compat-ioctl32
</pre>

Finally, load the microdia driver (`rmmod` to unload it):
<pre>
sudo insmod microdia.ko
</pre>

You can test the webcam with Ekiga, or mplayer:
<pre>
mplayer -fps 30 tv://
</pre>

Do the following so you don't have to insmod everytime you wish to use your webcam after a restart:
<pre>
sudo cp microdia.ko /lib/modules/`uname -r`/kernel/drivers/media/video/usbvideo/
sudo depmod -a
</pre> 

=== Card reader ===

It seems that there are three or four devices for the card reader:
<pre>
05:06.1 SD Host controller: Ricoh Co Ltd R5C822 SD/SDIO/MMC/MS/MSPro Host Adapter (rev 19)
05:06.2 System peripheral: Ricoh Co Ltd R5C843 MMC Host Controller (rev 01)
05:06.3 System peripheral: Ricoh Co Ltd R5C592 Memory Stick Bus Host Adapter (rev 0a)
05:06.4 System peripheral: Ricoh Co Ltd xD-Picture Card Controller (rev 05)
</pre>

{| class="wikitable"
|-
| <|2> '''Memory Card'''
| <-7> '''Works?'''
| <|2> '''Bug #'''
|-
| in Edgy?
| in Feisty?
| in Gutsy?
| in Hardy?
| in Intrepid?
| in Jaunty?
| in Karmic?
|-
| SD
| Yes
| Untested
| Yes
| Yes
| Untested
| Untested
| Untested
| 
|-
| SDIO
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| 
|-
| MMC
| Untested
| Untested
| Yes*
| Yes
| Untested
| Untested
| Untested
| see below
|-
| MS
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| 
|-
| MSPro
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| Untested
| 
|-
| xD-Picture
| No
| No
| No
| No
| No
| No
| No
| No Linux support (proprietary format)
|}

Philip Langdale posted a trick on <nowiki>[[http://intr.overt.org/blog/?p=59|his blog]]</nowiki> to use MMC cards with the R``5``C832 card controller he has in his Dell. The method described works for Lenovo too. Just replace the device number with 05:06.0 (the Firewire controller address on N100). The ''ricoh-mmc'' driver in ''linux-2.6.24'' should do this automatically, so in newer version of Ubuntu it should work out of the box through the SDHCI controller.

=== External Links ===

* <nowiki>[[http://www.linlap.com/wiki/Lenovo+3000+N100]]</nowiki>
* <nowiki>[[http://fialky.com/drupal-5.0/?q=forum]]</nowiki> a forum on Lenovo 3000 (quite old now...)
* <nowiki>[[http://gentoo-wiki.com/HARDWARE_Lenovo_3000_N100]]</nowiki>
* <nowiki>[[http://gibreel.net/gentoo-on-lenovo-3000-n100/]]</nowiki>
* <nowiki>[[http://linuxwiki.de/MarkusMajer/Lenovo3000N100]]</nowiki> (german)
* <nowiki>[[https://www.2030.tk/wiki/Install_Ubuntu_8.04_on_Lenovo_3000_N200_with_encrypted_LVM]]</nowiki>

----
CategoryLaptop

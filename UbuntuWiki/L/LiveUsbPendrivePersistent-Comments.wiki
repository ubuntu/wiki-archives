{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Comments ==

* http://www.pendrivelinux.com/2007/09/28/usb-ubuntu-710-gutsy-gibbon-install/ has instructions which look very similar to this page, albeit perhaps simpler and more condensed.  (They have a page for Feisty, too.)  However, they require you to install a somewhat mysterious <code>initrd</code> from a tar file they provide on that site, without any explanation.  Does anybody know anything more about that site?
** The tar in the gutsy link that was posted above really only has a pre-modified syslinux.cfg file.  It should work for ubuntu, but it won't work for kubuntu/xubuntu liveUSB persistence installs.  - WaXHeLL
** 2008-01-03: I can confirm that the file of this other guide works. But (as with this guide here) I couldn't acheive "persistence" with Gutsy Gibbons - Frank
** On the same site, but <nowiki>[[http://www.pendrivelinux.com/2007/09/20/how-to-make-ubuntu-704-casper-persistent/|here]]</nowiki> they show how to modify the initrd.gz to make '''persistence work'''. Worked for me       ''Elfantin''
 
* '''Feisty will not be persistent''' on a USB pendrive due to a version mismatch between Unionfs and the kernel. <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/casper/+bug/84591|Here's the launchpad entry]]</nowiki> and <nowiki>[[http://ubuntuforums.org/showthread.php?p=2687688#post2687688|a forum thread]]</nowiki> describing the problem. Apparently there should be a  <nowiki>[[http://www.mail-archive.com/ubuntu-bugs@lists.ubuntu.com/msg327694.html|workaround involving a Feisty/Herd3 hybrid installation]]</nowiki>. You could probably also download the source to a new Unionfs, compile it and merge to the pendrive, but I have no idea how - HelgeDK

* 2008-01-03: I tried this guide with two different pendrives (one USB flash drive, one USB-mini-harddrive) with Gutsy Gibbons and Feisty Fawn. But I couldn't acheive "persistence" in any of the combinations. Especially annoying is the .ICEauthority bug that I only get when preparing the sticks on Feisty. But also trying for hours without acheiving what this guide claims make possible is enervating... - Frank

* Some links in this page are broken (the long URLs are broken with ellipses).

* If you want to install the test releases of Edgy Eft, you might want to look at CustomizedInitrd.

* As syslinux does not support the "GFXBOOT" command the boot menu will lack some features, e.g. you cannot change the language before booting. You can specify a language and keyboard layout via kernel parameters, though. To boot into a German LiveCD environment, you would add the following to your "APPEND" lines in syslinux.cfg: <pre>
locale=de_DE bootkbd=de console-setup/layoutcode=de console-setup/variantcode=nodeadkeys
</pre>

* Some USB keys don't have a master boot record. In these cases, the problem can usually be fixed by running <pre>
lilo -M /dev/sdX</pre> '' I had to do this to get it to boot - Krishnan ''

* Alternatively, if you haven't got lilo installed, use the 'install-mbr' command from the 'mbr' package: <pre>
sudo apt-get install mbr
sudo install-mbr /dev/sdX</pre> -JohnMccreesh '' I could not get mbr to install, but lilo worked - krishnan'' ''This broke my partition so I had to reformat - HelgeDK''

* This may be my fault, but I created a Persistent pen drive from Ubuntu using these instructions and it worked perfectly, but I had installed an Edgy Beta, when I decided to update it to the final only a windows machine was available, follwing the windows instructions ( minus partitioning as that was still there from  the previous install ) I do not get the normall Ubuntu prompt with a "custom" option at the top like before, instead I get a prompt with "Boot:" and I have to enter vmlinuz to boot, if I just hit return Ubuntu boots but something fails and it drops into a recovery console. Could somebody confirm that the windows directions are correct ( my suspicion is that it is because in Ubuntu you are using Ubuntu's custom version of syslinux while in windows you are using the "vanilla" version ) Also, the direction on where to find syslinux could be clearer, I found them at http://www.kernel.org/pub/linux/utils/boot/syslinux/ with no indication that the .zip file was indeed for windows, I tried the newest version at that time: http://www.kernel.org/pub/linux/utils/boot/syslinux/syslinux-3.31.zip and the exact version mentioned in the instructions http://www.kernel.org/pub/linux/utils/boot/syslinux/Old/syslinux-3.11.zip both gave the same result -Jordan U
** I successfully installed Edgy (final) to an USB drive, following the linux instructions but using syslinux-3.20 for Windows. Afterwards I installed GRUB in the MBR which also works fine. -JanSchlüter
   I ran syslinux from Ubuntu on the same drive changing nothing else and it worked, I honestly don't know what went wrong with the windows version. Can you confirm that when you installed from windows it not only booted but correctly showed the menu with the preconfigured options, "custom" "live" "memtest" etc? - Jordan U.
    In my installation I can still use GRUB to load syslinux. Syslinux displays the ubuntu logo and a command prompt. I can enter <code>memtest</code> to boot Memtest86+ or press return to boot the ubuntu live environment. I didn't use the windows version of syslinux only, though - I tried ubuntu's version first which failed to create LDLINUX.SYS, then I tried the windows version. ''Maybe'' it only works in combination... -JanSchlüter

* I (successfully) made a USB boot drive using these instruction and later saved the working partitions because I needed the drive for another purpose - on restoring the partitions and running syslinux again I couldn't get my drive to boot - after many hours of head-scratching and re-installing I found that the boot flag wasn't set! Just be aware that sometimes simple things can trip you up.. David C.

** Someone known as mjcpa has made a patched version of Feisty that supports persistence. You can find it at http://88.191.31.14/ubuntuFeistyPatched/

** Just a thanks to all that contributed - Krishnan

** Some problems have been reported with Feisty and early Gutsy releases. This is just to confirm that I could successfully make a liveUSB with Gutsy tribe 5. More details here<nowiki>[[http://reachbeyondgrasp.blogspot.com/2007/09/carry-gibbon-in-your-pocket-how-to-make.html]]</nowiki>

** I've installed a liveUSB persistence for Gutsy release, however I get segfaults on shutdown (turn off quiet and splash in the boot options).  This leads to some invalid/unwritten files.  Reference https://bugs.launchpad.net/bugs/147117 and https://bugs.launchpad.net/ubuntu/+source/upstart/+bug/125702 for possible details.  No ideas on fixes yet.  This may be related to the .ICEauthority bug and others.   Ext3 may help the data corruption (but I still get the segfaults), but probably decreases the life of the flash drive.  -  WaXHeLL

** On the matter of "wearing out" your flash memory, is it possible to solve the (perceived) problem with aggressive write caching and a diffident choice of filesystem? I had the thought that XFS might be suitable because it's very aggressive about write caching, but of course, it's a journalled filesystem so it will have a constant chatter of metadata to the disk, although this is a small volume of data. Of course, I've never even heard anecdotal evidence of a modern flash drive wearing out, under any kind of load, so until we start hearing such things it's just premature optimization - and I'd be willing to bet that the next generation of high performance portable storage will be around by then. At the very least, flash drives double the size will be half the price :-)

* *WINDOWS** my pen drive did not immediately boot: using "syslinux -sma <drive>" fixed this. i didn't test, but i suspect the option i needed was "a", setting the partition to active.

** In my version of fdisk "b" is one of the win32 choices fdisk v2.12r 
I selected "c" for win95 fat32 (LBA) - dogshed

---- 
CategoryComments

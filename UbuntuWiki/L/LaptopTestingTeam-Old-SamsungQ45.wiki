{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: JoseLang

* Brand: Samsung
* Model: Q45
* Website: http://www.samsung.com/uk/consumer/detail/detail.do?group=itbusiness&type=notebookcomputers&subtype=qseries&model_cd=NP-Q45A007/SUK

Update 07 Feb 2010: Problems with Karmic release. Seek for help in customized PPA repo.

Update 03 Nov 2008: Added Intrepid notes.

Update 23 Jul 2008: Updated with the functionality after the latest kernel 2.6.24-19 on a newly purchased NP-Q45A00A

Update 25 Mar 2008: Hardy release pending, new support updated.

Update 1st Sep 2007: There are (at least) two versions of this laptop.  One includes an Intel (chipset) graphics card, the other version includes an Nvidia GeForce 8400M.  The original report was for the Intel card, I have added information on the GeForce version where applicable.

=== Fix brightness and Fn Keys issues (Karmic 9.10) ===

Several issues on brightness control and operation of Fn Keystrokes, are now resolved. Please follow the instructions on: http://www.voria.org/forum/viewtopic.php?f=3&t=296

=== Current Issues (Intrepid) Update 03/11/08 ===

* With the release kernel it hangs on boot but will boot with parameter acpi=off. Workaround (adding entry "blacklist video" to file /etc/modprobe.d/blacklist seems to work and parameter acpi=off can be removed.

* Kernel may warn on boot that pnpbios caused a fatal error but should recover.  This can be fixed by booting with the pnpbios=off parameter as suggested.

* Special keys for brightness control <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/hal/+bug/146710|Bug #146710]]</nowiki>, disable WLAN etc do not work <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/212790|bug #212790]]</nowiki>

This is fixed by downgrading the BIOS from the shipped 11ST to 09ST / 08ST.  The link for the 09ST bios ISO image gives a 404 - I used the 08ST bios ISO at: http://www.samsungpc.com/gb/support/q45/bios/08st.iso (Note: This is presumably for a GB (UK) Q45 - I've not tried it on a US model) and then flashed it with: 08ST.exe /s /x /c /nomodel_partcheck.  

* There is also a special extra button for sending mail, which doesn't work either. (unconfirmed)

* XD memory cards don't read (unconfirmed)

=== Current Issues (Hardy) Update 23/07/08 ===

* With the release kernel it will not boot without acpi=off. Blacklisting video fixes the problem once the system is installed (with a beta version it worked once without blacklisting). <nowiki>[[https://bugs.launchpad.net/linux/+bug/146692|Bug #145592]]</nowiki>

* On resume from suspend the processor is always in Performance mode, not OnDemand or Powersave. The processor speed can still be adjusted, it just doesn't resume at it's previous setting. Add to /etc/modprobe.d/samsung-q45 (or other file in /etc/modprobe.d):
<pre>
blacklist video
</pre>

* In order to be able to do sound recording, you need to open the Gnome sound control > menu Edit > Preferences, and enable all of the available controls. Before doing that I was getting a lot of errors about inexisting sound devices, when trying to record.

* [FIXED] On resume from suspend the sound stops working.

The sound can be fixed by reloading the snd_hda_intel kernel module. This means shutting down any programs that are using the soundcard, and running the following:
<pre>
modprobe -r snd_hda_intel
modprobe snd_hda_intel
</pre>

Update 02/05/08: The following module option fixes on my Q45/Danyal with Xubuntu the problem:
<pre>
options snd-hda-intel model=hippo
</pre>

Update 12/07/08: On a fresh Ubuntu 8.04 , with a Q45A00A I had no sound problem after suspend. The issue seems to have been fixed.

* WLAN very occasionally on reconnect takes the 100% CPU and doesn't complete the connection. This is random and rare, I haven't worked out where it happens yet.

* Power usage is significantly above Vista (about 14 Watts on idle as opposed to 9 Watts). I suspect this is just the state of Linux power usage at the moment, it seems to have the same power usage on Fedora 9 Alpha. Update: but check <nowiki>[[http://www.phoronix.com/scan.php?page=article&item=hardy_power&num=1|Benchmark comparison between Vista and 8.04]]</nowiki>

* XD memory cards don't read

* Special keys for brightness control <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/hal/+bug/146710|Bug #146710]]</nowiki>, disable WLAN etc do not work <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/212790|bug #212790]]</nowiki>

This is fixed by downgrading the BIOS from the shipped 11ST to 09ST.  The link for the 09ST bios ISO image gives a 404 - I used the 08ST bios ISO at: http://www.samsungpc.com/gb/support/q45/bios/08st.iso (Note: This is presumably for a GB (UK) Q45 - I've not tried it on a US model) and then flashed it with: 08ST.exe /s /x /c /nomodel_partcheck.  

The brightness control started failing after blacklisting video as shown in first bullet above. There is also a special extra button for sending mail, which doesn't work either.

=== Current Issues (Gutsy Beta) Update 03/10/07 ===

* Hardware volume keys control volume of built-in speakers only.  As headphone and speaker output are separate on this chipset, it would be better to control PCM, as that will affect both.
* WLAN driver has some freezes under heavy use (freezes after 2-3 hours) 

==== Intel graphics version ====
Updated BIOS to 08ST using boot CD from Samsung download site. 
Gutsy Beta install works with boot parameter "acpi=off". There is no need for a replacement DSDT anymore.

Saved the BIOS 08ST original DSDT, disassembled and compiled it using iasl without errors or warnings (Thank you Samsung).

update packages

edit /etc/modprobe.d and add 
<pre>
blacklist video
</pre>

edit /boot/grub/menu.lst add bootparameter (remove acpi=off)
<pre>
acpi_fake_ecdt=1
</pre>

Initial resolution is 1024x768
After adding 1280x800 resolution by reconfiguring xorg.conf screen is working at correct resolution but gnome panels are still at the places for 1024x768 and refresh rate in System>Prefences>Screen Resolution shows 30Hz.

Bug filed https://bugs.launchpad.net/ubuntu/+bug/131646

run sudo dpkg-reconfigure xserver-xorg and configure 1280x800 resolution

To get Compiz working:

open /usr/bin/compiz and comment out the line
<pre>
T="$T 8086:2982 8086:2992 8086:29a2 8086:2a02 8086:2a12"  # intel 965
</pre>
 
this line blacklists the intel GM965 graphics. Not sure yet how stable this is and what other side effects this may have.

==== Nvidia graphics version ====
* backlight brightness control does not work 
* Sleep/Hibernate does not work
* '''Update 22.03.2008''' new BIOS (11ST) seems to make Suspend To Ram possible (at least with other distributions, (please edit if you can confirm it) BUT brightness controls and wireless switch won't work anymore

=== Current Issues (Original Feisty Release) ===
Graphical installer fails when loading ACPI modules.
Text based install possible with acpi=off followed by upgrading the Kernel to 2.6.20-16, installing the intel driver for GM965 and setting up the xserver.
After this you get a desktop but no power management. To get Power Management working, blacklist video and remove the acpi=off from /boot/grub/menu.lst.
Uses Restricted Intel Pro/Wireless 3945 Network Connection Driver (wireless network itself works ok).

(*1) 3D Acceleration - glxgears give 1570 FPS and 3D Acceleration is reported as yes. 2D desktop works perfectly but freezes and crashes using 3D screensavers, Beryl/Compiz or Compiz-Fusion

'''Update 14/07/07''' with the latest updates of the mesa/dri/gl Beryl/Compiz is not freezing anymore. 3D screensavers also run ok now.

'''Update 01/07/07''' The GeForce equipped laptop boots using the fail-safe graphical installer.  It requires installation of NVidias latest beta-driver (checked with 100.14.11) to work.  For comparison, glxgears in this version runs at ~4600fps.

(*2) Sleep - After waking up from Sleep/Suspend, the screen back light is not switched back on again. Pressing Fn+Arrow Up (Brightness up) will switch on the back light.

(*3) UVC driver for the camera is available from http://linux-uvc.berlios.de/

(*3.1) UVC driver is included in Gutsy but the camera does not work with Ekiga out-of-the-box. 
'''Update 14/10/07''' Works for me in Gutsy.

=== System Info ===
<pre>
bios-version:04ST
system-manufacturer:SAMSUNG ELECTRONICS CO., LTD.
system-product-name:SQ45S70S
system-version:04ST
</pre>

=== Kernel ===
<pre>
2.6.24-20-generic
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Feisty (previous stable)
| in Gutsy Beta(previous development)
| in Hardy(current development)
|-
| Installation works?
| See Notes
| See Notes
| Yes
|}

{| class="wikitable"
|-
| <-5> '''Hardware Information'''
|-
| <-5> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| 
| <|2> '''Bug #'''
|-
| in Feisty (previous stable)?
| in Gutsy Beta(previous development)?
| in Hardy (latest)
|-
| Screen
| Untested
| Untested
| Yes
| 
|-
| Correct resolution?
| Yes
| No / Yes (Nvidia)
| Yes
| #131646
|-
| Correct refresh rate?
| Yes
| No / Yes (Nvidia)
| Probably
| #131646
|-
| 3D Acceleration
| Yes (*1)
| Untested / Yes (Nvidia)
| Yes
| 
|-
| External monitor works?
| Untested
| Untested / Yes (Nvidia)
| Untested
| 
|-
| External monitor - mirrors
| Untested
| Untested / Yes (Nvidia)
| Untested
| 
|-
| External monitor - extend desktop
| Untested
| Untested / Yes (Nvidia)
| Untested
| 
|-
| <-5> '''Power Management'''  See Update 30/09/07
|-
| Battery detected?
| Yes
| Yes
| Yes
| 
|-
| Hibernates?
| Yes
| No? / No (Nvidia)
| Yes(*5)
| 
|-
| Suspends?
| Yes (*2)
| No? / No (Nvidia)
| Yes(*5)
| 
|-
| Dim monitor on battery
| Yes
| Yes
| Yes
| 
|-
| Blank monitor on inactivity
| Yes
| Yes
| Yes
| 
|-
| Lid Close
| Yes
| No / Yes (Nvidia)
| Yes
| 
|-
| Cpu frequency scaling
| Yes
| Yes
| Yes
| 
|-
| <-5> '''Sound'''
|-
| Sound works?
| Yes
| Yes
| Yes (no audio capture)
| 
|-
| Correct volume?
| Yes
| Yes
| Yes
| 
|-
| Hardware volume switch
| Yes (FN+Arrow left/right)
| Yes. (FN+Arrow left/right). (but see above)
| Yes
| 
|-
| Headphone jack
| Yes
| Yes
| Yes
| 
|-
| Mic jack
| Untested
| Untested
| Yes
| 
|-
| Microphone works
| untested
| Yes.  Internal mic requires using ALSA and device "capture,0" in some apps
| Yes
| 
|-
| <-5> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| Yes
| 
|-
| Wireless NIC
| Yes
| Yes
| Yes
| 
|-
| PCMCIA NIC
| Untested
| Untested
| Untested
| 
|-
| Firewire
| Untested
| Yes
| Untested
| 
|-
| Bluetooth
| Yes
| Yes
| Yes
| 
|-
| Modem
| Untested
| Untested
| Untested
| 
|-
| Infrared
| N/A
| N/A
| N/A
| 
|-
| <-5> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| Yes
| Yes
| Yes
| 
|-
| Touchpad - turned off while typing
| No
| No
| No
| 
|-
| External mouse - USB
| Yes
| Yes
| Yes
| 
|-
| External mouse - Serial
| N/A
| N/A
| N/A
| 
|-
| <-5> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| N/A
| N/A
| N/A
| 
|-
| USB
| N/A
| N/A
| N/A
| 
|-
| Serial
| N/A
| N/A
| N/A
| 
|-
| Parallel
| N/A
| N/A
| N/A
| 
|-
| External Monitor - VGA
| N/A
| N/A
| N/A
| 
|-
| External Monitor - DVI
| N/A
| N/A
| N/A
| 
|-
| Modem
| N/A
| N/A
| N/A
| 
|-
| NIC
| N/A
| N/A
| N/A
| 
|-
| PS/2
| N/A
| N/A
| N/A
| 
|-
| <-5> '''Additional Hardware'''
|-
| Fingerprint reader
| N/A
| N/A
| N/A
| 
|-
| CD/DVD drive
| Yes
| Yes
| Yes
| 
|-
| PCMCIA cards
| Yes
| Yes
| Untested
| 
|-
| Parallel Ports
| N/A
| N/A
| N/A
| 
|-
| Card reader(s)
| SD OK
| SD OK, MemoryStick and MMC do not work
| SD OK, others untested
| 
|-
| Camera
| OK with UVC driver (*3)
| Yes (Tested with Ekiga)
| Yes
| 
|}

{| class="wikitable"
|-
| <-7 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-3> '''Works?'''
| <|2> Bug #
|}

{| class="wikitable"
|-
| in Feisty (previous stable)
| in Gutsy Beta(previous development)
| in Hardy(released)
|-
| + Space
| 
| 
| Untested
| Untested
| Untested
| 
|-
| + Esc
| Suspend *2)
| 
| Yes
| Untested
| Yes
| 
|-
| + F1
| 
| 
| Untested
| Untested
| Yes
| 
|-
| + F2
| Power Monitor
| 
| No
| No
| Yes
| 
|-
| + F3
| Insert Euro Symbol
| 
| Untested
| Untested
| No
| 
|-
| + F4
| Switch Screens
| 
| Untested
| Untested
| No
| 
|-
| + F5
| Back light on/off
| 
| Yes
| Yes
| No
| 
|-
| + F6
| Speakers on/off
| 
| Yes
| Untested
| Yes
| 
|-
| + F7
| 
| 
| Untested
| Untested
| Untested
| 
|-
| + F8
| 
| 
| Untested
| Untested
| Untested
| 
|-
| + F9
| Wireless on/off
| 
| Yes
| Yes
| No
| 
|-
| + F10
| Touchpad on/off
| 
| Yes
| Yes
| Yes
| 
|-
| + F11
| Num Lock
| 
| Yes
| Yes
| Yes
| 
|-
| + F12
| Scroll Lock
| 
| Untested
| Untested
| Yes
| 
|-
| + ArrowUp
| Brightness Up
| 
| Yes
| Yes / No (Nvidia)
| No
| 
|-
| + ArrowDown
| Brightness Down
| 
| Yes
| Yes / No (Nvidia)
| No
| 
|-
| + ArrowRight
| Volume Up
| 
| Yes
| Yes
| Yes
| 
|-
| + ArrowLeft
| Volume Down
| 
| Yes
| Yes
| Yes
| 
|-
| + PgUp
| Home
| 
| Yes
| Yes
| Yes
| 
|-
| + PgDown
| End
| 
| Yes
| Yes
| Yes
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-3> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy ?
| in Hardy ?
|-
| Mail key
| Start the mail client
| Unsure
| Untested
| Untested
| No
| not submitted
|}

==== Notes ====

The GeForce version requires the newest beta-driver from NVidia.  I recommend envy for installation, see http://www.albertomilone.com/nvidia_scripts1.html -- it builds deb packages for the newest driver and installs them.

To get Feisty working you could try the following

1. Use text based install from alternate CD via textmode

2. After reboot, switch to the command line (CTRL+ALT+F1) and update the kernel
<pre>
sudo apt-get update
</pre>
and
<pre>
sudo apt-get dist-upgrade
</pre>

3. Install the xserver-xorg-video-intel driver
<pre>
sudo apt-get install xserver-xorg-video-intel
</pre>

and reconfigure the xorg.conf
<pre>
sudo dpkg-reconfigure xserver-xorg
</pre>

Select the intel driver and set the color depth to 16 bits.

4. reboot and the xserver works but you don't get power management.
To get the Power Management working:

add line "blacklist video"  to /etc/modprobe.d/blacklist

edit your /boot/grub/menu.lst and remove acpi=off

Reboot and you should have a working Feisty desktop

5. Sound module needs restarting after Resuming. See Hardy (beta) notes. Probably FIXED in 8.04.1

----
CategoryLaptop

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



* Contact:  HP2133 Contact Needed
* Make:  Hewlett-Packard
* Brand:  Mini-Note
* Model:  2133
* Website:  <nowiki>[[http://h10010.www1.hp.com/wwpc/us/en/sm/WF25a/321957-321957-64295-321838-306995-3687084.html|HP 2133 Mini-Note]]</nowiki>
<<BR>>
* Launchpad HP2133 Related Info Quick Link: <nowiki>[[https://wiki.ubuntu.com/LaptopTestingTeam/HP2133?action=fullsearch&context=180&value=hp2133&titlesearch=Titles|HP 2133 QuickLink]]</nowiki>
* Use Quick Link to find OLD HP2133 setup articles. 
=== Current Issues/News ===

* This page being re-worked for a clean informative step by step guide to Ubuntu on the HP2133.

* There are now VIA binary drivers available for Ubuntu 9.10 and 10.04 from the VIA Linux Portal. <<BR>>
5.75.32.87a-u910-55689   for Ubuntu 9.10 (Released 04.08.2010) <<BR>>
5.75.32.87a-u1004-55689 for Ubuntu 10.04 (Released 04.08.2010)

* Due to video issues with some models, Ubuntu 10.04 LTS Alternate CD install is recommended. (Text Install)

* Install/Boot may fail even using failsafe Vesa with the latest BIOS versions. <<BR>>
   (Blank screen or Screen corruption followed by lock up) <<BR>>
 It may be necessary to re-flash the BIOS with an earlier version (download these from the HP website). <<BR>>
 (Recommend BIOS Version F.04).

=== Ubuntu 10.04 LTS Notes ===
VIA Binary Video Drivers Working. <<BR>>
CPU Scaling is supported with Ubuntu 10.04. <<BR>>
Webcam works out of the box (Webcam tested with Cheese & Skype). <<BR>>
Wifi works out of the box (Wifi drivers installed via Hardware Drivers Tool). <<BR>>
ALSA (Sound) drivers shipped with 10.04 require update from 1.0.21 to 1.0.23.  

If you install from USB pen drive you may have problems mounting USB pen drives after install. <<BR>>
See this thread for more information on how to correct the problem: <nowiki>[[http://ubuntuforums.org/showthread.php?t=574988|Fix USB mounting]]</nowiki>

=== Default Installs ===
Ubuntu - Works fine. <<BR>>
XUbuntu - Works fine.

UNR - The interface to Ubuntu Netbook Release performs poorly and NEEDS hardware acceleration to be usable. <<BR>>

=== ALSA Update ===
The ALSA driver version 1.0.21 shipped with Ubuntu 10.04 causes the HP 2133 sound device (VT1708/A) to disappear shortly after boot. <<BR>>
If you have this issue, You will need to update ALSA drivers. <<BR>>
Please use the script from <nowiki>[[http://ubuntuforums.org/showthread.php?t=1046137|ALSA-Update]]</nowiki>, to fix this issue.

=== Microphone Fix ===
The microphone inputs on the HP2133 need to be remapped for loud and clear internal microphone usage. <<BR>>
We will map the Internal Microphone to Port C of the (VT1708/A) sound device.
<<BR>> <<BR>>
===== First we will set the sound chip pin configuration to "mobile". =====
Open a terminal and type. 
<pre>
    sudo gedit /etc/modprobe.d/alsa-base.conf
</pre>

Add the line at the end of the file (Or modify any existing one).
<pre>
    options snd_hda_intel model=mobile
</pre>
Reboot to make this change take effect. <<BR>>
<<BR>>
===== Second we will map the microphone to port C. =====
The HDA-Verb tool is needed to do this. Download the latest version from <nowiki>[[http://kernel.org/pub/linux/kernel/people/tiwai/misc/hda-verb/|kernel.org]]</nowiki> <<BR>>
The following example shows how to download, extract and make (compile) the program. <<BR>>
Example, Open a terminal and type the following lines. 
<pre>
wget http://kernel.org/pub/linux/kernel/people/tiwai/misc/hda-verb/hda-verb-0.3.tar.bz2

tar -xvjf hda-verb-0.3.tar.bz2 

cd hda-verb-0.3

make
</pre>

Then copy it to your system.
<pre>
sudo cp hda-verb /bin
</pre>

Now you have hda-verb ready, You can map the Microphone.
<pre>
sudo hda-verb /dev/snd/hwC0D0 0x15 SET_PIN_WIDGET_CONTROL 0x03a1
</pre>
<<BR>>
===== Third, We will set Internal Mic & Capture levels. =====
Use amixer (or alsamixer/gnome-alsamixer) to set your Capture and Internal Mic levels. <<BR>>
<pre>
amixer set "Internal Mic" 100
amixer set "Capture" 39
</pre>

You can now test the Microphone with Sound Recorder or some similar Audio program. <<BR>>
(alsa mixer settings and hda-verb must be run each reboot) <<BR>>

===== Fourth, Map the Microphone on Bootup =====
We will edit rc.local so Mic is mapped on bootup. <<BR>>
Open a terminal and type. 
<pre>
    sudo gedit /etc/rc.local
</pre>

Add the line at the end of the file.
<pre>
hda-verb /dev/snd/hwC0D0 0x15 SET_PIN_WIDGET_CONTROL 0x03a1
</pre>

Note, I'm unable to get "Internal Mic" volume to stick on reboot. <<BR>>
You have to manually set it with amixer, alsamixer or gnome-alsamixer each reboot. <<BR>>

Reference material: <<BR>>
<nowiki>[[http://www.analog.com/static/imported-files/data_sheets/AD1984A.pdf|Chip verb settings]]</nowiki> <<BR>>
<nowiki>[[http://kernel.org/pub/linux/kernel/people/tiwai/misc/hda-verb/|HD-Verb program]]</nowiki>

=== 5.75.32.87a-u1004-55689 VIA Binary Video Drivers for Ubuntu (Released 04.08.2010) ===
The 5.75.32.87a-u1004-55689 drivers appear to install without issue. <<BR>>
Non-RandR configuration is working. <<BR>>
RandR configuration is not working. (Under Investigation) <<BR>>
Here is a sample Non-RandR xorg.conf file for LCD display only. <<BR>>
<pre>
Section "ServerLayout"
       Identifier	"Default Layout"
       Screen		"Default Screen"
       InputDevice	"Mouse"
       InputDevice	"Keyboard"
	Option	"RandR"	"false"
EndSection

Section "Files"
       ModulePath   "/usr/lib/xorg/modules"
EndSection

Section "InputDevice"
       Identifier	"Keyboard"
       Driver		"kbd"
       Option		"XkbRules"	"xorg"
       Option		"XkbModel"	"pc105"
       Option		"XkbLayout"	"cn"
EndSection

Section "InputDevice"
       Identifier	"Mouse"
       Driver		"mouse"
       Option		"CorePointer"
EndSection

Section "Monitor"
       Identifier	"LCD"
       Option	"Enable"	"true"
EndSection

Section "Monitor"
       Identifier	"CRT"
       Option	 "Enable"	"false"         
EndSection	

Section "Monitor"
       Identifier	"DVI"
       Option	 "Enable"	"false"
EndSection	

Section "Monitor"
       Identifier	"TV"
       Option  "Ignore"	"true"
EndSection	

Section "Monitor"
       Identifier	"HDMI"
       Option  "Ignore"	"true"
EndSection	

Section "Monitor"
       Identifier	"CRT-2"
       Option	  "Ignore"	"true"
EndSection

Section "Monitor"
       Identifier	"LCD-2"
       Option	  "Ignore"	"true"
EndSection

Section "Monitor"
       Identifier	"DVI-2"
       Option	  "Ignore"	"true"
EndSection

Section "Monitor"
       Identifier	"TV-2"
       Option	  "Ignore"	"true"
EndSection

Section "Device"
	BusID "PCI:01:00:0"
	Driver 	"via"
	VendorName  	"VIA Tech"
	BoardName   	"via"
	Identifier	"Configured Video Device"
	Option		"AccelMethod"	"EXA"
	Option		"MigrationHeuristic" "greedy"
	Option		"ActiveDevice"	"LCD"
EndSection

Section "Screen"
       DefaultDepth 24
       SubSection "Display"
              Modes "1280x768"
              Depth  24
       EndSubSection
       Identifier	"Default Screen"
       Device		"Configured Video Device"
EndSection

Section "Module"
      Load  "glx"
      Load  "dri"
      Load  "extmod"
EndSection

Section "DRI"
       Group 0
       Mode 0666
EndSection

Section "Extensions"
	Option	"Composite"			"Enable"
EndSection

</pre>
 

=== User Related Comments (Some issues may be resolved) ===
VIA Video Binaries MUST be used for a pleasant experience.

There are minor problems as follows: <<BR>>

Known issues: 
* <nowiki>[[https://bugs.launchpad.net/netbook-remix/+bug/358793|358793]]</nowiki> - UNR jaunty: Slow menu interface, high CPU load
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/gnome-power-manager/+bug/233920|233920]]</nowiki> - Sleep on lid close work only 1 time

Fix available for issues:

* <nowiki>[[https://bugs.launchpad.net/ubuntu/+bug/359291|359291]]</nowiki> - Broadcom wi-fi card doesn't work after suspend/hibernate
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/355918|355918]]</nowiki> - resolution problem starting X with the wlan network controler activated - Fixed in Karmic Koala in openchrome 1:0.2.903+svn758-0ubuntu1

[Dirk-Heine Hofstede] I installed it at my HP mini-note 2133, and except that the UNR interface reacts slow (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-openchrome/+bug/358793|workaround available]]</nowiki>) I didn't encounter any problems so far. My wi-fi card just ran normal and made connection again after I woke my mini up(I have done this only once yet). I didn't use the build in microphone yet, so I can't say anything about that.

[Dipock Das] I also installed it on my HP mini-note 2133 and did not have any problems. The WIFI runs fine even after suspend/hibernate.

[lean-mini] I updated my Ubuntu 9.04 Jaunty Karmic Koala to 9.10, the update ran alone, and why in a moment I switched off the wifi, data was saved and reconnect everything was running fine.
While at first the touchpad was a little stuck, restarting solved the little problem. Although in the beginning you could hear the sound of drums, then do not reproduced sound. Just an update with the manager and reboot for this to be solved (or at least it happened to me, not if related). Everything is working well. More info http://ubuntuforums.org/showthread.php?t=1312633&highlight=2133

[ Oz''Falcon ]
A flawless 10.04 Alternate CD install using external usb cd drive. <<BR>>
The Broadcom Wi''Fi appeared to lock up the system when trying to do initial updates. <<BR>>
This was resolved by temporally disabling the Wi''Fi (Slide button so led is orange), And immediately installing Broadcom STA drivers (Via the hardware drivers utility) <<BR>>
Video playback, resize & fullscreen works well using 5.75.32.87a-u1004-55689 VIA Binary Video Drivers. <<BR>>
No 3d using 5.75.32.87a-u1004-55689 VIA Binary Video Drivers in Non-Rand Mode. (Under Investigation) <<BR>>

[vagrale13] If try to install Ubuntu 10.04.1 LTS and freeze before ending(about 79%), then must be start again the install and add to boot options acpi=off <<BR>>

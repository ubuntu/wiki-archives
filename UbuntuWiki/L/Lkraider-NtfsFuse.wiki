{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

THIS PAGE IS OBSOLETE

=== NTFS read/write with Fuse ===

These instructions are for Dapper and have not been tested on Breezy or Edgy. 
However, it should work if you install the <nowiki>[[http://packages.ubuntulinux.org/breezy/libs/libfuse2|fuse library]]</nowiki> and the <nowiki>[[http://www.linux-ntfs.org/content/view/19/37/|ntfsprogs-fuse]]</nowiki> package.

<pre>
sudo apt-get install libfuse2 ntfsprogs fuse-utils
</pre>

As Dapper has already includes support for NTFS & Fuse, enabling should be pretty simple, just follow these steps:

----
~+WARNING!+~ '''Ntfs writing support is still very experimental! You should not enable it on production machines and/or volumes you don't have backups of. Proceed at your own risk!'''
----

==== Enable Fuse Module ====

<pre>
bash:~$ sudo modprobe fuse
</pre>

==== Mounting a NTFS Device ====

Make sure to replace /dev/hda1 with the NTFS volume (you can list them using <code>sudo fdisk -l</code> in a terminal) and also change /media/hda1 to  
your mount point of preference.

<pre>
bash:~$ sudo ntfsmount /dev/hda1 /media/hda1 -o umask=0007
</pre>

If you get this error:

<pre>
fusermount: failed to open /dev/fuse: No such file or directory
fuse_mount failed.
</pre>

First try , :

<pre>
modprobe fuse
</pre>

If the error still occurs, then try:

<pre>
sudo mknod -m 666 /dev/fuse c 10 229
</pre>

This command was found <nowiki>[[http://person.sol.lu.se/JohanFrid/webapps/pmwiki/index.php/Main/Ubuntu|here]]</nowiki> and has worked for some users.

==== Check Mounting ====

<pre>
bash:~$ sudo ls /media/hda1 -l
</pre>

Try creating a new file in it, for example:

<pre>
bash:~$ sudo dmesg > /media/hda1/my_dmesg_log.txt
</pre>

With this, you should have now access to editing, deleting and creating files on the ntfs partition.

=== Auto Mount ===

To make it automount (or more easily mountable), and also available to users (other than the superuser), follow these steps:

==== Edit Fstab ====
<pre>

floppy
nvidia
fuse
</pre>

==== Create a Group ====
<pre>
bash:~$ sudo addgroup ntfs
</pre>
The output should look like this:
<pre>
Adding group `ntfs' (1002)...
Done.
</pre>
Notice the group GID (the number printed after the group name), we will need it.

==== Add Users ====

Add the allowed users to the group (replace ''username'' by a real user of the system): 
<pre>
bash:~$ sudo adduser username ntfs
</pre>
Repeat as necessary.

==== Edit the Fstab ====

Edit the /etc/fstab file to mount your ntfs partition. Add a line like this:
<pre>
/dev/hda1     /media/hda1    ntfs-fuse       auto,gid=1002,umask=0007       0       0
</pre>
Notice the use of the group's GID, and the umask to allow access just to owner and group.

You could modify it to make one user have read/write access, and a group of users just read access, by defining a user UID and different umask. Example: <code>uid=1001,gid=1002,umask=0027</code>.

If when you run:

<pre>
sudo mount -a
</pre>

You get:

<pre>
mount: unknown filesystem type 'ntfs-fuse'
</pre>

Then try:

<pre>
sudo rm /sbin/mount.ntfs-fuse && sudo ln /usr/bin/ntfsmount /sbin/mount.ntfs-fuse
</pre>

I found this information here http://ubuntuforums.org/showthread.php?t=142481&page=3

=== Links ===

More on umask values can be found at this <nowiki>[[http://www.redhat.com/magazine/014dec05/departments/ask_shadowman/|RedHat magazine article]]</nowiki>.

Information on ntfsmount can be found on it's <nowiki>[[http://wiki.linux-ntfs.org/doku.php?id=ntfsmount|About ntfsmount page]]</nowiki>.

~-v.1.4-~

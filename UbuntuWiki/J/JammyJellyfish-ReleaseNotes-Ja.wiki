{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;">
|}

== Jammy Jellyfish リリースノート ==

== イントロダクション ==
このリリースノートには、'''Ubuntu 22.04 LTS''' (Jammy Jellyfish) のリリース概要と Ubuntu 22.04 LTS とそのフレーバーに関する既知の不具合を記述しています。

=== サポート期間 ===

Ubuntu Desktop、Ubuntu Server、Ubuntu Cloud、Ubuntu Coreのメンテナンスアップデートは <nowiki>[[https://wiki.ubuntu.com/Releases|2027年4月]]</nowiki> まで5年間サポートされます。そのほかすべてのフレーバーは3年間サポートされます。追加のセキュリティサポートは<nowiki>[[https://ubuntu.com/security/esm|ESM (Extended Security Maintenance)]]</nowiki> が利用できます。

== Ubuntu 22.04 LTS を入手する ==

=== Ubuntu 22.04 LTS をダウンロードする ===

イメージはお近くのミラーサイトからもダウンロードできるでしょう。

ISO およびフラッシュ可能なイメージはこちらからダウンロードできます： 

** <nowiki>[[http://releases.ubuntu.com/22.04/|AMD64 向け Ubuntu デスクトップとサーバー]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/ubuntu/releases/22.04/release/|余りダウンロードされない Ubuntu イメージ]]</nowiki>
** <nowiki>[[http://cloud-images.ubuntu.com/daily/server/jammy/current/|Ubuntu Cloud イメージ]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/lubuntu/releases/22.04/release/|Lubuntu]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/kubuntu/releases/22.04/release/|Kubuntu]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/ubuntu-budgie/releases/22.04/release/|Ubuntu Budgie]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/ubuntukylin/releases/22.04/release/|Ubuntu Kylin]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/ubuntu-mate/releases/22.04/release/|Ubuntu MATE]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/ubuntustudio/releases/22.04/release/|Ubuntu Studio]]</nowiki>
** <nowiki>[[http://cdimage.ubuntu.com/xubuntu/releases/22.04/release/|Xubuntu]]</nowiki>

== Ubuntu 21.10からアップグレードする ==
 

デスクトップ環境でのアップグレード手順は次のとおりです：

* システム設定から「ソフトウェアとアップデート」を開きます。
* 3番目の「アップデート」と書かれたタブを選択します。
* 「Ubuntu の新バージョンの通知」のドロップダウンメニューを「すべての新バージョン」にします。
* Alt + F2 を押してコマンドボックスに"update-manager -c" と入力します(ダブルクオーテーションは付けません)。
** 「ソフトウェアの更新」が開いて、次のように表示されるはずです: 「Ubuntu 22.04 が入手可能です」
* 上記のようにならない場合は"/usr/lib/ubuntu-release-upgrader/check-new-release-gtk"も利用することができます。
* 「アップグレード」を押し、画面に表示される指示に従います。

サーバー環境でアップグレードするには、次の手順を用います：

* /etc/update-manager/release-upgrades の Prompt 行が 'normal' に設定されていることを確認します。
* sudo do-release-upgradeのコマンドでアップグレードツールを起動します。
* 画面に表示される指示に従います。
 
注意：サーバーのアップグレードでは GNU screen を使用しており、通信が切断されてしまった場合などでも自動的に再アタッチします。

Ubuntu デスクトップおよび Ubuntu サーバーのオフラインでのアップグレードオプションはありません。公式ミラーや、各地の接続可能なミラーのいずれかにネットワーク接続できることを確認して、上記の指示に従ってください。

== 22.04 LTS の新機能 ==

=== アップデートされたパッケージ ===

=== Linux カーネル 🐧 ===

Ubuntu 22.04 LTSはプロダクト毎に最適化されたカーネルを提供します:

* Ubuntu デスクトップは、最新世代の認定デバイスでは自動的に<nowiki>[[https://kernelnewbies.org/Linux_5.17|v5.17]]</nowiki>カーネルを選択します(`linux-oem-22.04`)。
* Ubuntu デスクトップは、他のすべての世代のハードウェアでRolling HWEカーネル（`linux-hwe-22.04`）を使用します。Rolling HWEカーネルは、22.04.0および22.04.1ポイントリリース用の<nowiki>[[https://kernelnewbies.org/Linux_5.15|v5.15]]</nowiki>カーネルをベースにしています。
* Ubuntu ServerはRolling LTSカーネルでないv5.15をデフォルトにしています(`linux-generic`)。
* Ubuntu CloudやDevicesはパートナーとの協業により、最適化されたカーネルを利用します（バックポートや機能の追加を含むv5.15+）。
 
追加の最適化や認定されたカーネルフレーバーは、Ubuntu 22.04 LTSで間もなく利用可能になります。

==== NFSマウントでUDPが無効化されました ====

Ubuntu 20.10 ("Groovy Gorilla")から、カーネルオプションである `CONFIG_NFS_DISABLE_UDP_SUPPORT=y` が設定され、NFSのバージョンにかかわらずNFSマウントでUDPの利用が無効化されました。

実際に、`udp` が設定されると以下のエラーが発生します:

<pre>
$ sudo mount f1:/storage /mnt -o udp
mount.nfs: an incorrect mount option was specified
</pre>

=== ツールチェインの更新 🛠️ ===

GCCは11.2.0リリース、binutilsは2.38、そしてglibcは2.35に更新されました。🐍 Pythonは3.10.4、🐫 Perlは5.34.0が含まれています。LLVMはデフォルトでバージョン14に、golangはバージョン1.18.xに、rustcはバージョン1.58となりました。

OpenJDK 11に加え、OpenJDK 18が提供されるようになりました(ただし、パッケージのビルドには利用できません)。

💎 Ruby はv2.7.4からv3.0に更新しました。

=== systemd v249.11 ===

initシステムは、LTS向けの堅実な .11パッチレベルを使用したsystemd v249に更新しました。個別の機能に関するより詳細な情報はupstreamの<nowiki>[[https://github.com/systemd/systemd/releases/tag/v249|changelog]]</nowiki>をご確認ください。Ubuntu デスクトップフレーバーでは、デフォルトでユーザスペースでのOOMDサービスを有効にし、systemd-oomdパッケージを提供しています。これは、システムの過負荷やカーネルのOOM killer起動が必要になるのを回避するためのものです。OOMDの状態は `oomctl` を使って確認することができます。

=== OpenSSL 3.0 ===

OpenSSLライブラリを新しいバージョン3.0にアップグレードしました。これによって、<nowiki>[[https://www.openssl.org/docs/manmaster/man7/migration_guide.html|移行ガイド]]</nowiki>で詳しく説明されているように、デフォルトで多くのレガシーアルゴリズムが無効になります。特に、ハッシュアルゴリズムとしてSHA1またはMD5を使用する証明書は、デフォルトのセキュリティレベルでは無効になりました。

Upstreamで非推奨となっているのに加えて、Ubuntu 20.04(Focal Fossa)以降、デフォルトのセキュリティレベル2ではバージョン1.2未満の(D)TLSプロトコルが無効になっていることに注意してください。 

新しいバージョンはAPIを更新し、古いABIを提供されなくなったことから、libssl1.1に依存するサードパーティパッケージは、再構築してlibssl3に依存する必要があります。

=== セキュリティの改善 🔒 ===

nftablesは現在、ファイアウォールのデフォルトのバックエンドです。システム上のすべてのアプリケーションは、従来の `xtables` バックエンド、もしくは新しい `nftables` バックエンドのどちらを使用するかに同意する必要があります。<nowiki>[[https://bugs.launchpad.net/bugs/1968608|Bug 1968608]]</nowiki>は、役に立つかもしれないいくつかの背景を提供しています。<nowiki>[[https://github.com/docker-snap/docker-snap/issues/68|Dockerは、新しいnftablesバックエンドに対応できていない可能性があります]]</nowiki>。

`ssh-rsa` は <nowiki>[[https://www.openssh.com/txt/release-8.8|OpenSSHではデフォルトで無効になりました]]</nowiki>。必要であれば、選択的に再び有効にする方法については、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/openssh/+bug/1961833|bug 1961833]]</nowiki>をご覧ください。SSH経由でリモートからシステムをアップグレードする場合は、アップグレード後もアクセスを維持するためこの内容に依存していないかどうかを確認しておく必要があります。

`scp` には <nowiki>[[http://manpages.ubuntu.com/manpages/jammy/en/man1/scp.1.html|-s コマンドラインオプション]]</nowiki>があり、リモートファイル名を処理する際に <nowiki>[[https://www.openssh.com/txt/release-8.9|scpモードではなく、sftpモードを使用します]]</nowiki>。この新しく、より安全な動作は最終的にデフォルトとなる予定です。

=== Ubuntu Desktop ===

* Ubuntuは、ダークスタイルとライトスタイルそれぞれについて、<nowiki>[[https://discourse.ubuntu.com/t/yaru-accent-colors-are-coming-to-jammy/27200|10色のキーカラーの選択]]</nowiki>ができるようになりました
* Firefoxはsnapでのみ提供されるようになりました。以下のいくつかの利点があります
** Mozillaによる直接のメンテナンス
** Ubuntu LTSのライフサイクル全体において、保守性がより高くなります。
** … つまり、最新バージョンのFirefoxにすばやくアクセスできるようになります。
** `esr/stable`、`latest/candidate`、`latest/beta`、`latest/edge`などのsnapチャネルを利用して、異なるFirefoxのフレーバーに簡単に切り替えられます。
** サンドボックス化により、この重要なアプリのセキュリティ強化が図られています。
* デスクトップアイコンはデフォルトで右下に表示されますが、これは設定の外観パネルに追加された新しい設定で変更できます。
* Dockの外観と動作を制御するための新しい設定もあります
* ドックデバイスとファイルマネージャーの統合が改善されました

==== GNOME 👣 ====

* GNOMEが更新され、<nowiki>[[https://release.gnome.org/41/|GNOME41]]</nowiki>および<nowiki>[[https://release.gnome.org/42/|GNOME42]]</nowiki>の新機能と修正が含まれるようになりました。
* いくつかのアプリケーションは、LTSデスクトップにより実績のある体験を提供するため、多くはlibadwaitaを回避することで、まだ41のバージョン番号になっています。
* 新しいクロスデスクトップである<nowiki>[[https://discourse.ubuntu.com/t/ubuntu-22-04-lts-dark-style-changes/27206|ダークスタイル]]</nowiki>設定がサポートされています。
* GNOME Shellとmutterはトリプルバッファリングのパッチを含む多くのパフォーマンス改善がおこなわれました。
* Nvidiaグラフィックカードを持たない、ほとんどのシステムのデフォルトセッションはWaylandになりました。 Wayland以外のセッションが必要な場合、ログイン画面で名前を選択した後に歯車ボタンをクリックして '''''Ubuntu on Xorg''''' セッションを選択できます。
* プライバシースクリーンを伴うハードウェアがサポートされるようになりました。
* デスクトップをリモートで共有するためのRDPが使用できるようになりました。レガシーなVNCは引き続き利用できますが、セキュリティやプライバシー、そしてパフォーマンスを向上させるためにRDPを使用することを強く推奨します。以前にVNCを使用していた場合、設定でデスクトップ共有を手動で再度有効にし、新しいログイン情報を取得する必要があります。
 
==== アプリケーションの更新 ====

* Firefox 99 🔥🦊
* <nowiki>[[https://wiki.documentfoundation.org/ReleaseNotes/7.3|LibreOffice 7.3]]</nowiki> 📚
* Thunderbird 91 🌩🐦

==== サブシステムの更新 ====

* <nowiki>[[https://git.kernel.org/pub/scm/bluetooth/bluez.git/tree/ChangeLog?id=5.63|BlueZ 5.63]]</nowiki>
* <nowiki>[[https://github.com/OpenPrinting/cups/blob/v2.4.1/CHANGES.md|CUPS 2.4]]</nowiki>
* <nowiki>[[https://gitlab.freedesktop.org/NetworkManager/NetworkManager/-/blob/nm-1-36/NEWS|NetworkManager 1.36]]</nowiki>
* <nowiki>[[https://docs.mesa3d.org/relnotes/22.0.0.html|Mesa 22]]</nowiki>
* <nowiki>[[https://gitlab.freedesktop.org/poppler/poppler/-/blob/poppler-22.02.0/NEWS|Poppler 22.02]]</nowiki>
* <nowiki>[[https://www.freedesktop.org/wiki/Software/PulseAudio/Notes/16.0/|PulseAudio 16]]</nowiki>
* <nowiki>[[https://github.com/flatpak/xdg-desktop-portal/blob/1.14.2/NEWS|xdg-desktop-portal 1.14]]</nowiki>

=== Ubuntu Server ===

==== Ubuntu HA/Clustering ====

===== Corosync =====

いくつかの新しい機能を含むバージョン3.16に更新されました:

* 実行時の暗号化構成の変更をサポート。これには、暗号化のオンとオフの切り替え、 '''''crypto_cipher''''' と '''''crypto_hash''''' の変更、また暗号化キーの変更が含まれます。
* デフォルトのトークンタイムアウトが1秒から3秒に変更されました。
* '''''corosync -v''''' を実行し、corosync.confでサポートされる暗号化モデルと圧縮モデルの一覧を取得できます
* Cgroup v2のサポート。

すべての変更一覧は、<nowiki>[[https://github.com/corosync/corosync/releases|upstreamのリリースノート]]</nowiki>を参照してください。

===== Pacemaker =====

いくつかの新しい機能を含むバージョン2.1.2に更新されました:

* 新機能である '''''priority-fencing-delay''''' の追加。オプションで、各ノードの実行中のリソースの「リソース優先度」からノードの優先度を取得できます。
* promoteしたリソースのリカバリポリシーである、 '''''on-fail=demote''''' と '''''no-quorum-policy=demote''''' の追加。
* OCFリソースエージェントAPI 1.1 スタンダードのサポート。
* '''''crm_mon''''' と '''''crm_resource''''' の多くの改良。

すべての変更一覧は、<nowiki>[[https://github.com/ClusterLabs/pacemaker/releases|upstreamのリリースノート]]</nowiki>を参照してください。

Ubuntu Focal 20.04のバージョンとの注目すべき違いは、デフォルトの構成ファイルでノード名がnode1として定義されなくなったことです。現在はuname-nの出力がデフォルトのノード名として使用されています。

===== Resource agents =====

バージョン4.7.0に更新されました。Ubuntu Focal 20.04からの変更の一覧は<nowiki>[[https://github.com/ClusterLabs/resource-agents/blob/main/ChangeLog#L95-L219|こちら]]</nowiki>を確認してください。

エージェントはresource-agents-baseとresource-agents-extraの2つのパッケージに分割されました。resource-agents-baseパッケージには、Ubuntu Serverチームによってキュレーションされたエージェントが含まれています。これは、自動テストが継続的インテグレーションシステムで実行され、エージェントの品質が保証されています。resource-agentsパッケージは、resource-agents-baseとresource-agents-extraの両方に依存するメタパッケージになりました。resource-agentsパッケージは、将来のリリースで削除されることに注意し、このパッケージに依存しないことをお勧めします。

===== Fence agents =====

バージョン4.7.1に更新されました。

エージェントはfence-agents-baseとfence-agents-extraの2つのパッケージに分割されました。fence-agents-baseパッケージには、Ubuntu Serverチームによってキュレーションされたエージェントが含まれています。これは、自動テストが継続的インテグレーションシステムで実行され、エージェントの品質が保証されています。fence-agentsパッケージは、fence-agents-baseとfence-agents-extraの両方に依存するメタパッケージになりました。fence-agents-baseパッケージは、将来のリリースで削除されることに注意し、このパッケージに依存しないことをお勧めします。

==== コンテナーランタイム ====

===== containerd =====

バージョン1.5.9に更新されました。いくつかの興味深い変更があります:

* 記述子内のhttps以外のURLを処理するようにpullを更新
* arm64用apparmorパーサーのインストール、seccompの2.5.1への更新
* seccompが有効になっている場合の特定のイメージの問題を修正する '''''clone3''''' syscallサポートの追加
* CRIコンテナの作成にイメージ設定ラベルを追加

すべての変更一覧は、<nowiki>[[https://github.com/containerd/containerd/releases|upstreamのリリースノート]]</nowiki>を参照してください。

===== runc =====

バージョン1.1.0に更新されました。<nowiki>[[https://github.com/opencontainers/runc/releases|upstreamのリリースノート]]</nowiki>でもわかるように、多くの改良やバグフィックスがあります。アップグレードに影響を与える可能性のあるいくつかの非推奨と削除項目を以下に記します:

非推奨

* runc run/start は、新しいコンテナcgroupが空でないか凍結されている場合に警告するようになりました。この警告は、runc1.2ではエラーになります

削除

* cgroup.!GetHugePageSizesは完全に削除され、より効率的なcgroup.!HugePageSizesに置き換えられました。
* intelrdt.!GetIntelRdtPathは削除されました。この関数を使用してintelrdt rootを取得していたユーザーは、代わりに新しいintelrdt.Rootを使用する必要があります。

==== Ruby 3.0 ====

デフォルトのRubyインタープリターはバージョン3.0に更新されました。このバージョンのゴールは、パフォーマンス、並行性、および型定義です。クールな機能と改善点の概要については、<nowiki>[[https://www.ruby-lang.org/en/news/2020/12/25/ruby-3-0-0-released/ | Ruby 3.0リリースアナウンス]]</nowiki>を確認してみてください。

以前のUbuntuのリリース(Ubuntu Focal 20.04以降)からのユーザーは、Ruby 2.7から3.0に移行します。この場合<nowiki>[[https://www.ruby-lang.org/en/news/2019/12/25/ruby-2-7-0-released/|Ruby2.7のリリースアナウンス]]</nowiki>も役立つ可能性があります。覚えておくべき重要なことは、次のライブラリがRubyにバンドルされなくなったことです:

* sdbm
* webrick
* net-telnet
* xmlrpc

これらのライブラリが必要な場合は、個別でインストールを行ってください。

アプリケーションをRuby 3.0に移行するときは、Ruby 3.0リリースアナウンスのその他の注目すべき 2.7 からの変更点に注意してください。

==== PHPはデフォルトでバージョン8.1.2になりました ====

PHP 8.1には、多くの新機能が含まれています: 列挙型は、特定の値の集合に制限されたカスタム型を定義ができ、constsを利用することに似ていますが、より優れた型チェックができるようになります。Readonlyプロパティは、初期化後に値が変更されることを防ぎます。第一級(First-class) callable構文を使用すると、静的分析をPHPコードで実行するのが簡単になり、Closuresなどの無名関数を作成できます。交差型を使用すると、複数の型の制約を満たす必要がある関数パラメーターを指定できます: 共用体型がA|B型の関係を表現するのと同じように、交差型はA&B型を表現できるようになりました。ファイバー(Fibers)、finalクラス制約、never return値、明示的な8進数表記、新しい内部初期化子の使用など、他の多くの新機能により、より厳密で表現豊かなPHPのコードを書けるようになりました。

PHP 8.1はパフォーマンスにも大きな注目があり、PHP 8.0と比較してSymfony Demoテストでは23%、!WordPressでは3.5%の高速化を実現しています。PHP 8.1に含まれるパフォーマンス関連の機能には、継承キャッシュ、高速なクラス名解決、timelib、ext/date、SPLファイルシステムイテレーター、シリアル化/非シリアル化、および頻繁に使用されるいくつかの内部関数に対してのさまざまな最適化が含まれています。

PHP 7.4のユーザーは、バージョン8で<nowiki>[[https://wiki.php.net/rfc/deprecations_php_7_4 |いくつかの非推奨の機能]]</nowiki>が削除され、アップグレード時にアプリケーションに適切な変更を加える準備をする必要があることに注意してください。

==== OpenLDAP 2.5.x シリーズ ====

Ubuntu Focal 20.04 から更新する場合、Ubuntu Jammy 22.04 で新しいOpenLDAPのメジャーリリースであるバージョン2.5.11に出会うしょう。このリリースでは、いくつかの変更や新機能、非推奨/削除が行われます。アップグレードの過程で注意すべき点を、網羅的でないリストで紹介します:

* シェル (`slapd-shell`)、BDBとHDBバックエンドが削除されました。
* `ppolicy` モジュールは組み込みスキーマで提供されるようになりました。外部の `ppolicy` スキーマは削除されました。
* `nssov` モジュールは削除されました。

特定の状況では、インストール後のスクリプトが現在のインストールを新しいフォーマットに '''正常に移行できない''' 可能性があります（たとえば、BDB/HDBなどの古いバックエンドを使用している場合）。この場合、失敗が通知され、`slapd` サーバーは '''（再）起動しません''' ので、データを移行してサービスを起動するために手動で対処する必要があります。より詳しい情報は<nowiki>[[https://git.launchpad.net/ubuntu/+source/openldap/tree/debian/slapd.README.Debian?h=ubuntu/impish-devel|README.Debian]]</nowiki> ファイル (`/usr/share/doc/slapd/` 配下にあります)を確認してください。

==== BIND 9.18 ====

BIND 9は<nowiki>[[https://bind9.readthedocs.io/en/v9_18_1/notes.html|バージョン 9.18.1]]</nowiki>に更新されました。この新しいバージョンには以下の内容が含まれます

* DNS over TLS (DoT) と DNS over HTTPS (DoH)のサポート
* `named` は、受信と送信双方のゾーン転送にTLS上でのゾーン転送(XFR-over-TLS, XoT)をサポートするようになりました。
* `dig` は、DoTクエリーを送信できるようになりました。

旧バージョンからアップグレードされるユーザーは、以下の変更点にご注意ください:

* デーモンでも管理プログラムでもないバイナリファイルは、 `/usr/sbin` から `/usr/bin` に移動しました。
* マップゾーンファイル形式のサポートは削除されました。このようなゾーンファイル形式に依存しているユーザーは、アップグレード前に、raw形式を使用するようにゾーンを変換し、それに応じて設定を変更する必要があります。
* いくつかの廃止された、機能しない設定オプションが削除され、存在する場合は設定の失敗として扱われるようになりました。このような設定の完全な一覧は、<nowiki>[[https://bind9.readthedocs.io/en/v9_18_1/notes.html#removed-features|upstreamリリースノート]]</nowiki>にあります。

==== Apacheは2.4.48から2.4.52に更新しました ====

* OpenSSLサポートはOpenSSL v3をサポートするように改良されました。mod_sslは、外部への接続動作、下位互換性、wiresharkロギングについてもさまざまな改良を加えました。
* mod_mdは、ACME外部アカウントバインディング(EAB)のサポートを、他の多くの機能強化と修正とともに追加します。
* ホスト名とUDS URIのチェックと処理の改善、ステータスコードの応答など、多数の修正。
 
==== PostgreSQL 14 ====

PostgreSQLはバージョン14.2に更新しました。

この更新は、以下を含む、多くの新機能や機能強化が含まれています:

* ストアドプロシージャOUTパラメーターをデータで返すようになりました。
* 一般的なテーブル式に、SQL標準の SEARCH および CYCLE オプションが実装されました
* 添え字が、配列だけでなく、有用な記法としてあらゆるデータ型に適用できるようになりました。このリリースでは、jsonb型とhstore型に添え字演算子が追加されました。
* レンジ型にマルチレンジが追加され，非連続のデータレンジを表現できるようになりました。
* 並列クエリ、重同期ワークロード、パーティショニングされたテーブル、論理レプリケーション、バキューム処理において、多くの性能向上が行われました。
* B-treeインデックスの更新をより効率的に管理し、インデックスの肥大化を抑制します。
* VACUUMは、データベースがトランザクションIDの周回条件に近づき始めると、自動的に積極的に不要なクリーンアップをスキップします。
* 式に対して拡張された統計情報を収集できるようになり、複雑なクエリに対してより良い計画結果を得られるようになりました。
* libpqは複数のクエリをパイプライン化できるようになり、高レイテンシ接続におけるスループットが向上しました。

これらや機能強化やバグフィックスの長い一覧は、<nowiki>[[https://www.postgresql.org/docs/14/release-14.html|v14]]</nowiki>や<nowiki>[[https://www.postgresql.org/docs/release/14.1/|v14.1]]</nowiki>、<nowiki>[[https://www.postgresql.org/docs/release/14.2/|v14.2]]</nowiki> のリリースノートに記載されています。

==== Django 3.2.12 ====

Django が以前のLTSバージョンである2.2から、新しいLTSバージョンである3.2に更新されました。

この更新では、以下のような多くの新機能やバグ修正が含まれています:

* 自動的な!AppConfigの探索
* 自動作成される主キーの型カスタマイズ
* 関数インデックス
* 非同期ビューとミドルウェアのサポート
* すべてのサポートするデーターベースバックエンド向けのJSONField
* その他、様々なメジャー、マイナーな機能を追加しています。詳細は<nowiki>[[https://docs.djangoproject.com/en/4.0/releases/3.2/|リリースノート]]</nowiki>をご覧ください。

旧バージョンからアップグレードするユーザーは、以下の後方互換性に注意する必要があります:

以下の内容に変更が加えられています:

* データーベースバックエンドAPI
* django.contrib.admin
* !AbstractUser.first_name max_length - 150に変更
* 主キーにデフォルトを指定する場合のModel.save()
* 様々なモジュールのマイナーチェンジに伴うもの

追加情報として、特に以前のv2.2 LTSからv3.2 LTSへのアップグレードについては、Djangoプロジェクトの<nowiki>[[https://docs.djangoproject.com/en/4.0/releases/3.2/|3.2]]</nowiki>のリリースノートだけでなく、<nowiki>[[https://docs.djangoproject.com/en/4.0/releases/3.1|3.1]]</nowiki>や<nowiki>[[https://docs.djangoproject.com/en/4.0/releases/3.0|3.0]]</nowiki>、そしてUbuntu 22.04に含まれる3.2.12までの各種マイナーリリースも確認してみてください。

==== MySQL 8.0 ====

MySQLは、Focal FossaやImpish Indriと同じように、バージョン8.0.28に更新されました。
このバージョンには次の機能が含まれます:

* audit_log_disableによる設定
* Data型の更新
* CPU_TIMEステートメントメトリック

<nowiki>[[https://dev.mysql.com/doc/relnotes/mysql/8.0/en/news-8-0-28.html|8.0.28 upstreamのリリースノート]]</nowiki>で詳細な情報を得ることができます。

==== NFS サーバー ====

NFSサーバー・クライアントパッケージが最新のupstreamバージョンに更新されました。

NFSサービスは設定を `/etc/nfs.conf` と`/etc/nfs.conf.d/*.conf` から読み取るようになりました。いずれもINI形式の設定ファイルで、各セクションはそれぞれのデーモンやNFSサービスの視点から分離されています。以前の `/etc/defaults/nfs-*` 設定ファイルはそのまま残されていますが、利用はされません。

アップグレードにおいて、パッケージに含まれていた `/etc/default/nfs-*` ファイル群に変更が加えられていた場合、自動的に変換スクリプトが実行されます。このスクリプトは `/usr/share/nfs-common/nfsconvert.py` で、設定されたオプションを `/etc/defaults/nfs-*` から読み取り、`/etc/nfs.conf.d/local.conf` を生成します。このファイルは `/etc/nfs.conf`のデフォルト値を上書きする形で動作します。

変換スクリプトがなんらかの理由でfailした場合、パッケージのインストールやアップグレードも失敗します。また、こうした事態は本来解決されるべきものです。事象に遭遇した場合は、お手数ですが<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/nfs-utils/+filebug|Launchpad上で`nfs-utils` のバグとして報告してください]]</nowiki> 。

`nfsconf(8)` と名付けられた新ツールを用いることで、実際の設定値を `/etc/nfs.conf` と `/etc/nfs.conf.d/*.conf` からクエリすることができます。

==== Samba サーバー ====

Sambaは4.15.5に更新されており、いくつかの注目すべき変更がもたらされています。<nowiki>[[https://www.samba.org/samba/history/samba-4.15.0.html|upstreamのリリースノート]]</nowiki>で詳細を確認できます。ここでは一部だけを取り上げます:

* 開発中だったSMBバージョンSMB2_22, SMB2_24とSMB3_10は利用されなくなりました。SMB2_22とSMB2_24はSMB3_00に、SMB3_10はSMB3_11で置き換えられます。
* server multi channelはexperimentalではなくなりました。
* CLIツールのコマンドラインオプションは、一般的なアプローチでパースされるようになりました。不明なオプションはこれまで単に無視されていましたが、明示的に拒否されるようになります。詳細は<nowiki>[[https://www.samba.org/samba/history/samba-4.15.0.html|upstreamのリリースノート]]</nowiki>を参照してください。
* 多くの `/etc/samba/smb.conf` パラメータが変更され、一部は削除されました。詳細は<nowiki>[[https://www.samba.org/samba/history/samba-4.15.0.html|upstreamのリリースノート]]</nowiki>を参照してください。
* CTDBパッケージは、22.04に含まれるnNFSサーバーのバージョンで動作するように調整されています。
* `findsmb(1)` は削除されました。
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/samba/+bug/1894618|glusterfs supportがUbuntuパッケージとして有効に]]</nowiki>されています。これが可能になったのは、22.04 LTSの開発サイクルにおいて<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/glusterfs/+bug/1950321|glusterfsがMainにpromotionされ]]</nowiki>、glusterfs vfsモジュールが提供できるようになったためです。このモジュールは `samba-vfs-modules` パッケージとして提供されるようになりました。

==== Quaggaのfrrへの置き換え ====

`quagga` はUbuntu 22.04では削除され、FRRouting (`frr`, https://frrouting.org/) で置き換えられました。

==== Chronyによる時刻同期 ====

Chronyはバージョン4.2に更新されました。次の機能を含みます。

* AES-CMACとGnuTLSによるハッシュ処理に対応しました。
* サーバーインターリーブモードに対応し、より信頼性が向上しました。また、NAT配下の複数クライアントに対応できるようになりました。
* serverstatsによるレポートがインターリーブモードに対応しました。
* chronyサービスを保護するためのオプションが追加され、有効化されています。
* timemasterが生成した設定ファイルを読み込めるようになりました。
* 詳細は、upstreamの<nowiki>[[https://chrony.tuxfamily.org/news.html|リリースノートを参照]]</nowiki>してください。

==== 仮想化 ====

いつものように、リリースノートには幾つかの大きな、そしてより注目されるべき変更点だけが掲載されますが、それらの下に隠れたパッケージにも多くの変更が加えられています。ここに記載されているものに留まらない全貌を把握するためには、それぞれのパッケージのchangelogやupstreamのリリースノートを参照してください。

===== qemu =====

Qemuはv6.2.0に更新され、大小取り混ぜた多くの変更が加えられています。このバージョンには次のものが含まれます:

* fuse3ベースのnon-root動作可能な<nowiki>[[https://www.qemu.org/2021/08/22/fuse-blkexport/|イメージファイルのエクスポート]]</nowiki>
* 低レイテンシオーディオのためのJackサポート
* 非常に多くのRISC-Vサポートの拡充
* AMD virtualization extensionsのエミュレーションにおける多くの修正
* Power10サポートの強化
* microvmビルドにおけるより多くのデバイスサポート(`virtio-gpu`, `vhost-user-gpu`, `virtio-input-host` と `vhost_user_input`)
* `qemu-block-extra`による追加ドライバが削除可能に
* 多くのQEMUの機能が個別のモジュールに分離
* s390xにおけるstorage keyエミュレーション(e.g. 固定アドレスハンドリング, TCGにおける遅延ストレージキー有効化などなど)
* 機能強化の全貌を把握するためには、upstreamのchangelogのうち、<nowiki>[[https://wiki.qemu.org/ChangeLog/6.1|6.1]]</nowiki>と<nowiki>[[https://wiki.qemu.org/ChangeLog/6.2|6.2]]</nowiki>を参照してください。これらのリリースノートには、削除、あるいはDeprecated・非互換機能についての代替アプローチが示されています。

===== libvirt =====

Ubuntu 22.04では、通常リリースのlibvirtバージョンv8.0.0を採用しています。次の機能が含まれます:

* virtiofsにおけるhotplugとhotunplugのサポート
* virtio-memでの `<memory/>` モデルサポート
* qemu: librbdによる暗号化のサポート
* qemu: ドメインへの起動時シークレットの挿入を行うAPIを追加
* swtpmインテグレーションの強化(下記のswtpmの項を参照)
* upstreamの<nowiki>[[https://libvirt.org/news.html|Changelogs]]</nowiki>に、<nowiki>[[https://discourse.ubuntu.com/t/impish-indri-release-notes/21951 |Ubuntu 21.10]]</nowiki>で採用されていたv7.6からの多くの改善点と修正がまとめられています。

===== virt-manager =====

virt-manager の新バージョン4.0.0は、おおむね1.5年にわたって新バージョンがリリースされていなかった中での最新版です。次の機能を含みます:

* UIにおけるshared memoryの設定
* virtiofs filesystemドライバーのUIでの設定
* UEFI利用時にTPMがデフォルトで利用されるように変更
* qemu x86において、cpu host-passthroughがデフォルトで利用されるように変更
* virtio-gpuによるビデオ表示
* より詳細は<nowiki>[[https://github.com/virt-manager/virt-manager/blob/main/NEWS.md|news page]]</nowiki>と<nowiki>[[https://github.com/virt-manager/virt-manager|projects website]]</nowiki>における個別のコミット情報を参照してください。

===== dpdk =====

upstreamのDPDKの年次リリース周期に合わせる形で、Ubuntu 22.04では最新のDPDK LTS 21.11が利用されています。

このバージョンには新しいデバイスドライバーが含まれ、いくつかの修正と最適化が行われています。こちらにある<nowiki>[[http://doc.dpdk.org/guides/rel_notes/release_21_11.html|巨大なリリースノート]]</nowiki>はあくまで21.11そのものについてだけで、Ubuntu 21.10に含まれていたDPDK LTS 20.11からの差分にすぎません。以前の<nowiki>[[http://doc.dpdk.org/guides/rel_notes/release_21_02.html|21.02]]</nowiki>, <nowiki>[[http://doc.dpdk.org/guides/rel_notes/release_21_05.html|21.05]]</nowiki>と<nowiki>[[http://doc.dpdk.org/guides/rel_notes/release_21_08.html|21.08]]</nowiki>についても参照する必要があるかもしれません。

===== openvswitch =====

openvswitchの新バージョン2.17.0がUbuntu 22.04に採用されています。通常のアップデートと、次の変化を含みます。

* ユーザースペースデータパスを容易に利用できるようにするための、さまざまな新機能。
* OVN deploymentsでよく利用されるOVSDBとclustered OVSDBの性能強化。
* DPDK 21.11との互換性 (上記を参照)。
* <nowiki>[[https://www.openvswitch.org/releases/NEWS-2.17.0.txt|The OVS News]]</nowiki>ページにこの新バージョンに関する詳細情報が掲載されています。

===== swtpm =====

`swtpm` が`libtpms` パッケージと同じようにUbuntu 22.04では利用でき、また、サポートされます。

`swtpm` はTPMエミュレーターをlibtpmsとは異なるフロントエンドインターフェースとともにサポートします。TPMエミュレーターはソケットインターフェース(TCP/IPとunix)を持ち、Linux CUSEインターフェースを複数のネイティブ/dev/vtpm*デバイス作成のために保持します。

一般的な `swtpm` のユースケースは、仮想マシンの仮想TPMとして用いることと、コンテナでの利用です。
この機能は、TPMサポートを必須とするゲストオペレーションシステムにおいて非常に重要になります。

詳細は<nowiki>[[https://github.com/stefanberger/swtpm/wiki|upstreamのwiki]]</nowiki>を確認してください。

==== Squid ====

* `squid` パッケージはGnuTLSライブラリとリンクするようになりました。もしOpenSSL版を利用したい場合は、新規に作成された`squid-openssl` パッケージを用いてください。

==== cloud-init ====

バージョン22.1のcloud-initが22.04, 21.10, 20.04と18.04に投入されました。

直近のLTSリリースからの、特に大きな変更点は次の通りです:

* Clouds and datasources
** Jammyにおいて、LXDデータソースが追加され、動的なインスタンスデータをLXDソケットから読み取り、設定をリブートの過程で読み取れるようになります。
** ネイティブVMWareデータソースのサポート
** !OpenStackと!ConfigDriveデータソースにおけるvendor_data2設定のオーバーライド
** Azureでの起動速度の改善、ネットワーク設定の検証、SSHキーハンドリングの追加
** GCE環境であることのブート時の早期検知
* Config Modules
** !OpenStackと!ConfigDriveでの<nowiki>[[https://cloudinit.readthedocs.io/en/latest/topics/modules.html#install-hotplug|user-data経由でのopt-in hotplug networkサポート]]</nowiki>
** 起動処理における、遅延write_files設定による遅延評価
* Usability
** `#cloud-config` ユーザーデータのバリデーションと、特定の設定によるエラーの強調表示

==== ubuntu-advantage-tools ====

Ubuntu-advantage-toolsのバージョン27.8がJammyとともにリリースされました。

この開発サイクルでの特筆すべき機能強化は次の通りです:
* Service offerings:
*** Ubuntu ProとUbuntu Pro FIPSイメージがAzure, GCPとAWSで利用できるようになりました。
*** GCPで、Ubuntu Advantageライセンスを既存のVMに追加できるようになりました。
*** AWSで、IPv6 IMDSをサポートしました。
*** CIS benchmarksが、Ubuntu Security Guide (USG)の一部として含まれるようになりました。
* Usability
*** `ua security-status`により、UbuntuそのものとExtended Security Maintenanceチャネル経由で利用可能な（そして適用に意味のある）パッケージがリストできるようになりました。
*** Desktop installerが Advantage tokensの存在確認と追加に対応するようになりました。
*** 多くのコマンドで、machine-readableなJSON/YAMLフォーマットでの出力が可能になりました。
*** 自動アタッチを`ua attach --attach-config`を用いて設定できるようになりました。

==== Ubuntu Server Main Promotions ====

Ubuntu Server 22.04 LTSにおいて、以下のパッケージがmainに含まれるようになりました(promotionしました):
* <nowiki>[[https://www.wireguard.com|wireguard]]</nowiki>: fast, modern, secure kernel VPN tunnel
* <nowiki>[[https://www.gluster.org/|glusterfs]]</nowiki>: cluster file-system capable of scaling to several peta-bytes
* <nowiki>[[https://www.frrouting.org/|frr]]</nowiki>: suite of internet routing protocols (BGP, OSPF, IS-IS, ...)

==== LXDは新しい5.0 LTSバージョンに更新されました ====

5.0 LTSは、特にクラスター環境で動作している場合、LXDの能力が大幅に向上しています。LXD 4.0との比較において、仮想マシンは実質的にコンテナと同等の機能となり、多くのネットワークオプション、クラスタリング、そしてプロジェクト機能が追加されました。

以下のようないくつかの重要な変更が含まれています:

* '''LXD仮想マシン'''はvTPMをサポートし、任意のPCIパススルーをサポートするようになりました。仮想マシンは、ライブマイグレーションやデバイスのホットプラグサポート、追加のストレージオプションができるようになりました。
* '''ネットワーキング'''は、BGP、DNS、フローティングIPやハードウェアアクセラレーションサポートを組み合わせたOVNサポートが含まれるようになりました。
* '''プロジェクト'''は、さまざまなチームへのアクセスを安全に許可したり、リソースの使用を制限したりすることを容易にする、多くの追加の制限と制約を増やしました。
* '''クラスター'''ユーザーは、クラスターの退避、ターゲットグループへのサーバーグループ化、クラスター全体の詳細なインスタンスメトリックを取得することで、容易にメンテナンスを実行できるようになりました。

追加の詳細と、完全なChangelogは<nowiki>[[https://discuss.linuxcontainers.org/t/lxd-5-0-lts-has-been-released/13723|こちら]]</nowiki>にあります。

==== Ceph ====

Ubuntu 22.04は最新リリース候補である、Ceph Quincyリリースが含まれています。

CephコミュニティによってQuincyがリリースされると、Cephパッケージは<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ceph/+bug/1968318|stable release update]]</nowiki>として更新される予定です。

==== OpenStack ====

Ubuntu 22.04には、最新の!OpenStackリリースであるYogaが含まれており、以下のコンポーネントが含まれています:

* !OpenStack Identity - Keystone
* !OpenStack Imaging - Glance
* !OpenStack Block Storage - Cinder
* !OpenStack Compute - Nova
* !OpenStack Networking - Neutron
* !OpenStack Telemetry - Ceilometer, Aodh, Gnocchi
* !OpenStack Orchestration - Heat
* !OpenStack Dashboard - Horizon
* !OpenStack Object Storage - Swift
* !OpenStack DNS - Designate
* !OpenStack Bare-metal - Ironic
* !OpenStack Filesystem - Manila
* !OpenStack Key Manager - Barbican
* !OpenStack Load Balancer - Octavia
* !OpenStack Instance HA - Masakari

!OpenStackのこのリリースにおける全ての詳細は、<nowiki>[[https://releases.openstack.org/yoga/|OpenStack Yoga リリースノート]]</nowiki>を参照してください。

!OpenStack YogaはUbuntu 20.04 LTSユーザー向けに<nowiki>[[https://wiki.ubuntu.com/OpenStack/CloudArchive|Ubuntu Cloud Archive]]</nowiki>経由でも提供されます。

'''警告''': !OpenStackデプロイメントをアップグレードすることは重要なプロセスであり、各!OpenStackデプロイメント固有のアップグレード手順を計画し、テストを行うよう注意する必要があります。

Jujuを使用してUbuntu !OpenStackをデプロイする方法の詳細な情報は、<nowiki>[[https://docs.openstack.org/charm-guide/latest|OpenStack Charm リリースノート]]</nowiki>を必ずお読みください。

==== needrestartとunattended動作 ====

<nowiki>[[https://discourse.ubuntu.com/t/needrestart-for-servers/21552|needrestart]]</nowiki>は、21.04で初めてデフォルトでインストールされ、Ubuntu 22.04で引き続いて機能します。これは、依存関係にあるサービスがセキュリティアップデートを受けた際に、正しく再起動されることを保証するためのものです。

デフォルトでは、再起動が必要であると判断された場合、パッケージのアップグレード後にneedrestartがプロンプトを表示します。この動作を抑制するには、通常どおり`DEBIAN_FRONTEND=noninteractive`を設定できます。その後、needrestart はその後 "list only mode" にフォールバックします。この際、再起動するか、`needrestart -ra`を呼び出してサービスを再起動する必要があります。

==== 段階的アップデート ====

21.04のAPTから段階的アップデート(phased update)を反映するようになりました。詳しくは<nowiki>[[https://discourse.ubuntu.com/t/phased-updates-in-apt-in-21-04/20345|Phased updates in APT 21.04]]</nowiki>スレッドをご覧ください。

=== プラットフォーム ===

==== クラウドイメージ ☁ ====

===== AWS =====
* AWS amd64イメージは、GPTパーティションテーブルを使用するようになり、ESPパーティションをセットアップして、UEFIをブートモードとして利用できるようになりました。

===== Oracle =====

* Jammy Minimalイメージは、Oracle Cloud Infrastructure上のARM64サーバーで利用可能です。なお、OCIは一定の周期でイメージをリリースしているため、OCIへのJammyのリリースは若干遅れる予定です。

==== Raspberry Pi 🍓 ====
* Raspberry Pi向けのUbuntu デスクトップでは最初のlong-term service(LTS)リリースです
* いくつかのRaspberry Pi専用ボードとツールのサポートがアーカイブに追加されました:
** 著名なPimoroni <nowiki>[[https://shop.pimoroni.com/products/unicorn-hat?variant=932565325|UnicornHAT]]</nowiki>のすべてのバリエーションがパッケージでサポートされるようになりました
** 公式のDSIタッチスクリーンがサポートされるようになりました（ただし、デスクトップイメージに関する回避策は、以下の既知の問題を参照してください。）
** <nowiki>[[https://launchpad.net/ubuntu/+source/rpiboot|rpiboot]]</nowiki>パッケージには、Raspberry Pi Compute Modules（および、その他のPiのブート機能）を操作するための<nowiki>[[https://github.com/raspberrypi/usbboot|usbboot]]</nowiki>ユーティリティが含まれています
** <nowiki>[[https://launchpad.net/ubuntu/+source/pyboard-rshell|pyboard-rshell]]</nowiki>パッケージには、Raspberry Pi Picoを含むMicroPythonをサポートするマイクロコントローラーボードを操作するための<nowiki>[[https://pypi.org/project/rshell/|rshell]]</nowiki>ユーティリティが含まれています
** <nowiki>[[https://launchpad.net/ubuntu/+source/rpi-imager|rpi-imager]]</nowiki>パッケージには、Raspberry Pi imagerユーティリティが含まれています。同等の<nowiki>[[https://snapcraft.io/rpi-imager|snapパッケージ]]</nowiki>もすべてのアーキテクチャで動作するよう更新されました（そして、現在のバージョンに上げられました）

==== arm64 ====

Ubuntu 22.04 LTSは、Azure、AWS、Oracle Cloudなど多くのパブリッククラウドのARM上で利用可能です。

Ubuntu 22.04 LTSは、ARM64上のNVIDIAドライバーのlinux-restricted-modulesを追加しました。ARM64のユーザーは、`ubuntu-drivers`ツールを使って、Ubuntu ArchiveからNVIDIAドライバーをインストールし、設定できるようになりました。

64Kページをサポートを含むlinux-generic-64kカーネルフレーバーが、GA LTSカーネルとして利用可能になりました。これは20.10リリースで初めて導入され、20.04.2 LTSからはHWEカーネルとして利用可能です。

==== ppc64el ====

22.04 LTS から、IBM POWER向けUbuntu Server(little endian) は '--with-cpu=power9'を使用して、POWER9プロセッサ用にコンパイルされるようになりました(<nowiki>[[https://bugs.launchpad.net/bugs/1930086|bug 1930086]]</nowiki>)。
そのため、Ubuntu Server 22.04 LTSは、POWER8システム上では命令セット要件が異なるため、実行、インストール、起動すらできなくなりました。
しかし、Ubuntu Server 20.04 LTSは、少なくとも2025年4月のベースサポート終了までの数年間は、Power8システムで使用することができます。
現在Power8上でUbuntu Serverを運用しているユーザーは、'do-release-upgrade'を使用して22.04 LTSにアップグレードすることができません。このシステムでは明確に壊れてしまうためです(<nowiki>[[https://bugs.launchpad.net/bugs/1960255|bug 1960255]]</nowiki>)。
また、Ubuntu Server 22.04 LTSは、公式にPOWER10をサポートする最初のUbuntuリリースとなります。

==== s390x ====

Ubuntu Server 20.04 LTS(IBM ZおよびLinuxONE向け)から、最小アーキテクチャレベルセットがz13(およびLinuxONE Rockhopper/Emperor)に引き上げられました。これは、Ubuntu Server 22.04 LTSにも適用され、本日(22.04リリース日)時点で稼働中のすべての新しいハードウェアもサポート対象に含まれます。将来のハードウェアのサポートは後に追加される可能性があります。
Ubuntu Server 22.04 LTSは、LPAR(クラシックモードまたはDPMモード)、IBM z/VMゲスト、KVM仮想マシン、そしてLXD、docker、kubernetesなどのさまざまなコンテナー環境にインストールできます。

21.10以降のIBM ZおよびLinuxONE/s390x固有の機能拡張は以下になります(一部はs390xに限定されないものもあります):

** 前述のように、22.04 LTSは、OpenSSL 3、正確には v3.0.2(<nowiki>[[https://bugs.launchpad.net/bugs/1905022|bug 1905022]]</nowiki>)を採用した最初のリリースで、この移行は互換性の理由から(<nowiki>[[https://bugs.launchpad.net/bugs/1959736|bug 1959736]]</nowiki>)更なるアップデートの引き金となり、主に以下を含むs390x暗号スタック全体の更新に至りました:
*** libicaは最終的にv4.0.1に更新 (<nowiki>[[https://bugs.launchpad.net/bugs/1959421|bug 1959421]]</nowiki>)され、セキュリティ対策を反映した統計情報の拡張を含んでいます(<nowiki>[[https://bugs.launchpad.net/bugs/1959553|bug 1959553]]</nowiki>)。
*** openssl-ibmcaの更新(<nowiki>[[https://bugs.launchpad.net/bugs/1958419|bug 1958419]]</nowiki>)は、libica4(<nowiki>[[https://bugs.launchpad.net/bugs/1960004|bug 1960004]]</nowiki>)との互換性を確保するため、ついに2.2.2になりました。
*** opencryptokiのv3.17.0+dfsg+20220202.b40982eへの更新(3.18のリリース予定日は22.04 GA以降)（バグ：1959419）、いくつかの(セキュリティ)修正とキー管理ツール(LP 1959577)のような新機能が含まれています。 
*** そのcryptsetupも更新されました(<nowiki>[[https://bugs.launchpad.net/bugs/1959427|bug 1959427]]</nowiki>)<<BR>>
    s390xに関連した、暗号化の分野でのさらなる更新は次のとおりです:
*** libgcrypt(20)の最新版であるv1.9.4へのアップグレード
*** chacha20のカーネル暗号の最適化において、SIMD実装を使用するようになりました(<nowiki>[[https://bugs.launchpad.net/bugs/1853152|bug 1853152]]</nowiki>)
*** zcryptデバイスドライバーの更新により、新しいIBM Z暗号ハードウェアを利用できるようになりました(<nowiki>[[https://bugs.launchpad.net/bugs/1959547|bug 1959547]]</nowiki>)。
*** そして最後に、暗号プリミティブ向けインタフェースを提供する、新しくパッケージ化されたIBM Z protected-key 暗号ライブラリ(<nowiki>[[https://bugs.launchpad.net/bugs/1932522|bug 1932522]]</nowiki>)
** さらに、KVMセットアップとz/OSの相互運用性を拡張するための、拡張HSCI(HiperSockets Converged Interface)Multi-MACサポート(kernel LP:1932137 および s390-tools LP:1929721)などの新しいネットワーク機能が追加されました。また、EID(Enterprise ID)のサポート(kernel LP:1929060, s390-tools LP:1929056)やSMC統計のサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1959470|bug 1959470]]</nowiki>)、SMC-R v2のサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1929035|bug 1929035]]</nowiki>)といったSMC(Shared Memory Communication)の分野でも大きな更新がありました - さらにsmc-toolsは、最新のv1.7.0にアップグレードされています(<nowiki>[[https://bugs.launchpad.net/bugs/1959428|bug 1959428]]</nowiki>)。
** 次のような、いくつかのKVMおよびSecure Execution関連の新機能も追加されました:
*** KVM(<nowiki>[[https://bugs.launchpad.net/bugs/1933176|bug 1933176]]</nowiki>)と、ユーザスペース(<nowiki>[[https://bugs.launchpad.net/bugs/1933179|bug 1933179]]</nowiki>)で処理される、インターセプト命令のためのストレージキーチェックを有効化。
*** 'アクセスレジスタモード' が有効になりました(<nowiki>[[https://bugs.launchpad.net/bugs/1933178|bug 1933178]]</nowiki>)
*** QEMU(<nowiki>[[https://bugs.launchpad.net/bugs/1959984|bug 1959984]]</nowiki>)とSecure Executionゲスト(<nowiki>[[https://bugs.launchpad.net/bugs/1959985|bug 1959985]]</nowiki>)向けの長いカーネルコマンドラインを許可。
*** Secure ExecutionゲストのためにGISAを経由のゲスト割り込みサポートを有効化(<nowiki>[[https://bugs.launchpad.net/bugs/1959977|bug 1959977]]</nowiki>)
*** カスタマーキーによるSecure Executionゲストダンプ暗号化サポート(<nowiki>[[https://bugs.launchpad.net/bugs/1959965|bug 1959965]]</nowiki>)
*** そして、virt-*ツール、特にvirt-managerでのvfio-ccwとvfio-apの有効化(<nowiki>[[https://bugs.launchpad.net/bugs/1959976|bug 1959976]]</nowiki>)
*** さらに、KVM_CAP_S390_MEM_OP_EXTENSIONケーパビリティが211に引き上げられ(<nowiki>[[https://bugs.launchpad.net/bugs/1963901|bug 1963901]]</nowiki>)、KVMのSIGPアーキテクチャーの準拠が改善されました(<nowiki>[[https://bugs.launchpad.net/bugs/1959735|bug 1959735]]</nowiki>)。

** 新しいIBM Zハードウェアのサポートを追加するため(<nowiki>[[https://bugs.launchpad.net/bugs/1959379|bug 1959379]]</nowiki>)に、ツールチェインの近代化が必要となり、22.04のデフォルトのgccはv11.2になりました(12、10、9はuniverseにあります)。<<BR>>Binutilsをgdbに整合した(<nowiki>[[https://bugs.launchpad.net/bugs/1959407|bug 1959407]]</nowiki>)ことによりv2.38に更新(<nowiki>[[https://bugs.launchpad.net/bugs/1959463|bug 1959463]]</nowiki>)し、また新しいハードウェアのサポートを追加しました(<nowiki>[[https://bugs.launchpad.net/bugs/1959408|bug 1959408]]</nowiki>)。<<BR>>そして、LLVMも新しいハードウェアに対応(<nowiki>[[https://bugs.launchpad.net/bugs/1959378|bug 1959378]]</nowiki>)し、さらなる最適化を盛り込むために更新(<nowiki>[[https://bugs.launchpad.net/bugs/1959406|bug 1959406]]</nowiki>)されましたが、v13だけでなく、v14もデフォルトで利用可能です。

** HWCAP_S390_PCI_MIOとHWCAP_S390_SIEを含むglibcが最新版のv2.35(<nowiki>[[https://bugs.launchpad.net/bugs/1959429|bug 1959429]]</nowiki>)にアップグレードしている間に、新しいハードウェアサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1959385|bug 1959385]]</nowiki> and LP: 1959383)が glibc に追加されました(<nowiki>[[https://bugs.launchpad.net/bugs/1959462|bug 1959462]]</nowiki>)。<<BR>>Perl Compatible Regular Expression LibraryであるPCRE2がv10.39に更新され、s390x向けと完全なJITパフォーマンスの改善が行われました(<nowiki>[[https://bugs.launchpad.net/bugs/1959917|bug 1959917]]</nowiki>)。<<BR>>代数ライブラリ'Eigen3'には、s390x向けの最適化も含まれており(<nowiki>[[https://bugs.launchpad.net/bugs/1884725|bug 1884725]]</nowiki>)、問い合わせ容量ライブラリ(Query Capacity Library)およびシステム情報抽出用ユーティリティである'qclib'はv2.3.0に引き上げられました(<nowiki>[[https://bugs.launchpad.net/bugs/1959464|bug 1959464]]</nowiki>)。<<BR>>IBM Z Deep Neural Network Library(zDNN)は、NNPA(Neural Network Processing Assist Facility)を使用するアプリケーションにインターフェースを提供する、全く新しい低レベルのライブラリで、パッケージ化され利用可能になりました(<nowiki>[[https://bugs.launchpad.net/bugs/1959396|bug 1959396]]</nowiki>)。

** Ubuntu Server for IBM Zのコアコンポーネントであるs390-toolsパッケージは、jammyのカーネル5.15に併せてv2.2.0にアップグレード(<nowiki>[[https://bugs.launchpad.net/bugs/1959420|bug 1959420]]</nowiki>)されました。これにはいくつかの機能が含まれます。まず初めに環境ブロックが実装されました。これは、IPLレコードを書き換えることなくブートの際に評価される、永続的な構成情報です(<nowiki>[[https://bugs.launchpad.net/bugs/1959409|bug 1959409]]</nowiki>)。また、DPMシステム用のPCIデバイスを自動起動するオプション(<nowiki>[[https://bugs.launchpad.net/bugs/1959537|bug 1959537]]</nowiki>)や、一時的なパス接続の失敗を回避して再IPLが失敗しないようにするためのマルチパスでの再IPL機能(<nowiki>[[https://bugs.launchpad.net/bugs/1959546|bug 1959546]]</nowiki>)などが追加されました。

** 新しいIBM Zハードウェアに対するカーネルベースのサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1960187|bug 1960187]]</nowiki>)や、新しいハードウェア向けの新しいCPU-MF Counters(<nowiki>[[https://bugs.launchpad.net/bugs/1960117|bug 1960117]]</nowiki>)、s390xにおける長いカーネルコマンドラインのサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1960580|bug 1960580]]</nowiki>)、 透過PCIデバイスのリカバリサポート(<nowiki>[[https://bugs.launchpad.net/bugs/1959532|bug 1959532]]</nowiki>)、HBAファームウェアの拡張ユーザ情報(<nowiki>[[https://bugs.launchpad.net/bugs/1959545|bug 1959545]]</nowiki>)、クリーンアップとしてCONFIG_QETH_OSXカーネル設定オプションの非活性化など、いくつかのs390xの改良がカーネルににもたらされました。

** サービスコール論理プロセッサ(SCLP)コンソールインタフェースドライバー ('Operating Systems Messages' line-modeおよび'Integrated ASCII console' VT220向け)に、すべてのsclp要求または失敗したsclp要求の関連データをロギングするための、2つの新しいデバッグ機能が加わりました。これはカーネル(<nowiki>[[https://bugs.launchpad.net/bugs/1960435|bug 1960435]]</nowiki>)とs390-tools(<nowiki>[[https://bugs.launchpad.net/bugs/1960437|bug 1960437]]</nowiki>)を修正する必要があります。

==== RISC-V ====

22.04 LTSから、標準のデバイス固有のプレインストールイメージに加え、RISC-Vアーキテクチャ向けのライブインストーラーも提供するようになりました。これは、例えばUnmatchedボード上にあるNVMeドライブに、Ubuntuをインストールしたい場合に便利です。

==== UEFIとBIOSブート ====

他のオペレーティングシステムと並行する形でUbuntuがインストールされたのでなければ、他のオペレーティングシステムはブートメニューに表示されなくなりました。マシン上から他のオペレーティングシステムをすべて削除すると、他のオペレーティングシステムの検出は無効化され、他のOSをインストールした後に再度検出を有効にするには、`/boot/grub/grub.cfg`を削除して、すぐに`update-grub`を再実行する必要があります。

== 既知の問題 ==

予想される通り、あらゆるリリースと同じように、今回のUbuntu 22.04 LTSのリリースにもユーザーが陥りそうな重大な既知の不具合がいくつか存在します。現時点で判明している不具合（およびいくつかの回避策）をここに記録しておきます。これらの不具合については、再度報告する必要はありません。

=== Linux カーネル ===

まだありません。

=== セキュリティ ===

* OpenSSL 3.0.2は <nowiki>[[https://launchpad.net/bugs/1968997|トルコ語のロケール]]</nowiki>で動作しません。修正プログラムが利用可能になるまでの間、この問題の回避するため、影響するユーザーのopensslを使用するプロセスの環境においてLC_CTYPE=C.UTF-8を設定（シェルでは: `export LC_CTYPE=C.UTF-8`）することを推奨します。この回避策は、トルコ語のルールに従って文字列の大文字小文字を区切るため、システムレベルで上書きすることはお勧めしません。

=== システム ===

* systemd / journaldはデフォルトで`zstd`圧縮となり、“keyed hash”機能を利用するようになりました(upstreamではv246以降のデフォルト)。そのため、Ubuntu 22.04(systemd v249を使用)で書かれたjournalファイルは、古いバージョンのjournal(つまり18.04/20.04/Core20のインストールから)では開くことができません。これは、<nowiki>[[https://bugs.launchpad.net/subiquity/+bug/1953744|LP: #1953744]]</nowiki>や<nowiki>[[https://forum.snapcraft.io/t/accessing-journal-logs-from-22-04-hosts-when-using-older-base-snap/29627|forum.snapcraft.io]]</nowiki>にあるように、次のようなエラーで失敗します:

<pre>
Journal file xxx.journal has unknown incompatible flags 0xc
Failed to open journal file xxx.journal: Protocol not supported
</pre>

* grub-customizerのユーザは、アップグレード処理の後半で<nowiki>[[https://pad.lv/1969353|このバグ]]</nowiki>に遭遇し、アップグレード処理の最終段階(パッケージの自動削除)でアップグレードに失敗する可能性があります。<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubuntu-release-upgrader/+bug/1969353/comments/6|このバグのコメント]]</nowiki>にある回避策が利用可能です。
 
=== Ubuntuデスクトップ ===

* BIOSシステムでUSBドライブから起動した場合、Ubuntuデスクトップイメージの起動が遅くなることがあります(最大10分かかります)。この問題は<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/casper/+bug/1922342|調査中]]</nowiki>ですが、一度インストールすれば問題は発生しません。
* BIOSまたはUEFIシステムで光学メディア(DVD)から起動した場合、Ubuntuデスクトップイメージの起動が非常に遅くなることがあります(最大30分かかります)。これは、インストールメディアに対して実行する整合性チェッカーが原因です。回避策("fsck.mode=skip"の設定)は<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/casper/+bug/1930880|関連するバグ]]</nowiki>に記載されています。
* UbuntuデスクトップのインストーラーであるUbiquityが、NTFSパーティションをスキャンしてサイズ変更可能かどうか判断する際に<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1946828|ハングアップする現象]]</nowiki>確認されています。この現象は、インストーラーの 'アップデートとその他のソフトウェア' 画面の後を続行しようとすると、ボールカーソルが回転してしまうものです。この現象が発生した場合は、再起動を行い再度インストールを試してください。
* Firefox snapは<nowiki>[[https://launchpad.net/bugs/1741074|NativeMessaging プロトコル]]</nowiki>をまだサポートしていませんが、この機能はまもなく追加される予定です。これは、例えばFirefoxからのGNOMEシェル拡張機能のインストールが機能しない状況であること意味しています。回避策として、`gnome-shell-extension-manager`アプリケーションを試すことができます。
* ブラジル人(および Firefox で PKCS#11 スマートカードサポートを必要とするその他の人々)は、<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/firefox/+bug/1967632|pkcs#11サポートがFirefox snapに追加される]]</nowiki>まで、'''Jammyにアップグレードすべきではないでしょう'''
* GNOME TweaksアプリケーションはGNOMEシェル拡張機能で管理されません。代わりに`gnome-shell-extension-manager`がインストールできます。
* AppImagesを利用するには、まず最初に`sudo apt install libfuse2`を<nowiki>[[https://launchpad.net/bugs/1965636|実行する必要があります]]</nowiki>
* RDP (リモートデスクトップ)共有は、デフォルトで<nowiki>[[https://launchpad.net/bugs/1969619|ONのように見えますが]]</nowiki>、実際はONでは無く一度OFFにしてからONにすることで有効になります。

=== Ubuntu Server ===

* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/zfs-linux/+bug/1969247|zfs上のfallocateで現在発生している問題]]</nowiki>のため、Jammy zfsシステム上でのmysqlインストールに失敗します。

=== プラットフォーム ===

==== クラウドイメージ ====

===== Vagrant =====

* `universe`のJammy `vagrant`は、upstreamがopenssl3をサポートしていません。このため、Jammyホスト上のvagrantのユーザは、起動時にOpenSSLのエラーを受け取ることになります。boxは引き続き起動され、`vagrant ssh`は動作しますが、`vagrant`の機能は深刻な影響を受けます。box間の接続は正常に動作しません。<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/vagrant/+bug/1964025|バグリポート]]</nowiki>。
* バージョン2.216未満のVagrantはSSHコネクションの問題により起動が失敗します。Ubuntu archivesで提供されている`vagrant`は、Jammyまで2.2.16以上になりません。回避策の一つとして、`vagrant`のupstreamバージョンを利用する方法があります。<nowiki>[[https://github.com/hashicorp/vagrant/issues/11783|Upstreamのバグは既に修正されています]]</nowiki>。クラウドチームは、より永続的な解決策にも取り組んでいます:<nowiki>[[https://bugs.launchpad.net/cloud-images/+bug/1969664 |Public cloud-imagesのバグ]]</nowiki>

==== Raspberry Pi ====

* Raspberry PiデスクトップイメージはフルKMSグラフィックドライバーの利用に切り替えました。公式のRaspberry Pi DSIディスプレイはfull KMSを有効にして利用することができません。Raspberry Pi DSIディスプレイの利用を有効にするには、Raspberry Piのハードドライブ上にある`config.txt`ファイルを編集し、`dtoverlay=vc4-fkms-v3d`の行を`dtoverlay=vc4-kms-v3d`に変更します
* 現在、Compute Module 4向けの公式IOボードのUSBポートが動作しません(<nowiki>[[https://launchpad.net/bugs/1969689|bug 1969689]]</nowiki>)
* デスクトップイメージ上で、Firefox snapは最初のログイン後の完全な初期化に時間がかかる(数分との指摘があります)場合があります(<nowiki>[[https://launchpad.net/bugs/1969529|bug 1969529]]</nowiki>)
* レガシーなカメラスタック(MMALベース)は`arm64`ではサポートされません。[libcamera]が、`arm64`アーキテクチャ上でPi Camera Moduleを利用する手段としてサポートされます(ブート時の設定により、検出されたモジュールのオーバーレイが自動的にロードされます）

暫定リリースからの引き継ぎは以下になります(LTS->LTSで適用される変更点です):

* デスクトップイメージでユーザを初期設定した後、いくつかのパッケージが自動削除することができます(<nowiki>[[https://launchpad.net/bugs/1925265|bug 1925265]]</nowiki>)。`sudo apt autoremove`を実行してこれを回避してください
* デスクトップイメージでは、起動ごとに間違ったオーディオ出力デバイスが選択されます。このバグレポートにある回避策が利用可能です(<nowiki>[[https://launchpad.net/bugs/1899962 | bug 1899962]]</nowiki>)
* initramfsのサイズを小さくするために、様々なカーネルモジュールが`linux-modules-raspi`パッケージから移動しました。もし、カーネルモジュールの不足が原因でアプリケーションの失敗が見られるようであれば、以下を試してみてください:
** `sudo apt install linux-modules-extra-raspi`

==== s390x ====

まだありません。

== 日本語環境独自の記述 ==
* XOrgセッションを利用時、IBusの候補ウィンドウが左下に表示されます。この不具合に関する詳細な情報やワークアラウンド（一時的な対処方法）は<nowiki>[[https://zenn.dev/ikuya/articles/8e98cdf557002c|Ubuntu 22.04 LTSのX.Orgセッションで候補ウィンドウが正しい位置に表示されない]]</nowiki>をご覧ください。今後のアップデートで対応される見込みです。

== 公式フレーバー ==

公式フレーバーの各リリースノートは、以下のリンクで参照できます:
* <nowiki>[[https://wiki.ubuntu.com/JammyJellyfish/ReleaseNotes/Kubuntu|Kubuntu Release Notes]]</nowiki>
* <nowiki>[[https://discourse.lubuntu.me/t/lubuntu-22-04-lts-jammy-jellyfish-release-notes/3179|Lubuntu Release Notes]]</nowiki>
* <nowiki>[[https://ubuntubudgie.org/2022/03/ubuntu-budgie-22-04-lts-release-notes/|Ubuntu Budgie Release Notes for 21.10 upgraders]]</nowiki> & <nowiki>[[https://ubuntubudgie.org/2022/04/ubuntu-22-04-release-notes-for-20-04-upgraders/|Ubuntu Budgie Release Notes for 20.04 upgraders]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/JammyJellyfish/ReleaseNotes/UbuntuKylin|Ubuntu Kylin Release Notes]]</nowiki>
* <nowiki>[[https://ubuntu-mate.org/blog/ubuntu-mate-jammy-jellyfish-release-notes/|Ubuntu MATE Release Notes]]</nowiki>
* <nowiki>[[https://ubuntustudio.org/ubuntu-studio-22-04-lts-release-notes/|Ubuntu Studio Release Notes]]</nowiki>
* <nowiki>[[https://wiki.xubuntu.org/releases/22.04/release-notes|Xubuntu Release Notes]]</nowiki>

== より詳しい情報 ==

==== バグレポート ====

あなたのコメントやバグレポート、レポートへのコメント・パッチの投稿・提案は、バグの修正や将来のリリース品質の改善につながります。<nowiki>[[http://help.ubuntu.com/community/ReportingBugs|ツールを用いてバグを報告してください]]</nowiki>。バグの修正を通じて貢献したいのであれば、<nowiki>[[http://wiki.ubuntu.com/BugSquad|Bug Squad]]</nowiki>ページが役に立つでしょう。

==== Ubuntuに参加するには ====

Ubuntuを支援したいのであれば、以下の支援できる方法の一覧に目を通してみてください。

* https://community.ubuntu.com/contribute

==== Ubuntuに関して ====

Ubuntuに関するより詳しい情報は、<nowiki>[[http://www.ubuntu.com|UbuntuのWebサイト]]</nowiki>を確認してください。

Ubuntuの開発に関するアナウンスを受け取るには、Ubuntu開発アナウンスメーリングリストを購読してください。

* http://lists.ubuntu.com/mailman/listinfo/ubuntu-devel-announce

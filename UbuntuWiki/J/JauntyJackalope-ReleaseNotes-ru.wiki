{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

== Заметки к выпуску Ubuntu версии 9.04 ==

Этот документ содержит решения известных проблем Ubuntu 9.04 и её производных.

== Системные требования ==

Минимальное количество оперативной памяти, необходимой для работы Ubuntu 9.04 составляет 256 Мб. Обратите внимание на то, что некоторый объём системной памяти может использоваться видеокартой. С минимально возможным объёмом ОЗУ процесс установки займёт больше времени, но будет успешно закончен и система будет работоспособной после завершения установки.

Установку Ubuntu 9.04 на системы с малым количеством оперативной памяти предпочтительнее выполнять, выбрав пункт «Установить Ubuntu» ("Install Ubuntu") из меню загрузочного диска, запустив таким образом только установщик системы, а не полную рабочую среду.

== Установка ==

=== Рекомендованные пакеты устанавливаются по умолчанию ===

В соответствии с «Руководством по политике Debian» (в котором говорится, что «в поле «Recommends» должны перечисляться пакеты, которые идут вместе с устанавливаемым во всех случаях, кроме особо обозначенных»), теперь система управления пакетами будет по умолчанию устанавливать пакеты, перечисленные в поле ''предлагает'' («Recommends:») других пакетов на равне с ''зависимыми'' пакетами (перечислены в поле «Depends»). Если вы хотите избежать этого для каких-либо отдельных пакетов, используйте для установки команду `apt-get --no-install-recommends`; если же вы хотите совсем отключить эту функцию, добавьте строку `APT::Install-Recommends "false";` в файл `/etc/apt/apt.conf`. Заметьте, что это может привести к отключению некоторых функций в устанавливаемых программах.

(Это изменение было сделано в Ubuntu 8.10.)

=== Неверное графическое отображение диска при установке на самое большое непрерывное пустое место на диске ===

Когда одновременно выбраны опции «Устанавливать все вместе» ("Install them side by side") и «Использовать наибольшее непрерывное свободное пространство» ("Use the largest continuous free space"), опция «Использовать наибольшее непрерывное свободное пространство» будет отображать неверную информацию на диаграмме разделов диска, которая показывает, как будет выглядеть диск после установки. Несмотря на это, выбор этой опции корректно установит Ubuntu на самый большой пустой раздел.

=== Спящий режим может быть не доступен при использовании автоматической разбивки жёсткого диска на разделы ===

Алгоритм процедуры автоматической разбивки жёсткого диска на разделы, используемый программой установки, в некоторых случаях создаёт раздел подкачки (swap) меньшего размера, чем размер доступной системе физически оперативной памяти. Это сделает невозможным использование спящего режима (сохранение состояния системы на жёсткий диск), так как слепок памяти, создаваемый в процессе, не уместится на разделе подкачки. Если вы планируете использовать спящий режим на вашем компьютере, убедитесь, что размер раздела подкачки по крайней мере такой же, как и размер доступной в системе оперативной памяти (ОЗУ).

=== Запрос на извлечение загрузочного носителя после установки на платы Babbage, основанные на ARM ===

На платах Babbage, основанных на ARM, установочный носитель (карта памяти SD) используется также в качестве загрузочного носителя после установки. При перезагрузке системы по окончании процесса установки, выводится запрос на извлечение носителя, с которого производилась установка. Данный запрос ошибочен, карта SD должна остаться подключенной, чтобы можно было нормально загрузить установленную систему. (<nowiki>[[https://bugs.launchpad.net/bugs/364273|364273]]</nowiki>)

== Обновление с предыдущих версий ==

Пользователи Ubuntu 8.10 могут перейти на Ubuntu 9.04, используя обычный автоматизированный процесс обновления. Пользователи более старых версий Ubuntu должны сначала обновиться до Ubuntu 8.10, а затем до 9.04. Полные инструкции находятся на странице <nowiki>[[http://help.ubuntu.ru/doc/обновление_системы_заметки|Обновление системы: заметки]]</nowiki>.

Пользователи Kubuntu могут напрямую обновиться с версии 8.04 до Kubuntu 9.04. Пользователям, которые будут обновляться подобным образом, рекомендуется прочитать <nowiki>[[IntrepidReleaseNotes-ru|замечания к выпуску Ubuntu 8.10]]</nowiki>, так как могут иметь место описанные там проблемы. 

=== Ошибки загрузки на системах с чипсетом Intel D945 ===

Пользователи отмечают более медленное, чем обычно, распознавание жёстких дисков SATA на материнских платах с чипсетом Intel D945 на Ubuntu 9.04.  При загрузке это может привести к выпадению в оболочку initramfs с выводом ошибки "Gave up waiting for root device." («Превышение времени ожидания системного устройства»). Подождите 1-2 минуты, а затем выйдите из оболочки initramfs, набрав 'exit'. Далее процесс загрузки должен продолжиться в обычном режиме. Если этого не происходит, подождите дольше и попробуйте снова. Когда система загрузится, отредактируйте <code>/boot/grub/menu.lst</code>, добавив <code>rootdelay=90</code> в строку используемого ядра. (<nowiki>[[https://launchpad.net/bugs/290153|Bug 290153]]</nowiki>).

=== При обновлении с бета-версии, возможно, придётся заменить LABEL= в /etc/fstab ===

Системы Ubuntu Jaunty Alpha 5, Jaunty Alpha 6, либо Ubuntu 9.04 beta могут использовать синтаксис `LABEL=` в `/etc/fstab` для идентификации файловых систем. Это может служить причиной непредсказуемого поведения в случае, если в систему будет добавлен другой диск (например USB), содержащий файловые системы с совпадающими метками. Если вы не уверены в невозможности возникновения такой ситуации, то рекомендуется перейти на использование универсальных уникальных идентификаторов (UUIDs).

Например, если файловая система идентифицируется как `LABEL=home` в `/etc/fstab`, вы можете найти её UUID следующим образом: <pre>
blkid -o value -s UUID -l -t LABEL=home
</pre> Теперь вы можете заменить `LABEL=home` на `UUID=output`, где `output` — это ответ от blkid.

При установке релиз-кандидат версии или финальной версии Ubuntu 9.04 эта проблема не возникает.

=== Ошибка python ImportError на системах, обновляемых с версии предшествующих 9.04 RC ===

В версиях Jaunty, выпущенных до Ubuntu 9.04 RC, существует ошибка в пакетах Python, которая приводит к тому, что модули Python не могут быть зарегистрированы для использования с текущей версией Python, Python 2.6.  При этом выводится следующая ошибка:
<pre>
ImportError: No module named foo
</pre>
даже если пакет с этим модулем уже установлен.

Для исправления этого, выполните команду:
<pre>
sudo dpkg-reconfigure python-foo
</pre>
для каждого пакета <code>python-foo</code>, содержащего модули, для которых выдаётся ошибка.

=== Обновление с альфа версии может потребовать повторного шифрования зашифрованных домашних каталогов ===

Пользователям, использовавшим eCryptfs на Jaunty Alpha советуется повторно закодировать все шифрованные файлы. Ошибка в ядре 2.6.28 служила причиной того, что в заголовки зашифрованных eCryptfs файлов записывалось случайное содержимое памяти. Была создана заплатка, устраняющая эту ошибку, она была включена в ядро версии Jaunty RC. Пользователи, у которых установлено ядро этой версии, должны перешифровать каждый зашифрованный файл, используя /usr/bin/ecryptfs-rewrite-file. Для получения более подробной информации смотрите <nowiki>[[http://manpages.ubuntu.com/manpages/jaunty/en/man1/ecryptfs-rewrite-file.1.html|ecryptfs-rewrite-file(1)]]</nowiki>.  См.также <nowiki>[[Bug:345544|Bug 345544]]</nowiki>.

=== Пользователи, обновляющиеся с Ubuntu 8.10 могут иметь установленный в системе lilo ===

Ubuntu 8.10, установленная с «desktop CD», по ошибке, имеет в себе установленными как пакет `lilo`, так и пакет `grub`, несмотря на то, что для загрузки используется `grub`. Если вы примените рекомендованный способ обновления через Update Manager, то пакет `lilo` будет удалён, если он не используется. При обновлении каким-либо другим способом и если вы уверены, что используете загрузчик GRUB, рекомендуется удалить пакет `lilo` вручную. <nowiki>[[Bug:314004|Bug 314004]]</nowiki>

=== Установка беспроводного регулирующего домена через опцию модуля ядра более не поддерживается ===

Ubuntu 9.04 использует регулирующий фреймворк CRDA для управления тем, какие беспроводные каналы используются и видимы в конкретном месторасположении. Если до этого вы использовали опцию модуля в /etc/modprobe.d/options, подобную той, что приведена ниже, для разрешения доступа к некоторым каналам в вашем месторасположении, то может оказаться, что эти каналы не будут функционировать вообще:

    options cfg80211 ieee80211_regdom=EU

Вы должны удалить эту опцию модуля ядра при обновлении до Ubuntu 9.04 и использовать вместо этого команду <code>iw reg</code>.

=== Апплет Network management должен быть настроен при обновлении Kubuntu ===

При обновлении с Kubuntu 8.10, апплет Network Management должен быть добавлен на панель вручную.  (Bug Bug:349066)

{| class="wikitable"
|-
| <nowiki>[[File:plasma-1.png]]</nowiki>
| <nowiki>[[File:plasma-2.png]]</nowiki>
| <nowiki>[[File:plasma-3.png]]</nowiki>
|-
| Нажмите иконку Plasma справа снизу.
| Выберите «Add widgets...».
| Дважды кликните на Network Management.
|}

=== Сбой X-сервера при использовании планшетов Wacom ===

Драйвер wacom в Ubuntu 9.04 поддерживает автоматическую настройку, однако он конфликтует с ручными настройками, задаваемыми в секциях устройств в `/etc/X11/xorg.conf`, что выражается в сбое X-сервера при загрузке системы или завершении работы. Пожалуйста, закомментируйте или совсем удалите данные настройки из `xorg.conf` для избежания сбоев. (<nowiki>[[https://bugs.launchpad.net/bugs/358643|358643]]</nowiki>)

=== Апплет Kubuntu Network Management не соединяется с сетями WPA2 ===

Апплет Network Management applet в Kubuntu не соединяется с сетями WPA 2 и некоторыми VPN.  Как решение проблемы, вы можете пока использовать knetworkmanager (доступный на DVD), либо network-manager-gnome. <nowiki>[[Bug:339313|Bug 339313]]</nowiki>

=== Kubuntu может сохранить ненужные пакеты управления питанием ===

Процедура обновления Kubuntu может оставить в системе более не используемые пакеты "kde-guidance-powermanager" или "guidance-power-manager". Их можно удалить.

=== Сочетание клавиш Ctrl-Alt-Backspace в Xorg по умолчанию выключено ===

Принудительный перезапуск X комбинацией клавиш Ctrl-Alt-Backspace теперь по умолчанию выключен, для устранения проблемы случайного нажатия этого сочетания клавиш. Пользователи, желающие включить эту функцию, могут сделать это, внеся изменения в файл xorg.conf, либо выполнив команду <code>dontzap --disable</code>.

=== Изменения поведения уведомлений о доступных обновлениях ===

Ubuntu 9.04 изменяет процесс работы с обновлениями пакетов, сразу запуская <code>update-manager</code> и не показывая уведомление в виде иконки на панели GNOME.  Пользователи по прежнему будут предупреждаться о доступности обновлений безопасности в ежедневном режиме, но об обновлениях, не относящихся к устранению уязвимости системы, пользователи будут оповещаться только раз в неделю.

Пользователи, желающие получать уведомления в старом стиле, могут восстановить предыдущие настройки, используя команду:

<pre>
gconftool -s --type bool /apps/update-notifier/auto_launch false
</pre>

=== Сбой создания initramfs при обновлениях систем с iSCSI ===

В процессе обновления систем, использующих iSCSI, происходит сбой создания initramfs. Чтобы обойти данную проблему, отредактируйте `/usr/share/initramfs-tools/hooks/iscsi` и приведите строку
<pre>
copy_exec /usr/sbin/iscsistart /sbin
</pre>

к виду:

<pre>
copy_exec /sbin/iscsistart /sbin
</pre>

Данная ошибка будет исправлена в первом обновлении системы. (<nowiki>[[https://bugs.launchpad.net/bugs/364616|Bug: 364616]]</nowiki>)

== Другие известные проблемы ==

=== Потеря производительности на видеокартах Intel ===

Пользователи видеочипсетов Intel сообщили о потере производительности в Ubuntu 8.10 по сравнению с предыдущими релизами (ошибка Bug:252094).  Многие факторы, влияющие на проблему, были устранены в Ubuntu 9.04, но некоторые остались.

** Некоторые пользователи заметили улучшение производительности при использовании  «жадной» эвристической миграции. Это может быть выполнено с помощью команды "sudo gedit /etc/X11/xorg.conf", путём добавления строки `Option "MigrationHeuristic" "greedy"` в секцию `Device` файла `xorg.conf`. 

** Кроме того, для пользователей видеокарт Intel доступна новая экспериментальная опция архитектуры акселератора, "DRI2/UXA", использование которой, по данным наших <nowiki>[[X-UxaTesting|тестов]]</nowiki> обеспечивает значительный прирост производительности в некоторых случаях, но также может вызвать серьёзные проблемы со стабильностью.  Вы можете попробовать включить эту опцию, выполнив "sudo gedit /etc/X11/xorg.conf", и добавив строку `Option "AccelMethod" "UXA"` в секцию `Device` файла `xorg.conf`.  Пользователи, желающие иметь максимально стабильную систему, должны использовать стандартный метод акселерации "EXA", включенный по умолчанию.
 
 /!\ В некоторых случаях это приводит к тому, что графическое окружение не запускается совсем, либо его становится невозможно использовать. В этом случае, загрузитесь в безопасном режиме, либо используйте сочетание клавиш Ctrl+Alt+F2 для перехода в текстовую консоль, а затем выполните `sudo nano /etc/X11/xorg.conf` для отмены режима UXA.

Если ничто из вышеперечисленного не помогло, примите к сведению, что некоторые пользователи сообщили о решении проблемы с помощью <nowiki>[[ReinhardTartler-X-RevertingIntelDriverTo2.4|использования драйверов старых версий]]</nowiki>.

=== Зависания, связанные с видеокартами Intel ===

Пользователи различных видео-чипов Intel сообщают, что дисплей зависает в различных условиях (например, на i945 через несколько минут после выхода из ждущего режима, см. <nowiki>[[https://bugs.launchpad.net/bugs/339091|339091]]</nowiki>). В большинстве подобных случаев, помогает отключение визуальных эффектов через Система -> Параметры -> Внешний вид.  

Если решение выше не помогло, вы можете добавить строку `Option "DRI" "off"` в секцию `Device` файла `/etc/X11/xorg.conf`. Эта опция выключит 3D ускорение и эффекты рабочего стола, но сделает надёжной работу с ждущим режимом и поможет избежать большинства сбоев.

Отмеченные пользователями сбои очень часто происходят на чипах i965 (<nowiki>[[https://bugs.launchpad.net/bugs/359392|359392]]</nowiki>). В связи с этим, визуальные эффекты для этих чипов по умолчанию отключены  в финальном выпуске. Эффекты будут включены обратно в обновлении к 9.04 после решения проблемы.

=== Зависания при удалении файлов с разделов ext4 ===

В некоторых случаях, как сообщается, удаление файлов с разделов ext4 приводит к программной блокировке процессора (Bug:330824).  Исследование этой проблемы в настоящий момент продолжается, и ожидается, что заплатка, устраняющая проблему, будет выпущена в виде обновления, вскоре после релиза.  Для того, чтобы избежать подобной проблемы, пользователи могут установить Ubuntu, используя файловую систему ext3, а затем перейти на использование ext4 (как описано в <nowiki>[[http://ext4.wiki.kernel.org/index.php/Ext4_Howto#Converting_an_ext3_filesystem_to_ext4|ext4 wiki]]</nowiki>), как только проблема будет устранена.

=== Переход на ext4 требует ручного обновления grub ===

Если вы решили монтировать файловые системы `/` или `/boot`, которые являются ext2 или ext3, как ext4 (как описано на <nowiki>[[http://ext4.wiki.kernel.org/index.php/Ext4_Howto#Converting_an_ext3_filesystem_to_ext4|ext4 wiki]]</nowiki>), то вы ''должны'' выполнить команду `grub-install` после обновления до Ubuntu 9.04 для переустановки загрузчика. Если вы этого не сделаете, версия GRUB, установленная в загрузочном секторе будет неспособна загрузить ядро с раздела ext4, и система не сможет загрузиться.

=== Возможные проблемы с потерей данных при изменении размеров разделов ext4 ===

Использование утилиты resize2fs может привести к потере данных при изменении размеров отмонтированных ext4 разделов. Прочтите <nowiki>[[http://article.gmane.org/gmane.comp.file-systems.ext4/12763|это письмо апстрим разработчика]]</nowiki> для более подробной информации. К сожалению, разработчики Ubuntu были предупреждены об этом слишком поздно для устранения проблемы в Ubuntu 9.04. Если вы желаете изменить размер файловых систем ext4, используя утилиты Ubuntu 9.04, вы можете использовать отключение функций `flex_bg` и `uninit_bg`, как решение проблемы (не выполняйте это на примонтированных разделах!): <pre>
tune2fs -O ^flex_bg,^uninit_bg /dev/DEVICE_NAME
e2fsck /dev/DEVICE_NAME
</pre> Однако, мы крайне советуем уделить резервному сохранению важных данных больше внимания, чем обычно, перед изменением размера ext4 разделов.

=== В Kubuntu по ошибке задействован Pulseaudio при установке с DVD или обновления с помощью apt-get ===

При установке Kubuntu 9.04 с DVD или alternate CD, либо при обновлении на Kubuntu 9.04 с предыдущей версии, используя <code>apt-get dist-upgrade</code>, по ошибке будет установлен пакет <code>pulseaudio</code>.  Этот пакет не предназначен для установки в систему Kubuntu.  Пользователи могут удалить этот пакет, выполнив:
<pre>
sudo apt-get remove --purge pulseaudio
</pre>

=== Профили Apparmor несовместимы с ecryptfs ===

При использовании зашифрованных каталогов совместно с apparmor в усиленном режиме, apparmor будет неожиданно запрещать доступ к некоторым файлам, поскольку ядро Linux будет рассматривать этот процесс, как доступ к файлу одновременно зашифрованным и не зашифрованным способом (Bug:359338).  Для решения проблемы, пользователи могут изменить профили apparmor, находящиеся в <code>/etc/apparmor.d/</code> для  <code>@{HOME}/.Private/**</code>.

=== Avahi не запускается, если присутствует домен .local ===

Пакет <code>avahi-daemon</code>, который обеспечивает поддержку стандарта mDNS "zeroconf", содержит в себе проверочную функцию, которая запрещает его запуск, если присутствует конфликтующий DNS домен <code>.local</code>.  Сообщается, что некоторые провайдеры объявляют о наличии такого домена <code>.local</code> в своих сетях, что приводит к тому, что хосты Ubuntu 9.04 не могут видеть имена компьютеров в локальной сети (Bug:327362).

Для принудительного использования mDNS в сетях, сконфигурированных подобным образом, пользователи могут выполнить следующую команду:

<pre>
sudo sed -i -e'/AVAHI_DAEMON_DETECT_LOCAL/s/1/0/' /etc/default/avahi-daemon
sudo service avahi-daemon start
</pre>

=== Wubi перезаписываеет каталог "ubuntu" и стирает его при деинсталляции ===

Если на целевом устройстве уже существует каталог "ubuntu", то он будет перезаписан во время установки из под Windows, а при удалении эта директория будет целиком стёрта (Bug:364166). Результатом этих действий будет полная потеря всех файлов, находящихся в этом каталоге. Рекомендуется перед установкой с помощью Wubi переименовать каталог с именем "ubuntu".

=== На архитектуре ARM возможны внезапные зависания ===

Портированная на ARM версия на текущий момент не поддерживает системные вызовы ppoll() и pselect(), что может иногда приводить к ошибке монтирования корневой файловой системы при загрузке. Как правило, перезагрузка устраняет эту проблему. В настоящее время ведётся работа над поддержкой системных вызовов, которая будет доступна в виде обновления ядра Ubuntu 9.04 через некоторое время после выхода версии 9.04.

=== Проблемы с отображением текста в Mythbuntu при использовании драйвера Radeon ===

Оболочка mythtv в Mythbuntu не может корректно отобразить шрифты при использовании драйвера radeon и включенной опции DRI (<nowiki>[[https://bugs.launchpad.net/bugs/341898|341898]]</nowiki>). Исправление данной проблемы ожидается в обновлении системы после выхода. Пока же, пользователи могут отключить DRI в настройках X.

=== Сбой индексов поисковой системы Tracker ===

В некоторых случаях целостность индексных файлов "tracker" — локальной поисковой системы для настольных компьютеров — может быть нарушена. Будет выведен запрос, предлагающий «Переиндексировать содержимое» ("Reindex all contents") с неработающими элементами управления. В то же самое время, сервис tracker может начать использовать большое количество дисковых ресурсов и процессорного времени. Чтобы обойти данную проблему, нажмите Alt+F2 и запустите `tracker-processes -r`. Данная проблема будет исправлена в обновлении, которое последует за релизом. (<nowiki>[[https://bugs.launchpad.net/bugs/361205|361205]]</nowiki>)

=== Ноутбук Fujitsu Celsius H270 и графический драйвер NVIDIA ===

Проблема взаимодействия графического драйвера NVIDIA, используемого в данный момент в Ubuntu 9.04, может вызвать повреждение внутренней EDID в панели на ноутбуках Fujitsu Technology Solutions Celsius H270, которая сохраняется после перезагрузок. В данный момент не рекомендовано устанавливать Ubuntu 9.04 на данную модель ноутбука (<nowiki>[[https://bugs.launchpad.net/bugs/364965|364965]]</nowiki>).

=== Отсутствующие панели GNOME в Ubuntu Netbook Remix после использования программы desktop-switcher ===

При изменении настройки «Переключить режим отображения рабочего стола» (Switch Desktop Mode) для перехода из режима нетбука в классический, настройки рабочей среды GNOME не сохраняются по завершении сеанса. При повторном запуске сессии, пользователи получают лишь отображение обоев рабочего стола, без панелей GNOME вверху и внизу экрана. Данная проблема будет исправлена в обновлении после релиза (<nowiki>[[https://bugs.launchpad.net/bugs/349519|349519]]</nowiki>).

=== Драйвер часов реального времени не загружается на ARM NSLU2 ===

Драйвер часов реального времени не подгружается корректно в процессе запуска системы на ARM NSLU2 (<nowiki>[[https://bugs.launchpad.net/bugs/353196|353196]]</nowiki>). Для обхода данной проблемы, воспользуйтесь после установки следующими командами: 

<pre>
sudo apex-env setenv cmdline 'console=ttyS0,115200 noirqdebug'
sudo rm /etc/modprobe.d/local
sudo update-initramfs -u
</pre>

=== Amarok не предлагает скачивать дополнительные кодеки при запуске Kubuntu с Live CD ===

При запуске и работе в Live-сессии, Amarok не предлагает скачивать дополнительные медиа-кодеки, когда это необходимо. Из-за этого он, например, не сможет воспроизводить файлы MP3. Данная проблема не наблюдается при обычной работе после установки системы на жёсткий диск (<nowiki>[[https://bugs.launchpad.net/bugs/362538|362538]]</nowiki>).

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== Introduction ===

Installing Ubuntu Breezy on a Dell Precision M70 is not too difficult; it is easier than on the previous version, Hoary. However, there are still a number of issues which will cause serious problems for Linux novices. Here is how to get around them. Be sure to read the Final Notes section of this tutorial as well. This procedure been tested on a system with the following configuration:

* 15.4" Widescreen SXGA+ (1680x1050)
* 1GB DDR2 SDRAM
* DVD+RW drive
* 40GB 7200 RPM Hard Drive
* Quadro FX Go1400
* Intel PRO/Wireless 2915 (802.11a/b/g)

I have written a review of the system, which you can read at <nowiki>[[http://www.notebookreview.com/default.asp?newsID=2302]]</nowiki>. The Ubuntu installation instructions on that page, however, are outdated.

=== Details of Failed Installation ===

When you run the install program, everything works great. Video card is detected, wireless is detected, and the GNOME login screen comes on. You log in. Wonderful. And then... ''everything freezes but the mouse.'' You need to push the power button to restart the computer.

Why? To start with, there are two different drivers for the Quadro FX graphics card. The open-source "nv" is the default driver for Ubuntu, and the closed-source "nvidia" driver, while available, is disabled by default.

The problem is that the current version of the nv driver does not play well with the awesome Quadro FX Go1400. To get everything working, you will need the closed-source driver (so much for your dream of an untainted open source system). You will therefore have to install some packages before booting into X11 (the graphical mode).

=== Installing the Proprietary NVIDIA drivers ===

It is recommended that you install Ubuntu from scratch. After partitioning your drive appropriately, use the Ubuntu installation CD to make a default configuration. At this stage, ''be sure that Ubuntu correctly configures your internet connection.''

After that, the installation will reboot the computer. Select the standard bootup (the first option). When the GNOME install screen comes up, ''do not log in.'' Instead, select the "reboot" option from the bottom of the screen to reboot the computer a second time. 

When the GRUB screen comes up again, boot into recovery mode (the second option). A text-only screen will come up.
Use this following command to install the new NVIDIA drivers:

<pre>
apt-get update
apt-get install nvidia-glx
</pre>

Then edit the xorg configuration file.

<pre>
nano /etc/X11/xorg.conf
</pre>

Find the word "nv" and change it to "nvidia". Then find the lines

<pre>
Load "GLCore"
Load "dri"
</pre>

Comment them out:

<pre>
}}}

=== Buggy Touchpad Behavior ===

If you were to reboot at this point, you would be able to log in to GNOME just fine, but you would find that the touchpad has buggy behavior. In particular, its response is slow and it does not recognize the double-tap-to-drag action which one can use to move windows around without clicking a button. To fix the touchpad before rebooting, type this line in:

{{{
echo options psmouse proto=exps > /etc/modprobe.d/psmouse.modprobe
</pre>

Now reboot by typing in "reboot." Boot into the standard system and all should be well.

=== Final Notes ===

If, after following these instructions, you experience random, *non-reproducible* complete freezes of the keyboard, mouse, and machine, you ought to be able to get rid of them by always leaving a CD or DVD in your drive. Details on this problem are at <nowiki>[[http://rtr.ca/dell_i9300/]]</nowiki>. It is a problem with libata in the Linux kernel and a patch is either in the works or already in the kernel. You may therefore never encounter this issue.

=== Dapper Notes ===

With Dapper, a normal Desktop installation goes flawlessly, and there's no need to intercept the initial boot as described above for Breezy. The system boots normally using the "nv" driver. 

However the system as installed fails to resume video after suspending from Gnome Power Manager, and this is a problem with the "nv" driver. So you should follow the instructions above for installing the closed source "nvidia" driver. After the change, this is how the relevant section looks in my xorg.conf:

<pre>
Section "Device"
	Identifier	"NVIDIA Corporation NV41 [Quadro FX Go1400]"
	Driver		"nvidia"
	BusID		"PCI:1:0:0"
EndSection
</pre>

(There were no "GLCore" or "dri" load directives to remove in my xorg.conf).

I have not observed any problems with touchpad on Dapper + M70; in particular double-tap-to-drag works.
----
CategoryHardware

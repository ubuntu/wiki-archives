{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:foundations-karmic-iscsi-installer-support
* '''Created''': 2009-06-03
* '''Contributors''': ZaidAlHamami, ColinWatson
* '''Packages affected''': `open-iscsi`

=== Summary ===

Currently, the Ubuntu Server installer does not seamlessly support iSCSI, requiring command-line interaction, and booting from iSCSI is not a fully tested/supported feature. We hope to change that for Karmic.

=== Release Note ===

Ubuntu now fully supports installation to iSCSI and booting with a root filesystem on iSCSI. The handling of iSCSI in the partitioner during installation has been significantly improved.

Launchpad Bugs: 
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/open-iscsi/+bug/236640|236640]]</nowiki>
* <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/open-iscsi/+bug/237460|237460]]</nowiki>

=== Rationale ===

Users of virtualized and diskless (e.g. blades) server environments need a Storage Array Network (SAN) solution that allows for migration of data between partitions/servers, and also provides the high performance necessary for certain high-throughput, low-latency enterprise applications. Traditionally, Fibre Channel SANs have been used in the past, however FC SANs are expensive and require specialized equipment and knowledge to maintain. iSCSI provides a simple and cost-effective way for the user to deploy SANs, because it uses the same IP network equipment that the user already has for standard networking, i.e. ethernet switches and standard network interface cards. 

Ubuntu already has some iSCSI support, but it is incompletely integrated.

=== Design ===

We want to balance allowing people to access iSCSI functionality in the installer with avoiding confusion; we certainly do not want to present unsuspecting users with iSCSI questions by default, as they will make no sense to those who do not need it. However, the current implementation (requiring booting with `iscsi=true`) is insufficiently discoverable. We will add an option in the installer's partitioner, along the lines of the existing LVM and RAID configuration options, to configure iSCSI. This will attempt to discover iSCSI devices on the network and present a list of them, falling back to requesting addresses and ports. (If there is an existing filesystem on the target, this will be handled by the partitioner in the usual way.)

GRUB (2) should be able to boot from iSCSI provided that the BIOS sets it up; this will be fine for high-end clients with sufficient BIOS support but less ideal for testing on dumb systems. We will offer some guidance on the necessary PXE-booting setup in this case.

The `open-iscsi` package in Ubuntu already has some initramfs support, but it is known to have been buggy at various times, so we will clean up the bugs and do a proper job of this.

=== Test/Demo Plan ===

The `iscsitarget` package in universe can be used to set up an iSCSI target for testing. (The canonical-support group can help with testing manpower.)

=== Future work ===

iSCSI support over IPSEC might be useful in future. There are other areas where IPSEC could be used during installation, such as secure acquisition of preseed files.

----
CategorySpec

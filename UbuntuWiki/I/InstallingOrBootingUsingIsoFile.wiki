{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Why this method? ==
Because I have a thin laptop that can't boot from my PCMCIA CD drive (I even tried ``Smart``Boot``Manager which is supposed to support this PCMCIA CD booting). Obviously, I can boot the laptop via net as I explained on '''EdubuntuViaNetBoot'''

If you need to install any developing version of Ubuntu or flavours, usually Developers do not recommend to use APT for such purposes. Then, net booting is a good idea or even '''this howto'''.

To sum up, this howto is good for you if:

 a. You want to test a ``Live``Cd but you can't boot from CD drive.
 a. You want to install a distro but you can't boot from CD drive.
 a. All the above alternatives but you don't want to burn a CD.

----
'''Table Of Contents'''

== Using a distro ISO file to boot/install via GRUB ==
Yes, it is possible. I have found people stating it is not possible and others stating it is possible.

So, I had to give it a try.

The idea is very simple:

=== Short quick version ===
 a. Get an ''distro.ISO'' file into your /home or wherever
 a. Get a ''free partition''
 a. Mount the ''free partition''
 a. Mount the ''distro.ISO''
 a. Copy all files and dirs from ''distro.ISO'' (already mounted) to the ''mounted free partition''
 a. Set GRUB to be able to boot from ''ex-free partition''
 a. Boot and enjoy

== Hardware used ==
* Fujitsu Lifebook B2175
* Celeron 500 MHz
* 256 MB of Ram
* 20 GB of HD
* a ''free partition 1'' (I recommend 1 GB so we can copy all the iso file to it)
* a ''free partition 2'' (at least 2.6 GB depending on the requirements of the distro of your choice)

== Software used ==
* Ubuntu/Edubuntu system
* GRUB (default)
* Elive_0.4.2.iso (we could use any ''distro.iso'' file)

== The Procedure. Few steps ==

=== Get the iso file from the distro you want. ===
In my case, I used '''<code>Elive_0.4.2.iso</code>''' just to give '''e17''' a try and because I know DanieleFavara (aka, '''nomed''' at <code>#dsslive</code> and <code>#xubuntu</code>) and '''Thanatermesis''' (from <code>#elive</code>) have worked very closely and hard to offer this very cool metadistro.

=== Create and/or Check you have 2 partitions. ===
You can use '''<code>fdisk -l</code>''' to see your current partitions and harddisks available, and use tools like '''<code>cfdisk</code>''' to create/delete/resize partitions.

Please, accept my apologies for not including information on how to use '''<code>cfdisk</code>''' or similar tools, but this howto is intended to solve a very specific need, and I am very sure you will find info about paritioning in this very ''wiki'' or at ''Google''.

What I used is 2 partitions:
 i. <code>/dev/hda7</code> --> 2.8 GB (I will install Elive here once I am convinced I like its performance)
 i. <code>/dev/hda8</code> --> 1 GB

So, for the rest of this howto, just replace the partition numbers for the ones you are actually using :)

=== Create a couple dirs so we can mount what we'll need. ===
For this howto, I have chosen '''<code>/mnt/IsoFile</code>''' and '''<code>/mnt/Target</code>'''
<pre>
$ sudo mkdir /mnt/IsoFile
$ sudo mkdir /mnt/IsoGrub
</pre>

=== Mount the distro.iso file [Alternative 01] ===
We need to mount the iso file to a directory we can read and use
<pre>
$ sudo mount -o loop Elive_0.4.2.iso /mnt/IsoFile
</pre>

=== Mount the distro CD in the CD-Drive [Alternative 02] ===
<pre>
$ sudo mkdir /cdrom
$ sudo mount /dev/sr0 /cdrom
</pre>
 <!> <code>Elive 0.4.2</code> does not do automounting, and my PCMCIA CD-Drive is recgnized as <code>sr0</code>

=== Mount target partition and copy all files and dirs to it. ===
Remember that later on, we will tell '''GRUB''' to read files in a partition and boot from it.

<pre>
$ sudo mount /dev/hda8 /mnt/IsoGrub
$ cd /mnt/IsoFile
$ cp -a * /mnt/IsoGrub
</pre>

=== Edit GRUB file (menu.lst) ===
This step is very simple but you have to keep in mind that you need to replace the info according to your own settings.

<pre>
$ nano /boot/grub/menu.lst
</pre>
 ''yeah, you could use a different editor'' ;)

Add lines like these...
<pre>

title   Elive 0.4.2 LiveCd
kernel  (hd0,7)/boot/vmlinuz root=/dev/hda8 BOOTMEDIA=cd
initrd  (hd0,7)/boot/miniroot.gz
boot
</pre>
 /!\ ''remember that <code>hd0,7</code> corresponds to 1st master IDE Harddisk and to partition #8 (yeah, ''0'' is #1)''

Usually, for <code>initrd</code> we would use a file like '''<code>initrd.img</code>''' but in the case of '''Elive''', I found none under a similar name but '''<code>miniroot.gz</code>'''.

After editing and saving (don't forget to save!), you need to update GRUB...
<pre>
$ sudo update-grub
</pre>

=== Reboot and enjoy ===
If you did not get any errors, then we're done to reboot and enjoy!. Obviously, when rebooting, press '''<code>Esc</code>''' key as soon as you see the ''grub message/line'' and select <code>Elive 0.4.2 LiveCd</code> (or whatever you wrote in <code>menu.lst</code>).

=== If you want to run the distro installer ===
In case you are also trying a LiveCD distro that lets you install from it onto a partition, then you can specify '''<code>/dev/hda7</code>''' for such purpose.

Of course, if you are trying an '''install CD''' (like the one shipped by Canonical), when rebooting, you will run the standard installation procedure, just like booting from CD.

== Comments? Observations? ==
Send an email to <code>mhz AT ubuntu DOT com</code> or just add it to this last section.

=== I tried Xubunt Dapper ===
<pre>
title Xubuntu Dapper LiveCD
kernel (hd0,7)/casper/vmlinuz root=/dev/hda8 BOOTMEDIA=cd
initrd (hd0,7)/casper/initrd.gz
boot
</pre>

<!> it did boot ok BUT I only got to a Busy Box (ash) :(

 -- MauricioHernandez 
{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

An ongoing Ubuntu goal is to keep the length of time required to boot the system as short as possible.  While we do this work, each release is expected to reduce the boot time of the previous one wherever possible.  Once the work has been completed, no release should increase the boot time.

Boot performance is thus generally considered equal to CD size limitations.

That being said, there are occasions where Ubuntu features or decisions mean that the boot time is not as fast as it could be.  If you do not use the feature, or do not agree with the decision, you can change your system to improve boot time.

=== Compile your storage controller and filesystem drivers into the kernel ===

'''Rationale''':
In order to keep the kernel image size to a reasonable level, we do not compile all storage controller and filesystem drivers into it.  In fact, we only compile in the most common Intel ATA PIIX controller and the ext2/ext3/ext4 filesystems.  The rest are loaded as modules later.

'''Advantage''':
Compiling in your own storage controller and own filesystem driver mean that initialisation can happen as the kernel starts, giving you a performance benefit when mounting filesystems.

'''Disadvantage''':
Your kernel image will be larger, and in some unlikely cases may fail to boot.  Be sure to backup your previous kernel beforehand.  You will need to reapply this change for each kernel update.

'''Method''':
Obtain the kernel source from either APT or GIT, and ensure that the appropriate drivers for your system are built-in ("y") not modules ("m").  It's not recommended to disable/modulise those that we build in by default.

=== Disable the initramfs ===

'''Rationale''':
To load additional storage controller and filesystem drivers after the kernel has initialised, which may be required to mount the root filesystem, we need an initial ramdisk filesystem ("initramfs") that contains the modules and can load those that are required.

Since this is userspace code, it is much easier to provide flexibility here than in the kernel.  The Ubuntu default mount-by-UUID and mount-by-LABEL support are supplied by the initramfs, as well as support for resuming from a hibernated disk image.

The initramfs may also contain the mechanism for network boot, as well as support for Software RAID, Logical Volume Management (LVM) and disk encryption.

'''Advantage''':
Disabling the initramfs provides a massive performance advantage since it does not need to be uncompressed or unpacked while the kernel initialises (by far the longest part) and does not need to be run before mounting the root filesystem.

'''Disadvantage''':
You will lose support for mounting by UUID, mounting by LABEL, resuming from hibernate, Software RAID, Logical Volume Management and disk encryption.  You will need to reapply this change for each kernel update.

'''Method''':
First ensure that your storage controller and filesystem drivers are compiled into the kernel as detailed above.  At this point you can test booting without an initramfs by pressing Escape at the GRUB menu and editing the option: delete the "initrd" stanza, and edit the kernel stanza to change the "root" option from a UUID to the actual path of your disk (e.g. /dev/sda1).

If this is successful, you can make the changes permanent on your system for your kernel:
 1. remove the /boot/initrd.img-* for your new kernel
 2. edit /boot/grub/menu.list, locate the stanza for your new kernel, remove the "initrd" line and modify the "kernel" line as detailed above.

If your system uses the default Intel ATA PIIX storage controller and ext2/3/4 filesystem family, you can make this change in a way that applies to each subsequent kernel update.  Follow the steps above, and additionally:
# while editing /boot/grub/menu.list, locate the "# kopt=root=" line and make the same change as you did for the "kernel" line.
# run "upgrade-grub"
# edit /etc/kernel-img.conf and either add or modify the line so it contains "do_initrd = no"

Always keep a distribution kernel with an initramfs to recover from errors, otherwise you'll need to use a LiveCD to rescue your system.

=== Use a single filesystem ===

'''Rationale''':
This is simply a personal configuration choice.

'''Advantage''':
Keeping your system to a single filesystem means that there is not additional overhead for independently checking and mounting the usual /usr, /var or /home separations while booting since these are critical-path.

'''Disadvantage''':
You will be unable to spread your filesystem across multiple drives.

'''Method''':
When installing Ubuntu, use a single partition (other than swap) mounted as "/" (this is the default for guided partitioning).

=== Do not use Software Raid, Logical Volume Management (LVM) or disk encryption ===

'''Rationale''':
This is simply a personal configuration choice.

'''Advantage''':
The additional overhead of configuration Software Raid, Logical Volume Management (LVM) or disk encryption on boot has a large affect on boot speed.  In addition, the CPU overhead of disk encryption has a general performance penalty.

'''Disadvantage''':
You will be unable to take advantage of these features.

'''Method''':
When installing Ubuntu, use a single partition (other than swap) mounted as "/" (this is the default for guided partitioning).

=== Disable the splash screen ===

'''Rationale''':
Users generally don't like to see a text console with scrolling messages on boot, so we display a graphical Ubuntu logo instead.

'''Advantage''':
This has a slight performance penalty, in particular with the VT switches required to initialise the splash screen and when starting the X server (which requires we switch from graphics mode, back to text mode, then into graphics mode again).

'''Disadvantage''':
Your boot will not be as pretty.

'''Method''':
Edit the /boot/grub/menu.list file, locate the "# defoptions=quiet splash" line and remove the word "splash"; run "update-grub" when done.  Do not remove the "quiet" word, since this will introduce a large performance penalty by making the kernel output significantly more messages to the console.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

'''Note:''' See https://wiki.ubuntu.com/LaptopTestingTeam/DellXPSM1330 for progress with Ubuntu Hardy on this hardware.
=== Hardware Configuration Used ===
==== First ====

* XPS M1330
* Intel® Core 2 Duo Processor T7300 (2.0GHz/800Mhz FSB, 4MB Cache)
* Tuxedo Black
* 2GB Shared Dual Channel DDR2 SDRAM at 667MHZ
* Slim and Light White LED Display with VGA Webcam
* 128MB NVIDIA® GeForce Go 8400M GS
* 120GB SATA Hard Drive (5400RPM)
* Integrated 10/100 Network Card and Modem
* CD/DVD burner (DVD+/-RW Drive)
* High Definition Audio 2.0
* Intel Next-Gen Wireless-N Mini-card
* 85Whr Lithium Ion Battery (9 cell)
* Built-in Bluetooth capability (2.0 EDR)

==== Second (Francois2) ====
* XPS M1330
* Intel® Core 2 Duo Processor T7500 (2.2GHz/800Mhz FSB, 4MB Cache)
* Crimson Red
* 2GB Shared Dual Channel DDR2 SDRAM at 667MHZ
* Slim and Light White LED Display with VGA Webcam
* 128MB NVIDIA® GeForce Go 8400M GS
* 160GB SATA Hard Drive (7200RPM)
* Integrated 10/100 Network Card and Modem
* CD/DVD burner (DVD+/-RW Drive)
* High Definition Audio 2.0
* Intel Next-Gen Wireless-N Mini-card
* 60Whr Lithium Ion Battery (6 cells)
* Built-in Bluetooth capability (2.0 EDR)
* Fingerprint Reader
* Integrated webcam

=== Install Media ===

* Ubuntu 7.10

==== Hardware Status ====

{| class="wikitable"
|-
| Item
| Status
| Notes
|-
| Video Intel
| Works
| 
|-
| Video Nvidia
| Works
| only with Nvidia proprietary drivers, nvidia-glx-new
| 
|-
| WiFi
| Works
| 
|-
| WiFi version N
| Works
| works out of the box with network manager and a "g" network. Didn't try it with a N AP though
|-
| 10/100 Ethernet
| Works
| 
|-
| Audio
| Works
| 
|-
| Media Buttons
| Works!
| Same functionality as in Vista
|-
| Backlight control
| Works
| 
|-
| MMC Slot
| Works
| 
|-
| Remote Control
| Works
| 145876, emulates key presses
|-
| DVD/CD-RW
| works
| 
|-
| Bluetooth
| Works
| 
|-
| Fingerprint reader
| ?
| Works with ThinkFinger. Some open issues still.
|-
| Webcam
| Works
| 
|}

=== Issues ===

==== Fixed ====

* WiFi does not work

      Install linux-image-2.6.22-9-generic

* Audio
      Works with Gutsy. If not working, edit the file /etc/modprobe.d/alsa-base

      Code:
      sudo nano /etc/modprobe.d/alsa-base
      Edit the line "options snd-hda-intel model=ref" to read "options snd-hda-intel model=3stack"
      If you cannot find this line, add it. If you don't have sound after a reboot, edit the sound preference, and look for the "Front" volume option. Make sure its not muted. Same for PCM.

      Seems like their is still a bug regarding the internal mic: https://bugs.launchpad.net/dell/+bug/153963

* Strange Multi-Colored Character screen during installation with Intel Video 
      Reboot, and at the alternate-cd boot screen, select something other than VGA mode (1024x768 perhaps)

* Webcam

   Works with Gutsy (select V4L2, V4L is not working!). 

   If not, see http://linux-uvc.berlios.de/
   Follow the wiki installation guide: download from SVN, install headers and built-essential, edit makefile, compile, add uvcvideo to your /etc/modules, reboot. In Ekiga, choose "V4L2" (does not work with V4L). See your amazed face on your screen.

* No DMA for DVD Rom
   Nevermind for this problem. I still had ide_generic in my initrd config and so it got loaded every time. This prevented ata_piix from setting my Drive into correct mode.

* Brightness keys change brightness in increments of 4 rather than 1
      Append "blacklist video" to /etc/modprobe.d/blacklist
* WiFi LED not enabled by default.
      Install linux-backports-modules-hardy-generic

==== Pending ====

* CPU/GPU Fan is loud
1. Run powertop [apt-get install powertop] to fix a few things
2. Is <nowiki>[[http://packages.ubuntu.com/feisty/admin/powernowd|powernowd]]</nowiki> installed, does it need agressive settings?
3. Is the <nowiki>[[http://www.thinkwiki.org/wiki/How_to_make_use_of_Dynamic_Frequency_Scaling|Kernel Dynamic Frequency]]</nowiki> Scaling turned on, and is the BIOS set to let it work?
4. Enable Coolbits for Nvidia graphic cards, this makes it possible to underclock the GPU to reduce the heat producion and therefore the need for the combined CPU/CPU-fan. http://aldeby.wordpress.com/2007/12/22/enable-nvidia-coolbits-frequency-tuner/

  3 is working. Please note that the fan is loud if you don't use the Nvidia driver. With the vesa one, the laptop does not really get hotter, but the fan is loud. With the Nvidia driver, it's almost as good as with Vista.

* Hibernate ( Suspend to disk ):
** '''Hardy:''' Works 95%+ of the time.  Only occasionally fails to resume, but even then, it might have been a mistake on my part.  ''Note: Do not hibernate after upgrading the kernel or doing anything that causes the initrd to be regenerated.  That will cause a different kernel to be loaded after resuming, which may lead to problems.  Always shutdown or reboot after upgrading the kernel or initrd.  Also, if using NVIDIA drivers from their web site, you will need to reinstall them after upgrading the kernel.''
** '''Intrepid:''' Works for me, have yet to see it fail. - LukeFaraone
* Suspend to ram:
   Works, with some issues described in Bug N° 145876 in Launchpad
   Initially failed to work, magically started working again after a recent (Intrepid, 2009-01-22) update. ~10 seconds to suspend, 5~ to resume.  - LukeFaraone
   Issue with the built-in card-reader (suspend freezes on a black screen with a blinking cursor). Add the
   "sdhci mmc_block mmc_core" modules to MODULES in /etc/default/acpi-support. (Or simply remove the memory card
   from the reader...)
* HDD has high frequency of Load/Unload cycles
   See https://wiki.ubuntu.com/DanielHahler/Bug59695

=== Discussion ===

I would like to confirm:
* Do the media buttons work and it is just sound that isn't working or do they not respond at all? -- Everything works!
* Is the backlight control automatic when you go to battery mode? -- Yes! (configurable with the power applet)
* Can screen-brightness be controlled using Fn keys? -- Yes, but can only set to some levels, intermediate levels are skipped. -- Fixed by blacklisting video module, see Issues-Fixed above.
* Can the external monitor/TV output be controlled with Fn keys? -- Yes!

* Does sleep/hibernate work? -- Not really, screen does not awaken. Note from Francois2: it seems to be working on mine. With Nvidia proprietary drivers. Hibernate worked when I first tried it. But I have some little display problems (the Network manager icon is not entirely displayed from time to time) and the graphic acceleration is slow. It seems to be a known bug in the Nvidia driver. Note from robe: This Bug is fixed in the newest Version, see other issues with Hibernate.

* Does the WiFi LED besides the power button work? -- Yes! See Issues-Fixed above.

* Does the WiFi catcher still work? -- Yes! But only while the wireless isn't already in use by the OS. Namely, only when the computer is turned off or in suspend.

=== Bits of Output ===

* lspci

<pre>
00:00.0 Host bridge: Intel Corporation Mobile Memory Controller Hub (rev 0c)
00:01.0 PCI bridge: Intel Corporation Mobile PCI Express Root Port (rev 0c)
00:1a.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI #4 (rev 02)
00:1a.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI #5 (rev 02)
00:1a.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI #2 (rev 02)
00:1b.0 Audio device: Intel Corporation 82801H (ICH8 Family) HD Audio Controller (rev 02)
00:1c.0 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express Port 1 (rev 02)
00:1c.1 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express Port 2 (rev 02)
00:1c.3 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express Port 4 (rev 02)
00:1c.5 PCI bridge: Intel Corporation 82801H (ICH8 Family) PCI Express Port 6 (rev 02)
00:1d.0 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI #1 (rev 02)
00:1d.1 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI #2 (rev 02)
00:1d.2 USB Controller: Intel Corporation 82801H (ICH8 Family) USB UHCI #3 (rev 02)
00:1d.7 USB Controller: Intel Corporation 82801H (ICH8 Family) USB2 EHCI #1 (rev 02)
00:1e.0 PCI bridge: Intel Corporation 82801 Mobile PCI Bridge (rev f2)
00:1f.0 ISA bridge: Intel Corporation Mobile LPC Interface Controller (rev 02)
00:1f.1 IDE interface: Intel Corporation Mobile IDE Controller (rev 02)
00:1f.2 SATA controller: Intel Corporation Mobile SATA AHCI Controller (rev 02)
00:1f.3 SMBus: Intel Corporation 82801H (ICH8 Family) SMBus Controller (rev 02)
01:00.0 VGA compatible controller: nVidia Corporation Unknown device 0427 (rev a1)
03:01.0 FireWire (IEEE 1394): Ricoh Co Ltd Unknown device 0832 (rev 05)
03:01.1 Generic system peripheral [0805]: Ricoh Co Ltd R5C822 SD/SDIO/MMC/MS/MSPro Host Adapter (rev 22)
03:01.2 System peripheral: Ricoh Co Ltd Unknown device 0843 (rev 12)
03:01.3 System peripheral: Ricoh Co Ltd R5C592 Memory Stick Bus Host Adapter (rev 12)
03:01.4 System peripheral: Ricoh Co Ltd xD-Picture Card Controller (rev 12)
09:00.0 Ethernet controller: Broadcom Corporation Unknown device 1713 (rev 02)
0c:00.0 Network controller: Intel Corporation Unknown device 4229 (rev 61)
</pre>

* lspci -n
<pre>
00:00.0 0600: 8086:2a00 (rev 0c)
00:01.0 0604: 8086:2a01 (rev 0c)
00:1a.0 0c03: 8086:2834 (rev 02)
00:1a.1 0c03: 8086:2835 (rev 02)
00:1a.7 0c03: 8086:283a (rev 02)
00:1b.0 0403: 8086:284b (rev 02)
00:1c.0 0604: 8086:283f (rev 02)
00:1c.1 0604: 8086:2841 (rev 02)
00:1c.3 0604: 8086:2845 (rev 02)
00:1c.5 0604: 8086:2849 (rev 02)
00:1d.0 0c03: 8086:2830 (rev 02)
00:1d.1 0c03: 8086:2831 (rev 02)
00:1d.2 0c03: 8086:2832 (rev 02)
00:1d.7 0c03: 8086:2836 (rev 02)
00:1e.0 0604: 8086:2448 (rev f2)
00:1f.0 0601: 8086:2815 (rev 02)
00:1f.1 0101: 8086:2850 (rev 02)
00:1f.2 0106: 8086:2829 (rev 02)
00:1f.3 0c05: 8086:283e (rev 02)
01:00.0 0300: 10de:0427 (rev a1)
03:01.0 0c00: 1180:0832 (rev 05)
03:01.1 0805: 1180:0822 (rev 22)
03:01.2 0880: 1180:0843 (rev 12)
03:01.3 0880: 1180:0592 (rev 12)
03:01.4 0880: 1180:0852 (rev 12)
09:00.0 0200: 14e4:1713 (rev 02)
0c:00.0 0280: 8086:4222 (rev 02)
</pre>

* lsmod
<pre>
Module                  Size  Used by
ipv6                  317064  10 
af_packet              28172  2 
rfcomm                 47272  0 
l2cap                  28672  5 rfcomm
acpi_cpufreq           10760  1 
cpufreq_conservative     9608  0 
cpufreq_powersave       3072  0 
cpufreq_userspace       6048  0 
cpufreq_stats           8160  0 
cpufreq_ondemand       10768  1 
freq_table              6464  3 acpi_cpufreq,cpufreq_stats,cpufreq_ondemand
container               6400  0 
ac                      7304  0 
button                 10272  0 
video                  20496  0 
battery                12424  0 
sbs                    21520  0 
dock                   12264  0 
sbp2                   27272  0 
parport_pc             41896  0 
lp                     15048  0 
parport                44172  2 parport_pc,lp
arc4                    3328  2 
ecb                     5248  2 
blkcipher               8452  1 ecb
snd_hda_intel         327848  0 
snd_pcm_oss            50048  0 
snd_mixer_oss          20096  1 snd_pcm_oss
snd_pcm                94344  2 snd_hda_intel,snd_pcm_oss
snd_seq_dummy           5380  0 
snd_seq_oss            36864  0 
snd_seq_midi           11008  0 
snd_rawmidi            29824  1 snd_seq_midi
joydev                 13440  0 
uvcvideo               46468  0 
iwl4965               113124  0 
usbhid                 32576  0 
videodev               31360  1 uvcvideo
v4l1_compat            15364  2 uvcvideo,videodev
v4l2_common            21888  2 uvcvideo,videodev
hid                    33408  1 usbhid
snd_seq_midi_event      9984  2 snd_seq_oss,snd_seq_midi
hci_usb                21020  2 
bluetooth              63236  7 rfcomm,l2cap,hci_usb
mac80211              194184  1 iwl4965
snd_seq                62496  6 snd_seq_dummy,snd_seq_oss,snd_seq_midi,snd_seq_midi_event
snd_timer              27272  2 snd_pcm,snd_seq
snd_seq_device         10260  5 snd_seq_dummy,snd_seq_oss,snd_seq_midi,snd_rawmidi,snd_seq
cfg80211                8720  1 mac80211
i2c_core               30208  0 
snd                    69288  9 snd_hda_intel,snd_pcm_oss,snd_mixer_oss,snd_pcm,snd_seq_oss,snd_rawmidi,snd_seq,snd_timer,snd_seq_device
soundcore              10272  1 snd
pcspkr                  4608  0 
serio_raw               9092  0 
sdhci                  21004  0 
mmc_core               33416  1 sdhci
snd_page_alloc         11920  2 snd_hda_intel,snd_pcm
psmouse                45596  0 
intel_agp              30496  0 
shpchp                 38300  0 
pci_hotplug            36612  1 shpchp
evdev                  13056  6 
ext3                  146448  1 
jbd                    69360  1 ext3
mbcache                11272  1 ext3
sg                     41384  0 
sd_mod                 32512  3 
ohci1394               38984  0 
ieee1394              109528  2 sbp2,ohci1394
ata_generic             9988  0 
ahci                   27012  2 
libata                141104  2 ata_generic,ahci
scsi_mod              172728  4 sbp2,sg,sd_mod,libata
tg3                   118788  0 
ehci_hcd               39820  0 
uhci_hcd               29600  0 
usbcore               160560  6 uvcvideo,usbhid,hci_usb,ehci_hcd,uhci_hcd
thermal                16528  0 
processor              36104  2 acpi_cpufreq,thermal
fan                     6920  0 
capability              7048  0 
commoncap               9472  1 capability
</pre>

* /proc/cpuinfo
<pre>
processor       : 0
vendor_id       : GenuineIntel
cpu family      : 6
model           : 15
model name      : Intel(R) Core(TM)2 Duo CPU     T7300  @ 2.00GHz
stepping        : 10
cpu MHz         : 800.000
cache size      : 4096 KB
physical id     : 0
siblings        : 2
core id         : 0
cpu cores       : 2
fpu             : yes
fpu_exception   : yes
cpuid level     : 10
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm syscall nx lm constant_tsc pni monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr lahf_lm
bogomips        : 3994.93
clflush size    : 64
cache_alignment : 64
address sizes   : 36 bits physical, 48 bits virtual
power management:

processor       : 1
vendor_id       : GenuineIntel
cpu family      : 6
model           : 15
model name      : Intel(R) Core(TM)2 Duo CPU     T7300  @ 2.00GHz
stepping        : 10
cpu MHz         : 800.000
cache size      : 4096 KB
physical id     : 0
siblings        : 2
core id         : 1
cpu cores       : 2
fpu             : yes
fpu_exception   : yes
cpuid level     : 10
wp              : yes
flags           : fpu vme de pse tsc msr pae mce cx8 apic sep mtrr pge mca cmov pat pse36 clflush dts acpi mmx fxsr sse sse2 ss ht tm syscall nx lm constant_tsc pni monitor ds_cpl vmx est tm2 ssse3 cx16 xtpr lahf_lm
bogomips        : 3990.10
clflush size    : 64
cache_alignment : 64
address sizes   : 36 bits physical, 48 bits virtual
power management:
</pre>
----
CategoryLaptop

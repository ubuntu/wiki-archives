{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:itpm-support
* '''Created''': AndrewPollock
* '''Contributors''': 
* '''Packages affected''': linux

=== Summary ===

Contemporary Lenovo and Dell laptops include a newer <nowiki>[[http://en.wikipedia.org/wiki/Trusted_Platform_Module|TPM chip]]</nowiki> (iTPM) which is not well supported by Linux.

The fundamental problem is that iTPM doesn't set the TPM_STS_DATA_EXPECT status bit when sending it a burst of data and the current kernel module considers that a failure. And there is a secondary problem that the Thinkpads have the chip in an ACPI configuration that, while standard, eludes the kernel's autoprobing.

=== Release Note ===

iTPM-based laptops are supported

=== Rationale ===

Enterprise customers already relying on the TPM chip cannot move to newer laptops with the new iTPM chip because it is not supported by Linux.

=== Design ===

If the patches make the kernel that Lucid ships with, there's nothing Ubuntu needs to do specifically. If they do not, Ubuntu should consider carrying these patches in its kernel.

=== Implementation ===

==== Code Changes ====

<nowiki>[[http://launchpad.net/~dds|David Smith]]</nowiki> has done a lot of work in this area. There are two kernel patches involved. The <nowiki>[[http://marc.info/?l=linux-kernel&m=125381794406624&w=2|first one]]</nowiki> has been merged into the mm tree. The <nowiki>[[http://marc.info/?l=tpmdd-devel&m=125264268716691&w=2|second one]]</nowiki> is being reworked.

=== Test/Demo Plan ===

If the feature is working, an iTPM-based laptop (e.g. Lenovo T400, X301) running the Trousers software will successfully detect the TPM chip (i.e. tpm_version will return something)

=== Unresolved issues ===

The <nowiki>[[http://marc.info/?l=tpmdd-devel&m=125264268716691&w=2|second patch]]</nowiki> is still to be rewritten, submitted and accepted by the Kernel subsystem maintainer

=== BoF agenda and discussion ===

Use this section to take notes during the BoF; if you keep it in the approved spec, use it for summarising what was discussed and note any options that were rejected.

----
CategorySpec

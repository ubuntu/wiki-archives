{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:wubi-migration
* '''Created''': 2008-12-06
* '''Contributors''': AgostinoRusso, EvanDandrea

=== Summary ===

Implementing a new frontend for ubiquity that is tasked with migrating wubi installs to dedicated partitions.

=== Release Note ===

It is now possible to migrate a copy of Ubuntu that was installed with Wubi to a dedicated partition on your hard drive.

=== Rationale ===

We currently do not have a migration path from Wubi installations to a proper Ubuntu installation.

=== Use Cases ===

* Alissa used Wubi to try out Ubuntu, and now uses it full time.  She doesn't like that power cuts (NTFS volumes getting marked dirty) make her copy of Ubuntu unable to boot, nor does she see the need for the performance overhead of using ext3 over NTFS.

=== Assumptions ===

* This frontend will not attempt to copy Ubuntu to a new partition, remove Windows, and grow the Ubuntu partition to fill the entire disk as that is a dangerous operation.
* The first implementation will only focus on a GTK frontend, but will be able to migrate from any official Ubuntu derivative.

=== Design ===
<pre>
+----- Existing installation detected ------+
| An existing Ubuntu installation inside    |             
| Windows XP Professional (/dev/sda1) has   |
| been detected.  Would you like to migrate |
| this copy of Ubuntu to a dedicated        |
| partition?                                |
|                                           |
| Migrating provides a slight performance   |
| increase and removes the dependency on    |
| Windows.                                  |
|             [ Quit ] [ Migrate ] [ Skip ] |
+-------------------------------------------+
</pre>
* Note that this is an introduction page, not a dialog box.
<pre>
+----------- Make space for Ubuntu -----------+
| Your existing Ubuntu 8.10 installation uses |
| 4 GB of space, leaving 4.9 GB for documents |
| and other files you add later. How much of  |
| this space do you want to allocate for each |
| system?                                     |
|                                             |
|  ,----------+--+-------------------------.  |
| ( //////////|[]|                          ) |
|  `----------+--+-------------------------`  |
|  [//] Windows XP (4 GB) [  ] Ubuntu (10 GB) |
|                                             |
|               [ Quit ] [ Back ] [ Forward ] |
+---------------------------------------------+
</pre>
* "Your existing %s installation uses %s of space, leaving %s for documents and other files you add later.", where the distribution name is grabbed from .disk/info (as it is already elsewhere),  the used space is grabbed from the size of the ext3 loopback file size, and the remaining space is gathered from subtracting the previous number from what partman feeds ubiquity.
<pre>
+----------------- Summary ------------------+
| The following changes will be made to your |
| computer:                                  |
| ...                                        |
|                                            |
| Please ensure that you have backed up any  |
| important documents before continuing as   |
| the installation cannot be canceled or     |
| undone.                                    |
|              [ Quit ] [ Back ] [ Install ] |
+--------------------------------------------+
</pre>

=== Implementation ===

* Ubiquity will need to run partman twice, with the first time just checking to see if resizing is even an option.

=== Test/Demo Plan ===

Migrating installs from Wubi to a dedicated partition using ubiquity will be added to the CD testing list.

=== Unresolved issues ===

* Will partition resizing always be inherently dangerous?
* Is ubiquity even necessary?  Do we really need partman, or would a simple parted interface suffice?

=== BoF agenda and discussion ===

<nowiki>[[attachment:11122008143.jpg]]</nowiki>

----
CategorySpec

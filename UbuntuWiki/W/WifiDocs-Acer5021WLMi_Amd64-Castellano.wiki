{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

''Aquest document també hi és en Català : <nowiki>[[WifiDocs/Acer5021WLMi_Amd64/Catala]]</nowiki>''

''This document also is in English : <nowiki>[[WifiDocs/Acer5021WLMi_Amd64]]</nowiki>''

== Congifurando el ACER 5021WLMi / Aspire 5020 con wireless Broadcom en un Ubuntu 64 bits ==

Estos pasos pueden ser algo dificiles si eres nuevo en linux, pero todo el mundo es capaz de hacer funcionar esta tarjeta wireless. Te animo a que sigas todos estos pasos, y si es necessario a que los repitas hasta que 'funcione / entiendas las ordenes' perfectamente. Así que mucha suerte!

(He instlado la tarjeta wireless justo despues de Ubuntu, si no te funciona esta configuración quizá es porque hay otra  configuración por encima de esta, asegurate que tu sistema esta limpio)

=== 1.Ser el usuario root ===

- Abre un terminal iendo a 'Applications > Accessories > Terminal'

  (Todos los pasos se deben hacer como 'usuario root', para ello escribe en el terminal : '''''sudo bash''''')

=== 2.Instalar los headers y los essentials ===

- Antes que nada tienes que instalar los 'linux headers', y los 'build-essential', los necesitas porque tendrás que ejecutar las ordenes 'make' y 'make install'. Haz lo siguiente :

* Ve a 'System > Administration > Synaptic'

* Busca : build-essential, e instala el paquete

* Busca : linux headers, e instala todos los paquetes parecidos a : 

		linux-headers-..., linux-kernel-headers, linux-source-... 

		(Supongo que entiendes que  -... es un texto que puede variar)

		(No estoy seguro de si el linux-source es realmente necesario)

=== 3.Instalar GCC-3.4 ===

- Instalar GCC-3.4, necesario para compilar el modulo 'acer_acpi'.

  Descarga los siguientes paquetes de Ubuntu :

	gcc-3.4-base_3.4.4-6ubuntu8_amd64.deb

	gcc-4.4-base_3.4.4-6ubuntu8_amd64.deb

	cpp-3.4_3.4.4-6ubuntu8_amd64.deb

	gcc-3.4_3.4.4-6ubuntu8_amd64.deb

	Los puedes encontrar buscando un poco en : http://packages.ubuntu.com/breezy/devel/

* Para instalar los paquetes ejecuta estos comandos, desde el directorio dónde los has descargado :

	'''''sudo bash'''''

	'''''sudo dpkg -i gcc-3.4-base_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i gcc-4.4-base_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i cpp-3.4_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i gcc-3.4_3.4.4-6ubuntu8_amd64.deb'''''

=== 4.Instalar 'ndiswrapper' ===

- Instalar 'ndiswrapper', esta aplicación te permite usar los drivers para Windows 64 bits de las tarjetas wireless Broadcom en Ubuntu

  (Te recomiendo que instales 'ndiswrapper' del repositorio oficial de Ubuntu, personalmente no me funciona la versión oficial)

* Abre 'System>Administration>Synaptic'

* Busca : ndiswraper, e instala el paquete 'ndiswrapper-utils'

	(Este documento ha sido probado con 'ndiswrapper 1.1-4ubuntu2')

* Descarga los drivers desde Acer, usa estos links :

	  ftp://ftp.support.acer-euro.com/notebook/aspire_3020_5020/driver/winxp64bit/80211g.zip  

	  ftp://ftp.support.acer-euro.com/notebook/aspire_3020_5020/driver/winxp64bit/

* En un terminal situate en donde has descomprimido los archivos

* Ejecuta estos comandos para instalar los drivers para windows de 64 bits :

	'''''sudo ndiswrapper -i bcmwl5.inf'''''

	(Para instalar el driver)

	'''''sudo ndiswrapper -l'''''

	(Todo funciona bien si la respuesta es : bcmwl5  driver present, hardware present)

	'''''sudo modprobe ndiswrapper'''''

	(Carga el modulo de ndiswraper en el sistema operativo)

	'''''sudo dmesg | tail -n 6'''''

	(Comprueba que la información de la tarjeta wireless es correcta)

	'''''sudo iwlist wlan0 scan'''''

	(Si tienes un Acer 5021WLMi el resultado será :	wlan0     No scan results)

=== 5.Instalar 'acer_acpi' ===

- Instalar el modulo 'acer_acpi', este paso se debe hacer porque el botón frontal del ordenador no funciona en linux, los siguientes pasos harán que la tarjeta wireless funcione con un software como si huvieras apretado el botón frontal.

* Descarga el acer_acpi desde : http://www.archernar.co.uk/acer_acpi/acer_acpi_main.html

	(Mi versión és 'acer_acpi-0.3' y funciona correctamente)

* Descomprime los archivos como lo haces siempre en Ubuntu, y en un terminal situate en el directorio dónde se han descomprimido los archivos

* Ejecuta estas órdenes :

	'''''sudo make'''''

	'''''sudo make install'''''

	(No tienes que ver ningún error si el GCC-3.4 y los 'linux headers' estan correctamente instalados)

	'''''sudo modprobe acer_acpi'''''

	(Activa el modulo 'acer_acpi' en el sistema operativo)

	'''''cd /proc/acpi/acer/'''''

	(Debes ir al directorio /proc/acpi/acer/ para controlar las teclas de acer)

	'''''sudo chmod 777 ./wireless'''''

	(Todo el mundo puede canviar el estado de la tarjeta wireless)

	'''''sudo echo "enabled: 1" >/proc/acpi/acer/wireless'''''

	(Si la respuesta es : 'bash: /proc/acpi/acer/wireless: Permission denied', los permisos para canviar el archivo wireless no són correctos, repite el paso del 'chmod')

	(Quizá tengas que repetir este paso un par de veces para que la tarjeta funcione, ya sabes que las cosas de acer són de locos)

	'''''sudo dmesg'''''

	(Si puedes ver la linea: [ 2211.470445] acer_acpi: Wireless value 1, todo va bien)

	'''''sudo iwlist wlan0 scan'''''

	(Esta vez debes ver la información de las redes más cercanas, tu tarjeta esta funcionando ! )

=== 6.Haz que la conexión wireless funcione ===

- Para hacer que funcione, cada vez que enciendes el ordenador tienes que hacer :

* Ejecuta estas ordenes en un terminal :

		'''''sudo bash'''''

		'''''modprobe acer_acpi'''''

		'''''chmod 777 /proc/acpi/acer/wireless'''''

		'''''echo "enabled: 1" >/proc/acpi/acer/wireless'''''

* Debes ir a 'System>Administration>Networking' y desactivar las 'interfaces':

* Elige tu conexión wireles con estas propiedades:

			La opción 'enable' o 'activar' debe estar activada

			ESSID debe tener el nombre de la red con la que quieres conectar

			Key type (a mi sólo me funciona en modo hexadecimal)

			WEP key (en mi caso el valor hexadecimal de la clave de acceso, este valor lo he encontrado en la información de mi router)

			Configuration : DHCP (Quizá no usas DHCP, quien lo sabe?)

			Pulsa OK
			
		Activa la 'Wireless connection'

		Pon 'Default gateway device' o 'Salida predeterminada' al valor 'wlan0'

* Comprueva que la conexión funciona

		'''''ping www.ubuntulinux.org'''''

		Debes recibir paquetes desde ubuntulinux (o qualquier otra dirección)

=== 7.Crear un script de inicio ===

- Este paso no es necesario, si al iniciar Ubuntu se queda en 'waiting for network' pulse CRTL+C

- Si no quieres tener que activar el modulo acer_acpi cada vez que pones tu ordenador en funcionamiento, puedes hacer un script que lo haga por ti:

  (Como root debes seguir los siguientes pasos)

	'''''sudo bash'''''

	'''''cd /etc/init.d'''''

	'''''gedit wirelessAcerAcpi'''''
	
	- Escribe todo el texto en '''negrita''' en el archivo y guardalo en /etc/init.d/ luego cierra gedit :

'''#!/bin/sh'''

'''case "$1" in'''

	'''start|"")'''

		'''modprobe ndiswrapper'''

		'''modprobe acer_acpi'''

		'''chmod 777 /proc/acpi/acer/wireless'''

		'''echo "enabled: 1" >/proc/acpi/acer/wireless'''

		''';;'''

	'''stop)'''

		'''echo "enabled: 0" >/proc/acpi/acer/wireless'''

		''';;'''

'''esac'''

* Ejecuta los siguientes comandos :

	'''''chmod 755 /etc/init.d/wirelessAcpi'''''

	'''''cd /etc/rc2.d'''''

	(Este es el directorio de arranque por defecto de Ubuntu Breezy)

	'''''ln -s ../init.d/wirelessAcerAcpi S99wirelessAcerAcpi'''''

	(Cra un link al script de inicio del modulo acer_acpi)

	(En la wiki el texto S99wirelessAcerAcpi aparece como un link, no se porque, escribe la linea normalmente en el terminal)

=== 8.Cada vez que te quieras conectar a una red wireless ===

- Cuando enciendas el ordenador tendrás que configurar 'System>Administration>Networking'

  (Te recomiendo que crees diferentes 'profiles' o 'configuraciones' para cada red que vayas a usar, de este modo será más fácil que puedas activar la conexión wireless)

Muchas gracias por leer este tutorial, espero que tu conexión wireless esté funcionando correctamente.

Hasta pronto, besos

Albert Palacios

(Si quieres contactar conmigo : kurushi@mixmail.com)

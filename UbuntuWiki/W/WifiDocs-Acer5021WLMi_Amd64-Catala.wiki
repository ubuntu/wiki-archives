{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

''This document also is in English : <nowiki>[[WifiDocs/Acer5021WLMi_Amd64]]</nowiki>''

''También hay este documento en Castellano : <nowiki>[[WifiDocs/Acer5021WLMi_Amd64/Castellano]]</nowiki>''

== Configuració de l'ACER 5021WLMi / Aspire 5020 wireless Broadcom en una Ubuntu 64 bits ==

Aquests pasos poden ser una mica dificils si ets nou a linux, de tota manera tot el món és capaç de fer funcionar aquesta tarjeta wireless. T'animo a que segueixis tots els pasos, y si és necessari que els repeteixis fins que 'funcioni / entenguis les ordres' perfectament. O sigui que molta sort!

(He instal·lat la tarja wireless just després de l'Ubuntu, si no et funciona aquesta configuració potser és perquè hi ha una altre configuració per sobre d'aquesta, assegura't que el teu sistema està net)

(La meva versió d'Ubuntu està en Anglès, per aquest motiu no sé com es diuen els programes, ni com són els menús en Català. De tota manera suposo que els noms seràn similars, segueix la teva intuició)

=== 1.Ser usuari root ===

- Obre un terminal anant a 'Applications > Accessories > Terminal'

  (Tots els passos d'aquest manual s'han de fer com a 'usuari root', per ser-ho escriu al terminal : '''''sudo bash''''')

=== 2.Instal·lar els headers i els essentials ===

- Avanç de fer res tens que instal·lar els 'linux headers' i els 'build-essential', perquè tindràs que executar les ordres 'make' i 'make install'. Fes el següent :

* Vés a 'System > Administration > Synaptic'

* Busca : build-essential, i instal·la el paquet

* Busca : linux headers, i instal·la tots els paquets que s'assemblin a : 

		linux-headers-..., linux-kernel-headers, linux-source-... 

		(Suposo que entens que  -... és un texte que pot variar)

		(No estic segur de si el linux-source es realment necessari)

=== 3.Instal·lar GCC-3.4 ===

- Instal·lar GCC-3.4, és necessari per compilar el mòdul 'acer_acpi'.

  Descarrega els següents paquets d'Ubuntu :

	gcc-3.4-base_3.4.4-6ubuntu8_amd64.deb

	gcc-4.4-base_3.4.4-6ubuntu8_amd64.deb

	cpp-3.4_3.4.4-6ubuntu8_amd64.deb

	gcc-3.4_3.4.4-6ubuntu8_amd64.deb

	Els pots trobar buscant una mica a : http://packages.ubuntu.com/breezy/devel/

* Per instal·lar-los executa aquestes comandes desde del directori on els hagis descarregat :

	'''''sudo bash'''''

	'''''sudo dpkg -i gcc-3.4-base_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i gcc-4.4-base_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i cpp-3.4_3.4.4-6ubuntu8_amd64.deb'''''

	'''''sudo dpkg -i gcc-3.4_3.4.4-6ubuntu8_amd64.deb'''''

=== 4.Instal·lar 'ndiswrapper' ===

- Instal·lar 'ndiswrapper', aquesta aplicació et permetrà usar els drivers per a Windows de 64 bits de les tarjes Broadcom, al mateix Ubuntu

  (Et recomano que instal·lis 'ndiswrapper' del rebost oficial d'Ubuntu, perquè a mi mai m'ha funcionat la versió oficial)

* Obre 'System>Administration>Synaptic'

* Busca : ndiswraper, i instal·la el paquet 'ndiswrapper-utils'

	(Aquest document s'ha probat amb la versió : 'ndiswrapper 1.1-4ubuntu2')

* Descarrega els drivers desde Acer, fes servir aquests links :

	  ftp://ftp.support.acer-euro.com/notebook/aspire_3020_5020/driver/winxp64bit/80211g.zip  

	  ftp://ftp.support.acer-euro.com/notebook/aspire_3020_5020/driver/winxp64bit/

* En un terminal situa't on has descomprimit els arxius

* Executa les següents comandes per a instal·lar els drivers per a windows de 64 bits :

	'''''sudo ndiswrapper -i bcmwl5.inf'''''

	(Per instal·lar el driver)

	'''''sudo ndiswrapper -l'''''

	(Tot funciona bé si la resposta és : bcmwl5  driver present, hardware present)

	'''''sudo modprobe ndiswrapper'''''

	(Carrega el modul ndiswrapper al sistema operatiu)

	'''''sudo dmesg | tail -n 6'''''

	(Has de comprovar que la informació de la tarja wireless és correcta)

	'''''sudo iwlist wlan0 scan'''''

	(Si tens un Acer 5021WLMi el resultat serà :	wlan0     No scan results)

=== 5.Instal·lar 'acer_acpi' ===

- Instal·lar el mòdul 'acer_acpi', aquest pas és necessari perquè el botó frontal de l'ordinador no funciona desde linux, els següents passos faràn que la tarja wireless funcioni des de un software com si apretessis el botó frontal per activar la wireless.

* Descarrega l'acer_acpi des de : http://www.archernar.co.uk/acer_acpi/acer_acpi_main.html

	(La meva versió és la 'acer_acpi-0.3' i funciona bé)

* Descomprimeix els arxius com ho fas habitualment amb Ubuntu, i des de un terminal situa't al directori on els has descomprimit

* Executa aquestes comandes :

	'''''sudo make'''''

	'''''sudo make install'''''

	(No tens que veure cap error si el GCC-3.4 i els 'linux headers' s'han instal·lat correctament)

	'''''sudo modprobe acer_acpi'''''

	(Activa el mòdul 'acer_acpi' al sistema operatiu)

	'''''cd /proc/acpi/acer/'''''

	(Has d'anar al directori /proc/acpi/acer/ per controlar les tecles d'acer)

	'''''sudo chmod 777 ./wireless'''''

	(Aquesta última instrucció permet a tots els usuaris canviar l'estat de la wireless)

	'''''sudo echo "enabled: 1" >/proc/acpi/acer/wireless'''''

	(Si la resposta és : 'bash: /proc/acpi/acer/wireless: Permission denied', els permissos per canviar l'arxiu 'wireless' no són correctes, has de repetir el pas del 'chmod')

	(Potser hauràs de repetir aquest últim pas un parell de cops per activar la wireless, ja saps que les cosses de acer són de bojos)

	'''''sudo dmesg'''''

	(Si pots veure la linia: [ 2211.470445] acer_acpi: Wireless value 1, tot va bé)

	'''''sudo iwlist wlan0 scan'''''

	(Aquest cop has de veure la informació de les xarxes wireless que t'envolten, la teva tarja wireless està funcionant ! )

=== 6.Fes que la connexió wireless funcioni ===

- Per fer que funcioni, cada cop que es enjegues l'ordinador hauràs de fer :

* Executa aquestes comandes en un terminal :

		'''''sudo bash'''''

		'''''modprobe acer_acpi'''''

		'''''chmod 777 /proc/acpi/acer/wireless'''''

		'''''echo "enabled: 1" >/proc/acpi/acer/wireless'''''

* Després has d'anar a 'System>Administration>Networking' i desactivar les 'interfaces':

* Escull la connexió wireles amb aquestes propietats :

			La opció 'enable' o 'activar' ha d'estar activada

			ESSID ha de tenir el nom de la xarxa amb la que vols connectar

			Key type (a mi només em funciona en mode hexadecimal)

			WEP key (en el meu cas el valor hexadecimal de la paraula de pas, aquest valor l'he trobat amb la informació del router)

			Configuration : DHCP (Potser no fas servir DHCP, qui ho sap?)

			Apreta OK
			
		Activa la 'Wireless connection'

		Posa com a 'Default gateway device' o 'Sortida predeterminada' el valor 'wlan0'

* Comprova que la connexió funciona

		'''''ping www.ubuntulinux.org'''''

		Has de rebre paquets desde ubuntulinux (o desde una altre direccio)

=== 7.Crea un script de inici ===

- Si no vols haver d'activar el mòdul 'acer_acpi' cada cop que posses l'ordinador en funcionament, pots fer un script que ho faci per tu:

  (Com a root executa les següents comandes i pasos)

	'''''sudo bash'''''

	'''''cd /etc/init.d'''''

	'''''gedit wirelessAcerAcpi'''''
	
	- Escriu el següent texte escrit en '''negreta''' a l'arxiu i guarda'l a /etc/init.d/ després tanca gedit :

'''#!/bin/sh'''

'''case "$1" in'''

	'''start|"")'''

		'''modprobe ndiswrapper'''

		'''modprobe acer_acpi'''

		'''chmod 777 /proc/acpi/acer/wireless'''

		'''echo "enabled: 1" >/proc/acpi/acer/wireless'''

		''';;'''

	'''stop)'''

		'''echo "enabled: 0" >/proc/acpi/acer/wireless'''

		''';;'''

'''esac'''

* Executa les següents comandes :

	'''''chmod 755 /etc/init.d/wirelessAcpi'''''

	'''''cd /etc/rc2.d'''''

	(Aquest és el directori d'arrancada per defecte de l'Ubuntu Breezy)

	'''''ln -s ../init.d/wirelessAcerAcpi S99wirelessAcerAcpi'''''

	(Crea un link a l'script d'inici del mòdul acer_acpi)

	(A la wiki el texte S99wirelessAcerAcpi apareix com un link, no tinc ni idea de perquè, pero escriu la línia normalment al terminal)

=== Cada cop que volguis connectar amb una xarxa wireless ===

- Quan possis l'ordinador en funcionament hauràs de configurar : 'System>Administration>Networking'

  (Et recomano que creeis diferents 'profiles' o 'configuracions' per a cada xarxa que hagis de fer servir, d'aquesta manera et serà més senzill activar la connexió wireless)

Moltes gràcies per llegir aquest tutorial, espero que la teva connexió wireless estigui funcionant correctament.

Fins aviat, petons

Albert Palacios

(Si em voleu contactar : kurushi@mixmail.com)

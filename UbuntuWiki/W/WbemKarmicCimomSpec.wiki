{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-karmic-wbem-cimom
* '''Created''': June 9th, 2009
* '''Contributors''': ThierryCarrez
* '''Packages affected''': sblim-sfcb, cim-schema, sblim-sfcc

=== Summary ===

A basic CIM/WBEM stack was created for Intrepid. We need to upgrade that stack for the Karmic release.

=== Release Note ===

Ubuntu 9.10 ships with an updated CIM instrumentation stack, powered by the latest version of the lightweight CIMOM, SBLIM SFCB.

=== Rationale ===

To reach our future enterprise management integration goals we need to provide a supported CIM/WBEM-based instrumentation stack. Shipping with a recent version of the CIMOM is a first step that needs to be taken now.

=== User stories ===

* Alberto is a Dell OpenManage user, he can leverage the Ubuntu CIM-compliant stack to access his Ubuntu Server from there.
* Zoe wants to develop administration tools that get information from remote systems and chooses the CIM enterprise management standard to produce a cross-platform tool. The CIM/WBEM stack in Ubuntu helps her reach this goal.

=== Design ===

==== CIMOM update ====

Current version in Jaunty is 1.3.0, upstream is currently at 1.3.3 with important stability bugfixes. Release 1.3.4 is expected sometime in June, with more bugfixes and an improved logging infrastructure. We should update in Karmic to at least 1.3.3 (and 1.3.4 if available) to have a more stable CIMOM. openslp support should be enabled so that CIM servers can advertise themselves.

Note that improved security features are expected for the 1.3.5 release, at the end of the year. Those might be required before SFCB can move to main.

==== Stack update ====

The rest of the stack should be updated to current versions. In particular we should upgrade sfcc (the C client library) to 2.2.0, to match SFCB >=1.3.3 releases. sblim-cmpi-devel and sblim-cmpi-base could also be upgraded, but the providers strategy is defined in another spec document.

==== Extra potential targets ====

Another nice complement for the stack would be to add a Python library. The candidate of choice is PyWBEM (http://pywbem.wiki.sourceforge.net/), also coming from the SBLIM stack.

=== Implementation ===

==== Part 1: Existing stack upgrades ====

* Update SFCB to 1.3.3 -- done
* Enable SLP support in SFCB
* Update SFCC to 2.2.0
* When SFCB 1.3.4 releases, update to SFCB 1.3.4

==== Part 2: Optional targets of opportunity ====

* Package PyWBEM

=== Test/Demo Plan ===

<pre>
$ sudo apt-get install sfcb sblim-cmpi-base wbemcli
$ wbemcli ecn 'http://localhost:5988/root/cimv2'
$ wbemcli -nl ei 'http://localhost:5988/root/cimv2:Linux_Processor'
</pre>

=== Unresolved issues ===

DMTF CIM schema licensing issues are preventing SFCB to reach main or universe. If we want to support these features in the next LTS, we'll need to tackle the licensing issue or remove the dependency to the CIM schema (and provide the user ways to install it manually).

=== BoF agenda and discussion ===

==== UDS discussion ====

===== Introduction: the choice of SBLIM's SFCB =====
* choice between openpegasus and sblim.
* openpegasus: more features (not all needed), heavier.
* sblim: lightweight -> choice in intrepid

===== SFCB roadmap =====
* 6 months roadmap
* next release: june - 1.3.4: bug fixes, improved logging infrastructure.

===== Issues =====
* SFCB runs as root, including http parse as root. Possible to drop privileges? 
** Planned for end-of-year release (1.3.5 ?)
** Providers may need higher privileges. Special privileges should be listed when the providers registers.
** apparmor profiles? changehat capabilities could be used for providers. However providers run in the sfcb process.

===== More Ubuntu integration =====
* Kerberization / Directory integration
** support for directory? http://www.dmtf.org/standards/wbem/den
* Moving to main ?
** Almost all packages are in universe
** CIM schema is in multiverse however because of the license (modifications not allowed). Proposal: move the GFDL. To be compliant with the dfsg modifications needs to be allowed however renamed the document is ok.
** CIM shema license changed in 2.21. See: https://bugzilla.redhat.com/show_bug.cgi?id=468287)

===== State in Ubuntu =====
* a CLI and a daemon. issue commands and query to the cimom.
* HP insight manager and dell openmanage can connect to the cimom, but there isn't any information available to use.
* Support for authentication: wbem based on http(s) using x509 certificates.
* For karmic: libvirt-cim package ?

===== Provider development remarks =====
* 32bit vs 64bits issues: a lot of providers are 32 bits. Mainly hardware providers are 32 bits and closed source.

===== Future strategies for CIM =====
* Karmic: having something to extract. Able to plug in mgmt frameworks. Will actions and indications providers be available in karmic? Depends on the providers and the profiles chosen. Target is to try to get some providers so that indications and actions can be tested.
* Other distro support:
** Redhat includes a cimom but none of their mgmt tools use it.
** vmware uses it.
** ibm includes sfcb in hardware so that wbem can be used to query the hardware state.
** ibm director is a wbem client.
* openslp support? can be enabled in sfcb so that the systems can announce themselves as wbem nodes.
* Package python libraries? pywbem - http://pywbem.wiki.sourceforge.net/

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Policy ==

Warty should have a good baseline SecurityPolicy and conform to it.

== Warty SecurityPolicy Review ==

** Investigate daemons running as root
** acpid
*** Justifiable, due to need to invoke actions with root privileges (e.g., shutdown)

    MartinPitt: Capabilities will not help here since acpid calls external scripts which need root privileges.
** cupsd
*** Should use `RunAsUser` by default. Updated package is now in Warty. See <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details.
** hald
*** Privileges can be tightened, Warty's hald does not run as root any more. See <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details and patch.
** dhclient3
*** Dropping privileges not possible with current kernel. See <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details.
** apache2
*** Any reason to run as root (rather than use capabilities), other than reading certificate private keys?

    Yes: master instance currently needs to run as root. See <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details.

** Investigate default network services
** samba
*** `*:netbios-ssn/tcp`
*** `*:microsoft-ds/udp`
*** `*:netbios-ns/udp`
*** `*:netbios-dgm/udp`
** cupsys
*** `*:ipp/tcp`
*** `*:ipp/udp`
** postfix
*** `*:smtp/tcp`
*** `*:smtp/tcp6`
** inetd
*** silly built-in services
** portmap
*** `*:sunrpc/tcp`
*** `*:sunrpc/udp`
** ssh
*** `*:ssh/tcp`
** dhclient3
*** `*:bootpc` (unavoidable?)
** Investigate setuid/setgid binaries
** OK: `/usr/bin/mtr` (mtr; see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details)
** `/usr/bin/cardinfo` (pcmcia-cs)
** `/sbin/cardctl` (pcmcia-cs)
** UPLOADED: `/usr/bin/procmail` (procmail; privileges can be tightened, see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details)
** UPLOADED: `/usr/bin/smbmnt`, `/usr/bin/smbumount` (smbfs; gnome uses libsmbclient and does not require smbmnt; removed suid flags)
** OK: `/usr/lib/apache2/suexec2` (apache2-common; scrutinizes validity of calling and target users, directories etc. and setuids properly)
** `/usr/lib/evolution/1.4/camel/camel-lock-helper` (evolution; similar to procmail's logfile; see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details))
** UPLOADED: `/usr/bin/jackd` (jackd; see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details)
** UPLOADED: `/bin/login` (login; suid bit does not really make sense; see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details)
** `/bin/mount`, `/bin/umount` (mount; should be restricted to local users)
** PATCH: `/usr/bin/gpg` (gnupg; privileges can be dropped earlier, see <nowiki>[[WartyWarthog:SecurityReports|Security reports]]</nowiki> for details)
** OK: `/usr/sbin/arping` (iputils-arping; drops privileges early)
** OK: `/usr/sbin/traceroute6` (iputils-tracepath; drops privileges early)
** OK: `/usr/X11R6/bin/X` (wrapper, default allowed_users=console)
** OK: `/usr/bin/newgrp`, `/usr/bin/chfn`, `/usr/bin/chsh` (login)
** OK: `/usr/bin/passwd`, `/usr/bin/gpasswd` (passwd)
** OK: `/bin/ping`, `/bin/ping6` (iputils-ping; drops privileges early)

* GNOME security review: http://lists.gnome.org/archives/desktop-devel-list/2004-July/msg00385.html

== Warty Known-Vulnerability Review ==

Because security vulnerabilities are not tracked effectively in Debian unstable, we need to perform a review to ensure that we have patched all known vulnerabilities in the snapshot used for Warty. This is coordinated on the <nowiki>[[WartyWarthog:SecurityReview|Security review page]]</nowiki>.  

We also need to check vulnerabilities of kernel 2.6.8.1 (the one which will be shipped with Warty).

== Proactive Auditing ==

It would be nice to attempt at least a basic level of proactive security auditing.  For example:

* Packaging audit - avoid introduction of Debian- and Warty-specific vulnerabilities through (e.g.) buggy maintainer scripts and helper programs.  Check for broad classes of vulnerabilities, e.g.:
** Insecure temporary files
** Shell-specific vulnerabilities
** Insecure manipulation or trust of the environment (LD_LIBRARY_PATH is often used improperly)

CategoryArchive

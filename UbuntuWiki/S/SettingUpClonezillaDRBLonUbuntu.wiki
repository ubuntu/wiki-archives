{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Setting up a Clonezilla/DRBL server on Ubuntu 7.04 ==

=== Ummm....what is it and why? ===

The DRBL-based PXEBoot Clonezilla is used to clone many computers simultaneously.  DRBL is an open source solution to managing the deployment of the Linux and/or Windows operating system across many clients. Imagine the time required to install GNU/Linux on 40, 30, or even 10 client machines individually! DRBL allows for the configuration all of your client computers by installing just one server machine.  Using DRBL with Clonezilla allows you to use multi-casting to deploy many computers in the time that it might take to do just one.  There are many expensive commericial "cloning" programs out there today, but DRBL/Clonezilla is free, open source, and downright FAST!  For even more information visit the Clonezilla website http://clonezilla.sourceforge.net/  and the DRBL website  http://drbl.sourceforge.net/

==== Requirements: ====

A PC with ample Hard drive space and RAM  (my own guesses are at least 40gb and 512mb to 1gb RAM or more)
At LEAST two network cards.  You can use more to segment the bandwidth, but at least two are necessary

===== First set up an Ubuntu machine (Q. Is this machine going to be the DRBL server?)...I used a standard Ubuntu workstation install.  Update it. =====

Add the repositories for DRBL by editing the /etc/apt/sources.list file

<pre>
sudo gedit /etc/apt/sources.list
</pre>

and insert the following 2 lines at the bottom

<pre>
deb http://free.nchc.org.tw/ubuntu feisty main restricted universe multiverse
deb http://free.nchc.org.tw/drbl-core drbl stable
</pre>

Next you need to grab the keys...use the following commands

<pre>
sudo wget http://drbl.nchc.org.tw/GPG-KEY-DRBL
sudo apt-key add GPG-KEY-DRBL
</pre>

Now let's update and install

<pre>
sudo apt-get update
sudo apt-get install drbl
</pre>

====== Now it's time to run the setup program! ======

You really should do this from the server itself (as opposed to via ssh)...don't ask why, but the server complains sometimes and even advises you to run it locally. 

This is an interactive set up script.  After running this (and YES...it MUST be connect to the internet to work as it will use "apt-get" to download more packages)

<pre>
sudo /opt/drbl/sbin/drblsrv -i
</pre>

Afterwards, you'll need to run this command (also from the server)

<pre>
sudo /opt/drbl/sbin/drblpush -i
</pre>

This will walk you through setting up the diskless boot for your clients...especially for Clonezilla.

Advice:  When it asks if you want to install Linux images...say no....you'll just do Clonezilla.  Once everything is done and ready....you'll need to run

<pre>
sudo /opt/drbl/sbin/dcs
</pre>
or
<pre>
sudo ./dcs (from that directory)
</pre>

This will run a script to let you configure the PXE boot process.  If using Clonezilla....select "Clonezilla start"

See the example screen below:

{{http://drbl.sourceforge.net/screenshot/album/00_DRBL/01-dcs_menu_eng.jpg}}

TODO:  run through the steps of the script for newbies.

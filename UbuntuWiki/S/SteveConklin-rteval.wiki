{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

I am evaluating the rteval test to see whether it is a useful tool for us.

In the current form, it is not packaged, and depends upon a library which is not packaged.
These instructions only work for Natty and later.

In order to install and run it on Ubuntu (Oneiric), these are the steps:

1. Install the required packages:
*** sudo apt-get install python-ethtool python-libxslt1 python-dmidecode rt-tests python-dev git

2. Install python-schedutils from source:
*** wget http://people.canonical.com/~sconklin/rteval/python-schedutils-0.3.tar.bz2
*** tar jxvf python-schedutils-0.3.tar.bz2
*** cd python-schedutils-0.3
*** sudo python setup.py install
*** cd ..

3. Fetch and install rteval:
*** git clone git://github.com/sconklin/rteval.git
*** cd rteval/loadsource
*** wget http://www.kernel.org/pub/linux/kernel/v3.0/linux-3.1.1.tar.bz2
*** cd ..
*** sudo make install

4. Run rteval from terminal for generic kernel (for 6 minutes duration):
*** sudo python /usr/local/lib/python2.7/dist-packages/rteval/rteval.py -d360.0 > rteval-$USER-generic-normal.txt
*** this dumps the test results into a text file in your /home directory

5. Run rteval from console (to check if cgroups affects test) for generic kernel (for 6 minutes duration):
*** clt-alt-F1 (to get to console)
*** log in
*** sudo python /usr/local/lib/python2.7/dist-packages/rteval/rteval.py -d360.0 > rteval-$USER-generic-console.txt
*** this dumps the test results into a text file in your /home directory

6. Install -lowlatency kernel
*** install abogani's ppa from termainal
**** sudo add-apt-respository ppa:abogani/lowlatency
**** sudo apt-get update
**** sudo apt-get install linux-lowlatency

7. Reboot

8. Run rteval from terminal for lowlatency kernel (for 6 minutes duration):
*** sudo python /usr/local/lib/python2.7/dist-packages/rteval/rteval.py -d360.0 > rteval-$USER-lowlatency-normal.txt
*** this dumps the test results into a text file in your /home directory

9. Run rteval from console (to check if cgroups affects test) for lowlatency kernel (for 6 minutes duration):
*** clt-alt-F1 (to get to console)
*** log in
*** sudo python /usr/local/lib/python2.7/dist-packages/rteval/rteval.py -d360.0 > rteval-$USER-lowlatency-console.txt
*** this dumps the test results into a text file in your /home directory

10. email results to scottalavender@gmail.com, be sure to put 'rteval' in the subject line of the email.

-------------------------------
=== Which low latency kernel are we testing? ===

The -lowlatecny kernel is available on kernel.ubuntu.com/git (that is
http://kernel.ubuntu.com/git?p=abogani/ubuntu-precise-lowlatency.git;a=summary).

The -lowlatency kernel uses a different configuration:
http://kernel.ubuntu.com/git?p=abogani/ubuntu-precise-lowlatency.git;a=blob;f=debian.lowlatency/config/config.flavour.lowlatency;h=491ecd9bba7b7ceab095632f84286148c6fbd4a3;hb=HEAD

And a little patch to force kernel to put IRQ handlers in threads:
http://kernel.ubuntu.com/git?p=abogani/ubuntu-precise-lowlatency.git;a=blob;f=debian.lowlatency/patches/made-kernel-irq-threaded-by-default.patch;h=390c876f853e8fbf4d692a1bd16aa3cfc290adfd;hb=HEAD

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: JasonLiquorish
* Brand: Lenovo
* Make : 3000 C200
* Model: 8922 AZG
* Website: http://www5.pc.ibm.com/europe/products.nsf/$wwwpartnumlookup/_TZ0AZXX?open&sourcesite=cema

I have started a blog on installing Ubuntu on the Lenovo 3000 C200 and you can find it at <nowiki>[[http://lenovo.dropshock.com/]]</nowiki>.

<nowiki>[[http://tuxmobil.org/lenovo.html|{{http://tuxmobil.org/pics/tuxmobil_sticker.png}}]]</nowiki>

=== Hardware Specifications ===

* Intel Celeron-M 430 (1.73 Ghz, 1 MB Cache)
* 512MB DDR2-667MHz
* 15.0" TFT (1024x768 - 4:3)
* 80 GB SATA Hard Drive on Intel 82801GBM (ICH7) SATA Controller
* Intel 945GM graphic controller with 128 MB shared memory - Website spec has this as 950GM, lspci gives 945GM?
* DVD/DVD-RW Drive: HL-DT-ST DVDRAM GMA-4082N
* 56K Modem v.92: <nowiki>[[http://www.silabs.com/tgwWebApp/public/web_content/products/Wireline/Silicon_DAA/en/Si3054.htm|Si-3054]]</nowiki>
* LAN: Realtek RTL-8139
* WLAN: Broadcom Corporation Dell Wireless 1390 WLAN Mini-PCI
* PCMCIA: ENE Technology Inc CB1410 Cardbus Controller
* IEEE-1394: Compal Electronics
* MS/MS PRO/MMC/SD/SDIO/xD-Picture Card reader
* Audio: Intel Corporation 82801G (ICH7 Family) High Definition Audio Controller (Realtek Id 862)
* S-Video Out

=== Current Issues ===

Sound does not work after install, see Notes.

Lenovo care button has no keycode set so is not programmable, see Notes.

===== Installing Feisty =====

To ensure all hardware works after install you will need to:

1. Make sure that the wireless switch is in the "on" position (wireless on, to the right)
2. That the internal modem is enabled in the BIOs, if not audio problems can occur.
3. Install Feisty as you would normally

=== System Info ===
<pre>
bios-version:63ET62WW
system-manufacturer:LENOVO
system-product-name:8922AZG
system-version:3000 C200
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Installation works?
| Yes
| Yes
|}

{| class="wikitable"
|-
| <-4> '''Hardware Information'''
|-
| <-4> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| <|2> '''Bug #'''
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Screen
| Yes
| Yes
| 
|-
| Correct resolution?
| Yes
| Yes
| 
|-
| Correct refresh rate?
| Yes
| Yes
| 
|-
| 3D Acceleration
| Yes
| Yes
| 
|-
| External monitor works?
| Yes
| Yes
| 
|-
| External monitor - mirrors
| Yes
| Yes
| 
|-
| External monitor - extend desktop
| Untested
| Untested
| 
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| 
|-
| Hibernates?
| Yes
| Yes
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+bug/84616|bug #107370]]</nowiki>
|-
| Sleep
| Yes
| No
| 
|-
| Dim monitor on battery
| Yes
| Yes
| 
|-
| Blank monitor on inactivity
| Yes
| Untested
| 
|-
| Lid Close
| Yes
| Untested
| 
|-
| Cpu frequency scaling
| No
| No
| 
|-
| <-4> '''Sound'''
|-
| Sound works?
| No
| Yes
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+bug/84616|bug #84616]]</nowiki> <nowiki>[[https://bugtrack.alsa-project.org/alsa-bug/view.php?id=2725|alsa-bug #2725]]</nowiki> See Notes
|-
| Correct volume?
| Yes
| Yes
| 
|-
| Hardware volume switch
| Yes
| Yes
| 
|-
| Headphone jack
| Untested
| Untested
| 
|-
| Mic jack
| Untested
| Untested
| 
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| 
|-
| Wireless NIC
| Using Ndis and driver downloaded from Lenovo
| Untested
| 
|-
| PCMCIA NIC
| Untested
| Untested
| 
|-
| Firewire
| Untested
| Untested
| 
|-
| Bluetooth
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| 
|-
| Infrared
| Untested
| Untested
| 
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| Yes
| Yes
| 
|-
| Touchpad - turned off while typing
| No
| No
| 
|-
| External mouse - USB
| Yes
| Untested
| 
|-
| External mouse - Serial
| Untested
| Untested
| 
|-
| <-4> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| Untested
| 
|-
| USB
| Untested
| Untested
| 
|-
| Serial
| Untested
| Untested
| 
|-
| Parallel
| Untested
| Untested
| 
|-
| External Monitor - VGA
| Untested
| Untested
| 
|-
| External Monitor - DVI
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| 
|-
| NIC
| Untested
| Untested
| 
|-
| PS/2
| Untested
| Untested
| 
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| Untested
| Untested
| 
|-
| CD/DVD drive
| Yes
| Yes
| 
|-
| PCMCIA cards
| Untested
| Untested
| 
|-
| Parallel Ports
| Untested
| Untested
| 
|-
| Card reader(s)
| Untested
| Untested
| 
|}

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| + Space
| 
| 
| Unaffected
| Unaffected
| 
|-
| + Esc
| Mute
| 
| Yes
| Yes
| 
|-
| + F1
| Volume Down
| 
| Yes
| Yes
| 
|-
| + F2
| Volume Up
| 
| Yes
| Yes
| 
|-
| + F3
| 
| 
| Unaffected
| Unaffected
| 
|-
| + F4
| Sleep
| e017
| Yes
| Yes
| 
|-
| + F5
| Manage Wireless Connections
| e016
| No
| No
| 
|-
| + F6
| 
| 
| Unaffected
| Unaffected
| 
|-
| + F7
| External Monitor
| e041
| Yes
| Yes
| 
|-
| + F8
| 
| 
| Unaffected
| Unaffected
| 
|-
| + F9
| 
| 
| Unaffected
| Unaffected
| 
|-
| + F10
| Brightness Down
| 
| Yes
| Yes
| 
|-
| + F11
| Brightness Up
| 
| Yes
| Yes
| 
|-
| + F12
| Hibernate
| e018
| Yes
| Yes
| 
|-
| + ArrowUp
| Media Stop
| 
| Yes
| Yes
| 
|-
| + ArrowDown
| Media Play/Pause
| 
| Yes
| Yes
| 
|-
| + ArrowRight
| Media Next
| 
| Yes
| Yes
| 
|-
| + ArrowLeft
| Media Previous
| 
| Yes
| Yes
| 
|-
| + PgUp
| Home
| 
| Yes
| Yes
| 
|-
| + PgDown
| End
| 
| Yes
| Yes
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Feisty (current stable)?
| in Gutsy (current development)?
|-
| Lenovo Care
| User Programmable
| e034
| No
| Yes
| See Notes
|-
| Mute
| Mute
| Unknown
| Yes
| Yes
| 
|-
| Volume Up
| Volume Up
| Unknown
| Yes
| Yes
| 
|-
| Volume Down
| Volume Down
| Unknown
| Yes
| Yes
| 
|}

==== Notes ====

===== Sound =====
To get sound working you can carry out the following steps, I have only tested this in feisty:

<pre>
sudo apt-get install build-essential ncurses-dev gettext
</pre>

<pre>
sudo apt-get install linux-headers-`uname -r` 
</pre>

Stop alsa
<pre>
sudo /etc/init.d/alsa-utils stop 
sudo /etc/init.d/alsasound stop 
</pre>

Change to the home directory and make a temporary directory for the alsa source.
<pre>
cd ~
mkdir alsa-src
cd alsa-src
</pre>

Download the required alsa source packages
<pre>
wget ftp://ftp.alsa-project.org/pub/driver/alsa-driver-1.0.14rc3.tar.bz2
wget ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.14rc3.tar.bz2
wget ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.14rc2.tar.bz2
</pre>

Untar the alsa source packages:
<pre>
tar xvf alsa-driver-1.0.14rc3.tar.bz2
tar xvf alsa-lib-1.0.14rc3.tar.bz2
tar xvf alsa-utils-1.0.14rc2.tar.bz2
</pre>

Download the required patch:
<pre>
wget http://lenovo.dropshock.com/files/realtek6.tar.gz
</pre>

Untar the source package:
<pre>
tar xvf realtek6.tar.gz
</pre>

Copy the patch to the alsa source:
<pre>
cp patch_realtek.c ~/alsa-src/alsa-driver-1.0.14rc3/alsa-kernel/pci/hda/
</pre>

Now compile the alsa packages:
<pre>
cd alsa-driver-1.0.14rc3 
./configure --with-cards=hda-intel
make
sudo make install

cd ../alsa-lib-1.0.14rc3
./configure
sudo make install

cd ../alsa-utils-1.0.14rc2
./configure
sudo make install
</pre>

Remove the old alsa module and replace with the new one:
<pre>
sudo modprobe -r snd-hda-intel && sudo modprobe snd-hda-intel
</pre>

If you still do not have sound, you may need to append the following line to /etc/modprobe.d/alsa-base (In Jaunty and newer versions this file is /etc/modprobe.d/alsa-base.conf):
<pre>
options snd-hda-intel single_cmd=1 model=laptop-eapd
</pre>

===== Lenovo Care Button =====
To get the Lenovo care button to work on every startup you need to do the following:
<pre>
sudo gedit /usr/share/hotkey-setup/lenovo.hk
</pre>
and add this to the end of the file:
<pre>
setkeycodes e034 129
</pre>

===== Wireless =====
To get the wireless card working the following steps should be taken:

Install ndiswrapper
<pre>
sudo apt-get install ndiswrapper-common ndiswrapper-utils1.9
</pre>

Blacklist the opensource wireless driver shipped with ubuntu to avoid conflict
<pre>
echo `blacklist bcm43xx` | sudo tee -a /etc/modprobe.d/blacklist.conf
</pre>

Download the driver
<pre>
cd ~
wget http://lenovo.dropshock.com/files/bcmwl5.tar.gz
</pre>

Extract the driver
<pre> 
tar xvf bcmwl5.tar.gz
cd bcmwl5
</pre>

Install the driver with ndiswrapper
<pre>
sudo ndiswrapper -i bcmwl5.inf
</pre>

Check the driver has installed 
<pre>
ndiswrapper -l
</pre>

you should see 
<pre>
bcmwl5 : driver installed
        device (14E4:4311) present (alternate driver: bcm43xx)
</pre>
or something similar

Load the driver
<pre>
sudo depmod -a
sudo modprobe ndiswrapper
</pre>

Check for errors
<pre>
tail /var/log/messages
</pre>
if you see no errors everything should be fine.

Now we have to make ndiswrapper load at startup
<pre>
sudo ndiswrapper -m
</pre>

To connect to your network you need to left click the network manager applet in the notification area and select "Connect to other wireless network..."

To stop the keyring manager nagging you at every logon for your password you can do the following:

make sure your keyring manager password is the same as your logon password, if it is not then delete your current keyring and set the password to the same as your logon
<pre>
rm ~/.gnome2/keyrings/default.keyring 
</pre>

Now install libpam-keyring
<pre>
sudo apt-get install libpam-keyring
</pre>

You will now need to modify /etc/pam.d/gdm
<pre>
sudo gedit /etc/pam.d/gdm
</pre>
and add this line at the bottom of the file
<pre>
@include common-pamkeyring 
</pre>
now save the file and close gedit.

Now when you reboot you will not be hassled for your keyring password.

----
CategoryLaptop

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:kernel-lucid-bugs-with-patches
* '''Created''': 2009-12-03
* '''Contributors''': dholbach, leannogasawara, apw
* '''Packages affected''': linux-*

=== Summary ===

Like in the Upstream Kernel community, Kernel patches are usually reviewed and discussed on the kernel team mailing list. This process is not known well enough yet, so a lot of patches are still attached to bug reports. We need to get the number of bugs in Launchpad with patches attached under control and down to zero.

=== Rationale ===

As of 2009-12-03, https://bugs.launchpad.net/ubuntu/+source/linux/+bugs?field.has_patch=on has 115 bugs with patches attached. The majority of these are not being discussed on kernel-team@lists.ubuntu.com because patch submitters don't know about <nowiki>[[KernelTeam-KernelPatches]]</nowiki>.

=== User stories ===
* Daniel finds his sound card not working because of a missing PCI ID in the kernel. He submits a patch to the bug report. An automated messages tells him to submit it to kernel-team@lists.ubuntu.com where friendly kernel developers help him to get the patch into shape and get it submitted upstream.

=== Design ===
To fix this problem we use a number of different initiatives:
# Review current patch submission documentation and refine it
# Automatically add a comment to bugs about the correct way to get feedback on patches
# Once the patch lands on the mailing list, it gets reviewed and bug status updated.
# Weekly Kernel meetings will have a standing agenda item to make sure patches on the mailing list get dealt with
# An objective for regular Kernel bug days will be to give patches in Kernel bugs a quick look before making sure they land on the mailing list
# Progress will be tracked through graphs

=== Implementation ===

1. Review current patch submission documentation and refine it
** [dholbach] Review <nowiki>[[KernelTeam-KernelPatches]]</nowiki>
1. Automatically add a comment to bugs about the correct way to get feedback on patches
** [leannogasawara] write script that adds a bug comment that explains where to submit patches.
** DONE: ogasawara already has the script written to post the following standard reply:
<pre>
[This is an automated message.  Apologies if it has reached you inappropriately.]

This bug was flagged as having a patch attached.  https://wiki.ubuntu.com/KernelTeam/KernelPatches has been written to document the suggested policy and procedures for helping get a patch merged upstream and subsequently into the Ubuntu kernel.  Please take the time to review that wiki if this patch should be considered for inclusion.  Let us know if you have any questions or need any help via the Ubuntu Kernel Team mailing list.  Thanks in advance.
</pre>
** There are a few additional caveats we need to consider:
## Some bugs have attachments marked as patches, but the attachment is not an actual patch.  Look to leverage ubuntu-qa-tools/master/responses/uncheck-patch-comment.py so that we don't accidentally spam these bugs.
## Keep in mind that not all bugs that have patches attached need any further review on the kernel team mailing list.  For example, Bug 435352 has attached a patch that is already upstream and will be included in the Ubuntu kernel upon the next rebase.  There is no need for any further action other than wait untill we rebase.  We should tag these types of bugs so that they are not spammed.  I suggest using "kj-omit" which is a tag I've already been using to imply this bug should not be handled by the kernel janitor.
# Once the patch lands on the mailing list, it gets reviewed and bug status updated.
** Once under review, the bug should be marked as In Progress and either a specific developer would assign theirself to the bug or the canonical-kernel-team gets assigned.  
1. Weekly Kernel meetings will have a standing agenda item to make sure patches on the mailing list get dealt with
** [leannogasawara] Will raise any patches sent to the mailing list that still need to be addressed
1. An objective for regular Kernel bug days will be to give patches in Kernel bugs a quick look before making sure they land on the mailing list
** [leannogasawara] <nowiki>[[https://wiki.ubuntu.com/KernelTeam/BugDay/20091208|Tues Dec 8 Kernel Bug Day]]</nowiki> will target bugs with patches. 
1. Progress will be tracked through graphs
** [leannogasawara] Begin capturing .csv file to track stats daily.  Then use .csv file to generate graphs.

----
CategorySpec

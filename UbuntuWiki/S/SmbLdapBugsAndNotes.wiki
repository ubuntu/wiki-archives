{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[File:smbldaplogo.png]]</nowiki>

== FC 5 ==
-----
Dan Hough writes:

I did find a remark on one of the lists that samba-3.0.23 was causing some people some problems. The original samba version on the Fedora Core 5 CD is 3.0.21b. So, this time I did not let yum (or your script) update samba. This has solved the immediate problem.
-----
=== Change the server netbios name ===
-----
Paul Lemke writes:

I ran into an issue where my server netbios name was too long. Here are the steps it takes to change the netbios name. Samba is just fine if you modify the smb.conf file, but any accounts you have created in LDAP will have the old netbios name in it. Specifically the //olddomain/profiles, and //olddomain/netlogon directories.

'''Step 1:''' Stop services

<pre>
/etc/init.d/smb stop
/etc/init.d/ldap stop
</pre>

These might be "samba stop" or "slapd stop" depending on your server.

'''Step 2:''' Extract and backup your current LDAP database.

<pre>
slapcat > ~/ldap.ldif
cp ~/ldap.ldif ~/ldap.ldif.bak
</pre>

'''Step 3:''' Replace old netbios name with new netbios name.

<pre>
sed -i 's/OLDNAME/NEWNAME/g' ~/ldap.ldif
</pre>

'''Step 4:''' Move the current ldap database. Just in case we screw up we can always copy it back.

<pre>
cd /var/lib/ldap
mkdir backup
mv * backup/
</pre>

'''Step 5:''' Import fixed ldif file.

<pre>
slapadd < ~/ldap.ldif
</pre>

'''Step 6:''' Start up ldap, samba.

<pre>
/etc/init.d/smb start
/etc/init.d/ldap start
</pre>

'''Step 7:''' Fix the sasmba local SID issue.

<pre>
net getlocalsid OLDNAME
</pre>

Copy the SID that is listed there.

<pre>
net setlocalsid SID
</pre>

And you are done.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-o-xen-host
* '''Created''': 2011-05-17
* '''Contributors''': 
* '''Packages affected''': linux, libvirt, xen3.3

=== Summary ===

=== Release Note ===

It is possible now to use Xen dom0 on a Ubuntu host, using Xen dom0, xen.org tools, and libvirt. All one has to do now is apt-get install xen.

=== Rationale ===

=== User stories ===

* Alfred is a Ubuntu Sytems Administrator who wants to deploy Ubuntu Cloud in their data center and
   wants to use Xen as virtualisation because that is what he knows.
* Josh is a devops who wants a fast way to test deployments of their software beforing moving it into
   production.  

=== Assumptions ===

=== Implementation ===

In order for us to have a working Xen host we will need divide the work up into different chunks:

=== Kernel ===

In order for Ubuntu to be a good host, we will have to turn on dom0 in the Ubuntu server kernel. The kernel team will decide how to best provide dom0 to the Ubuntu users. If it interfers with a normal non dom0 kernel then it will have to be moved to its own kernel.

=== Userland ===

Currently we have a very ancient version of xen that will not support a vanilla linux dom0 kernel. So we will need to sync the latest version of Xen from debian unstable.

=== libvirt ===

With a newer version of Xen, means that the dependencies for libvirt needs to be updated. Also approiate changes and testing will be needed done to make sure libvirt works properly with the new Xen libraries.

=== Unresolved issues ===

This should highlight any issues that should be addressed in further specifications, and not problems with the specification itself; since any specification with problems cannot be approved.

=== BoF agenda and discussion ===

<pre>
MOTIVATION
==========  ==
Eucalyptus, Openstack, Launchpad buildd's
Most kernel bits we need should be in .40, we may need to take block-back from .41 but it is a separate driver and should drop in easily.

ACTIONS
=======  ==
 - canonical-kernel-team: enable Xen dom0 support in kernel.
 - canonical-kernel-team: determine if Xen dom0 support requires a new flavour
 - Sync Xen 4.1, with Debian packaging
 - In oneiric, hypervisor and tools probably in Universe.
 - pygrub to support oneiric grub2 config
  - stretch goal: pvgrub2: configuration would be a static pvgrub2 image which is configured to chain load a guest pvgrub2 from a fixed location in guest filesystem; guest pvgrub2 would find and boot guest kernel
   - requires grub2 xenstore client (device enumeration), vbd/blkif module, appropriate mkimage/boot support, may possibly become a new grub2 platform - cjwatson intends to work on this

QUESTIONS
==========  ==
libvirt support
xen-tools
domu creation: vmbuilder ?
pvgrub2
Pygrub: http://wiki.xensource.com/xenwiki/PyGrub
}}
----
CategorySpec

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Jaunty Custom Image Transformation ==
A goal for Jaunty is to have a standard custom-image transformation process that is somewhat automated and hence repeatable.  When customizing Jaunty's boot process for a specific netbook, the below changes are changes that may be needed.

=== Delay Some Services/Initialization ===
Some services/initializations are not needed to boot the system.  These services/initializations should either be delayed until after the UI is up or activated on-demand/on-system-idle.

The services/initializations that fall into this category include both standard ones as well as ones added for the specific OEM project.  They also include both those run as root (i.e. those in /etc/init.d or /etc/event.d) as well as those run as the user (i.e. those in /etc/xdg/autostart).

Some standard services that are candidates are anacron, apport, avahi, cron, cupsys, bluetooth, pulseaudio, and the /etc/dbus-1/event.d portion of the dbus script (includes NetworkManager).  Since cupsys, bluetooth, and avahi are nice to have up anyways, they are ideal for start on-demand or on-system-idle.

=== Disable Some Services/Initializations Completely ===
Some services/initializations can be disabled completed as they will unlikely be used by a netbook user.  For example, tty3-6.

=== Customize Module Loading ===
If the Jaunty udev and modprobe improvements are not sufficient, we may need to build modules needed to boot into the kernel and delay the loading of any remaining modules until the UI is up.  The current Jaunty work, however, shows that the loading of all modules for the system can be done in less than a second.  Therefore, its likely we may not need to perform this customization step at all.

=== Do Not Show Grub Menu ===
Netbook users generally do not need to use grub, generally prefer a simple boot experience, and may even be initimidated by the grub menu.  For these reasons and because displaying the grub menu slows boot by the configured timeout value, the grub timeout should be set to 0 by default on netbooks.  We can integrate the "hold down shift to get grub" patches so those users/developers that still need to access grub can.

=== Customize initramfs ===
Knowing exactly which filesystem and modules are needed to load and successfully pivot to the rootfs, we may be able to reduce the initramfs time with some customizations.  The current Jaunty work, however, shows that initramfs can load in about 1 second so it's likely we may not need to perform this customization step at all.

=== Convert Select init.d Scripts to Upstart ===
If we do not convert Jaunty to be primarily upstart-based, then we may want to perform some select init.d->upstart conversions at the OEM image level.

== Notes ==
One thing to keep in mind as we identify a formal customization process is that, although we are usually customizing for a specific netbook, most of our netbooks have several SKUs.  These SKUs frequently vary in storage type (SSD vs. HDD) and sometimes vary in wireless chips and the existence of certain parts (i.e. camera, bluetooth).  We therefore frequently find ourselves querying the hardware of a device on the 1st boot and then caching this information for future boots.

As you read through the common boot changes the OEM Team needs to make, you may be concerned that, if we delay too many items until after the UI is up, the UI may actually be rather unusable for some time after it has come-up.  Indeed, the decision on how much to delay has been an inexact science for us--we need to delay as much as possible without significantly reducing the usability of the UI after it has come-up.  The subjectivity of this process may make it a bit tricky to completely automate.

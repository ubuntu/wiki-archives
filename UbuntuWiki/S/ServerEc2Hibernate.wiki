{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-ec2-hibernate
* '''Created''': 2010-02-09
* '''Contributors''': EricHammond
* '''Packages affected''':
* '''Related Packages''':

=== Summary ===

[This is a placeholder spec and needs to be flushed out with details.]

Amazon EC2 has the ability to run EBS boot AMIs which keep a persistent root disk on the EBS boot instance.  This lets a user shutdown (stop) and boot (start) a server without losing the contents of the root disk.

  http://aws.amazon.com/about-aws/whats-new/2009/12/03/amazon-ec2-instances-now-can-boot-from-amazon-ebs/

Users would like to be able to hibernate before the "stop" and resume on the "start" as an alternative to a full shutdown.

It is important that hibernate be offered as an *alternative* to shutdown, not a complete replacement.

There was some interest a while ago in getting hibernate to work with Eucalyptus:

  https://wiki.ubuntu.com/ServerKarmicCloudPowerManagement

=== Release Note ===

=== Rationale ===

Many of the original rationale for providing hibernate/resume would apply to servers on EC2, including the ability to save state and improve the speed of restoring the system.  On EC2, in addition to saving power during hibernation, users are also saving the hourly cost of paying for the running instance.

=== User stories ===

=== Assumptions ===

=== Design ===

=== Implementation ===

==== UI Changes ====

==== Code Changes ====

==== Migration ====

=== Test/Demo Plan ===

=== Unresolved issues ===

==== Swap location ====

Challenges:

- Hibernation cannot store state to the default EC2 swap partition (not persistent on 32-bit and non-existent on 64-bit).

- Hibernation cannot store state to a swap file on an active file system.

Alternatives:

- An additional EBS volume could be attached for swap.  Any number of volumes can be specified when creating the AMI.

- The primary EBS volume could be split into multiple partitions for root and swap.

=== BoF agenda and discussion ===

----
CategorySpec

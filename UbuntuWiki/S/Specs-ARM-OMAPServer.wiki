{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-o-arm-omap-image
* '''Created''': Michael Casadevall
* '''Contributors''': Oliver Grawert
* '''Packages affected''': debian-cd, livecd-rootfs, flash-kernel, d-i

=== Summary ===

This spec handles the implementation of server images for the OMAP3/4 platform

=== Release Note ===

Ubuntu Server is now available for TI's OMAP3 and OMAP4 platforms.

=== Rationale ===

As the previous two releases has had support for OMAP3 and OMAP4 support, many people interested on Ubuntu on ARM have this hardware, and is prevant enough throughout the development community to be a good base for working on Ubuntu Server even though Beagle and Pandaboards are not ideal server hardware.

=== User stories ===

* Alpha is an Ubuntu developer with interest with ARM, and low powered serves and wishes to get involved
* Beta is an ODM creating ARM server devices, and wishs to prototype their product with a Pandaboard, and Ubuntu Server

=== Assumptions ===
* Preinstall images are acceptable for development work
* Bootfloppy-style images are feasible with OMAP3/4

=== Design ===

As both the OMAP3 and OMAP4 images target development boards (specifically the Beagleboard and Pandaboard), preinstalled images are the primary type of server images we plan to create. Since we already create ubuntu-netbook and ubuntu-headless preinstall images, creating ubuntu-server is relatively straightforward.

However, as the OMAP is our primary development platform, we also need to support netboot style images, and alternate-installer based images. 

=== Implementation ===

Both the netboot and alternate installer use d-i directly, which will not work properly on a pandaboard, and is relatively untested on Beagle. Specifically, no code currently exists for handling both boards VFAT partitioning requirements, nor is there any support in flash-kernel-installer for these boards. Extending parted to handle the boot partition (via a new parted-omap module) will allow it to properly handle (and if necessary) create the boot partition. Once parted can create the boot partition, creating netboot images and alternate images becomes straightforward.

Alternate images for OMAP should rewrite the SD card to reconfigure itself as a type of boot-floppy, similar to the booting used by the armel+imx51 port in jaunty->lucid. This is due to the limitation that the installer can not currently overwrite itself.

==== Code Changes ====

debian-installer needs to be modified to create omap4 kernel and ramdisk netboot images (this also may require adjusting the udebs available for omap4). In addition, the Makefiles need to be extended to create a dd'able image that is suitable for simply writing to an SD card.

flash-kernel-installer needs to be extended to handle installation of MLO to the boot partition on OMAP4.

==== Migration ====

No migration, only affects new installs

=== Test/Demo Plan ===

Standard QA ISO testing will be suitable to test the netboot and alternate installer in a fashion similar to x86.

----
CategorySpec

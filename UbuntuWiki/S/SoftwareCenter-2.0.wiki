{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


''This is '''not the current specification''' for Ubuntu Software Center; it is an archived copy of the specification for Ubuntu Software Center 2.0. Not all of it was implemented, and it includes some initial plans for 3.0.''

* Launchpad entry: UbuntuSpec:software-library
* Created:  by MatthewPaulThomas

Ubuntu Software Center is a utility for installing and removing software in Ubuntu. In version 1, it builds on the basic philosophy of Add/Remove Applications with an easier-to-use design. In version 2, the primary feature goals are displaying non-application packages, and making PPAs and other repositories more prominent. In version 3, we plan to offer commercial software for sale, and allow ratings and reviews of software. Later versions may include recommendation features, replace other tools such as `apturl`, `gdebi`, APTonCD, and most of the Computer Janitor, and integrate with Update Manager. Integrating those various utilities will make handling software easier, socially improve security, hopefully free space on the Ubuntu CD, and provide a prominent showcase for Ubuntu and partner software. Ubuntu Software Center is implemented using Python, GTK, and <nowiki>[[https://launchpad.net/aptdaemon|Aptdaemon]]</nowiki>, and may use Package``Kit for some components. The project is <nowiki>[[https://launchpad.net/software-center|hosted in Launchpad]]</nowiki>.

=== How you can help ===

We welcome useful contributions from anyone, regardless of age, gender, or experience.

If your expertise is in one of these areas, search through this specification for the color-coded sections relevant to you:
{| class="wikitable"
|-
| <tablestyle="color:Black" style="background:LightGreen">Artists
| <style="background:LightCoral">Copy-editors
| <style="background:orange">GTK/Clutter hackers
| <style="background:SkyBlue">Interface designers
| <style="background:Plum">Librarians
| <style="background:Peru">Packagers
|}

Otherwise, if you are a '''Python programmer''', <nowiki>[[https://code.launchpad.net/software-center|get the latest code]]</nowiki> and try <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/software-center|fixing existing bugs]]</nowiki>, or <nowiki>[[#future|implementing something for version 3.0]]</nowiki>. When you have something ready, <nowiki>[[https://help.launchpad.net/Code/Review|propose it for merging]]</nowiki>.

If you are a '''tester''', look through this specification and compare the behavior described, sentence by sentence, to the behavior you see in <nowiki>[[https://code.launchpad.net/~software-store-developers/software-center/trunk|the trunk version]]</nowiki>. If something has been implemented but behaves differently from how the specification describes it, <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/software-center|report a bug]]</nowiki> if it hasn’t been reported already.

=== Rationale ===

In past versions of Ubuntu, there have been many graphical utilities promoted for installing and removing software. For installing and uninstalling graphical applications you could use “Add/Remove Applications“ or the more technical “Synaptic Package Manager”, though the former warned you to use the latter “for more complicated needs”. For installing and uninstalling other software, you had to use Synaptic. For installing updates, the usual route is Update Manager, but it instructs you to run Synaptic if it encounters conflicts. For configuring where all these utilities look for software, you use “Software Sources”. For installing official software via the Web, you use `apturl`. For installing downloaded `.deb` packages, you use `gdebi`. And for removing no-longer-needed software, you use Computer Janitor. This redundancy increases the amount of interface people have to learn, wastes space on the Ubuntu CD, and fragments development effort. Having multiple sanctioned graphical methods of installing software also makes people more likely to think that unsanctioned methods are just as safe, when they are not. Meanwhile, the descriptions of available software are often technical gibberish. And many software project and vendor Web sites either provide command-line installation instructions (dulling users to malicious terminal commands from other sources) or `.tar.gz` downloads that are difficult to install and near-impossible to update.

Instead, there should be one obvious mechanism for installing and removing software in Ubuntu, with a self-evident name and an interface anyone can use. There should be a coordinated system for developers and enthusiasts to improve the usefulness of descriptions and other metadata for software packages. And projects and vendors whose software is packaged for Ubuntu should be encouraged to provide links to their software’s presence in the Software Center, instead of command-line installation instructions.

{| class="wikitable"
|-
| <tablestyle="background: #eee; color: #000; margin: 0 2em 1em;" style="padding: 0.5em 1em;">If Linux has an Achilles heel, from the point of view of a Windows user, it's installing new software. Be prepared to enter a new world in which Windows Update is a model of simplicity by comparison, and in which you may feel as if you need a Ph.D. in physics merely to install new applications or updates.<<BR>><<BR>>— Preston Gralla, “<nowiki>[[http://www.computerworld.com/action/article.do?command=viewArticleBasic&articleId=9126042&pageNumber=3|Living free with Linux: 2 weeks without Windows]]</nowiki>”, ''Computerworld''
|}

{| class="wikitable"
|-
| <tablestyle="background: #eee; color: #000; margin: 0 2em 1em;" style="padding: 0.5em 1em;"> First there is the Add/Remove Applications program, which is designed to allow you to Add and Remove Applications. Second, there is the Synaptic Package Manager, which allows you to Manage Packages (in a manner that is uniquely synaptic, apparently) or Applications as some might call them, by allowing you to Add and Remove them. Finally there is Software Sources, which, if Wine’s installation instructions are any indication, provides Sources of Software, filling a glaring gap in Ubuntu Linux by allowing you to Add and Remove Applications.<<BR>><<BR>>— Ash Pringle, “<nowiki>[[http://www.zmogo.com/gear/the-new-year-linux-resolution-day-5/|The New Year Linux resolution: Day 5]]</nowiki>”, ''zMogo''
|}

=== Ubuntu Software Center 2.0 ===

* Packages affected: `aptdaemon`, `software-center`

==== Definitions used in this specification ====

 alert:: A <nowiki>[[#def-dialog|dialog]]</nowiki> that emits the standard alert sound (if any) when it opens, and requests attention if it opens in the background.

 alphabetically:: Following the <nowiki>[[http://unicode.org/reports/tr10/|Unicode Collation Algorithm]]</nowiki> for the user’s locale. For example, in an English locale, “Déjà Dup Backup Utility” should be sorted alphabetically between “Debian Documentation Browser” and “Desk``Scribe”.

 dialog:: A window that is modal to its parent (if it has one), only ever minimizes together with its parent (if it has one), and does not have any buttons in its title bar (except Minimize if it has no parent).

 em:: The height of the Gnome application font setting. For example, if the current Gnome application font setting works out to be 12 pixels, then 3 em = 36 pixels.

 leading:: Left whenever the system is using a left-to-right language. Right whenever the system is using a right-to-left language. (All mockups in this specification are of left-to-right layouts.)

 software item:: A package or an application. If `app-install-data` or an archive index refer to one and only one application in a package, the package itself should not be treated as a software item, because it is represented by the application instead. But if there are multiple applications in a package, or none at all, the package should be treated as a software item.

 trailing:: Right whenever the system is using a left-to-right language. Left whenever the system is using a right-to-left language.

==== Branding ====

The program itself, as well as application launchers, help pages, and marketing materials, should consistently use the term “Ubuntu Software Center” (''not'' just “Software Center”). This name should be localized, for example as “Centre” in Commonwealth countries. It is not necessary to translate it word-for-word, but:
* Translations should include the word “Ubuntu”, to reduce confusion about whether some software is available in ''Ubuntu'' Software Center, as opposed to being available in <nowiki>[[http://packages.qa.debian.org/s/software-center.html|Debian Software Center]]</nowiki> or any other OS using the Center code.
* Translations should not use a word that means “applications” in particular rather than “software” in general, because as of version 2, the Center allows installation of non-application software such as fonts and themes.

The package name and executable name should both be `software-center`.

The application Comment should be “Lets you choose from thousands of free applications available for Ubuntu” (without a period), and the summary in the About window should be “Lets you choose from thousands of free applications available for Ubuntu.” (with a period).

The package Summary should be “Utility for browsing, installing, and removing applications” (without a period).

The package Description should be:
{| class="wikitable"
|-
| Ubuntu Software Center lets you browse and install thousands of free applications and other software available for Ubuntu. You can view available software by category, or search quickly by name or description. You can also examine the software already installed, and remove items you no longer need.<<BR>><<BR>>To install or remove software using the Center, you need administrator access on the computer.
|}

The application icon should be of an attractive shopping bag with handles, such as you might get from a high-class department store.

{| class="wikitable"
|-
| <nowiki>[[File:softwarestore.svg]]</nowiki>
| <:><nowiki>[[File:icon-v2.jpg]]</nowiki>
|-
| <:>1.''x''
| <:>2.''x''
|}

The version shipped in Ubuntu 10.04 should be at least 2.0.

==== Launching ====

If USC is launched by any means when it is already open, the existing instance should be focused.

===== Launching graphically =====

In the standard `gnome-panel` “Menu Bar” applet, “Ubuntu Software Center” should be the last item in the “Applications” menu, with a separator immediately before it. In the `gnome-panel` “Main Menu” applet, “Ubuntu Software Center” should similarly be after the list of application categories, with separators immediately before and after it.

In Ubuntu Netbook Remix (`netbook-launcher`), “Ubuntu Software Center” should appear in the “System” > “Administration” subcategory.

''How do we specify performance requirements? Also need to specify progress feedback if launching is slow.''

When opened directly, the Center should by default display the <nowiki>[[#lobby|lobby screen]]</nowiki> of the “Get Software” section, scrolled to the top. The search field should be empty. Default focus should be on the <nowiki>[[#search-field|search field]]</nowiki> (so that you can start searching immediately, or use Down followed by other arrow keys to navigate the items in the lobby screen).

===== Launching from the command line =====

`software-center` should launch the Center to its default view. `software-center `''package-name'' should open the Center to display that package. ''What to do if the package is unknown?''

==== Common interface components ====

===== Menus =====

<pre>
_File
=====  ==
  _Install
  _Remove
-------------------
  _Close    Ctrl W
</pre>

“Install” and “Remove” should be disabled by default. “Close” should, by default, close the window and exit the Center.

''In future this menu will contain items for more obscure package operations.''

<pre>
_Edit
=====  ==
  _Undo                     Ctrl Z
  _Redo               Shift Ctrl Z
-----------------------------------
  Cu_t                      Ctrl X
  _Copy                     Ctrl C
  Copy _Web Link      Shift Ctrl C
  _Paste                    Ctrl V
  _Delete
-----------------------------------
  Select _All               Ctrl A
-----------------------------------
  Searc_h…                  Ctrl F
-----------------------------------
  _Software Sources…
</pre>

“Software Sources…” should open the Software Sources control panel. (`software-properties-gtk` <nowiki>[[http://launchpad.net/bugs/523755|should be responsible]]</nowiki> for focusing an existing copy of itself if it is already open.)

All other items in this menu should be insensitive by default; their availability and behavior is defined elsewhere in this specification.

<pre>
_View
=====  ==
* All Software
  Canonical-Maintained Software
</pre>

All items in this menu should be insensitive by default; their availability and behavior is defined elsewhere in this specification. '''Test case:''' (sc-003) Start installing something in the Center. While it is installing, navigate to the “In Progress” section, and open the “View” menu. Its items should be insensitive.

''In future this menu may include items for different view types (Icons, List, Gallery).''

<pre>
_Help
=====  ==
  Ubuntu Software Center _Help…
--------------------------------
  _About This Version
</pre>

By default, “Ubuntu Software Center Help…” should open the help viewer to the front page of the help.

“About This Version” should open the About window, or focus it if it is already open.

===== Location bar =====

<nowiki>[[File:location-bar.jpg]]</nowiki>

Many Center sections include a location bar, which appears at the top of the main pane. It should appear as a raised block inside the main pane.

The location bar contains various contents, sometimes including a title, path button, and/or <nowiki>[[#search-field|search field]]</nowiki>. Where there is a title, it should be displayed in bold text. The search field should always be at the trailing end, while any other contents are at the leading end. Whenever the search field is not present, the other contents should consume, if necessary, some of the space the search field would otherwise consume.

====== Path button ======

{| class="wikitable"
|-
| <tablestyle="float: left; margin: 0 1em 1em 0;" style="border: none;"><nowiki>[[File:path-button.jpg]]</nowiki>
|}

In some screens, the location bar includes a path button. This should consist of a button in one or more interlocking segments, with the point of one fitting into the crook of the next. If the button cannot be wide enough to display the text of all the segments, then the first segment should be shortened, with the text inside it being ellipsized at the trailing end, ''e.g.'' “Get Softw…”. If the button is still too wide even after the first segment has been shortened to read just “…”, then the second segment should be shortened in the same way, and so on.

{| class="wikitable"
|-
| <tablestyle="clear: both;" style="border: none;">
|}

The path button should have the accessible name “You are here:”.

====== Search field ======

<nowiki>[[File:search-field.jpg]]</nowiki>

Whenever a search field is present in the window, the “Edit” > “Search…” menu item should be sensitive. Selecting it should focus the search field, and (even if it is focused already) select its entire contents.

Whenever the search field is focused, the “Edit” > “Undo”, “Redo”, “Cut”, “Copy”, “Paste”, “Delete”, and “Select All” items should have their usual sensitivity and operation for a text field.

Inside the leading end of the field should be a symbolic magnifying glass icon. Clicking the icon should focus the field and select its entire contents.

When (and only when) the search field is not empty, the trailing end of the field should have a symbolic clear icon. Clicking the icon should focus the field and clear its contents.

Besides the normal behavior for text fields, whenever the insertion point (caret) is at the trailing end of the search field, pressing the Down arrow key should focus the contents of the main pane and select the first item — such as the first department in the <nowiki>[[#lobby|lobby screen]]</nowiki>, or the first result in any list of search results.

The search field should have the accessible name “Search”.

===== Searching in general =====

When searching anywhere in the Center, any word in the search string that is followed by a space or punctuation should be treated as a a complete word, while any word that is not should be treated as if it may be either a complete word or the beginning of a word. '''Test case:''' (sc-004) From the top-level “Get Software” screen, search for “atom”; it should return both Atomix and Liferea (an Atom feed reader). Now search for “atom ” (with a trailing space); it should return only Liferea.

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-non-applications-in-software-center|foundations-lucid-non-applications-in-software-center]]</nowiki> 1 of 4]

If the search terms exactly match a package name, that package should be returned first in the results, ''even if'' the package was <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

===== Software icon view =====

A software icon view is used mainly to present <nowiki>[[#def-software-item|software items]]</nowiki>, and currently also to display the list of departments in the “Get Software” section.

Each item in an icon view features <nowiki>[[#software-icon|the software item’s icon]]</nowiki> and its <nowiki>[[#software-title|title]]</nowiki>.

If the icon is scalable, or larger than 4 em in either dimension, it should be scaled down proportionally so that it is 4 em in its largest dimension. If the icon is already smaller than 4 em in both dimensions, it should be drawn at actual size and centered (both horizontally and vertically) inside a 4 em square that has a 0.05-em-wide border of color 170,170,170 (#aaaaaa).

Underneath the icon, the item title should be printed in 0.9-em text that is horizontally centered but top-aligned in its own block; if the title occupies more than two lines, it should be ellipsized in the middle (because unique elements of titles are more often at the beginning or the end). If the package is not available for this computer’s architecture, both the icon and the text should have 50% opacity, but the package should still be selectable.

Items should be laid out like horizontal text: starting at the leading edge and continuing until there is no room for another item on the same line, then wrapping downward.

Each item in a software icon view should produce a pointing-hand pointer when moused over, and single-clicking should navigate to that item.

===== Software list view =====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 1 of 7]

A software list view is used in several screens in the Center. In a list view, each <nowiki>[[#def-software-item|software item]]</nowiki> should have a row displaying the item’s <nowiki>[[#software-icon|icon]]</nowiki>, <nowiki>[[#software-title|title]]</nowiki>, and <nowiki>[[#software-summary|summary]]</nowiki>. The row’s accessible name should be the item’s title, and its accessible description should be the item’s summary.

<nowiki>[[File:item-row-basic.jpg]]</nowiki>

Various extra elements are added to the software list view <nowiki>[[#get-software-list-view|in the “Get Software” section]]</nowiki>, <nowiki>[[#installed-software-list-view|in the “Installed Software” section]]</nowiki>, and <nowiki>[[#in-progress|in the “In Progress” section]]</nowiki>.

In any software list view, as with the <nowiki>[[#software-icon-view|software icon view]]</nowiki>, the icon should be overlaid in the corner with the installed emblem if the package is currently installed.

If either row of text is wider than the space available, it should be ellipsized at the trailing end.

By default, none of the rows in a software list view should be selected. If the view allows selection, clicking anywhere in an row should select that item, and Ctrl+clicking on a selected item should deselect it. If no item is selected, pressing the Down arrow key should select the first row, and conversely pressing the Up arrow key should select the last row. If the view does ''not'' allow selection, the arrow keys should scroll the view without highlighting rows.

If the software item is not installable for this computer’s architecture, both the icon and the text — but not the buttons when the row is expanded — should have 50% opacity, but the item should still be selectable.

Whenever an item is selected in a software list view:
* “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the relevant package]]</nowiki>.
* The first button in the row should, if it is sensitive, be focused by default (otherwise no button should be focused); pressing Tab should cycle through any remaining buttons before leaving the list. '''Test case:''' (sc-005) Navigate to “Get Software” > “Fonts”. Select “A Lee’s free Hangul TrueType fonts (ttf-alee)”. Press Ctrl F; the search field should be focused. Press Tab; the ttf-alee row and its “More Info” button should be focused. Press Tab again; the “Install” button should be focused. Press Tab again; the selected item in <nowiki>[[#navigation-pane|the navigation pane]]</nowiki> should be focused.

Unless otherwise specified, a software list view should always have a vertical scrollbar. (This prevents elements at the trailing end from jumping about when the view contents switches between shorter than, and longer than, the container’s height). A software list view should never have a horizontal scrollbar.

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-non-applications-in-software-center|foundations-lucid-non-applications-in-software-center]]</nowiki> 2 of 4]

If a software list view has '''items hidden by default''', the bottom of the pane containing the view should have a panel (below the bottom of the scrollbar) containing text of the form “__17 other__ technical items”. Following that link should display the items that were hidden by default, and make the panel itself slide down into oblivion.

<nowiki>[[File:software-list-view-disclosure.jpg]]</nowiki>

===== Categorized list view screen =====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 2 of 7]

{| class="wikitable"
|-
| <tablestyle="float: right; margin: 0 0 1em 1em;" style="border: none;"><nowiki>[[File:categorized-list-view-screen.jpg]]</nowiki>
|}

A categorized list view screen should use a <nowiki>[[#software-list-view|software list view]]</nowiki>, with the addition that all its software items should be child items of parent items for <nowiki>[[#Genre|the department]]</nowiki> (but not the subsection) that they belong to. ''Only'' departments that actually contain items should be shown. The expanded or collapsed state of every department, for every categorized list view screen, should be remembered between sessions until that department stops existing in that list view.

Any categorized list view screen should have a <nowiki>[[#location-bar|location bar]]</nowiki>, containing a section-dependent title and a <nowiki>[[#search-field|search field]]</nowiki>. It should also have section-dependent <nowiki>[[#status-bar|status bar]]</nowiki> text (which, as usual, should temporarily be overridden when displaying <nowiki>[[#search-results|search results]]</nowiki>).

Searching from a categorized list view screen should not cause any departments to expand of their own accord. However, departments that do not either (a) contain any matching software items, or (b) have names that match the search text themselves, should themselves not be present in the list view.

{| class="wikitable"
|-
| <tablestyle="clear: both;" style="border: none;">
|}

===== Software item screen =====

In both the “Get Software” and “Installed Software” sections, a '''software item screen''' should show information about an item, and let you install or remove it. (Once <nowiki>[[#add-ons|add-on handling]]</nowiki> is implemented, it should also let you select and change add-ons.)

Whenever a software item screen is being displayed:
* If it is an item that is neither currently installed nor being installed, “File” > “Install” should be sensitive. Selecting it should <nowiki>[[#installing|install the selected item]]</nowiki>.
* If it is an item that is currently installed and not currently being removed, “File” > “Remove” should be sensitive. Selecting it should <nowiki>[[#removing|remove the selected item]]</nowiki>.
* Whenever text is selected in the screen, “Edit” > “Copy” should be sensitive. Choosing it should copy the selected text to the clipboard.
* “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the relevant package]]</nowiki>.
* The <nowiki>[[#status-bar|status bar]]</nowiki> should contain no text.

''Erratum: In 2.0, the stars and reference to reviews shown here should not be present.''

<nowiki>[[File:software-item-screens.jpg]]</nowiki>

A software item screen should contain:
* The <nowiki>[[#software-icon|icon]]</nowiki> for the item.
* The <nowiki>[[#software-title|title]]</nowiki> of the item.
* The <nowiki>[[#software-summary|summary]]</nowiki> of the item.
* If the item is installed, being removed, or queued for removal, its <nowiki>[[#software-item-screen-state-installed|installed state bar]]</nowiki>.
* A thumbnail of the screenshot of the item from <nowiki>[[http://screenshots.ubuntu.com/|screenshots.ubuntu.com]]</nowiki>, if there is one, or otherwise the centered greyed-out text “No screenshot available”. Activating the screenshot (by clicking it, or pressing Enter when it is focused) should open it in your preferred image viewer.
* Description text:
** If the item is in `app-install-data` but refers to a package in a software source that is not enabled, the text ‘This software is available from the “{source}” source, which you are not currently using.’.
** Otherwise, if the item is in `app-install-data` and refers to a package that is not present in the `apt` cache, the text “To show information about this item, the software catalog needs updating.”.
** Otherwise, if the item is not available for this architecture, the text “Sorry, <Title> is not available for this type of computer (<Architecture>).”.
** Otherwise, the package description.
* A “Web site” link to the Web site, if there is one.
* The <nowiki>[[#add-ons|add-ons]]</nowiki> section (if add-on handling has been implemented).
* Text describing the total size of the item:
** if it is not installed, “Total size: {``X} to download, {Y} when installed ({Z} available)”, where X is the download size including not-yet-installed dependencies, Y is the installed size including not-yet-installed dependencies, and Z = the amount of space free on the partition where the software would be installed;
** if it is already installed, “Total size: {Y} on disk ({Z} available)”.
* The <nowiki>[[#software-item-screen-state-available|availability state bar]]</nowiki>.
* Text of the form “Version: {version number} ({package name})”.
* The text “License:” followed by its <nowiki>[[#license|license label]]</nowiki>.
* The text “Updates:” followed by the maintenance status for the item.

The '''installed state bar''' contents depends on the item’s exact state.

* If the item is installed and not queued for removal, the installed icon and the text “Installed” at the leading end, and a “Remove” button at the trailing end.

* If the item is being removed or queued for removal, the status text for the removal at the leading end, and a progress bar at the trailing end.

 <nowiki>[[File:software-item-screen-state-installed-removing.jpg]]</nowiki>

The '''availability state bar''' contents also depends on the item’s exact state.

* If the item is in `app-install-data` but refers to a package in a software source that is not enabled, a “Use This Source” button that enables that source.

* Otherwise, if the item is in `app-install-data` and refers to a package that is not present in the `apt` cache, an “Update Now” button that updates the `apt` cache.

* Otherwise, if the item is not available for this architecture, no button at all.

* Otherwise, if the item is installed, <nowiki>[[#add-ons|add-on handling]]</nowiki> has been implemented, and add-ons are being changed, the text “Changing add-ons…” at the leading end, and a progress bar and icon-only cancel button at the trailing end.

 <nowiki>[[File:software-item-screen-state-changing-add-ons.jpg]]</nowiki>

* Otherwise, if the item is installed and add-on handling has been implemented, the text “Free” at the leading end, and “Cancel” and “Apply Changes” buttons at the trailing end.

* Otherwise, if the item is currently being installed or queued for installation, the status text for the installation at the leading end, and a progress bar and an icon-only cancel button at the trailing end.

 <nowiki>[[File:software-item-screen-state-available-installing.jpg]]</nowiki>

* Otherwise, if the item is not installed, the text “Free” at the leading end, and an “Install” button.

* Otherwise, no bar at all. 

The “Get Software” section shows screens for both uninstalled and installed items, and these should share the overall “Get Software” color scheme. The “Installed Software” section shows screens for installed items only, and should have a different color scheme.

{| class="wikitable"
|-
| <style="background:LightCoral">Copy-editors
|-
| Within the Center, examine the title, summary, and description of an item. Is it concise and helpful? Is the spelling and grammar correct? If it’s a non-geek application, does the description avoid geek language? Is it in the appropriate department? If you find a problem, and you are comfortable diving into code to fix it yourself, follow the <nowiki>[[https://wiki.ubuntu.com/DistributedDevelopment/Documentation|distributed development instructions]]</nowiki> with the <nowiki>[[https://code.launchpad.net/ubuntu/+source/app-install-data-ubuntu|app-install-data-ubuntu]]</nowiki> package to fix problems in an application’s title or summary, or <nowiki>[[https://launchpad.net/ubuntu|the package itself]]</nowiki> to fix problems with its description. Otherwise, <nowiki>[[https://bugs.launchpad.net/ubuntu|report a bug]]</nowiki> with (a) the current text, (b) what needs improving, and (c) your proposed replacement text, and give the bug report the `metadata` tag.
|}

{| class="wikitable"
|-
| <style="background:Peru">Packagers
|-
| Please look for <nowiki>[[https://bugs.launchpad.net/ubuntu/+bugs?field.tag=metadata|bugs that people have reported]]</nowiki> about inappropriate application names or summaries, or package descriptions or departments, and fix them. Thanks for your help.
|}

{| class="wikitable"
|-
| <style="background:Peru">Packagers
|-
| If a single package contains multiple applications, and people might reasonably want to install these applications separately, work to separate the packages into one per application.
|}

==== Main window ====

{| class="wikitable"
|-
| <tablestyle="margin: 0 0 1em 1em; clear: right; float: right;" style="border: none;"> <nowiki>[[File:main-window-structure.jpg]]</nowiki>
|}

The Center should use a normal window, with the title “Ubuntu Software Center”.

''default window size and placement TBD''

The main window has four major components: the menu bar at the top, the <nowiki>[[#navigation-pane|navigation pane]]</nowiki> on the leading side, the main pane on the trailing side, and the <nowiki>[[#status-bar|status bar]]</nowiki> at the bottom. The bar between the navigation pane and the main pane should be draggable to change their respective widths.

Sometimes the main pane contains a <nowiki>[[#location-bar|location bar]]</nowiki> or an action bar.

===== Navigation pane =====

The navigation pane should have the accessible name “Software sources”. It should have a vertical scrollbar only when necessary, and should never have a horizontal scrollbar. Instead, each item inside it should be ellipsized at its trailing end whenever there is not enough room to show it completely.

The navigation pane should list the top-level sections that can be navigated to, each with a text-size icon and a label:
* “<nowiki>[[#available|Get Software]]</nowiki>”
* “<nowiki>[[#installed|Installed Software]]</nowiki>”
* an 0.5-em gap
* “<nowiki>[[#in-progress|In Progress]]</nowiki>”.

''In future versions the navigation pane will contain other items, such as history, recommendations, and user-created collections.''

In the navigation pane, one and only one item should be selected at any time. Single-clicking an item should select it. Double-clicking should behave identically to single-clicking, and secondary-clicking or dragging should do nothing.

If you collapse the parent item of the selected item in the navigation pane, that parent item should become selected instead.

'''Test case:''' (sc-006) In the “Get Software” section, navigate to the Abi``Word application, and scroll to the bottom of the Abi``Word screen. In the navigation pane click on “Installed Software”, then on “Get Software”. The Center should resume displaying the bottom of the Abi``Word screen.

'''Test case:''' (sc-007) In the “Installed Software” section, navigate to the Firefox application. Close the Center, then reopen it. Click on “Installed Software”. The Center should display the top level of the Installed Software section.

'''Test case:'''(sc-008) Begin installing something. While it is installing, in the “Get Software” > “Internet” section, search for “chat”, and scroll through the results. Click on “In Progress”; the Center should show the installation progress. Now click on “Get Software”. The Center should return to the search results for “chat” within the “Get Software” > “Internet” department, in exactly the scroll position that you left it.

===== Main pane =====

Whenever the main pane contains a location bar with <nowiki>[[#path-button|a path button]]</nowiki>, the main pane should have an accessible name the same as the text of the last item in the path button.

Whenever the main pane does not contain a location bar with a path button, the main pane should have an accessible name the same as the text of the selected item in <nowiki>[[#navigation-pane|the navigation pane]]</nowiki>.

===== Navigation between screens =====

Whenever the Center navigates from one screen to another, whether directly (with mouse or keyboard) or indirectly, it should:
# immediately highlight the appropriate row in the navigation pane, if it has changed;
# begin displaying the corresponding screen in the main pane;
# if the corresponding screen has not displayed within 1 second, display a blank screen with a horizontally and vertically centered spinner, until the screen is available.

'''Test case:''' On a slow computer, choose “View” > “All Software”, then “Provided by Ubuntu” on a slow computer. The spinner screen should appear until the full list is available.

When navigating to a different section, the main pane should display, to the extent still applicable, the section exactly as it was when it was last viewed since the Center was launched: the same department, category, search results, scroll position, etc. This memory should not persist once the Center is closed.

===== “Get Software” section =====

The “Get Software” section should present all software items that are installable from any of the computer’s current software sources (plus any software source represented by a `X-AppInstall-Channel` attribute in `app-install-data`), regardless of whether they are already installed (already-installed items should have the “installed” emblem). It should not provide access to packages that are currently installed but not in any of your software sources; these should be in <nowiki>[[#installed|the “Installed Software” section]]</nowiki> instead.

The section contains a “lobby” screen, screens for each “department”, screens for subsections, and a screen for each <nowiki>[[#def-software-item|software item]]</nowiki>.

In the navigation pane, the “Get Software” item should have the same icon as the Software Center itself. It may have <nowiki>[[#broken-catalog|an extra icon at the trailing end for a broken software catalog]]</nowiki>.

Whenever you are in the “Get Software” section, the “View” > “All Software” and “View” > “Canonical-Maintained Software” items should be sensitive. Changing the selection should determine whether all software or just Canonical-maintained software is are shown. The selection should persist regardless of which screen in the “Get Software” section is being displayed.

Whenever a software item is selected — whether searching from the <nowiki>[[#lobby|lobby]]</nowiki>, in a <nowiki>[[#department|department]]</nowiki>, in a <nowiki>[[#subsection|subsection]]</nowiki>, or implicitly by being in a <nowiki>[[#get-software-item|software item]]</nowiki> screen itself:
* If it is an item that is not currently installed nor being installed, “File” > “Install” should be sensitive. Selecting it should <nowiki>[[#installing|install the selected item]]</nowiki>.
* If it is an item that is currently installed and not currently being removed, “File” > “Remove” should be sensitive. Selecting it should <nowiki>[[#removing|remove the selected item]]</nowiki>.

====== Back/Forward navigation ======

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 3 of 7]

Starting from each launch of the Center, it should remember a navigation history of the screens you have visited in the “Get Software” section (not including any screens for <nowiki>[[#channels|individual software sources]]</nowiki>). This navigation history should function as in a conventional Web browser: navigating using the history should move within it without adding items to it, and navigating without using the history should discard all forward items from the history.

Each item in the history should remember its scroll position, what software item was selected (if any), and what element was focused (if any).

If the search field was non-empty when you navigated to a separate screen, the search you had entered just before you navigated should be stored as its own history item. Intermediate searches should not be in the history.

'''Test case:''' (sc-009)
# Launch the Center. Both the Back and Forward buttons should be insensitive.
# Navigate to the “Games” section. The Back button should become sensitive.
# Navigate to the “Installed Software” section, and then to an individual item screen inside it. Return to “Get Software” in the navigation list. You should be back in the “Games” section.
# Activate the Back button. You should return to the lobby, the Back button should become insensitive, and the Forward button should become sensitive.
# Activate the Forward button. You should return to the “Games” section, the Back button should become sensitive, and the Forward button should become insensitive.

====== Location bar in the “Get Software” section ======

<nowiki>[[File:get-software-location-bar.jpg]]</nowiki>

All screens in the “Get Software” section should have a <nowiki>[[#location-bar|location bar]]</nowiki>, containing at least Back and Forward buttons and a <nowiki>[[#path-button|path button]]</nowiki>. (The elements in the path button are defined for individual screens in this specification.)

The Back and Forward buttons should navigate through the <nowiki>[[#get-software-navigation|navigation history]]</nowiki>. If there is no screen to go back to or forward to, the Back and Forward buttons should be insensitive respectively.

====== Software list view in “Get Software” ======

''Erratum: In 2.0, the stars and reference to reviews shown here should not be present.''

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-unselected.jpg]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-selected.jpg]]</nowiki>
|}

When (and only when) a row is selected, it should expand to reveal “More Info” and “Install” buttons (and, if <nowiki>[[#add-ons|add-on handling]]</nowiki> has been implemented and the item has add-ons, a “Choose Add-Ons…”/“Change Add-Ons…” button depending on whether the item is currently installed).

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-unselected.jpg]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none; vertical-align:top;"><nowiki>[[File:item-row-available-selected.jpg]]</nowiki>
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-installed-unselected.jpg]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-installed-selected.jpg]]</nowiki>
|}

The “More Info” button should have Enter as its access key. Activating it should navigate to <nowiki>[[#get-software-item|the software item screen]]</nowiki>.

The “Install” button (and, once implemented, the “Choose Add-Ons…”/“Change Add-Ons…” button) should be insensitive if the item is installed, currently installing, or scheduled for installation. The “Install” button should not have an access key (because that would interfere with typing letters to navigate the list). Activating the button should <nowiki>[[#installing|install the item]]</nowiki>.

When an item is being installed or removed (or, once <nowiki>[[#add-ons|add-on handling]]</nowiki> has been implemented, is having its add-ons changed), the trailing end of the row should have a progress bar showing progress of the task. If the item is being installed (or is having its add-ons changed), it should also have an icon-only cancel button. During this time the secondary text for the row should be the status text for the task, instead of the item’s <nowiki>[[#software-summary|summary]]</nowiki>.

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-installing-unselected.jpg]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-installing-selected.jpg]]</nowiki>
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-removing-unselected.jpg]]</nowiki>
| <style="border:none;vertical-align:middle;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-available-removing-selected.jpg]]</nowiki>
|}

====== Lobby screen ======

<nowiki>[[File:lobby.jpg]]</nowiki>

The lobby is the entry point to the Center, so it is important that it be attractive and welcoming. (The term “lobby” should not appear anywhere in the interface or help text.)

Whenever the lobby screen is being displayed:
* The <nowiki>[[#path-button|path button]]</nowiki> should consist only of the “Get Software” element.
* The <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “29 079 items available”.

The background of the lobby screen should be grey-blue 182,189,196 (#b6bdc4), and all text in that screen should be black 0,0,0 (#000000). The padding between the edges of the lobby and its contents should be 1 em, both horizontally and vertically.

The lobby currently has one section, “<nowiki>[[#departments|Departments]]</nowiki>”. The header should use a background... ''TBD'' The section should have a bottom margin of 2 em.

Arrow keys should change focus between the selectable items in the lobby screen.

The “Departments” section of the lobby screen should list the departments as defined and sorted under “<nowiki>[[#Genre|Genre]]</nowiki>”, using an <nowiki>[[#software-icon-view|icon view]]</nowiki>.

{| class="wikitable"
|-
| <tablestyle="color:Black" style="background:LightGreen">Artists
|-
| What is a more attractive way of presenting these departments? Currently they look very similar to individual applications, but probably they should look different. Perhaps they should use buttons of some sort? Perhaps the clickable element for each department could incorporate small versions of the icons for the most popular applications or packages in that department?
|}

====== Department screen ======

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 4 of 7]

<nowiki>[[File:get-software-department.jpg]]</nowiki>

If a department <nowiki>[[#Genre|has any subsections]]</nowiki>, ''or'' if it has any items marked as `X-AppInstall-AlwaysOnTop`, the department screen should have two panes. Otherwise, it should have one pane.

If there are any items marked as `X-AppInstall-AlwaysOnTop`, the top pane should begin with a “Bundles” section, presenting those items <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> in an <nowiki>[[#software-icon-view|icon view]]</nowiki>.

Next in the top pane should be a section with the same name as the department itself (''e.g.'' “Games”), presenting those items <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> in an <nowiki>[[#software-icon-view|icon view]]</nowiki>.

The bottom pane — or, if there is only one pane, the only pane — should be an <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> sorted <nowiki>[[#software-list-view|software list view]]</nowiki> of the software items in that department. If the department is not set to “<nowiki>[[#Genre|Show non-applications by default]]</nowiki>”, non-application items should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

Whenever a department screen is being displayed:
* The <nowiki>[[#path-button|path button]]</nowiki> should contain only segments for “Get Software” and the name of the department.
* The <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “301 items available”, counting all the items in that department, including all subsections.

====== Subsection screen ======

[``<nowiki>[[https://blueprints.edge.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-subcategories|foundations-lucid-software-center-subcategories]]</nowiki> 1 of 2]

<nowiki>[[File:get-software-subsection.jpg]]</nowiki>

A subsection screen should be an <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> sorted <nowiki>[[#software-list-view|software list view]]</nowiki> of the <nowiki>[[#def-software-item|software items]]</nowiki> in that subsection.  If the subsection is not set to “<nowiki>[[#Genre|Show non-applications by default]]</nowiki>”, non-application items should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki>.

Whenever a subsection screen is being displayed:
* The <nowiki>[[#path-button|path button]]</nowiki> should contain three segments — “Get Software”, the department, and the subsection.
* The <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “17 items available”, counting all the items in that subsection.

====== Searching in “Get Software” ======

When in the lobby, or in the screen for a department or subsection, the location bar should contain a <nowiki>[[#search-field|search field]]</nowiki> that searches within that scope. This should follow <nowiki>[[#searching|the standard searching behavior]]</nowiki>.

In addition, whenever the search field contains any text, or has been empty for less than two seconds:
* The <nowiki>[[#path-button|path button]]</nowiki> should have an extra item at the trailing end, “Search Results”. Selecting the parent item in the path button should clear the search field, thereby navigating to the previous screen.
* The rest of <nowiki>[[#main-pane|the main pane]]</nowiki> should temporarily be replaced by a <nowiki>[[#software-list-view|software list view]]</nowiki> of search results. If in a department or subsection, the results should be limited in scope to that department or subsection.
* The <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “No matching items” or “37 matching items”.

'''Test case:''' (sc-010) Launch the Center. Type Ctrl F; the search field should be focused. Type “fire” (without quotes or pressing Enter); the “Search Results” path button element should appear, and the main pane should be replaced by search results, with Firefox first. Press the down arrow key once; Firefox should be selected in the results. Press Enter; the Center should navigate to the software item screen for Firefox.

<nowiki>[[File:department-search.jpg]]</nowiki>

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-non-applications-in-software-center|foundations-lucid-non-applications-in-software-center]]</nowiki> 3 of 4]

When searching from the lobby, a non-application item should be <nowiki>[[#software-list-view-disclosure|hidden by default]]</nowiki> if its <nowiki>[[#Genre|primary subsection]]</nowiki> (or, if it has no subsection, its primary department) does not “Show non-application packages by default”.

When searching from a department screen, a non-application item should be hidden by default if its presence in ''that'' department is in a subsection (or, if it has no subsection, that department itself) that does not show non-application packages by default.

 When searching from a subsection screen, a non-application item should be hidden by default if ''that'' subsection does not “Show non-application packages by default”.

For the sake of people who are unfamiliar with how they should use the search, there should be a greylist of words that are downplayed when searching. “Downplayed” in this sense means that:
* A search that consists only of greylisted words should work just as if none of the words were greylisted.
* In any other search that contains one or more greylisted words, the greylisted words should be ignored: only the words that are not greylisted should be searched for. However, once the results are chosen, the presence of any greylisted words should cause a result to appear higher in the list.

For English, the greylist should be “app application package program programme suite tool”. The greylist should have a translation note: “Do not translate this list directly. Instead, provide a list of words in your language that people are likely to include in a search but that should normally be ignored in the search.”

'''Test case:''' (sc-011) From the lobby, search for “drawing”. Then search for “drawing program”. The Center should return exactly the same results for both searches, but in a different order.

'''Test case:''' (sc-012) From the lobby, search for “application suite”. The Center should return only results that include both those words.

{| class="wikitable"
|-
| '''Testers'''
|-
| You can help us improve the search function by <nowiki>[[SearchTesting|testing it in successive versions]]</nowiki>.
|}

''Needs refactoring: Some of this search logic also applies to “Installed Software”.''

====== Software item screen in “Get Software” ======

Whenever a <nowiki>[[#software-item-screen|software item screen]]</nowiki> is being displayed in the “Get Software” section:
* The <nowiki>[[#path-button|path button]]</nowiki> should consist of elements for “Get Software”, then the primary department to which the item belongs, then the primary subsection if any, then the <nowiki>[[#software-title|title]]</nowiki> of the item.
* The <nowiki>[[#location-bar|location bar]]</nowiki> should not contain a <nowiki>[[#search-field|search field]]</nowiki>.
* If the relevant package is not maintained by Canonical and you then choose “View” > “Canonical-Maintained Software”, the Center should automatically navigate up to the subsection screen; or, if the entire subsection contains no Canonical-maintained items, up to the department screen; or, if the entire department contains no Canonical-maintained items, up to the <nowiki>[[#lobby|lobby]]</nowiki> screen).

===== “Installed Software” section =====

The “Installed Software” section should provide access to all software items that are currently installed, regardless of whether they are available from any of the computer’s current software sources.

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 5 of 7]

The “Installed Software” section should have its own home screen, and screens for individual <nowiki>[[#def-software-item|software items]]</nowiki>. It should not include screens for each department or subsection.

Whenever you are in the “Installed Software” section, the “View” > “All Software” and “View” > “Canonical-Maintained Software” items should be sensitive. Changing the selection should determine whether all software or just Canonical-maintained software is shown. The selection should persist regardless of which screen in the “Installed Software” section is being displayed.

Regardless of which screen is being displayed, the section should should have a <nowiki>[[#location-bar|location bar]]</nowiki> containing a <nowiki>[[#path-button|path button]]</nowiki>.

In the navigation pane, “Installed Software” should have an icon of a computer. It may have <nowiki>[[#broken-catalog|an extra icon at the trailing end for a broken software catalog]]</nowiki>.

<nowiki>[[File:installed-software.jpg]]</nowiki>

The top level of the “Installed Software” section should show a <nowiki>[[#software-list-view-categorized|categorized list view screen]]</nowiki> listing all the software items currently installed, with its title being “Installed Software”, and its status text being of the form “1047 items installed”.

====== Software list view in “Installed Software” ======

When (and only when) a row is selected, it should be expanded to reveal “More Info” and “Remove” buttons (and, if <nowiki>[[#add-ons|add-on handling]]</nowiki> is implemented and the item has add-ons, a “Change Add-Ons…” button).

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-installed-unselected.jpg]]</nowiki>
| <style="border:none;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-installed-selected.jpg]]</nowiki>
|}

The “More Info” button should have Enter as its access key. Activating it should navigate to <nowiki>[[#installed-software-item|the software item screen]]</nowiki>.

The “Remove” button should not have an access key (because that would interfere with typing letters to navigate the list). Both it, and “File” > “Remove”, should be insensitive if the item is either being removed or scheduled for removal. Activating the button or the menu item should <nowiki>[[#removing|remove the software item]]</nowiki>.

As with the “Get Software” section, when an item is being removed or is queued for removal, its row should have a progress bar at the trailing end, and its secondary text should be status text rather than the item summary. If the item is successfully removed, the progress bar should remain full for one second before the row disappears altogether (because the item is no longer installed).

{| class="wikitable"
|-
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-installed-removing-unselected.jpg]]</nowiki>
| <style="border:none;">⇄
| <style="border:none;vertical-align:top;"><nowiki>[[File:item-row-installed-removing-selected.jpg]]</nowiki>
|}

====== Software item screen in “Installed Software” section ======

Whenever a <nowiki>[[#software-item-screen|software item screen]]</nowiki> is being displayed in the “Installed Software” section:
* The <nowiki>[[#path-button|path button]]</nowiki> should consist of elements for “Installed Software”, then the <nowiki>[[#software-title|title]]</nowiki> of the package. (There should not be elements for departments or subsections.)
* The <nowiki>[[#location-bar|location bar]]</nowiki> should not contain a <nowiki>[[#search-field|search field]]</nowiki>.
* “File” > “Remove” should be sensitive. Selecting it should <nowiki>[[#removing|remove the selected package]]</nowiki>.
* “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the selected package]]</nowiki>.
* If the package is not maintained by Canonical and you then choose “View” > “Canonical-Maintained Software”, the Center should automatically navigate back to the main “Installed Software” screen.

===== Individual software sources =====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 6 of 7]

<nowiki>[[File:get-software-channels.jpg]]</nowiki>

In the navigation pane, the top-level “Get Software” and “Installed Software” sections should present the aggregate of available or installed software items, respectively, from all enabled software sources.

Meanwhile, those individual software sources should be presented as separate child items of the “Get Software” item and the “Installed Software” item. “Get Software” should have child items for each software source that is enabled, plus an item for any source represented by an `X-AppInstall-Channel` in `app-install-data`). “Installed Software” should have child items for each source from which any software is currently installed, plus an item containing all installed packages with an unknown source.

Both “Get Software” and “Installed Software” should be collapsed on first launch, but their expanded or collapsed state should persist between sessions.
If an software source disappears while it is selected, the parent item should become selected.

The icon, label, and sort order for individual software sources inside each of “Get Software” and “Installed Software” should be as follows:
# Main, Universe, Restricted, and Multiverse for the current Ubuntu version should be aggregated into a single first item, with the Ubuntu logo as its icon, and the label “Provided by Ubuntu”.
# Next should be any sources represented by an `X-AppInstall-Channel` attribute in `app-install-data`, sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. The Canonical partner repository for the current Ubuntu version should have the Canonical logo as its icon, and the label “Canonical Partners”. Any others should have a generic repository icon, and should have a label equal to the contents of the `Label:` field from the `Release` file.
# Next should be any PPAs, sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. Each should use the same PPA icon that Launchpad uses, and should have a label equal to the contents of the `Label:` field from the `Release` file. Until this label has been retrieved from Launchpad, a PPA item should use the same naming scheme as any other non-CD source.
# Next should be any other network sources, sorted <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>. Each should use a generic repository icon, and a label consisting of its URI with the protocol stripped, ''e.g.'' “packages.example.org/ubuntu/”. (We don’t use the `Label:` here because we don’t trust third-party repositories as much as we trust PPAs.)
# Next should be any volumes (such as CDs, DVDs, or USB sticks) containing packages, sorted alphabetically. Each should have the same icon as it has in the file manager. If a volume contains a `/.disk/info` file, its label should be of the form “{OS version}”, where the OS version is the contents of `/.disk/info` up to but not including the first `"` character nor any spaces immediately preceding it. Otherwise, the label should be the same as it is in the file manager.
# Finally, in “Installed Software”, the section for packages with an unknown source should have a question mark as its icon, and the label “Other”.

The screen for each individual software source should present a <nowiki>[[#software-list-view|software list view]]</nowiki> of all the items in that source. Whenever this screen is being displayed, the <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “141 items” (as appropriate for the number of items in that source).

'''Test case:''' (sc-013)
# With “Get Software” collapsed and “Installed Software” expanded, close the Ubuntu Software Center and reopen it. The state should be remembered.
# Expand the “Get Software” item. Add a PPA in Software Sources. The PPA should appear immediately as a child item of “Get Software”, and should soon be relabelled from its URL to its display name.
# Install a package from that PPA. When it finishes installing, the PPA should appear immediately as a child item of “Installed Software” too.
# Select that new child item. Remove the package. When it finishes uninstalling, the PPA should disappear as a child item of “Installed Software”, and that parent item should become selected.
# Select the PPA inside “Get Software”, then remove the PPA from Software Sources. The PPA should disappear immediately as a child item of “Get Software”, and that parent item should become selected.

'''Test case:''' (sc-014)
# Download and install the Skype package.
# Expand the Ubuntu Software Center “Installed Software” section. it should have an “Other” child item that lists the Skype package.
# Expand the “Get Software” section. It should ''not'' have an “Other” child item.

====== Software list view for individual software sources ======

When any individual software source inside “Get Software” is selected, <nowiki>[[#main-pane|the main pane]]</nowiki> should show a <nowiki>[[#software-list-view|software list view]]</nowiki> of all the packages that source contains, with a single-segment <nowiki>[[#path-button|path button]]</nowiki> using the same label for the source as the navigation pane does, and status text of the form “17 items available”.

When any individual software source inside “Installed Software” is selected, the main pane should show a <nowiki>[[#software-list-view|software list view]]</nowiki> listing all the packages currently installed (or in the process of being removed) from that source, with a single-segment path button using the same label as the navigation pane, and status text of the form “3 items installed”.

For all sources except “Provided by Ubuntu”, the items in the “View” menu should be insensitive, because they do not apply.

===== “In Progress” section =====

<nowiki>[[File:in-progress.jpg]]</nowiki><<BR>>

The “In Progress” section should be visible only when items are being installed or removed, or when the last installation or removal finished less than two seconds ago. If the section disappears while being displayed, the Center should return to the section that was previously being displayed.

In the navigation pane, the section should have an animated icon of two green semicircular arrows chasing each other clockwise. After the words “In Progress” should be, in brackets, the number of tasks yet to be completed.

Whenever the “In Progress” section is being displayed, the <nowiki>[[#status-bar|status bar]]</nowiki> text should be of the form “2 items remaining” or “All items completed”, as appropriate.

The section itself should list the items requested for installation or removal, earliest first. The rows in the list should be based on a <nowiki>[[#software-list-view|software item list view]]</nowiki>, with these differences:
* the second row of text is status text, rather than the package summary or package name;
* each row has a progress bar (which itself never contains any text);
* each row representing an installation has a cancel button (which can be triggered by the Esc key when the row is selected), while each row representing a removal has a gap the same size as a cancel button (so that its progress bar lines up with the progress bars of installation rows).

<nowiki>[[File:1.0-in-progress-row.jpg]]</nowiki>

The cancel button for an individual item should be sensitive only when the item has not yet started or is still downloading.

If you try to close the Center while an item is installing or being removed:
# All items in the navigation pane, other than “In Progress”, should become insensitive.
# The Center should switch to displaying the “In Progress” section.
# When installation is completed or cancelled, the Center should close.

===== Status bar =====

The status bar should contain status text, and, in the trailing corner, a resize handle.

The status text should be centered within the status bar, both horizontally (as if the resize handle was not present) and vertically.

==== Determining software item information ====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-repository-based-index|foundations-lucid-software-center-repository-based-index]]</nowiki> 1 of 1]

For any <nowiki>[[#def-software-item|software item]]</nowiki> (a package, or an application with a `.desktop` file inside a package), there a variety of fields that are derived from the item’s entry in the `app-install-data` package, the archive index, the Debian control file for the package, or a combination of these.

===== Icon =====

The '''icon''' should be the icon supplied for the application by your current theme, if there is one; otherwise the icon provided by `app-install-data`, if there is one; otherwise the generic package icon. ''This may be enhanced later for more specialized generic icons.''

===== Title =====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-non-applications-in-software-center|foundations-lucid-non-applications-in-software-center]]</nowiki> 4 of 4]

The '''title''' should be the application Name, if there is one; otherwise the package synopsis (the first line of <nowiki>[[http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Description|the Description field]]</nowiki>). If this leaves multiple packages with the same title, the package name should be appended in brackets to the title of each of them: “{Previous Title} ({package name})”. (This is the same approach used for <nowiki>[[SessionMenu#account-switching|disambiguating account names in Ubuntu’s session menu]]</nowiki>.) '''Test case:''' (sc-015) Search for the “backintime-gnome” package. The item should have the title “Back In Time (backintime-gnome)”.

===== Summary =====

The '''summary''' should be the application Comment, if there is one; otherwise the package synopsis, if the application has a Name but not a Comment; otherwise the package name (because if you’re looking at a non-application package in the first place, you’re fairly likely to be the sort of user who wants to know the package name).

===== Genre =====

[``<nowiki>[[https://blueprints.edge.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-subcategories|foundations-lucid-software-center-subcategories]]</nowiki> 2 of 2]

Every item has a genre represented by a '''primary department''', and sometimes also by a '''primary subsection''' and/or a '''secondary department'''. If an item has a secondary department, it may also have a '''secondary subsection'''. Each department, and each subsection, should have its own icon.

As used elsewhere in this specification, an item’s '''department''' means its primary department, and its '''subsection''' means its primary subsection.

These are the departments and subsections, in the order in which they should be presented when presented together:
{| class="wikitable"
|-
| <^ rowstyle="background: #ddd; color: #000;">'''Department'''
| <^|2>'''Equivalent <nowiki>[[http://standards.freedesktop.org/menu-spec/latest/apa.html|menu spec]]</nowiki> categories'''
| <^|2>'''Equivalent <nowiki>[[http://www.debian.org/doc/debian-policy/ch-archive.html#s-subsections|sections]]</nowiki>'''
| <^|2>'''Package name pattern'''
| <^|2>'''Show non-application packages by default'''
|-
| <rowstyle="background: #ddd; color: #000;"> - Subsection
|-
| '''Accessories'''
| Utility, System
| -
| 
| -
|-
| '''Education'''
| Education
| -
| 
| -
|-
| '''Fonts'''
| -
| -
| `(t,o)tf-*`
| yes
|-
| '''Games'''
| Game, Sports
| -
| 
| -
|-
| - Board Games
| Board``Game
| -
| 
| -
|-
| - Card Games
| Card``Game
| -
| 
| -
|-
| - Puzzles
| Logic``Game
| -
| 
| -
|-
| - Role-Playing
| Role``Playing
| -
| 
| -
|-
| - Sports
| Sports``Game
| -
| 
| -
|-
| '''Graphics'''
| Graphics
| -
| 
| -
|-
| - 3D
| 3DGraphics
| -
| 
| -
|-
| - Drawing
| Vector``Graphics
| -
| 
| -
|-
| - Painting
| Raster``Graphics
| -
| 
| -
|-
| - Photography
| Photography
| -
| 
| -
|-
| - Publishing
| Publishing
| -
| 
| -
|-
| - Scanning & OCR
| Scanning, OCR
| -
| 
| -
|-
| - Viewers
| Viewer
| -
| 
| -
|-
| '''Internet'''
| Network
| -
| 
| -
|-
| - Chat
| Instant``Messaging, IRCClient
| -
| 
| -
|-
| - File Sharing
| File``Transfer
| -
| 
| -
|-
| - Mail
| Email
| - (''not'' mail)
| 
| -
|-
| - Web Browsers
| Web``Browser
| - (''not'' web)
| 
| -
|-
| '''Office'''
| Office
| -
| 
| -
|-
| '''Science & Engineering'''
| Science
| science
| 
| yes
|-
| - Astronomy
| Astronomy
| -
| 
| -
|-
| - Biology
| Biology
| -
| 
| -
|-
| - Chemistry
| Chemistry
| -
| 
| -
|-
| - Computing & Robotics
| Artificial``Intelligence, Computer``Science, Robotics
| -
| 
| -
|-
| - Electronics
| Electronics
| -
| 
| -
|-
| - Engineering
| Engineering
| -
| 
| -
|-
| - Geography
| Geography
| -
| 
| -
|-
| - Geology
| Geology, Geoscience
| -
| 
| -
|-
| - Mathematics
| Data``Visualization, Math, Numerical``Analysis
| math, gnu-r
| 
| yes
|-
| - Medicine
| Medical``Software
| 
| 
| -
|-
| - Physics
| Electricity, Physics
| 
| 
| -
|-
| '''Sound & Video'''
| Audio``Video, Audio, Video
| - (''not'' sound or video)
| 
| -
|-
| '''Themes & Tweaks'''
| Settings
| 
| 
| -
|-
| - Background Pictures
| -
| -
| `*-backgrounds`, `*-wallpapers`
| yes
|-
| - Themes
| -
| -
| `*-theme`
| yes
|-
| '''Universal Access'''
| Accessibility
| 
| 
| -
|-
| '''Developer Tools'''
| Development
| devel
| 
| yes
|-
| - Debugging
| Debugger
| - (''not'' debug)
| 
| -
|-
| - Graphic Interface Design
| GUIDesigner
| -
| 
| -
|-
| - Haskell
| -
| haskell
| 
| yes
|-
| - IDEs
| IDE
| -
| 
| -
|-
| - Java
| -
| java
| 
| yes
|-
| - Libraries
| -
| libdevel (''not'' libs or oldlibs)
| 
| yes
|-
| - Lisp
| -
| lisp
| 
| yes
|-
| - Localization
| Translation
| - (''not'' localization)
| 
| -
|-
| - Mono/CLI
| -
| cli-mono
| 
| yes
|-
| - OCaml
| -
| ocaml
| 
| yes
|-
| - Perl
| -
| perl
| 
| yes
|-
| - Profiling
| Profiling
| -
| 
| yes
|-
| - Python
| -
| python
| 
| yes
|-
| - Ruby
| -
| ruby
| 
| yes
|-
| - Version Control
| Revision``Control
| vcs
| 
| yes
|-
| - Web Development
| Web``Development
| -
| 
| -
|-
| '''System'''
| -
| -
| 
| yes
|}

{| class="wikitable"
|-
| <style="background:Plum">Librarians
|-
| For 3.0, we will be refining this new classification scheme for the Center. For example, what subcategories could the “Games” department have? And how could the items in the “Internet” menu be redistributed? Tell us your ideas on <nowiki>[[Classification|the Classification page]]</nowiki>. Thanks!
|}

The algorithm for determining an item’s primary department and subsection should be:
# If it has a `.desktop` file with at least one `Category:` value that matches one of the ''subsections'' listed above, then:
## Use the first recognizable `Category:` value to determine the subsection from the table.
## Determine the department from the subsection’s location in the table.
## Stop.
# If it has a `Section:` that matches one of the ''subsections'' listed above, then:
## Use the `Section:` value to determine the subsection from the table.
## Determine the department from the subsection’s location in the table.
## Stop.
# If it has a `.desktop` file with at least one `Category:` value that matches one of the ''departments'' listed above, then:
## Use the first recognizable `Category:` value as the department.
## Stop.
# If it has a `Section:` that matches one of the ''departments'' listed above, then:
## Use the `Section:` value to determine the department from the table.
## Stop.
# Use “System” as the primary department, with ''no'' primary subsection.

The algorithm for determining an item’s secondary department and subsection should be:
# If the `.desktop` file has at least one `X-Ubuntu-Category-Secondary:` field that matches one of the known departments, then:
## Use the first `X-Ubuntu-Category-Secondary:` value as the subsection.
## Determine the department from the subsection’s location in the table above.
## Stop.
# The item has no secondary department or subsection.

'''Test case:''' We should have a test repository containing packages with various combinations of `Category:` and/or `X-Ubuntu-Category-Secondary:`.

===== License label =====

If the relevant package for an item is in:
* the Main or Universe repositories, its license label should be “Open source”.
* the Restricted repository or archive.canonical.com, its license label should be “Proprietary”.
* any other repository (including Multiverse), its license label should be “Unknown”.

''If you want this to be less crude, do what you can to get <nowiki>[[http://dep.debian.net/deps/dep5/|DEP-5]]</nowiki> implemented.''

==== Custom package lists ====

For ease of sharing lists of software, and as a first step towards <nowiki>[[#apturl|replacing apturl]]</nowiki>, the Center should allow “searches” that return ad-hoc package sets.

From <nowiki>[[#lobby|the top-level “Get Free Software” screen]]</nowiki>, whenever a search string consists entirely of <nowiki>[[http://www.debian.org/doc/debian-policy/ch-controlfields.html#s-f-Source|characters allowed in package names]]</nowiki>, interspersed with commas (and no spaces), and optionally followed by a comma:

* The last element in the <nowiki>[[#path-button|path button]]</nowiki> should be “Custom List” rather than “Search Results” (though it should otherwise behave the same as <nowiki>[[#get-software-searching|a “Search Results” element]]</nowiki>).

* The rest of <nowiki>[[#main-pane|the main pane]]</nowiki> should display a <nowiki>[[#get-software-list-view|“Get Software” list view]]</nowiki> of the <nowiki>[[#def-software-item|software items]]</nowiki> corresponding to those package names. Unlike usual search results, this list should be sorted in exactly the same order as the search string. If any of the package names does not have a corresponding package in your current software sources, its item in the list should have a question mark as its icon, “Not found” as primary text, and the package name as secondary text; the icon and text should both be greyed out, and selecting the row should not expand it.

* Whenever at least one of the listed items is installable, the bottom of the pane should have an action bar, containing at its trailing end a button of the form “Install {``X} Items”, where X = the number of items not currently installed (regardless of whether they are queued for installation). Activating this button should <nowiki>[[#installing|install]]</nowiki> all those items.

* The <nowiki>[[#status-bar|status bar]]</nowiki> should have text of the form “{X} items”, where X = the number of recognized items (''not'' including any “Not found” items).

'''Test case:''' (sc-016) On a machine that has Gobby and Orca installed but neither `9base` nor `abcde`, with “View” > “All Software” selected:
# Navigate to the main “Get Software” screen and enter “gobby,orca” (without quotes) in the search field. The path button should show “Get Software” > “Custom List”, the rest of the main pane should list “Gobby” and “Orca”, and the status bar should say “2 items”.
# Add “,9base” to the search text (“gobby,orca,9base”). The list should change to “Gobby”, “Orca”, and “Plan 9 userland tools”, in that order; an action bar should appear offering to “Install 1 Item”; and the status bar should say “3 items”.
# Add a comma to the end of the string (“gobby,orca,9base,”). Nothing should change.
# Add the letters “abcd” to the end of the string (“gobby,orca,9base,abcd”). A greyed-out item should appear at the end of the list: “Not found”/“abcd”. The button should still say “Install 1 Item”, and the status bar should still say “3 items”.
 <nowiki>[[File:custom-list.jpg]]</nowiki>
 1. Finally, add the letter “e” to the search string (“gobby,orca,9base,abcde”). The “Not found” item should change to “A Better CD Encoder”/“abcde”, and “Install 1 Item” should change to “Install 2 Items”.

''Future work: Consider whether it makes sense to use custom lists within “Installed Software”, or within <nowiki>[[#channels|individual software sources]]</nowiki>.''

==== Handling a broken apt cache ====

Whenever the Center detects that the apt cache of packages is currently broken:

* The “Get Software” and “Installed Software” items in the navigation pane should both have /!\ icons at their trailing end. The icons should produce the pointing-hand cursor when moused over, and when clicked should open the broken-catalog alert.

 <nowiki>[[File:catalog-broken-navigation-pane.jpg]]</nowiki>

* Choosing “Install” or “Remove” for any package should open the broken-catalog <nowiki>[[#def-alert|alert]]</nowiki>.

{| class="wikitable"
|-
| <tablestyle="clear: both; float: right; margin: 0 0 1em 1em;" style="border: none;"><nowiki>[[File:catalog-broken-alert.jpg]]</nowiki>
|}

The broken-catalog alert should have the primary text: “Nothing can be installed or removed until the software catalog is repaired. Do you want to repair it now?” and the secondary text “Once Update Manager has finished the repairs, you can close it and return to the Center.”.

The alert should have “Cancel” and “Repair” buttons, where “Repair” is the default. Choosing “Cancel” should cancel any installation or removal that produced the alert. Choosing “Repair” should launch Update Manager in repair mode.

''A future version of the Center should be able to repair the catalog itself.''

{| class="wikitable"
|-
| <tablestyle="clear: both; margin: 0;" style="border: none;">
|}

==== Handling an externally-changed apt cache ====

{| class="wikitable"
|-
| <tablestyle="clear: both; float: left; margin: 0 1em 1em 0;" style="border: none;"><nowiki>[[File:catalog-changed.jpg]]</nowiki>
|}

Whenever the Center detects that the apt cache of packages has been changed by another process, the contents of <nowiki>[[#main-pane|the main pane]]</nowiki> (including <nowiki>[[#location-bar|location bar]]</nowiki>, if any) for every section except “In Progress” should temporarily be covered by a curtain.

The curtain should have at least two lines of centered text: “Another program has changed the software catalog.” and “One moment, please…”. Below the text should be a determinate progress bar for the process of rebuilding the Center’s database.

When the process is complete, the curtain should be raised, and all sections should return (as much as practical) to their previous display.

{| class="wikitable"
|-
| <tablestyle="clear: both; margin: 0;" style="border: none;">
|}

==== Copying a Web link for a package ====

Whenever you choose to copy a Web link for a package, the Center should copy to the clipboard text of the form `http://apt.ubuntu.com/p/`''`package-name`'' (without a leading or trailing line break).

==== Installing software ====

When you request to install a software item:
# The “Install” button should be made insensitive for that item, and remain insensitive until the installation has been completed or cancelled.
# The Center should <nowiki>[[#broken-catalog|handle a broken apt cache if necessary]]</nowiki>.
# If the relevant package cannot be installed, an error <nowiki>[[#def-alert|alert]]</nowiki> should appear:
 <nowiki>[[File:transaction-error-uninstallable.jpg]]</nowiki><<BR>>
 The alert should have the primary text “Sorry, {<nowiki>[[#software-title|title]]</nowiki>} can’t be installed at the moment. Try again in a day or two.”, and a secondary “Details” expander control that reveals a text frame containing the `dpkg` error. It should have an “OK” button which is the default.
# If necessary, a Policy``Kit <nowiki>[[#def-alert|alert]]</nowiki> (with the USC window as its parent) should appear to enter authentication details.
# The Center should begin blocking session exit.
# The item should appear in the “In Progress” section. If the item is queued waiting for another package manager to close, the status text for the item should be “Waiting for {Application Name} to exit”. If the item is queued waiting for any other activity to complete, the status text for the item should be “Waiting”.
# While the download is taking place, the status text should be set to “Downloaded {``X``} of {Y}”.
# While the installation script is running, the status text for the item should be set to the normal text issued by `dpkg`.
# If at any point installation is blocked by a `debconf` question, the status text for the item should be set to “Waiting for your response…”
# When installation completes, the Center should stop blocking session exit.
# The “installed” emblem should be applied to the item icon, and the status text should be set to “Installation complete”.
# Five seconds later, the item should disappear from the “In Progress” section.

For an item being installed, 50 % of the progress bar length should be allocated to the downloading process, and 50 % to running the installation script.

{| class="wikitable"
|-
| <style="background:Peru">Packagers (and testers)
|-
| Wait, what? Fifty percent? That’s not accurate! Perhaps not, but even a progress bar that varies a bit in speed is <nowiki>[[http://andrewtrumper.blogspot.com/2009/03/have-you-ever-seen-progress-bar-that.html|infinitely more accurate]]</nowiki> than one that fills up completely only to jump back to zero for the next step. And you can <nowiki>[[SmoothProgress|help us make it even better]]</nowiki>.
|}

==== Removing software ====

When you request to remove a software item:

 1. The “Remove” button should be made insensitive for that item, and remain insensitive until the removal has been completed or cancelled.

 1. The Center should <nowiki>[[#broken-catalog|handle a broken apt cache if necessary]]</nowiki>.

 1. If the relevant package is part of the `ubuntu-desktop` metapackage, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: “{<nowiki>[[#software-title|title]]</nowiki>} is a core item in Ubuntu. Removing it may cause future upgrades to be incomplete.” The alert should have “Cancel” and “Remove Anyway” buttons; neither button should be the default.

 1. If you request to remove a package that is part of any other metapackage, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: ‘If you uninstall {<nowiki>[[#software-title|title]]</nowiki>}, future updates will not include new items in the “{metapackage <nowiki>[[#software-title|title]]</nowiki>}” set.’ Again, the alert should have “Cancel” and “Remove Anyway” buttons; neither button should be the default.

 1. If you request to remove a package that is depended on by any other package, or an application that shares a binary package with any other application, the Center should put up a confirmation <nowiki>[[#def-alert|alert]]</nowiki>: “To remove {<nowiki>[[#software-title|title]]</nowiki>}, these items must be removed as well:” — with any affected applications, followed by any other affected packages, listed <nowiki>[[#def-alphabetically|alphabetically]]</nowiki> in an inset <nowiki>[[#software-list-view|software list view]]</nowiki> that does not allow selection but is focused by default. The alert should have “Cancel” and “Remove All” buttons; neither button should be the default.<<BR>><<BR>><nowiki>[[File:remove-depended-alert.jpg]]</nowiki>

 1. The Center should, if necessary, ask for authentication details in a Policy``Kit <nowiki>[[#def-alert|alert]]</nowiki> with the USC window as its parent.

 1. The Center should begin blocking session exit.

 1. The item should appear in the “In Progress” section. If the item is queued waiting for another package manager to close, the status text for the item should be “Waiting for {Application Name} to exit”. If the item is queued waiting for any other activity to complete, the status text for the item should be “Waiting”.

 1. If at any point removal is blocked by a `debconf` question, the status text for the item should be set to “Waiting for your response…”

 1. When removal completes, the Center should stop blocking session exit.

==== Help ====

The help should cover these topics:
* What is the Ubuntu Software Center?
* Why are all the programs free?
* Installing a program
* Using a program once it’s installed
* Removing a program
* Why is it asking me to remove several programs together?
* “Provided by Ubuntu” — what’s that?
* “Canonical-maintained” — what’s that?
* What if a program I want isn’t in the Center?
* Using software from multiple sources
* What if a program doesn’t work?

==== About window ====

The About window should be a standard window (not a <nowiki>[[#def-dialog|dialog]]</nowiki>) following the standard Gnome About window layout, using <nowiki>[[#metadata|the appropriate application summary]]</nowiki>.

=== Ubuntu Software Center 3.0 ===

''Once 2.0 is released, these changes will be merged into the main specification.''

==== Ratings and reviews ====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-ratings-and-reviews-in-software-center|foundations-lucid-ratings-and-reviews-in-software-center]]</nowiki>``]

Reviewing software involves three software components:
 1. Ubuntu Software Center itself
 2. the Ubuntu Single Sign-On service
 3. an Internet server that receives, stores, and publishes reviews.

''A branch implementing this feature should not be merged to trunk until the server side is implemented and reliably maintained.''

===== Submitting reviews =====

* http://www.finette.co.uk/blog/index.php/2009/04/on-rating-mechanisms/
* http://stevenf.tumblr.com/post/78115371/stars
* http://twitter.com/hotdogsladies/statuses/5985647059

This process begins when you activate the “Review…” button on <nowiki>[[#installed-software-item|an “Installed Software” item screen]]</nowiki>.

If necessary, the Center should go through the Ubuntu Single Sign-On authentication/registration process, using the summary text “To review software, you need an Ubuntu Single Sign-On account.”.

''This dialog should eventually be specified and implemented as a separate library. Compare with the <nowiki>[[http://docs.google.com/View?id=dfkkjjcj_82fb6d42hk|Ubuntu One control panel specification]]</nowiki>.''

<nowiki>[[File:review-single-sign-on.jpg]]</nowiki>

Whenever the computer is not connected to the Internet while the authentication dialog is open, the bottom leading corner of the dialog should feature a mini error icon and the text “Not connected to the Internet.”, and the “Continue” button should be insensitive. (The appearance or disappearance of the error message should not resize the dialog; it should always have been large enough to show the whole message.)

<nowiki>[[File:review-single-sign-on-offline.jpg]]</nowiki>

'''Test case:''' In a session where you have not signed in, choose “Write a review”; the sign-in dialog should appear. Disconnect from the Internet; the “Not connected to the Internet” error message should appear, and “Continue” should become insensitive. Reconnect to the Internet; the error message should disappear, and “Continue” should become sensitive.

When you activate “Continue”, a spinner and the text “Signing in…” should appear at the bottom leading corner, the “Cancel” button should become “Stop”, and the “Continue” button should become insensitive. (The change in label should not change the size of the button; it should always have been large enough for either label.)

<nowiki>[[File:review-single-sign-on-progress.jpg]]</nowiki>

If the sign-in process stops unsuccessfully, either because you activated “Stop” or because of an error, the spinner and progress text should disappear, “Stop” should change back to “Cancel”, and “Continue” should become sensitive (unless there is no Internet connection). Then:

* If you activated “Stop”, “Cancel” should also become insensitive for one second (in case you double-clicked on “Stop” by mistake).

* If the e-mail address or password is incorrect, the error sound (if any) should play, a mini error icon and the text “Incorrect e-mail address or password.” should appear in the bottom leading corner of the dialog, the “Stop” button should change back to “Cancel”, the “Continue” button should become sensitive, and the “E-mail address:” field should be focused.
 
* The same should happen if there is any HTTP error while signing in, but with the error text “Couldn’t connect to the sign-on service.”.

Once you are signed in, a <nowiki>[[#def-dialog|dialog]]</nowiki> ''without'' a parent window should appear for submitting the review.

<nowiki>[[File:review-submit.jpg]]</nowiki>

This dialog should be resizable; resizing it should resize only the review text field. That field should be focused by default.
 
The dialog’s title should be of the form “Review {<nowiki>[[#software-title|Item Title]]</nowiki>}”.

Within the dialog, first should be displayed the <nowiki>[[#software-icon|icon]]</nowiki>, <nowiki>[[#software-title|title]]</nowiki>, and version number of the software.

Next should be a “Review by:” item showing your name as registered with the Single Sign-On service (as a subtle hint that you are accountable for your words).

The review text field should accept multiple paragraphs, and should use automatic spell-checking. It should be unlabelled, but have the accessible name “Review text”, and the visible caption: “Be brief and informative. Don’t post bug reports.”

The “Summary:” field should accept a single line of text.

The “Rating:” field should consist of five stars plus a caption. By default, no stars should be filled. Whenever the field is focused, the Left and Right keys should increase or decrease the rating in one-star increments, and the `1` through `5` keys should change the rating to that many stars. The caption should reflect the star you are mousing over, if you are, or otherwise the rating you have currently set: “” (no rating yet), “Awful” (1), “Poor” (2), “Adequate” (3), “Good” (4), or “Excellent” (5). Setting a rating level, whether using a pointing device or a key equivalent, should highlight the new rating in a similar visual style as when clicking a checkbox or radio button.

The “Cancel” button should have Esc as its keyboard equivalent.

The “Publish” button should have Enter as its keyboard equivalent. It should be sensitive only if you have entered text in both the review field and the Summary field and set a rating. Activating “Publish” should submit the review.

Whenever there is no Internet connection, this should be shown with an error message and an insensitive “Publish” button, exactly as for the sign-on dialog.

When you activate the “Publish” button, progress should be shown using a spinner and the text “Submitting review…” in the bottom leading corner, exactly as for the sign-on dialog.

<nowiki>[[File:review-submit-progress.jpg]]</nowiki>

Stopping and errors should similarly be handled exactly as for the sign-on dialog, but with the text “Couldn’t connect to the review service.” for HTTP errors.

<nowiki>[[File:review-submit-error.jpg]]</nowiki>

Submitting a review should send this information to the review server:
* via URL, the name of the repository and package (''e.g.'' )
* via POST
* your Single Sign-On credentials
* the .

===== Review service =====

* ''What should we do if you’ve already reviewed this version of this item?''
* ''What should the length limit be for reviews? And for summaries?''

===== Presenting reviews =====

The median rating, and the number of reviews, for all items in a software source should be updated and cached whenever the Center updates the list of software in that source. The median rating, and the five most recent reviews, for an individual item should be updated and cached whenever you visit the screen for a software item and there is an Internet connection.

Throughout the <nowiki>[[#get-software-list-view|“Get Software” section, a list view]]</nowiki> item should have at its trailing end a hyperlink consisting of stars for the median <nowiki>[[#reviews|rating]]</nowiki> for the item, plus text of the form “17 reviews”.  Activating the hyperlink should navigate to <nowiki>[[#get-software-item|the software item screen]]</nowiki> and scroll to its “Reviews” section. In addition, text of the form “ (''X'' stars from ''Y'' reviews)” should be present at the end of the item’s accessible description — for example, “An application for managing botanical collections (4 stars from 3 reviews)”.

<nowiki>[[File:item-row-available-unselected.jpg]]</nowiki>

When an item is being installed or removed, the progress bar in the list view should replace any rating/reviews link.

Similarly a <nowiki>[[#get-software-item-screen|software item screen]]</nowiki> should have in its top trailing corner a hyperlink of exactly the same form, which does the same thing. In the “Installed Software” section, this area should instead have a “Rate & Review…” button that begins <nowiki>[[#reviews-reviewing|the review process]]</nowiki>.

<nowiki>[[#get-software-item|The software item screen in the “Get Software” section]]</nowiki> should also contain a “Reviews” section.
* If there is no Internet connection and no cached number of reviews, it should consist of a single paragraph: “Not available while offline.”.
* Otherwise, if there are no reviews for the item, it should consist of a single paragraph with the sentence “None yet.” If you have installed the current version of the software now or in the past, this should be followed by the link “__Be the first to review it__.”
* Otherwise, it should consist of the five most relevant reviews for the item, followed by a “__Write a review__” link. “Most relevant” in this sense means the most recent reviews for the current version, with any remainder being the most recent reviews of the next most recent version, then the next most recent, and so on.

<nowiki>[[File:get-software-item-reviews.jpg]]</nowiki>

(Omitting reviews in the “Installed Software” section should discourage, without preventing, people from biasing their ratings and reviews based on the ratings and reviews already submitted. They can still refer to the same item in the “Get Software” section if they want to see the current ratings and reviews.)

In the “Get Software” section, an item that has any <nowiki>[[#reviews|reviews]]</nowiki> in a <nowiki>[[#software-list-view|software list view]]</nowiki> should have a link consisting of (a) stars representing the average rating and (b) light text of the form “7 reviews”. Activating the link should navigate to the software item screen and scroll to its Reviews section. 

===== Flagging reviews as inappropriate =====

Below each review should be a “Flag” link. Activating the link should invoke the Ubuntu Single Sign-On authentication/registration process, if necessary, using the summary text “To flag a review as inappropriate, you need an Ubuntu Single Sign-On account.”. The dialog should also feature a “Just Hide It” button; activating this button should cancel the process, but Ubuntu Software Center should then also immediately hide the review and remember indefinitely that you do not want to see that review again.

<nowiki>[[File:review-report-sign-on.jpg]]</nowiki> <nowiki>[[File:review-report.jpg]]</nowiki>

Once you are signed in, a parent-less <nowiki>[[#def-dialog|dialog]]</nowiki> should appear for flagging the review.

It should have a “Why is this review inappropriate?” menu with choices “Unspecified”, “Offensive language”, “Infringes copyright”, “Not about this software”, and “Other”.

The “Cancel” button should have Esc as its keyboard equivalent.

The “Flag” button should have Enter as its keyboard equivalent. It should be sensitive only if the reason is not “Unspecified” and you have entered text in the details field.

This dialog should handle progress and HTTP errors in the same way as the review dialog.

==== Single-pane department screen ====

<nowiki>[[File:department-3.0.jpg]]</nowiki>

==== Popularity ====

==== Purchasing software ====

==== History section ====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-history-of-packaging-transactions|foundations-lucid-software-center-history-of-packaging-transactions]]</nowiki> 1 of 1]

The “History” section should display all installations and removals, in reverse chronological order.

<nowiki>[[File:history.jpg]]</nowiki>

Below the navigation bar, a '''filter bar''' should have items for “All Changes”, “All Installations”, “Purchases”, and “Removals”.

==== Copying installations across computers ====

[implementation: contact DidierRoche]

''see'' OneConf

==== “Where Is It?” button ====

{| class="wikitable"
|-
| <style="background:orange">GTK/Clutter hackers
|}

In the screen for a graphical application in the “Installed Software” section, there should be a “Where Is It?” button. Clicking the button should:
# over two seconds, draw a ring around the menu (''e.g.'' “Applications”) in which the application resides
# wait for you to open the menu
# instantly remove the previous ring
# over two seconds, draw a ring around the application, or around the submenu that contains the application
# wait for you to select the item or open the submenu
# instantly remove the previous ring, ''etc''.

At any time, focusing another window or pressing any key should cancel the process and make any ring disappear.

As a less sophisticated solution, the menus and items should — for a few seconds — slowly throb in a different color.

==== Announcing newly-installed applications ====

==== Dragging installed applications from USC to a launcher ====

=== Features you can implement ===

These are mini-specifications for new features and other changes that anyone is welcome to implement for the Ubuntu Software Center. Some are more important than others; some are more difficult than others. If you would like to implement any of them, please do so <nowiki>[[https://code.launchpad.net/software-center|in a branch]]</nowiki> and propose it for merging. Thanks! (Once a feature is implemented, the mini-specification here will similarly be merged into the main specification.)

==== Minimum pane sizes ====

The minimum width of the navigation pane should be just enough to display the icons of the top-level sections listed within it. ''How much is this, exactly?''

The minimum width of the main pane should be 8 em.

==== Auto-sizing the navigation pane ====

Double-clicking the splitter between the navigation pane and the main pane should move it so that the navigation pane is exactly wide enough to fit the widest text currently being displayed in it.

==== Smarter ellipsis of software list view items ====

In a <nowiki>[[#software-list-view|software list view]]</nowiki>, if the secondary text is wider than the space available, it should be ellipsized in the middle, not the trailing end (because unique parts of package names are often at the trailing end).

==== Copying software list view items to the clipboard ====

Whenever an item in a <nowiki>[[#software-list-view|software list view]]</nowiki> is selected, “Edit” > “Copy” should be sensitive. Choosing it should copy to the clipboard the item’s <nowiki>[[#software-title|title]]</nowiki> and <nowiki>[[#software-summary|summary]]</nowiki> as plain text separated by one line break. If the item has a custom icon, it should also be copied as both a bitmap and as a vector image if available.

==== Copying software item text to the clipboard ====

Whenever text is selected in a <nowiki>[[#software-item-screen|software item screen]]</nowiki>, “Edit” > “Copy” should be sensitive. Choosing it should copy the selected text to the clipboard.

==== Back and Forward menu items and keyboard equivalents ====

There should be Back and Forward actions, which the Back and Forward buttons (when present) should be linked to. All references in the specification to the Back and Forward buttons being sensitive or insensitive should be changed to refer to the actions in general.

The “View” menu should contain, at its end, a separator and two items:
<pre>
---------------
  Go Back    [
  Go Forward ]
</pre>

“Go Back” and the [ key should be linked with the Back action, while “Go Forward” and the ] key should be linked with the Forward action.

==== Add-on packages ====

{| class="wikitable"
|-
| <tablestyle="float: right; margin: 0 0 1em 1em;" style="border: none;"><nowiki>[[File:add-ons.jpg]]</nowiki>
|}

First: Package ''A'' should be treated as a '''recommended add-on''' of package ''X'' if either of these are true:
* ''X'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Recommends]]</nowiki> ''A''
* ''X'' is the only known package that Depends (directly or indirectly) on some other package ''Y'', and ''Y'' Recommends ''A''.

Package ''A'' should be treated as a '''suggested add-on''' of package ''X'' if any of these are true:
* ''X'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Suggests]]</nowiki> ''A''
* ''X'' is the only known package that Depends (directly or indirectly) on some other package ''Y'', and ''Y'' Suggests ''A''
* ''A'' <nowiki>[[http://www.debian.org/doc/debian-policy/ch-relationships.html#s-binarydeps|Enhances]]</nowiki> ''X''
* ''A'' Enhances some other package ''Y'', where ''X'' is the only known package that Depends (directly or indirectly) on ''Y''.

''What about where X depends on a virtual package that A1 or A2 provide? Perhaps show a menu of the options? This applies not just to add-ons but to dependencies too. Also consider the possibility that installing A1 requires uninstalling something else, while installing A2 does not…''

Next: If a software item has any add-ons, it should have an add-ons section in the place specified in its <nowiki>[[#get-software-item|“Get Software” item screen]]</nowiki> or <nowiki>[[#installed-software-item|“Installed Software” item screen]]</nowiki>. If the item is not installed already, the section should have the heading “Choose add-ons”; if it is installed already, the heading should be “Change add-ons”.

The list of add-ons for the item should be presented as a series of checkboxes. The label for each checkbox should be a text-sized version of the add-on’s <nowiki>[[#software-icon|icon]]</nowiki>, followed by its <nowiki>[[#software-title|title]]</nowiki>. Recommended add-ons should be listed first <nowiki>[[#def-alphabetically|alphabetically]]</nowiki>, then suggested add-ons alphabetically.

If the main package is not installed already, the checkboxes for recommended add-ons should be checked by default, while the checkboxes for suggested add-ons should be unchecked by default. If the main package ''is'' installed already, the checkboxes for add-ons that are currently installed should be checked by default, while those that are not should be unchecked by default.

The “Total size:” text should update immediately whenever checking or unchecking a checkbox. For an item that is already installed, whenever the current state of the checkboxes is different from the installed state of the add-ons, the text should change from Total size: {amount} on disk ({amount} available)”:
* if the changes involve downloading any new packages, “Total size: {amount} to download, {amount} when changes are applied ({amount} available)”
* otherwise, “{amount} when changes are applied ({amount} available)”.

If the main package is already installed, the “Total size” text should be followed by an action bar with “Cancel” and “Apply Changes” buttons. Both buttons should be sensitive only when the current state of the checkboxes is different from the installed state of the add-ons themselves. Activating “Apply Changes” should install and/or remove the add-ons as specified.

In <nowiki>[[#in-progress|the “In Progress” section]]</nowiki>, when installing an item, installing any of its add-ons should be presented as part of the same task. But changing add-ons for an installed item should be presented as a separate task for each add-on.

Next: Throughout the “Get Software” section, whenever the selected item in a <nowiki>[[#software-list-view|software list view]]</nowiki> is an item that has add-ons, it should have a button to the left of the “Install” button: “Choose Add-Ons…” if the item is not yet installed, or “Change Add-Ons…” if it is. (The button should not have an access key, because that would interfere with typing letters to navigate the list.) The purpose of this button is to alert users that there are options they might want to consider before choosing to install the item. Activating the button should navigate to the relevant software item screen ''and'' scroll to its add-ons section.

==== Launching and navigating from apt: links ====

[``<nowiki>[[https://blueprints.launchpad.net/ubuntu/+spec/foundations-lucid-software-center-ui-improvements|foundations-lucid-software-center-ui-improvements]]</nowiki> 7 of 7]

Opening an `apt:` URL should launch the Ubuntu Software Center directly to the appropriate screen; or if it is already open, focus it, wait until any currently-open <nowiki>[[#def-alert|alerts]]</nowiki> or <nowiki>[[#def-dialog|dialogs]]</nowiki> have been dismissed, and then switch to the appropriate screen. What that “appropriate screen” is depends on the URL and installation status, as follows.

===== apt:package-name =====

* If the package is known and currently installed, the <nowiki>[[#installed-software-item|“Installed Software” item screen]]</nowiki> for the package.

* If the package is known and not currently installed (even if it is currently ''being'' installed), the <nowiki>[[#get-software-item|“Get Software” item screen]]</nowiki> for the package. '''Test case:''' Follow the link <nowiki>[[http://apt.ubuntu.com/p/python-wxtools|apt:python-wxtools]]</nowiki>; it should show the item screen for “Get Software” > “System” > “python-wxtools”.

* If the package is not known, an ephemeral error screen in the “Get Software” section, with the path button “Get Software” > “{package name}”. It should be possible to return to this screen later in the <nowiki>[[#get-software-navigation|navigation history]]</nowiki>, but it should not be possible to navigate to it directly.

 <nowiki>[[File:apturl-unknown-package.jpg]]</nowiki>

===== apt:package-name?minver=1.0 =====

* If the package is known:

  1. If any version of the package is currently installed, the <nowiki>[[#installed-software-item|“Installed Software” item screen]]</nowiki> for the package. Otherwise, the <nowiki>[[#get-software-item|“Get Software” item screen]]</nowiki> for the package.
  
  2. Either way, if a version late enough is not available, an extra banner at the top of the item screen, immediately under the summary: “Version {minver} or later is not available from your current software sources.”

  <nowiki>[[File:apturl-version-unavailable.jpg]]</nowiki>

* If the package is not known, the same ephemeral error screen as used for `apt:unknown-package-name`.

===== apt:package1,package2,… =====

* A <nowiki>[[#custom-list|custom package list]]</nowiki> for the package names (including the comma-separated names in the <nowiki>[[#search-field|search field]]</nowiki>).

===== apt:package-name?section=multiverse =====

* If the package is known and currently installed, the <nowiki>[[#installed-software-item|“Installed Software” item screen]]</nowiki> for the version of the package that is installed.

* If the package is known and not currently installed (even if it is currently ''being'' installed):

** If the section is not currently enabled, a screen inviting you to enable it. This screen should have the path button “Get Software” > “{package name}”, the heading “{package name}”, the text ‘This software is available from the “{source}” source, which you are not currently using.’, and a button “Use This Source”. Activating the button should add the source.

  <nowiki>[[File:apturl-channel-invitation.jpg]]</nowiki>

** If/when the section is enabled, the <nowiki>[[#get-software-item|“Get Software” item screen]]</nowiki> for the package.

* If the package is not known, the same ephemeral error screen as used for `apt:unknown-package-name`.

===== apt:package-name?channel=lucid-partner =====

Exactly the same appearance and behavior as for `apt:package-name?section=multiverse`, but enabling a whitelisted repository as listed in `/usr/share/app-install/channels/`, rather than a section.

===== Replacing apturl =====

When this feature is fully implemented, the `software-center` package should be marked as `Replaces: apturl`.

==== Date installed ====

<nowiki>[[File:installed-software-item-with-date.jpg]]</nowiki>

In <nowiki>[[#software-item-screen|the software item screen]]</nowiki> for an item that is installed, instead of just saying “Installed”, the bar containing the “Remove” button should say “Installed {date}”, ''e.g.'' “Installed 2008-10-04”.

==== Cancel bar in “In Progress” screen ====

At the bottom of the “In Progress” section should be a panel of the same general appearance as the <nowiki>[[#location-bar|location bar]]</nowiki>, but containing only a “Cancel All” button.

The “Cancel All” button should be sensitive only when any items have not yet started or are still downloading.

If you try to close the Center while an item is installing or being removed, as soon as the Center switches to displaying the “In Progress” section, at the left end of the panel containing the “Cancel All” button, this text should be displayed: “The Center will close when these tasks finish.” (The “Cancel All” button should retain its usual sensitivity and effect.)

Maybe a “Pause” button would be even more useful in this bar.

==== More informative text for waiting tasks ====

When you request to install an item and it is waiting for other tasks in <nowiki>[[#in-progress|the “In Progress” queue]]</nowiki>, its status text should be “Waiting to install”.

When you request to remove an item and it is waiting for other tasks in <nowiki>[[#in-progress|the “In Progress” queue]]</nowiki>, its status text should be “Waiting to remove”.

==== Copying a Web link for an “In Progress” package ====

Whenever an item is selected in <nowiki>[[#in-progress|the “In Progress” section]]</nowiki>, “Edit” > “Copy Web Link” should be sensitive. Choosing it should <nowiki>[[#web-link-package|copy a Web link for the selected package]]</nowiki>.

==== Animation of the main pane ====

{| class="wikitable"
|-
| <style="background:orange">GTK/Clutter hackers
|}

Whenever you navigate from within the lobby screen to a department screen, over 0.5 seconds the left and right halves of the lobby screen should split in two halves sliding out of the pane to the left and right — like a pair of lift/elevator doors opening — to reveal the department screen underneath.

<nowiki>[[File:lobby-animation.jpg]]</nowiki>

When navigating from a department screen back to the lobby screen, the reverse should happen: over 0.5 seconds, the left and right halves of the lobby screen should slide in from their respective sides of the main pane, eventually covering the department screen.

{| class="wikitable"
|-
| <style="background:orange">GTK/Clutter hackers
|}

Whenever you navigate from within a department screen to a software item screen, over 0.5 seconds, the icon of that package that was visible in the department screen should simultaneously zoom and move linearly to become the icon of the software item visible in the software item screen. At the same time, the rest of the contents of the department screen should linearly crossfade into the rest of the contents of the software item screen. Both of these effects should also happen when navigating the reverse direction, from the package screen back to the department screen.

=== Roadmap ===

==== October 2009 ====

In Ubuntu 9.10, we shipped Ubuntu Software Center 1.0. This includes:
* A graphical main entrance, that invites searching or browsing software by category.
* Fast search.
* Attractive, informative, and easy-to-understand presentation of individual applications within the interface.
* The ability to continue browsing available software, and queue up installation/removal tasks, while other changes are being made.
* Better security than Add/Remove Applications (''i.e.'' use of Policy``Kit instead of `gksudo`).
* A redirector Web service (''e.g.'' redirecting from `http://apt.ubuntu.com/p/package-name` to `apt:package-name`), to better cater for forums and other CMSes that do not allow direct `apt:` links.

==== April 2010 ====

For Ubuntu 10.04 LTS, we plan to:
* Present non-application packages in an understandable way.
* Helpfully subcategorize applications such as games, and also categorize non-application packages such as programming utilities, fonts, database software, and screensavers.
* Improve apt.ubuntu.com so that it handles more browsers, and more usefully caters for people who are not running Ubuntu when they follow the link.

==== October 2010 ====

For Ubuntu 10.10, we plan to:
* Let you rate and review packages from within the Center, and see ratings and reviews submitted by other Ubuntu users.
* Interactively demonstrate how to launch the software you’ve just installed.
* Provide the ability to purchase software from within the Center.
* Make Ubuntu Software Center a viable alternative to Synaptic, allowing the same fine-grained package control and handling of error cases.
** Establish and convey a trust level for software in PPAs, and let you easily add PPAs within the Center.

==== April 2011 ====

For Ubuntu 11.04, we plan to:
* Improve sharing and tracking of software within the Center. For example:
** Overviews of installed software by license, cost, or maintenance timetable.
** Discovering software by what your friends have installed.
** Downloading a package once for installing on many computers.
** Incorporating <nowiki>[[http://aptoncd.sourceforge.net/|AptOnCD]]</nowiki>.
** A visible history of past installations/removals/purchases, including the ability to undo specific changes.
* Investigate and, if appropriate, implement specialized interfaces for browsing and installing particular classes of package (fonts, screensavers, ''etc'').

=== Eventual scope ===

This is a tentative mockup of version 4:<<BR>>
<nowiki>[[File:future-lobby.jpg]]</nowiki>

And this is a laundry list of desired features, for the purpose of designing an interface for version 2.0 that will scale to include those features later. It is ''not'' a list of features scheduled for 2.0.

You should be able to:

* find software by: [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18315/|idea 18315]]</nowiki>``]
** name
** purpose (''e.g.'' “wireframe” → Dia)
** category and subcategory (''e.g.'' Games: Card Games) [``<nowiki>[[http://brainstorm.ubuntu.com/idea/14857/|idea 14857]]</nowiki>``]
** name of competitor (''e.g.'' “excel” → Open``Office.org Spreadsheet, Gnumeric, KSpread)
** misspelling (''e.g.'' “pigeon” → Pidgin)
** needed right now (by MIME type, codec, font, etc)
** vendor?
** class (debug vs. non-debug, applications vs. not [``<nowiki>[[http://brainstorm.ubuntu.com/idea/3144/|idea 3144]]</nowiki>``], etc)
** recommendation [Andrew Sayers]
** alternatives to programs you used in Windows (via Migration Assistant)
** software to make use of your custom hardware
** results previously returned by `command-not-found`
** habit (people who installed X also installed Y) (<nowiki>[[http://www.enricozini.org/2006/debtags/debtags-interesting-times/|suggested by Enrico Zini]]</nowiki>)
** suite (software for Java developers, software for film makers)
** what’s new [``<nowiki>[[http://brainstorm.ubuntu.com/idea/13762/|idea 13762]]</nowiki>``]
** whether it was recently installed or removed [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16953/|idea 16953]]</nowiki>``]

* find software sources (Launchpad PPAs)
** and know how trusted each PPA is

* get information about software
** what it does
** what people think of it (ratings and reviews) [UserReviewsInSynaptic] [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18729/|idea 18729]]</nowiki>``]
** what it looks like (screenshots or short videos) [``<nowiki>[[http://brainstorm.ubuntu.com/idea/15774/|idea 15774]]</nowiki>``]
** what the current version number is [``<nowiki>[[http://brainstorm.ubuntu.com/idea/13036/|idea 13036]]</nowiki>``]
** whether it is installed by default in Ubuntu
** whether it’s installed right now [``<nowiki>[[http://brainstorm.ubuntu.com/idea/19068/|idea 19068]]</nowiki>``]
** if it’s installed, how to launch it [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16216/|idea 16216]]</nowiki>``]
** if it’s not installed, how much there is to download, including dependencies [``<nowiki>[[http://brainstorm.ubuntu.com/idea/4613/|idea 4613]]</nowiki>``]
** whether it’s localized into your native language
** what it costs
** what its license is
** who provides updates for it, and for how long
** who provides tech support for it, and for how long
** how many of your friends have it installed already
** whether you have it installed already (and if so, how to find it)
** … all in your native language

* install software
** purchasing commercial software [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18538/|idea 18538]]</nowiki>``]
** quickly
** unpack — and maybe even install — downloaded packages while downloading the rest
** download a package only once when installing it over a LAN [``<nowiki>[[http://brainstorm.ubuntu.com/idea/19265/|idea 19265]]</nowiki>``]
** asynchronously (browse and select more stuff while other stuff is installing)
** pausing if you need to use your bandwidth for something else [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16643/|idea 16643]]</nowiki>``]
** downloading it once for multiple computers (subsuming APTonCD)
** read about updates while they are installing
** using Policy``Kit to install/uninstall/etc, but not needing authorization to update package lists

* get an overview of installed software
** how much is maintained for how long
** how much receives tech support from whom, and for how long
** how much is under which license
** even applications you installed from a .deb or compiled yourself [``<nowiki>[[http://brainstorm.ubuntu.com/idea/18408/|idea 18408]]</nowiki>``]

* upgrade to the next version of Ubuntu
** know why you should upgrade
** without breaking PPAs
** insert an Ubuntu CD in Ubuntu and get an understandable result

=== User stories ===

* Joel wants to install Skype. He goes to <nowiki>[[http://skype.com/|skype.com]]</nowiki>, finds the "Download for Ubuntu" button, and clicks it. He doesn't know what a “package” is, let alone a “.deb” or a “repository”.

* Melatie runs an accounting business that is far too small to have its own IT manager. She has a support contract for the Ubuntu software on the office PCs, and she knows that this doesn’t cover all the available software, so she wants to keep track of exactly what software is installed that isn’t covered.

* Ladina works as a developer at a molecular biology lab where she is not a sysadmin. She is having a bit of trouble with Biopython, and wants an easy way of seeing which version of `python-biopython` is installed and where its files are.

=== Similar efforts ===

* <nowiki>[[https://launchpad.net/mintinstall|mintInstall]]</nowiki>
* <nowiki>[[http://www.getdeb.net|GetDeb.net]]</nowiki>
* <nowiki>[[http://appnr.com/|Appnr]]</nowiki>
* <nowiki>[[http://allmyapps.com/|AllMyApps]]</nowiki>
* <nowiki>[[http://www.playdeb.net|PlayDeb.net]]</nowiki>
* <nowiki>[[http://apperi.com/|Apperi]]</nowiki>
* <nowiki>[[http://appbodega.com/|Bodega]]</nowiki>
* <nowiki>[[http://listaller.nlinux.org/|Listaller]]</nowiki>
* <nowiki>[[http://ubuntu-tweak.com/|Ubuntu Tweak]]</nowiki>
* <nowiki>[[http://en.djl-linux.org/?q=node/18|djl]]</nowiki> (games only)
* <nowiki>[[http://en.opensuse.org/GameStore|Game Store]]</nowiki> (games only)
* <nowiki>[[http://www.intel.com/consumer/products/appup.htm|Intel® AppUp℠ Center]]</nowiki>

=== Yet-to-be-specified features ===

* “Featured this week” area in lobby screen
* codec search
* font search [``<nowiki>[[http://brainstorm.ubuntu.com/idea/15333/|idea 15333]]</nowiki>``]
* scope control for search (All / Name / Description / Package Codename / Alternatives)

==== Launching via inserting an Ubuntu CD ====

The Center needs to be able to tell whether a CD containing packages is:
* for a previous version of Ubuntu
* for the same version of Ubuntu
* for a future version of Ubuntu
* for a different OS altogether.

You should also be able to eject the CD from the navigation pane, just as you can eject a music CD from Rhythmbox’s side pane.

==== Launching via .deb package (replacing gdebi) ====

==== Launching via file of unknown type ====

The Center needs to be able to display applications that handle a particular filetype, ''i.e.'' an equivalent to `gnome-app-install --mime-type text/html`. (Maybe distinguish between file viewers and editors?)

Nautilus then needs to be able to launch the Center to this search.

==== Subcategories ====

* <nowiki>[[http://lists.debian.org/debian-devel/2009/02/msg00942.html|debtags for package categorization]]</nowiki>
* http://www.enricozini.org/2007/debtags/package-managers.html
* http://debtags.alioth.debian.org/ssearch.html

==== Wine integration ====

* If you have Wine installed and some apps that you've installed manually (through installer files or CDs), there could be a separate department for “Installed Windows Programs”. However, it’s important to communicate that Windows programs are installed just for you, whereas all the other programs are installed for everyone on the system.
** This could also apply to other applications installed only for you. http://brainstorm.ubuntu.com/idea/6816/
** Alternatively, the Center could also install wine programs globally to avoid installing the same programs locally multiple times
*** Wine doesn't yet support system-wide installation or multiple users using the same apps simultaneously, however.
* Individual Windows apps offered through the Center itself could be packaged to support multi-user setup.  Scott Ritchie's presentation at UDS-karmic shows how this can be done fairly simply, however it has to be done for Windows apps individually: http://yokozar.org/blog/archives/138
** Such packaging of an app could go alongside a testing process to make sure the app worked well in the version of Wine we ship.

==== License information ====

* http://wiki.debian.org/Proposals/CopyrightFormat

==== Developer tools ====

* For a particular package, show which packages are required for development or debugging of that package.
* Maybe treat `-dev` packages specially?

==== Eliminating the “{title} can’t be installed at the moment” alert ====

Instead of an impossible installation causing an alert saying “Sorry, {title}” can’t be installed at the moment. Try again in a day or two.”, the task should show its error status inline in the “In Progress” section somehow, and sit there across Center launches until you retry it or cancel it. The “In Progress” arrows would need to stop spinning for cases like this, because nothing is actually happening.

=== Unresolved issues ===

* Popularity measurements are skewed by default installs. [``<nowiki>[[http://brainstorm.ubuntu.com/idea/16411/|Idea #16411: Do not rate the popularity of default apps]]</nowiki>``]
* Need to define keyboard navigation order.
* How to expose the package names in application lists, for those people who want to see them? Perhaps an off-by-default column in the listing.
* What the Center should do differently when it is running in a live CD session.
* What if the dependencies of something you choose to install conflict with the dependencies of something already waiting in the queue?
* How should we present items that Recommend (but do not Depend on) an item that you are about to remove?
* How should we present items that Recommend (but do not Depend on) an item that is about to be removed because of an item you are about to install?
* How will we extract icons, human-friendly application names, summaries, categories, and screenshots for applications in PPAs and other third-party repositories, since they won't be covered by `app-install-data`?
* How to prioritize toolkits?
** For applications that have both GTK and Qt versions (''e.g.'' GDebi, Jockey, Qalculate), we should display the GTK+ version more prominently than the Qt version.
** To manage expectations, perhaps an application that uses a strange toolkit (''e.g.'' Tk, Gnustep) should be indicated with some sort of warning that it will behave differently from most Ubuntu applications.
* Handling broken packages.
* Handling packages with recommended add-ons that aren’t installed. [Seeker]
* We need keyboard equivalents for the common functions. This might include key combos for various sections (''e.g.'' a key combo for “Get Software”). [Jorge Castro]
* When a PPA maintainer changes the label of the PPA, when will USC update it?

=== Unsorted ideas ===

* make clear which packages are currently subject to CVE vulnerabilities
* ensure double-clicking on a downloade .deb or .rpm gives an explanation that every user can understand. Perhaps also show an apt: -link as a suggestion for the better way of installing said package? 
* <nowiki>[[http://www.linuxfoundation.org/en/OpenPrinting/Database/DriverPackages|OpenPrinting]]</nowiki>: “To make installing printer drivers not provided by the Linux distributions easier for users, and to make providing printer drivers easier for the printer manufacturers, we have introduced a new concept of distribution-independent printer driver packages.”
* While installing, the window should be reducible (or perhaps reduce by default) to show only install progress.
* Make installation asyncronous (background process) and allow user to continue browsing the Software Center meanwhile
* Replace the “These items must be removed as well” alert with a box embedded in the package screen when you click “Remove”?
* “Also a ''permalink'' on the description page, would be pretty nice. You want to suggest a package to someone? You just have to copy paste the (apt url) application link into your IM or blog post.” [``<nowiki>[[http://www.stefanoforenza.com/ubuntu-appstore-in-the-workings/|Stefano Forenza]]</nowiki>``]
* DONE: <nowiki>[[http://brainstorm.ubuntu.com/idea/19653/|idea 19653]]</nowiki>: “Most users switching over from Windows associate "Add/Remove" only with removing software, and believe that new software needs to be purchased at a retailer ...”   -- Covered by renaming from "Add/Remove" to "Ubuntu Software Center".
* <nowiki>[[http://brainstorm.ubuntu.com/idea/19653/|Idea #19882]]</nowiki>: Problem With Restricted Software Installation Warning
* <nowiki>[[http://brainstorm.ubuntu.com/idea/17929/|Idea #17929: Its hard to know what are you installing]]</nowiki>
* <nowiki>[[http://brainstorm.ubuntu.com/idea/14025/|Idea #14025: Better distinction between installed/uninstalled apps in Add/Remove Applications]]</nowiki>
* <nowiki>[[http://doctormo.wordpress.com/2009/06/01/ubuntu-apt-url-and-the-white-list/|Martin Owens: apt-url and the whitelist]]</nowiki>
* “Foo``Bar is not available for this version of Ubuntu, but it is available for version X.Y…”
* <nowiki>[[http://wiki.debian.org/I18n/SmithReviewProject|Smith Review Project]]</nowiki>: making package descriptions and debconf questions human-readable
* Maybe the Firefox start page could contain an "Ubuntu software" link, that opens the Store, alongside its "Ubuntu help" link? [Vincenzo Ciancia]

* <nowiki>[[http://brainstorm.ubuntu.com/add-remove-dialog/most_popular_ever|Ubuntu Brainstorm: Most popular ideas for Add/Remove]]</nowiki>
* <nowiki>[[http://brainstorm.ubuntu.com/synaptic/most_popular_ever/|Ubuntu Brainstorm: Most popular ideas for Synaptic]]</nowiki>
* SummerOfUsability  mockup design iterations by MonicaMaceli
* Installing software locally when the user doesn't have administrator rights.
* http://www.anandtech.com/systems/showdoc.aspx?i=3616&p=9
* If the user does not have admin rights then the program would offer to queue the program for the system admin. This is very useful when the user can just say check your install queue instead of remembering the exact packages that he needed. Especially when he is just clicking a link on the internet. Could also be useful for parents.

* Multi-level undo.
* Updates are aggregated by source package, with packages hidden inside an expander.
* Recommendations and suggestions are shown as children of an item in the list (recommendations selected by default, suggestions not).

* ''Incorporate PackageMaintainednessPresentation, including its “Future work”''
 <nowiki>[[File:maintenance-graph.jpg]]</nowiki>
* Add a “Date Installed” column to the “Installed Software” section.
* Handle the “Extends” field for packages.
* Provide an easy mechanism for applications such as Inkscape to select and install plug-ins.
* When search field becomes non-empty, switch to results view immediately, perhaps with spinner until first results arrive. [Stuart Langridge]
* Need to define the exact behavior when waiting for other package managers to quit.
* Provide an optional "Donate" button for projects that need donations to keep going. The button could open up the donate page on their website. Or if non-free (as in beer) software is sold through the software store then the money could go through the site ... (The need was talked about in <nowiki>[[http://twit.tv/floss86|FLOSS Weekly 86 - Ardour]]</nowiki>). <nowiki>[[http://brainstorm.ubuntu.com/idea/21212|Donate button in Software Store in Ubuntu Brainstorm]]</nowiki>.
** Alternatively provide a way of a project displaying a web page instead of the package description. This allows the project to collect revenue via adverts, subscription or donation. It puts the handling of revenue into the hands of the project. If the web page data isn't available then it could revert by default back to the package description. This could also be a preference option.
* Drag installed applications to `gnome-panel` or other launchers.
* Saved searches (with an emblem if they contain new stuff since you last looked at them)
* Add `apt:` URL syntaxes for:
** department pages
** search results.
* Prioritize reviews from your contacts. [Matt Griffin]
* Accessible names for other items that have no explicit label.
* How can we integrate cross-platform add-on repositories, e.g. <nowiki>[[https://addons.mozilla.org/en-US/firefox/|Firefox add-ons]]</nowiki>, <nowiki>[[http://pkg-ruby-extras.alioth.debian.org/rubygems.html|Ruby Gems]]</nowiki>, <nowiki>[[http://www.cpan.org/|CPAN]]</nowiki>, <nowiki>[[http://ctan.org/|CTAN]]</nowiki>, <nowiki>[[http://cran.r-project.org/|CRAN]]</nowiki>, <nowiki>[[http://cean.process-one.net/|CEAN]]</nowiki>?
* Log searches so that we can tweak metadata to suit them. [Randy Linnell]

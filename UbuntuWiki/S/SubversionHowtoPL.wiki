{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

=== Słowo wstępu ===

SVN jest systemem zarządzania kodem źródłowym programów lub treścią 
dokumentów. W odróżnieniu od popularnego CVS-a, Subversion
stosuje inną metodę pracy z plikami. W CSV, aby edytować
plik, należy go zablokować, uniemożliwiając pracę nad nim
innym osobom. Problem jest wtedy, gdy wypożyczający jest
leniem lub osobą niekompetentną i przetrzymuje witalny plik
w swoich zasobach za długo. SVN pozwala na edycję jednego
pliku przez więcej osób, przy czym zmiany, jeśli nastąpiły
w innych miejscach, zostaną automatycznie połączone.
Zmiany, które będą w konflikcie z inną wersją spowodują
utworzenie dwu wersji plików i pozwolą na manualne
połączenie zmian naniesionych przez użytkowników.

=== Czego potrzebuję do dalszej zabawy? ===

Jeżeli używasz Linuksa, wystarczy użyć pakietu
dostępnego dla Twojego systemu. Na systemach o korzeniach
"Debianowych" starczy:
	               
apt-get install subversion

Ponadto dostępne są graficzne nakładki ułatwiające
przeglądanie repozytorium - rapidsvn (interfejs GTK1)
oraz esvn (QT). Instalujemy je podobnie jak subversion,
pod warunkiem, że dodaliśmy do repozytorium pakietów
sekcję universe.

Z klientów dostępnych dla Win32 polecałbym TortoiseSVN,
który bardzo przyjemnie integruje się z powłoką systemu.

=== Ściąganie danych ===

Po zainstalowaniu pakietu dobrze jest zrobić sobie
jakieś miejsce na dysku, gdzie nasze projekty będą trzymane
w odosobnieniu. Ja mam katalog projekty/ we własnym katalogu
domowym, wy możecie zrobić, jak wam się żywnie podoba :-)

Przechodzimy do tegoż katalogu i wydajemy następujące
polecenie:

          svn checkout svn://moje.repo

I już po chwili Subversion spróbuje nawiązać kontakt z
serwerem aby pobrać aktualną wersję projektu dostępnego
tamże. (Uwaga: jeżeli repozytorium nie pozwala na anonimowy
dostęp do źródeł, zostaniesz poproszony o podanie loginu i
hasła. SVN zasugeruje za pierwszym razem użycie loginu
identyczny z nazwą Twojego konta. Jeżeli nie jest
to prawda, na pierwsze pytanie o hasło wciśnij enter. Następny
prompt zapyta o nazwę użytkownika) Należy zwrócić uwagę na
następujący fakt: Repozytorium Subversion może zawierać w
głównym katalogu projektu podkatalogi w których znajdują
się odgałęzienia kodu (branches) oraz katalogi zawierające
pewne kompletne części systemu (tags). Główna (robocza)
wersja projektu znajduje się zwykle w katalogu trunk. Jeżeli po
ściągnięciu swojego projektu widzisz, że nie idzie się w
tym wszystkim połapać, wybierz sobie elementy repozytorium
z którymi chcesz pracować, wróć do katalogu projektów,
skasuj cały katalog z repozytorium i wpisz następujące
komendy:

  svn checkout svn://moje.repo/trunk projekt_current
  svn checkout svn://moje.repo/branch/GLversion projekt_GL

Co stworzy nam dwa katalogi w katalogach projektu: jeden,
projekt_current/ zawierający drzewo kodu, nad którym
aktualnie pracujemy (trunk) oraz drugi, zawierający kod w
gałęzi branch/GLversion zawierający czyjeś wariacje nt.
kodu projektu i OpenGL-a.

=== Aktualizacja ===

Aktualizacja. Nic prostszego. Wchodzimy do katalogu
zawierającego drzewo projektu i wpisujemy:

	   svn update

Po czym zostajemy poinformowani o zmianach plików (literki,
które widzicie obok to flagi):

D: Plik został w tej wersji skasowany
A: Ten plik doszedł do projektu
U: Ktoś zmienił zawartość pliku, trzeba pobrać zmiany

Na końcu system obwieści, którą wersję kodu udało mu się
pobrać.

=== Chcę też móc pracować! ===

Jeżeli masz dostęp do procesu tzw. commit (czyli
wprowadzania zmian w projekcie) to od razu czujesz się jak
Pan Świata, pamiętaj jednak, żeby mocy swojej nie
nadużywać. Subversion to taka elektroniczna wersja słonia.
Słonie, jak to się mawia, mają świetną pamięć. Jeżeli
będziesz chciał buraczyć, padniesz. Administrator serwera
Subversion będzie mógł jednym ruchem przywrócić wszystko,
co popsujesz, a drugim pozbawić Cię praw do zapisu. Skoro
możesz pracować z innymi, staraj się być taki, jak w życiu.
Pomagaj, a nie psuj.

Wracając do technikaliów:

Zakładając, że mamy u siebie drzewo z listą przepisów na
ciasto z morelami, w którym to każdy plik to osobny
przepis. Przeglądając zasoby, stwierdzamy, że ktoś popełnił
błąd i zamiast szklanka mleka, napisał wiaderko. No, taki
błąd może zepsuć smak ciasta. Bez chwili wahania edytujesz
plik, wymieniając te łatwe do pomylenia pojemniki na płyny
i przechodząc do konsoli, wpisujesz.

  svn commit -m 'Ciasto z morelami i pomaranczami:
  zmienilem ilosc potrzebnego mleka z 25 litrow, na pol
  litra'

Po chwili system dogada się z serwerem po czym sprawdzi, jak
się sprawy mają. Rozpoczyna się proces umieszczania Twojego
pliku w bazie zwany transakcją. Plik ze statusem U (czyli w
tym przypadku ciasto_morelowe_z_pomaranczami.txt) zostaje
uzupełniony o Twoje zmiany, a wiadomość, którą dodałeś po
parametrze -m zostaje zapisana jak log zmiany. Po chwili
system powiadomi Cię, którą rewizję bazy przepisów
stworzyłeś. Od tej pory każdy człowiek pracujący z naszą
bazą przepisów zostanie poczęstowany Twoją wersją.

=== Coś jeszcze? ===

"A jak mi wyskoczy coś takiego? Treśc komunikatu" -- no
cóż, to jednak mini-HOWTO. Nie mogę napisać całej
dokumentacji do Subversion, proponuję skonsultować się z
dokumentacją projektu (swoją drogą, dużo lepszą niż to, co
tu napisałem, tyle, że nie w naszym języku), lub zapytać
mnie prywatnie (dane kontaktowe niżej).

"Chcę dostęp do Ubuntu-doc!" -- dostęp read-only jest
anonimowy i nie wymaga hasła. Dostęp z prawem do zapisu
nadaję ja po wysłaniu mi e-mailem nazwy użytkownika i hasła.

"Serwer nie działa" -- może być i tak. Niestety, to moja
domowa maszyna i czasami stoi sobie z przyczyn
następujących: 
  
* mój ISP znów umarł
* wyciągam dyski

Mimo wszystko nie powinno się to przytrafiać tak często.
Staram się, żeby maszyna kręciła się non-stop. W niedalekiej
przyszłości przeniesiemy się na moją maszynę w pracy.

"Chcę zmienić ten dokument" -- przeczytaj "Chcę dostęp do
Ubuntu-doc". :-)

"Jak się z Tobą kontaktować" -- na żywo można mnie łapać
przy użyciu Jabbera: mój jid to opi@chrome.pl. Można do mnie
napisać e-maila na następujący adres: emil maułpa
bronikowski kropka com.

=== Dzięki ===

Shot i Doza. Za korekty. :-*

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

* '''Launchpad Entry''': UbuntuSpec:mobile-lucid-arm-webservice-for-email
* '''Created''': 2009-11-02
* '''Contributors''': AlexanderSack
* '''Packages affected''': thunderbird, evolution, ubuntu-netbook-edition [arm], ubuntu-webmail-wizard

=== Summary ===

This specs defines how web-mail can be integrated on the default UNE install during Lucid cycle. As there is no email solution dominating the market, this specs suggests to implement an on-demand preferred mail chooser wizard that allows users to pick their preferred method of mail communication on first run. Users would be allowed to pick from both, popular webmail solutions as well as supported standalone mail application available in ubuntu archive.

=== Release Notes ===

The UNE image for arm now comes with out-of-the-box webmail integration.

=== Rational ===

On arm we often face performance and memory wise constraints that justifies reviewing applications for use cases supported by Ubuntu ARM live images. Current Email clients were identified to be heavy weight and not fulfilling the use case for many users - those who use webmail properly.

=== Design ===

On first use, user will be presented a dialog to select his preferred email application/webapp. User can choose from prominent "webmail" providers as well as mail applications supported by ubuntu main.

If user selects a webmail provider, mailto: links will in future open in a browser window/tab and direct the user to his webmail compose form. If the user decides to install a standalone mail application, that application will get installed.

=== Implementation ===

==== preferred mail chooser ====
Preferred Mail Application Dialog presents a simple choice offering a set of web-mail providers as well as popular email clients (thunderbird, evolution, kmail) available in ubuntu.

<pre>
|-------------------------------------------------------------------|
|              Select your preferred way for email                  |
|                                                                   |
| [ MAILICON]                                                       |
|                                                                   |
| Web-Accounts:                                                     |
|      [x] [ GMail Icon ]   [ ] [ Yahoo Icon ]   [ ] [ Hotmail ]    |
|            gmail.com       mail.yahoo.com    hotmail.com          |
|                                                                   |
|                                                                   |
| Applications:                                                     |
|       [ ] [ Thunderbird ]              [ ] [ Evolution ]          |
|                                                                   |
|                                                                   |
|                                                       (Close)     |
|-------------------------------------------------------------------|
</pre>

# if the selected application does not yet exist; install it through aptdaemon (on demand)
# if the preferred application selection is changed, update the gnome gconf keys for mailto protocol handler accordingly.

==== on-demand email chooser ====

Not shipping an email application by default comes with some implications: for most we
need to ensure that the user still gets easy access to email from the application menu
(or 2d/3d launcher for UNE). For this the "preferred mail selection dialog" package 
will ship three things:
# the preferred mail selection dialog application alongside a desktop file etc. so it integrates in gnome control center
# default mail .desktop file which is deployed in such a way that it will only show
up in launcher/applications menu if no mail application exists on the system yet. When user clicks on it, it will open the "default mail application" dialog described in the section below.
 1. a mailto: handler that will trigger the "preferred mail application" if the user clicks on a mailto: link for the first time.

==== desktop integration ====

* mailto: protocol handler will be updated based on user choice above; mailto: links will open the webmail or mail applications compose form.
* Adding a proper .desktop file, will ensure that clicking on the EMail icon in launcher/Application menu will open the users preferred browser/mail application. At best that .desktop file would display a branded icon; the branding should reflect the users current preferred mail app/webapp choice or should express the metaphor of on-demand-install.

==== open issues ====
* How to best make the mail applicaiton chooser desktop integration part disappears/gets overwritten by the mail integration chosen by user.
* How to ensure that mail application chooser reappears if user has uninstalled his mail integration feature.

==== Notes ====
* put your comments/ideas notes here ... (state a name etc.)

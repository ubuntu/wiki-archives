{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:mid-display-manager
* '''Created''': 2008-11-21
* '''Contributors''': Emmet Hikory
* '''Packages affected''':

=== Summary ===

The MID environment is currently launched by startx, which misses several components of session startup. Further, there is no means by which a user may create a guest session, or switch to a different username. Using a desktop manager would resolve many of these issues.

=== Release Note ===

Ubuntu MID now supports customisation of usernames, the setting of user passwords, and a better integration with granular system permissioning systems.

=== Rationale ===

For Intrepid, the MID images launched the interface with a call to startx in /etc/event.d/session.  This is fragile, does not integrate well with policykit or consolekit, currently expects hardcoded usernames, and should generally be replaced with something sensible.

=== Use Cases ===

* Alice wishes to use a custom username for Ubuntu MID to better match her other systems.
* Bob wants to set up password protection on his MID, so that if someone turns it on, they are not automatically granted access to his private data.
* Chris starts a session in Ubuntu MID, and expects to have system authentication services available

=== Assumptions ===

* It's easier integrate with policykit, consolekit, user-setup, oem-install, and other tools with a display manager than to extend the startx solution to perform these tasks.

=== Design ===

After discussion, the decision was to keep the startx approach and fix the collateral bugs.

=== Implementation ===

Use the target username instead of hardcoding "ubuntu"; <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/ubuntu-mid-default-settings/+bug/319393|bug #319393]]</nowiki>.

This means changing casper to generate a Xsession.d snippet which uses the proper username, or a /etc/default/ubuntu-mid-default-settings which is sourced to set an $USERNAME.

This also means changing user-setup to seed the target file (either Xsession.d or /etc/default) with the target username selected during install.
* See my comments in the bug above; it would be better to just do it all in casper rather than changing user-setup. --ColinWatson

Extend ck-launch-session to provision X $DISPLAY information instead of stripping XDG_SESSION_COOKIE; <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/consolekit/+bug/319396|bug #319396]]</nowiki>.

=== Test plan ===

Verify that automounting of USB sticks (which is granted by ConsoleKit) works from a live and an installed system.  Check with an installed system using the default ubuntu username, and with another username.

----
CategorySpec

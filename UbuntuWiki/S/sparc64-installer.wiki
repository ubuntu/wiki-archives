{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''Please check the status of this specification in Launchpad before editing it.  If it is Approved, contact the Assignee or another knowledgeable person before making changes.''

* '''Launchpad entry''': <nowiki>[[https://features.launchpad.net/distros/ubuntu/+spec/sparc64-installer|sparc64-installer]]</nowiki>
* '''Packages affected''': network-console, debian-installer, silo-installer, silo, os-prober, sparc-utils, kernel

=== Summary ===

This specs aims to improve installation on headless hardware where console can be utterly slow like on Niagara systems (ANSI color at 9600 bps... welcome back to '90 BBS!), to perform a bit more operations like auto-detecting other operating systems (configure silo to boot them) and set default boot disk to use silo (OBP).

=== Rationale ===

A lot of users have been complaining about the text installer speed on Niagara systems and for very good reasons. While most of them are aware that it is not an installer fault that the hw serial console is capped at 9600, it is still perceived as an installer issue that we need to address also based on the fact that other distros do offer alternative methods for installation.

Our silo-installer doesn't actually set the default boot device in OBP and when installing on a disk that's not the default, the first reboot in the installer will not take the user to Ubuntu.

silo-installer does not configure silo to boot other operating systems yet. This should be addressed since new users might not be familiar with silo.conf and it makes it hard for them to reboot into Solaris.

=== Use cases ===

* Company foo will deploy 200 niagara servers with custom installations where pre-seed will not really fulfill their requirements.
They want to make sure that installing these systems will not take 4 hours each in order to meet customers demands.

* University baz needs to do a very special mass deployment of Ubuntu sparc, but the default OBP setting to boot from disk0 does not fit them. Ubuntu provides the ability to preseed/modify the OBP which enables them to save a lot of manpower.

* Company bar is developing a lot of applications that should work on both Ubuntu and *Solaris. They require dualboot on their machines. Ubuntu provides them with automatic boot loader configuration that will save them time to manually modify silo.conf for each installation.

=== Implementation ===

* Revive network-console code. (2006-12-14 done)

* Promote network-console to main, adding it to the supported seed to avoid bloating CD size for now. If it is determined to be required on sparc CDs, it can additionally be added to the installer seed only for sparc. (2006/12/13 moved to main and on CD)

* Enable network-console after netcfg, only on user request. At present, this would require documenting that users should pass `anna/choose_modules=network-console` on the kernel command line; we will add a preseed alias to simplify this to `modules=network-console`. We will also suggest that users consider `frontend=text`, since cdebconf's text frontend is designed for use on serial consoles. (modules alias done with preseed 1.23)

* Evaluate across the development phase if it is worth making `network-console` the default when we detect that we are installing on a 9600 console.

* Make os-prober understand Solaris. (2006/12/13 - done. Extra bonus feature: os-prober is now capable of parsing silo.conf from other Linux installations)

* Change silo-installer to add other OS entries in silo.conf. (2007/01/08 kernel changes done - userland done)

* Change silo-config to add other OS entries in silo.conf. (not required)

* Change silo-installer to map OBP disks with real disks and call eeprom to set the default boot device. (2007/01/08 kernel changes done - userland done)

* Change sparc-utils to ship eeprom in sparc-utils-udeb. (2006/12/11 - done)

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


----
&#91; <nowiki>[[SwedishTeam-Support-Mobilt_BankID_i_Linux|Mobilt BankID i Linux]]</nowiki> | <nowiki>[[SwedishTeam-Support-E-legitimation|E-legitimation]]</nowiki> | <nowiki>[[https://ubuntu-se.org|Ubuntu Sverige portal]]</nowiki> | <nowiki>[[https://ubuntu-se.org/phpBB3/|Ubuntu Sverige forum]]</nowiki> &#93;
----

== BankID i Linux genom VirtualBox ==

Här förklaras hur du kan få BankID fortsatt tillgängligt i ett fönster på ditt Linuxskrivbord – genom att i !VirtualBox köra något av de proprietära och slutna operativsystem som har Finansiell ID-Tekniks och deras ägares fortsatta stöd också efter att de, med marknadsmonopol på elektronisk legitimation i Sverige till synes nu redan säkrat, valt att avsluta sitt tidigare stöd för det fria och öppna GNU/Linux.

Metoden som sådan diskuteras i trådarna <nowiki>[[https://ubuntu-se.org/phpBB3/viewtopic.php?f=223&t=59008|Alternativ till BankID för Linux]]</nowiki> och <nowiki>[[https://ubuntu-se.org/phpBB3/viewtopic.php?f=223&t=58852|BankID variant -Mobilt BankID i Linuxdator]]</nowiki> – den förbluffande bakgrunden diskuteras i <nowiki>[[https://ubuntu-se.org/phpBB3/viewtopic.php?f=223&t=58799|BankID för Linux slopas]]</nowiki> och <nowiki>[[https://ubuntu-se.org/phpBB3/viewtopic.php?f=223&t=60032|E-legitimationsdagen 2016]]</nowiki> – allt i Ubuntu Sveriges forum. <<BR>>
Se också sidan <nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/E-legitimation|E-legitimation]]</nowiki> för övriga möjligheter.

Förutsättning för denna väg runt problemet är att du inte har en alltför gammal eller svag dator. Processorn måste ha virtualiseringsstöd, och du behöver ha några gigabyte arbetsminne. För lösningen med Remix OS bör du dessutom ha en processor som inte är alltför långsam. (Den bör i synnerhet vara åtminstone tvåkärnig.)

I första hand tittar vi på '''''mobilt'' BankID i Remix OS''', som är ett proprietärt och slutet system byggt på det fria och öppna Android-x86, men som ändå (åtminstone nu) är ''gratis''.

En variant är ''vanligt'', icke-mobilt '''BankID i Windows'''.

I båda fallen utgår vi från en handledning, ''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux|Mobilt BankID i Linux]]</nowiki>'', i hur man tidigare kunde få mobilt BankID att fungera i ''Android-x86'' i !VirtualBox. Så som den är skriven fungerar den visserligen inte längre. Finansiell ID-Teknik har genom att ändra sin Androidapp gjort den obrukbar i såväl Android-x86 som med Googles ''App Runtime for Chrome'' (ARC), en annan tidigare väg att köra mobilt BankID i Linux. Men handledningen bör fortfarande ge en idé om hur man med !VirtualBox skapar och kör virtuella maskiner.

{| class="wikitable"
|-
| <tablestyle="margin: 0 0 1em 0;" style="border-style:none;"><nowiki>[[File:IconsPage/important.png]]</nowiki>
| <style="padding:0.5em; border-style:none; background:#FFFFED;">'''Börja i synnerhet med att läsa de första delavsnitten, 1.1 och 1.2, om virtualiseringsstöd i datorns processor!''' Detta måste finnas och vara aktiverat för att lösningarna här ska fungera.
|}

Om du har frågor om metoderna, eller observationer att dela med dig av, är du välkommen att använda tråden <nowiki>[[https://ubuntu-se.org/phpBB3/viewtopic.php?f=223&t=58852|BankID variant -Mobilt BankID i Linuxdator]]</nowiki> i Ubuntu Sveriges forum.
 <<BR>>

== Flera processorkärnor i en virtuell maskin ==

Till det som sägs i <nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Anpassa_inst.2BAOQ-llningar|delavsnitt 4.2, Anpassa inställningar]]</nowiki> i den gamla handledningen finns ett ytterligare moment, vilket åtminstone vid körning av ''Remix OS'' är av fundamental betydelse:

Bland en virtuell maskins inställningar för ''System'', finns en ''andra'' flik – ''Processor'' –  och under den kan man ställa in hur många processorer den virtuella maskinen ska ha, d.v.s. hur många av de fysiska processorkärnor man har som ska vara tillgängliga för den.

<nowiki>[[File:cpus_too_many.png|Fler processorkärnor än som egentligen finns har ställts in|align="right"]]</nowiki>

'''Förvalt är alltid en enda CPU!''' Men kör man Remix OS i en virtuell maskin med bara en processorkärna blir det, beroende på hur snabb ens dator är, mellan tröttsamt och oanvändbart.

I princip kan man nog lika gärna låta den virtuella maskinen använda alla "fysiska" eller fullständiga processorkärnor man har. Observera dock att moderna processorer ofta innehåller viss kapacitet för varje kärna att hantera två exekveringstrådar, som då också visas som två kärnor. Dessa "falska extrakärnor" kan !VirtualBox ''inte'' på något bra sätt använda för virtuella maskiner.

I exemplet intill har antalet "processorer" (processorkärnor) för den virtuella maskinen satts till samtliga de 8 som deklareras för värdsystemet. Det ger dock ett varningsmeddelande. '''Observera ikonen med varningstriangeln nederst!'''

<nowiki>[[File:cpus_corrected.png|Antalet processorkärnor korrigerat|align="right"]]</nowiki>

Drar man ned processorantalet, ur det rödmarkerade intervallet och till det gröna, försvinner varningen. <<BR>>
Här till höger har reglaget satts i slutet av det gröna intervallet, och siffran 4 visas. Det finns alltså i detta fall fyra riktiga kärnor i processorn.
 <<BR>>
 <<BR>>

== Mobilt BankID i Remix OS ==
<nowiki>[[File:remix128.png|Remix OS|align="right"]]</nowiki>
=== Skapa den virtuella maskinen ===

Följ de inledande avsnitten, 1-5, i handledningen '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux|Mobilt BankID i Linux]]</nowiki>''' men med följande ändringar:
 <<BR>>

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#A.2BANY-vrig_h.2BAOU-rdvara|Delavsnitt 1.3, Övrig hårdvara:]]</nowiki>''' Remix OS kräver mer av hårdvaran än Android-x86 4.4 gjorde:

  <nowiki>[[File:dummy.png||align="right"]]</nowiki>

** '''Processor:''' För att Remix OS ska fungera väl bör du ha en 64-bitsprocessor som är snabbare <<BR>>
  än som var nödvändigt för det tidigare Android-x86 eller för den delen krävs för Windows.

** '''Arbetsminne:''' <nowiki>[[http://www.jide.com/remixos-for-pc|Jide, företaget bakom detta OS]]</nowiki>, ''rekommenderar'' '''2 GB eller 2048 MB arbetsminne''' (RAM).

  . Vi har dock framgångsrikt kunnat köra systemet med hälften av den mängden, '''1024 MB'''. (Handledningens författare lyckades t.o.m. – med bara ¾ GB eller 768 MB arbetsminne åt 32-bitsversionen av Remix OS – genomföra en lyckad inloggning med mobilt BankID, men då gick det mesta mycket långsamt och det var förmodligen på gränsen av vad systemet förmår.) Har du ont om arbetsminne, bör du alltså kunna ge ned till 1024 MB eller så åt ett 32-bits Remix OS, och låta ditt Linux behålla resten.

** '''Hårddisk:''' Räkna med '''mellan 2½ och 3 GB på hårddisken'''.

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Android-x86|Avsnitt 3, Android-x86:]]</nowiki>''' I stället för Android-x86 ska vi alltså hämta '''Remix OS'''. Och för att förenkla installationen laddar vi '''från OSBoxes''' ned ett färdigt system på en virtuell hårddisk – en VDI-fil (''!VirtualBox Disk Image'').

 . Gå alltså till <nowiki>[[http://www.osboxes.org/remix-os/|OSBoxes sida för Remix OS]]</nowiki>, leta upp valet ''!VirtualBox (VDI) 32bit'' – då detta skrivs är ''Remix OS 3.0.101'' senaste stabila version – och klicka på Download. (BankID-versioner 7.4 eller senare fungerar inte i nuvarande 64-bits Remix OS.)

 . VDI-filerna från OSBoxes är packade i <nowiki>[[https://en.wikipedia.org/wiki/7z|7z-arkiv]]</nowiki>, som är ett fritt och öppet filformat, men för vilket stöd inte är förinstallerat i Ubuntu. Installation av det är dock enkel. <<BR>>

  <nowiki>[[File:p7zip_missing.png|Meddelande då p7zip saknas|align="right"]]</nowiki>

** Dubbelklicka bara på 7z-filen. Arkivhanteraren försöker då öppna den, men om du inte tidigare öppnat 7z-filer får du vidstående meddelande:

** Välj i så fall ''Sök kommando'', sedan ''Installera'' (paketet p7zip), samt auktorisera till sist installationen med ditt lösenord.

 . Alternativt kan du installera paketet manuellt med

  <nowiki>[[File:dummy.png||align="right"]]</nowiki>

  . <code>sudo apt-get install p7zip</code> <<BR>>
 <<BR>>

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Skapa_virtuell_maskin|Delavsnitt 4.1, Skapa virtuell maskin:]]</nowiki>''' Skulle du prova 64-bits Remix OS ska du i steg 2 förstås ange Version = "Linux 2.6 / 3.x / 4.x (64-bit)". Men då detta skrivs fungerar alltså nya BankID-versioner inte med 64-bits Remix OS.

 . I steg 3 ska du naturligtvis ge mera minne åt Remix OS, enligt ovan. <<BR>>

 . I steg 4 ska du inte skapa någon ''ny'' virtuell hårddisk, utan använda den du laddade ned från OSBoxes.

  <nowiki>[[File:dummy.png||align="right"]]</nowiki>

  . Även om din virtuella maskin kan använda en VDI-fil var den än finns – även i mappen ` Hämtningar ` om du så vill, dit du förmodligen laddade ned filen från OSBoxes – kan du möjligen vilja placera den i konsekvens med hur data för virtuella maskiner annars brukar ligga.

  . Då du har kommit till hårddiskvalen bör !VirtualBox redan ha skapat en mapp för den virtuella maskin du håller på att sätta upp. Den mappen ska finnas i mappen '''` VirtualBox VMs `''' i din hemkatalog, med det namn du i första steget valde att ge din virtuella maskin.

  . Flytta gärna den VDI-fil du laddat ned, och enligt ovan packat upp, till denna nya mapp för din virtuella maskin. <<BR>>
  (Annars, som sagt, kan du placera VDI-filen var du än själv tycker är bäst.)

 . Bland hårddiskvalen, välj det sista, att använda en existerande virtuell hårddisk. Klicka på knappen längst till höger för en filväljare, navigera till den VDI-fil du har med Remix OS, och välj den.

 <nowiki>[[File:remix_vdi.png|Val av befintlig VDI-fil]]</nowiki>

 . Klicka till sist på ''Create'' (Skapa) för att skapa den virtuella maskinen. <<BR>>
 <<BR>>

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Anpassa_inst.2BAOQ-llningar|Delavsnitt 4.2, Anpassa inställningar:]]</nowiki>''' Detta avsnitt gäller fortfarande, <<BR>>
 men '''du bör ''dessutom'' öka antalet processorer''' för din virtuella maskin enligt <nowiki>[[#cores|ovan]]</nowiki>. <<BR>>
 <<BR>>

* '''Delavsnitt 4.3, Stoppa in installationsskivan:''' Utgår. <<BR>>
 Du har ju en virtuell hårddisk med redan färdiginstallerat Remix OS, så någon installationsskiva behöver du inte.

* '''Avsnitt 6, Installera Android-x86:''' Utgår. <<BR>>
 <<BR>>

Observera att '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Mus_och_tangentbord|avsnitt 5, Mus och tangentbord]]</nowiki>, gäller även för Remix OS''', så läs gärna det! <<BR>>
 <<BR>>

=== Remix OS: Navigering och Konfigurering ===

<nowiki>[[File:remix_start.png|Start av Remix OS|align="right"]]</nowiki>
Den ursprungliga handledningens '''avsnitt 7, ''Konfigurera androiden''''', kan du hoppa över och i stället läsa förklaringarna här nedan.

Då du har skapat den virtuella maskinen och anpassat dess inställningar enligt ovan kan du omgående starta den med den gröna startpilen i !VirtualBox. Alternativt kan du dubbelklicka på din virtuella Remixmaskin.

Efter viss, inte helt oansenlig, laddningstid...

{| class="wikitable"
|-
| <tablestyle="width: 99%;" style="border-style:none; text-align: center;"><nowiki>[[File:remix_loading50.png|Remix OS laddas]]</nowiki>
|}

...kommer du då direkt in i det färdiginstallerade Remix OS.

<nowiki>[[File:remix_running.jpg|Remix OS]]</nowiki>

<nowiki>[[File:remix_settings.png|Inställningar i Remix OS|align="left"]]</nowiki>
'''Inställningar''' kommer du åt genom att dubbelklicka på den grå muttern, <<BR>>
och där finns det en del att ändra:

1. Allra först kan det vara en god idé att ordna med '''två kolumner i inställningsfönstret''', för lite enklare navigering. Fönsterhanteringen i Remix OS v3.0.101 lämnar en del att önska, men gör så här: ❶ Öppna inställningsfönstret, ❷ bredda det, ❸ stäng det, och ❹ öppna det igen. Nu bör du ha två kolumner i fönstret.

1. '''Rulla fönstret''' kan du göra på ettdera av två sätt: Du kan med musen '''dra i fönsterytan'''. Eller du kan använda '''piltangenterna'''. (Någon traditionell rullningslist finns inte, och någon vink om att det finns ytterligare innehåll nedanför det visade får du alltså inte förrän du börjar rulla fönstret.)

1. '''Välja en inställning''' gör du med Enter-tangenten eller genom att klicka på inställningen. <<BR>>
 Gå ur den kan du göra med Esc eller genom att klicka på pilen uppe till vänster. <<BR>>
 Observera att Remix OS tar rätt god tid på sig att verkställa dessa kommandon, så ett visst mått av tålamod är nödvändigt. <<BR>>

1. <nowiki>[[File:remix-settings_language.png|Språkinställningar]]</nowiki> Börja med inställningen ''Personal → Language & input → Language''. Ändra till '''Svenska'''.

1. <nowiki>[[File:remix-settings_language.png|Språkinställningar]]</nowiki> Ändra under ''Språk och inmatning'' även ''Fysiskt tangentbord, AT Translated Set 2 Keyboard'' från ''Standard'' till '''Svenskt - Androids tangentbord'''. (Om du rullar lite bland valen finns ett svenskt tangentbord med en ruta att sätta bock i med ett musklick.)

 <nowiki>[[File:remix_shut-down.png|Mjuk avstängning av Remix OS|align="right"]]</nowiki>

1. <nowiki>[[File:remix-settings_screen.png|Skärminställningar]]</nowiki> Ändra inställningen ''Enhet → Skärm → Viloläge'' till '''Efter att ha varit inaktiv i 30 minuter'''. <<BR>>
 Det val, ''Ingen tidsgräns'', som fanns i Android-x86 v4.4 saknas dessvärre av någon anledning i Remix OS. (Androider, eller Remix OS, som i !VirtualBox går i "viloläge" verkar tyvärr inte kunna väckas upp igen utan omstart av den virtuella maskinen.)

<nowiki>[[File:remix_startmenu.png|Knapp för startmeny|align="left"]]</nowiki>
<nowiki>[[File:remix_power.png|strömbrytarknapp]]</nowiki>  Missa inte heller att du med knappen längst ned till vänster kan kalla upp en "startmeny" med installerade appar samt, längst uppe till höger i denna meny, en "strömbrytarknapp" för mjuk avstängning eller omstart av Remix OS. <<BR>>

=== Google Play och Mobilt BankID ===

Avsnitt 8, ''Mobilt BankID'', i den gamla handledningen fungerar ungefär som tidigare. Men ett moment tillkommer. Innan du med ''Play Butik'' kan ladda ned BankID-appen måste du först installera Play Butik i Remix OS. (Den förinstallerade ''Remix Central'' har inte mycket att bjuda på, åtminstone inte ännu, och definitivt ingen svensk BankID-app.)

<nowiki>[[File:remix_play.png|Play activator|align="right"]]</nowiki>

1. Öppna med knappen nere till vänster startmenyn:       <nowiki>[[File:remix_startmenu.png|Knapp för startmeny]]</nowiki> <<BR>>

1. Välj i startmenyn ''Play activator'', samt bekräfta att du verkligen vill installera Google Play-tjänsterna i Remix OS.

1. När denna installation är färdig, '''starta om Remix OS!''' Se tidigare nämnd knapp  <nowiki>[[File:remix_power.png|strömbrytarknapp]]</nowiki>  i startmenyn. <<BR>>
 (Då författaren av denna handledning slarvade med detta steg fungerade sedan inte nedladdningen av BankID-appen som den skulle.)

1. Nu kan du fortsätta i stort sett enligt '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Mobilt_BankID|avsnitt 8, Mobilt BankID]]</nowiki>''', i den gamla handledningen.

=== Övrigt ===

De avslutande avsnitten, 9 och 10, i den gamla handledningen gäller nog ungefär som tidigare. <<BR>>
 <<BR>>

== Vanligt (icke-mobilt) BankID i Windows ==

<nowiki>[[File:windows128.png|Windows|align="right"]]</nowiki>

Ovan beskriven installation av Remix OS erbjuder nog, då detta skrivs, oftast det minst dåliga sättet att som svensk medborgare med Linux fortsatt ha generellt användbar e-legitimation direkt i datorn. Det är gratis, <<BR>>
kräver fortfarande kanske tredjedelen eller mindre av den plats på hårddisken som en Windowsinstallation gör i !VirtualBox, samt tillåter arbete mot bank/myndighet med webbläsare i den vanliga Linuxmiljön.

För säkerhets skull, därför att Remix OS kräver lite mer av datorn för att fungera väl, och därför att vi vet att många Linuxanvändare i den situation vi har försatts i hur som helst har sett sig nödsakade att köra ''Windows'' i !VirtualBox, <<BR>>
ska vi dock också gå igenom hur sistnämnda alternativ kan se ut.

=== Installationsskiva för Windows ===

Hur du aktiverar ditt Windows går vi inte in på här. (Se allmän information om Windows på annat håll.) Installationsskivan bör du nog för din egen säkerhets skull, om inte annat, hur som helst i första hand ladda ned direkt från källan, Microsoft, hellre än från någon mindre officiell webbplats.

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:46%; background:#FFFFED; margin: 0 0 0 1em;" style="padding:0.5em;">* Var beredd på att !VirtualBox i förråden för äldre Ubuntuversioner nog saknar fullt stöd för nyare Windowsversioner. Det är inget problem om du i stället installerar !VirtualBox direkt från Oracle, men det är något att vara medveten om.<<BR>><<BR>>** VDI-filen för en !VirtualBox-installation av 32-bits Windows kan i själva verket bli betydligt mindre än 16 GB. Mera nedan.
|}

Du kan <nowiki>[[https://www.microsoft.com/sv-se/software-download/|från Microsoft]]</nowiki> ladda ned installationsskivor (ISO-filer) för Windows 10, Windows 8.1 eller Windows 7.*

Systemkraven för dessa tre Windowsversioner påstås vara likvärdiga, d.v.s. de ska inte ha ökat sedan Windows 7. Observera också att kraven för 32-bits Windows är lite lägre än för 64-bits. (32-bits Windows ska klara sig med 1 GB arbetsminne och 16 GB diskutrymme**, medan 64-bits Windows sägs kräva 2 GB arbetsminne och 20 GB diskutrymme.) Om syftet alltså bara är att köra BankID på Linuxskrivbordet kan det vara en god idé att välja 32-bitsversionen.

Om du i en webbläsare i Linux väljer t.ex. Windows 10, kommer du till en sida som ser ut så här:

 . ~+Ladda ned Windows 10-skivavbildning (ISO-fil)+~

 . Du har dirigerats till den här sidan för att operativsystemet du använder stöder inte verktyget för att skapa media för Windows 10, och vi vill säkerställa att du kan ladda ned Windows 10. Om du vill använda verktyget går du till Windows 10-sidan för nedladdning av Microsoft-programvara från en Windows 7-, Windows 8.1- eller Windows 10-enhet.

 . Du kan använda den här sidan för att ladda ned en skivavbildning (ISO-fil) som kan användas för att installera eller installera om Windows 10. Avbildningen kan också användas för att skapa installationsmedia med hjälp av ett USB-minne eller en DVD.

Där får du sedan precisera valet av Windowsversion. N-versionerna av Windows (t.ex. Windows 10 N) är de som kan köpas här i Europa. De skiljer sig från de amerikanska "standardversionerna" (utan N) genom att de låter bli att förinstallera onödigt jox som Skype och Windows Media Player. (Skillnaden beror på EU-beslut.) De grejerna går naturligtvis också att hämta separat från Microsoft.

Då du klickar på Bekräfta får du länkar till en 32-bits och en 64-bits ISO-fil. Ladda ned det du vill ha.

=== Skapa den virtuella maskinen ===

Windows hör, till skillnad från Android-x86 och Remix OS, till de operativsystem som har särskilt stöd i !VirtualBox, vilket gör installation och funktion på flera sätt smidigare.

Följ först de inledande avsnitten, 1-4, i handledningen '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux|Mobilt BankID i Linux]]</nowiki>''' men med följande ändringar:

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#A.2BANY-vrig_h.2BAOU-rdvara|Delavsnitt 1.3, Övrig hårdvara:]]</nowiki>''' Windows kräver mer av hårdvaran än Android-x86 4.4 gjorde.

 . '''För 32-bits Windows krävs 1 GB eller 1024 MB arbetsminne''' (RAM). <<BR>>
 (Vill du köra 64-bits Windows säger Microsoft att du bör dubbla den mängden.)

 . '''Hårddisken:''' Basbehovet för 32-bits Windows är mindre än '''8 GB hårddiskutrymme'''. Var dock beredd på att VDI-filen vid uppdateringar och användning lätt sväller med ett par GB. Du bör alltså ha '''kanske 10 GB eller mer ledigt''' på hårddisken för Windows. (64-bits Windows tar gissningsvis någon eller ett par GB ytterligare.) Se nedan om hur man då och då kan krympa VDI-filen.

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Mjukvara_f.2BAPY-r_.22virtualisering.22_.2BIBM_VirtualBox|Avsnitt 2, Mjukvara för "virtualisering" – VirtualBox:]]</nowiki>''' Här gäller bara tillägget att !VirtualBox i förråden för äldre Ubuntuversioner nog saknar fullt stöd för nyare Windowsversioner. Så med nytt Windows och äldre Ubuntu bör du nog alltid välja !VirtualBox från Oracle.

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Android-x86|Avsnitt 3, Android-x86:]]</nowiki>''' Installationsskivan för '''Windows''' hämtas '''<nowiki>[[https://www.microsoft.com/sv-se/software-download/|från Microsoft]]</nowiki>''' enligt ovan.

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Skapa_virtuell_maskin|Delavsnitt 4.1, Skapa virtuell maskin:]]</nowiki>''' Här ska du naturligtvis välja '''Typ = "Microsoft Windows"''', och '''Version = "Windows 10 (32-bit)"''', om det var den versionen du laddade ned. Välj i annat fall en version som stämmer med den installationsskiva du har.

 . Arbetsminnet bör, som sagt, vara 1 GB (1024 MB) för 32-bits Windows, 2 GB (2048 MB) för 64-bits.

 . 32-bits Windows sägs klara sig med '''16 GB hårddisk'''. (64-bits Windows kräver 20 GB hårddisk.) Vill du vara på den säkra sidan kan du göra den virtuella hårddisken några GB större. Eftersom den allokeras dynamiskt kostar det knappast mycket extra om det finns oanvänt utrymme på den.

* '''Delavsnitt 4.2, Anpassa inställningar:''' Detta avsnitt bör du kunna hoppa över helt. Då !VirtualBox, som sagt, särskilt stöder Windows bör alla inställningar redan från början fungera bra. I synnerhet ska du ''inte'' ändra inställt pekdon.

 . Däremot kan du eventuellt öka antalet processorer (kärnor) för din virtuella maskin enligt <nowiki>[[#cores|ovan]]</nowiki>.

* '''<nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Stoppa_in_installationsskivan|Delavsnitt 4.3, Stoppa in installationsskivan:]]</nowiki>''' Gäller fortfarande, men det är naturligtvis ISO-filen från Microsoft du ska använda.

'''Observera:''' Det som i avsnitt 5, ''Mus och tangentbord'', sägs om musen gäller ''inte alls'' för en virtuell maskin med Windows. Här fungerar i stället musintegrationen i !VirtualBox mycket väl redan från start. D.v.s. så fort du för muspekaren in över Windowsfönstret så övertar Windows dess hantering, och du kan också smidigt och problemfritt föra den tillbaka ut från Windowsfönstret, varvid ditt Linux återtar kontrollen över den.

=== Installation av Windows ===

<nowiki>[[File:windows_start.png|Start av Windows|align="right"]]</nowiki>
Sedan kan du köra igång installationsskivan genom att endera klicka på den gröna startpilen i !VirtualBox, eller också dubbelklicka på din virtuella Windowsmaskin. Då detta är en installation av Windows, inte Android-x86, ser den dock naturligtvis helt annorlunda ut än som beskrivs i avsnitt 6 i den gamla handledningen.

Hur man installerar Windows finns det utan tvivel mängder av information om på annat håll, <<BR>>
men i stora drag ser en installation av Windows 10 ut så här:

1. Först får du välja språk. Svenska verkar dock vara förvalt. <<BR>>
 (Det kan vara så att Microsoft automatiskt anpassar skivavbildningen till det land de ser att nedladdningen görs från.) <<BR>>

1. Sedan får du göra diverse ytterligare val om hur installationen ska se ut, däribland ett val mellan ''Home'' eller ''Pro''. <<BR>>
 (''Home'' räcker givetvis utmärkt för BankID.)

1. Därefter genomförs själva installationen, i ett antal steg med automatiska omstarter av (den virtuella) maskinen mellan varje steg. <<BR>>

1. Efter detta kommer för Windows 10 en ganska lurig skärm ''"Komma igång snabbt"'' med valen ''Anpassa'' eller ''Använd Standardinställningar''. <<BR>>
 Vad det handlar om är hur mycket information du vill låta ditt Windows sända iväg till Microsoft. Förval är att skicka så mycket som möjligt. <<BR>>
 Väljer du ''Anpassa'' kan du stänga av detta. Se då också upp med att en dold rullningslist kan finnas till höger, vilken visas bara då du för muspekaren över den.

1. På det följer en om möjligt ''ännu'' lurigare skärm, ''"Gör det till ditt eget"'', som efterfrågar din e-post eller telefon. <<BR>>
 Det är lätt att missa det finstilta valet ''Hoppa över det här steget'', nederst på skärmen.

1. Allra sist får du (precis som för Ubuntu) skapa ett konto med användarnamn och lösenord. <<BR>>

1. En del avslutande automatisk konfigurering görs, och sedan är du inne i ditt färdiginstallerade Windows.

För den som förstår talad engelska utvecklar den f.d. Microsoftanställde Barnacules frågorna kring punkt 4 ovan närmare i en <nowiki>[[https://www.youtube.com/watch?v=u1kGMCfb2xw|YouTube-video om Windows 10]]</nowiki>. Han rekommenderar bl.a. annat programmet <nowiki>[[https://www.safer-networking.org/spybot-anti-beacon/|Spybot Anti-Beacon]]</nowiki>. Missar man punkt 4 under installationen går det också att i efterhand justera i ens ''sekretessinställningar''.

=== Installation av VirtualBox gästtillägg i Windows ===

Då Windows är installerat i den virtuella maskinen kan du installera !VirtualBox gästtillägg i detta Windows. Muspekarintegration bör du redan utan dessa ha, men med tilläggen får du ytterligare funktionalitet, däribland ett '''gemensamt klippbord''' för ditt Linux och det virtuella Windows som körs i det. D.v.s. du kan kopiera text eller annat i ett program i Linux och sedan klistra in det i ett program i Windows, eller vice versa. En annan möjlighet du får är att, genom att i Windows ändra "skärmens upplösning", i själva verket ändra storleken på Windowsfönstret i Linux.

<nowiki>[[File:windows_guest3.png|Kör gästtilläggsprogrammet|align="right"]]</nowiki>
<nowiki>[[File:windows_guest1.png|Installation av gästtillägg]]</nowiki>

1. I menyn ''Devices'' (eller ''Enheter'' på svenska), välj det sista alternativet: ''Insert Guest Additions CD image...''

1. Windows uppfattar då att du har satt in en skiva i maskinen och visar ett meddelande nere till höger: <<BR>>

 <nowiki>[[File:windows_guest2.png|Windows har upptäckt skivan]]</nowiki> <<BR>>

 Klicka på det. Då visas några val uppe till höger.

1. Välj att köra Oracles VBoxWindowsAdditions.exe samt bekräfta att du tillåter det att göra ändringar i Windows. Då installeras tilläggen.

Därefter kan du fritt kopiera och klistra in mellan Windows och Linux, samt ändra Windowsfönstrets storlek genom att ändra "skärmupplösningen" i Windows.

=== BankID i Windows ===

Förutom <nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Genv.2BAOQ-g_till_den_virtuella_androiden|avsnitt 9, Genväg till den virtuella androiden]]</nowiki> (byt ut "androiden" mot ''Windows''), är resten av den gamla handledningen knappast till mycket hjälp då det gäller användning av BankID i Windows. Men det finns ju å andra sidan gott om hjälp med den saken på annat håll, och dessutom skiljer det knappast mycket från hur det fungerade även på GNU/Linux innan Finansiell ID-Teknik och deras ägare uppnådde marknadsmonopol på elektronisk legitimation i Sverige och sedan inte tyckte det var mödan värt att fortsätta stödja något fritt och öppet operativsystem längre.

Det kan ändå vara värt att särskilt poängtera hur just denna lösning skiljer sig från den tidigare med Android-x86 såväl som från den ovan beskrivna med Remix OS.

* Det BankID som används i Windows är "vanligt", icke-mobilt BankID. I Remix OS är det ''mobilt'' BankID. <<BR>>
 (Det är värt att hålla i minnet om du eventuellt kommer till någon plats som bara accepterar det ena eller det andra.)

* Du måste med BankID i virtuellt Windows använda en webbläsare i samma virtuella Windows för arbetet gentemot den myndighet eller det företag där du behöver logga in. (Lösningen med mobilt BankID i Remix OS, tidigare Android-x86, tillåter ju å andra sidan att man kör webbläsaren i sitt Linux.) <<BR>>

 . Med andra ord kan du kanske vilja installera din favoritwebbläsare i Linux (Firefox, Chrome eller vad det kan vara) också i ditt virtuella Windows – om du inte vill använda Microsofts egen förinstallerade webbläsare förstås. <<BR>>

* Datorns tangentbord fungerar å andra sidan med BankID i virtuellt Windows. <<BR>>
 Det fungerar inte med mobilt BankID i Remix OS där du måste mata in lösenord medelst musen. <<BR>>

* Därutöver gäller naturligtvis vad som redan sagts om den bättre integreringen i !VirtualBox av Windows med värdsystemet – musintegration, gemensamt klippbord etc. – än hur det fungerar med Remix OS.

=== Krympning av VDI-filen för Windows ===

VDI-filen sväller lätt vid uppdateringar och användning av ditt virtuella Windows, och det kan möjligen vara värt att då och då krympa den.

Krympning av VDI-filen företas i fyra steg:
# I Windows: Radera onödiga filer.
# I Windows: Defragmentera den virtuella hårddisken.
# I Windows: Skriv på den virtuella hårddisken över gamla data på friade disksektorer med nollor.
# I Linux: Krymp VDI-filen.

'''Steg 1''', radering av onödiga filer i Windows, är nog en hel liten vetenskap i sig, och det finns mängder av andra platser där detta ämne diskuteras. Se alltså dessa! Några av de systemfiler som annars eventuellt kunde elimineras ur ett Windowssystem verkar dock per förval redan vara frånvarande i ett (minimalt) Windows i !VirtualBox. Filen ''hiberfil.sys'' finns inte eftersom !VirtualBox inte stöder viloläge. Windows får från !VirtualBox BIOS veta att viloläge inte stöds i systemet och bryr sig då inte om att skapa någon hiberfil.sys. Systemåterställning verkar också per förval vara avstängt, åtminstone i en Windowsinstallation på en så liten hårddisk som vi har föreslagit här (runt 20 GB).

'''Steg 2''', defragmentering, kallas i nyare Windowsversioner också ''"optimering"''. Högerklickar du på en disk i endera ''Utforskaren'' eller i ''Diskhantering'', och sedan väljer ''Egenskaper'', så visas ett fönster med fliken ''Verktyg''. Välj den och sedan ''Optimera''.

'''Steg 3:''' Här skulle man i Linux kunna använda kommandot `dd`. Men steget ska alltså göras i Windows, och där finns inget liknande förinstallerat. Från Microsoft kan man dock ladda ned en zip-fil som innehåller ett program ''SDelete'' i en 32-bitsversion, kallat bara '''`sdelete`''', och en 64-bitsversion, '''`sdelete64`'''. Programmet är "portabelt", d.v.s. det ska inte installeras utan köras direkt, och är menat att köras från kommandoraden.

Gör alltså följande:
 a. Ladda i ditt virtuella Windows ned '''<nowiki>[[https://technet.microsoft.com/en-us/sysinternals/sdelete.aspx|zip-filen med SDelete]]</nowiki>'''.

 a. Packa upp programfilen '''` sdelete.exe `''' på något bra ställe.

 a. Starta Kommandotolken. (Högerklicka på Windowssymbolen nere till vänster och välj Kommandotolken.) <<BR>>

 a. Navigera med kommandot '''` cd `''' (på ungefär samma sätt som i Linuxterminal) till den mapp där du packade upp '''`sdelete.exe`'''.

 a. Ge kommandot <<BR>>
  '''<code>sdelete -z c:</code>''' <<BR>>
 (Av någon anledning verkar kommandot låsa sig efter att det fullbordat jobbet till 100%. <<BR>>
 Det verkar dock inte vara några problem med att bara avsluta det virtuella Windows efter detta.)

'''Steg 4:''' Se först till att ditt virtuella Windows är avstängt. Ge sedan i Linuxterminal (Ctrl+Alt+T) ett kommando som ser ut ungefär som följer:

 '''<code>vboxmanage modifyhd ~/VirtualBox\ VMs/Windows/Windows.vdi --compact</code>'''

Ändra dock eventuellt på mapp- och filnamn så att de stämmer med just din virtuella maskin.

Efter detta har din VDI-fil för Windows förhoppningsvis blivit lite mindre. <<BR>>
 <<BR>>

== Ikoner för flera virtuella maskiner ==

Såsom sägs i <nowiki>[[https://wiki.ubuntu.com/SwedishTeam/Support/Mobilt_BankID_i_Linux#Genv.2BAOQ-g_till_den_virtuella_androiden|avsnitt 9]]</nowiki> i den gamla handledningen kan man låta !VirtualBox skapa en genväg för sin virtuella maskin. Ikon för denna genväg blir ständigt samma blå kub, oavsett hur den virtuella maskinen ser ut. Har man till äventyrs två eller flera virtuella maskiner i sin !VirtualBox, och tycker detta blir förvirrande, är det ju dock lätt att byta ikon.

<nowiki>[[File:launcher.png|Programstartaregenskaper|align="right"]]</nowiki>

Högerklicka bara på genvägen eller programstartaren och välj Egenskaper. Klicka sedan på ikonen i den box som visas. Då får man en filväljare i vilken man kan navigera till annan lämplig bildfil att använda som ikon.

Exempelvis kan du (högerklicka i webbläsaren och) spara ovan visade logotyper för Remix och Windows på din dator. (De är png-bilder med genomskinlig bakgrund.) Sedan kan du använda dem som ikoner för motsvarande virtuella maskiner. Ett annat alternativ är att använda de bilder som !VirtualBox-hanteraren använder för olika operativsystem. De finns med på en <nowiki>[[https://www.virtualbox.org/browser/vbox/trunk/src/VBox/Frontends/VirtualBox/images|sida med bildfiler för VirtualBox]]</nowiki> bland källkodssidorna för programmet. Bilderna har namn som börjar med "`os_`".
 <<BR>>

----
&#91; <nowiki>[[SwedishTeam-Support-Mobilt_BankID_i_Linux|Mobilt BankID i Linux]]</nowiki> | <nowiki>[[SwedishTeam-Support-E-legitimation|E-legitimation]]</nowiki> | <nowiki>[[https://ubuntu-se.org|Ubuntu Sverige portal]]</nowiki> | <nowiki>[[https://ubuntu-se.org/phpBB3/|Ubuntu Sverige forum]]</nowiki> &#93;

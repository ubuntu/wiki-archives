{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:server-maverick-sru-process
* '''Created''':
* '''Contributors''': 
* '''Packages affected''':

=== Summary ===

This specification outlines a refinement of the Stable Release Update process for the Ubuntu Server team.

=== Release Note ===

This is a process improvement rather than a direct feature available in the Ubuntu Server product.
=== Rationale ===

As LTS releases are more and more deployed we wanna make sure that Stable Release Updates are issued in a timely manner.

=== User stories ===

* As an Ubuntu Developer I can look at a single page to view the list of bugs that are currently being SRUed. I can choose bugs on which to work on as well as quickly see which bugs are currently stuck in the process somewhere. If so I know what are the next steps that should be taken to move the SRU forward.

=== Assumptions ===

=== Design ===

==== Process overview ====

<nowiki>[[File:sru_process.png]]</nowiki>

An SRU can be in the following states:

<nowiki>[[File:sru_state.png]]</nowiki>

==== Weekly nominations review ====

Email template:
<pre>
Subject: Weekly bug nomination review

Explain the process: reply to this email to nominate the bugs. If no reply,
all bugs will be declined by Friday, YYYY-MM-DD.

Remind Stable Release Updates criteria (with link to wiki page).

List of nominated bugs:
* bug 123 - release - Bug title - bug link

List of bugs fixed in the development release:
* bug 234 - Bug title - bug link

</pre>

==== SRU tracking DB ====

Each SRU is tracked in database in order to be able to calculate the age of
each state it has been in. Scripts generate bug lists for each state on a
regular basis and store the results into a local DB.

==== SRU tracking page ====

The page lists the bugs currently under SRU, the states in which they should go through and how long they've
been into each state:

{| class="wikitable"
|-
| SRU Bug (source package - release)
| Assigned
| Uploaded
| Verification Needed
| Verification Success
| Fix released
| Assignee
| Title
|-
| Bug:123 (openvpn - hardy)
| <#FF0000>20 days
| <#00FF00>8 days
| 
| 
| 
| foo
| 123 breaks everything on my laptop!
|-
| <rowbgcolor="#FF0000">Bug:234 (samba - lucid)
| <#FF0000>45 days
| <#FF0000>16 days
| 
| 
| 
| bar
| No it's not...
|-
| Bug:432 (openldap - dapper)
| <#00FF00>5 days
| <#FF0000>16 days
| <#00FF00>3 days
| 
| 
| foo
| The great bug title
|-
| Bug:567 (apache2 - karmic)
| <#FF0000>145 days
| <#00FF00>6 days
| <#FF0000>13 days
| <#00FF00>3 days
| 
| foo
| An awesome bug title
|}

If the latest stage age is above 10 days the whole bug row should be highlighted with the color red.

If the state age is above 10 days the cell should have a red background. If not it should have a green background.

===== ttx Alternate =====

I think having the whole row in red prevents an easy read of where it's stuck at. I'd very much prefer:

{| class="wikitable"
|-
| SRU Bug (source package - release)
| Assigned
| Uploaded
| Verification Needed
| Verification Success
| Fix released
| Assignee
| Title
|-
| Bug:123 (openvpn - hardy)
| <#FF0000>20 days
| <#00FF00>8 days
| 
| 
| 
| foo
| 123 breaks everything on my laptop!
|-
| <#FF0000>Bug:234 (samba - lucid)
| <#FF0000>45 days
| <#FF0000>16 days
| 
| 
| 
| bar
| No it's not...
|-
| Bug:432 (openldap - dapper)
| <#00FF00>5 days
| <#FF0000>16 days
| <#00FF00>3 days
| 
| 
| foo
| The great bug title
|-
| Bug:567 (apache2 - karmic)
| <#FF0000>145 days
| <#00FF00>6 days
| <#FF0000>13 days
| <#00FF00>3 days
| 
| foo
| An awesome bug title
|}

Only having the "SRU bug" cell in red allows to quickly spot the stuck ones without preventing to read the line as a completion progress bar.

=== Implementation ===

Work items:

* Refine weekly review email template.
* Write a script to send the list of nominations for packages related to the
   ubuntu-server team to ubuntu-server@.
* Write script to cleanup the nominations on a weekly basis.

* Write scripts to generate the list of bugs for each state and store their
   results in the SRU tracking DB.
* Write script to create SRU tracking page using the SRU tracking DB.

* Publish list of accepted bugs.
* Update the Knowledge Base and Getting Started wiki pages to point to the
   accepted bug list as an easy to get started.
* Setup weekly review of the assigned bugs to make sure SRU are not stalled.

* Update the documentation: outline what needs to be done to take the SRU to
   the next stage: assignment, prepare bzr branch, write up SRU report, upload to
   archive (via sponsorship if needed).

==== UI Changes ====

==== Code Changes ====

==== Migration ====

=== Test/Demo Plan ===

=== Unresolved issues ===

=== BoF agenda and discussion ===

==== Comments ====

ttx: maybe the SRU tracking page should make the process stages more obvious. Something like:

{| class="wikitable"
|-
| SRU Bug
| Accepted
| Assigned
| Uploaded
| Verif needed
|-
| Bug 123 (hardy)
| <bgcolor="#00ff00">
| assigned (2 days)
| 
| 
|-
| Bug 234 (lucid)
| <bgcolor="#00ff00">
| <bgcolor="#00ff00">
| uploaded (14 days)
| 
|}

==== UDS Maverick discussion notes ====

----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== VNCREC ==

Home page: http://www.sodan.org/~penny/vncrec/

VNCREC has been around for some time, and hasn't really been developed further since its original creation. The key with vncrec is that it can record a vnc session. What this means is that it's possble to record a full desktop running on a remote computer or indeed the local one. 

==== twibright version ====

There is a fork of the original vncrec (from 2002) on http://ronja.twibright.com/utils/vncrec/ (latest Changelog: 2006-12-20 Karel Kulhavy). Under Ubuntu 9.10, this is what worked for building
<pre>
sudo apt-get install xutils-dev libxt-dev libxmu-dev libxaw7-dev
wget http://ronja.twibright.com/utils/vncrec-twibright.tgz
tar xzvf vncrec-twibright.tgz
cd vncrec-twibright/
xmkmf
make World
</pre>
There are executables built for 9.10 on http://sourceforge.net/projects/sdaaubckp/files/; if vncrec, vncpasswd, vncconnect are in the same folder, the following commands work: 
<pre>
./vncrec -record sample.vncrec localhost:5921
./vncrec -viewonly -bge233 -depth 8 -encodings "corre hextile copyrect" -record sample.vncrec localhost:5921
./vncrec -play sample.vncrec
./vncrec -movie sample.vncrec | ./ffmpeg2theora.linux --no-audio -o sample.ogv -
</pre>
You may want to lower the desktop colors, which requires change of `/etc/X11/xorg.conf` - in Lucid, that is an empty file by default, so in that case, check <nowiki>[[http://ubuntuforums.org/showthread.php?t=1476572|change color depth in ubuntu 10.04? - Ubuntu Forums]]</nowiki> (''as well as [[http://ubuntuforums.org/showthread.php?t=1505061|[ubuntu] Trying to configure xorg.conf file in Lucid... - Ubuntu Forums]] and [[http://ubuntuforums.org/showthread.php?t=1437980|[ubuntu] No xorg.conf found in /etc/X11 (Ubuntu 10.04) - Ubuntu Forums]]'')

Note, in above example, <nowiki>[[http://v2v.cc/~j/ffmpeg2theora/|ffmpeg2theora]]</nowiki> is used for transcoding. Also, note that the VNC server in this example is the default one in Ubuntu, which is <nowiki>[[https://help.ubuntu.com/community/VNC/Servers#vino|vino]]</nowiki> that has default port 5900 (that is, "<nowiki>[[http://www.debianadmin.com/remote-desktop-sharing-in-ubuntu.html|Remote Desktop Sharing in Ubuntu]]</nowiki>" -- so no need to install/run `vncserver` separately as for older versions). Finally, note that in terms of framerate, the <nowiki>[[http://ronja.twibright.com/utils/vncrec-twibright/README|vncrec-twibright/README]]</nowiki> states:
<pre>
The sample rate of the movie is 10 by default or overriden by
VNCREC_MOVIE_FRAMERATE environment variable, or 10 if not specified. Some
formats (MPEG) don't have 10 so you must supply some more common number (24,
25,...).
</pre>
... however, the man page also states: "''VNCREC_MOVIE_FRAMERATE - Specifies frame rate of the output movie. '''Has an effect only in -movie mode.''' Defaults to 10. Try 24 when your transcoder vomits from 10.''"

Another note - if you prefer to convert these captures to image sequences, you can use <nowiki>[[http://www.ffmpeg.org/faq.html#TOC15|ffmpeg to encode movie to single pictures]]</nowiki>; however, it may be better that you capture the output of `vncrec -movie` (which is a yuv420p raw video) to file, and then let ffmpeg work on this file, i.e. 
<pre>
./vncrec -movie sample.vncrec > sample.vncrec.raw

ffmpeg -i sample.vncrec.raw

ffmpeg -i sample.vncrec.raw /path/to/samplimg%03d.png
</pre>

=== Installation ===

VNCREC is not available in the standard Ubuntu repositories so you will need to download it from the home page.

=== Recording process ===

==== Start VNC server. ====

In Ubuntu this may be integral to the desktop and can be found under System --> Administration --> Remote Desktop which starts a VNC server called 'vino'. This exposes the current desktop over VNC. Be careful not to attach to this local VNC server in the current session because you will end up trying to control the desktop, controlling the desktop, controlling the desktop. The effect is a bit like pointing a video camera at the TV when you're showing the output of the camera on the TV. Quite pretty and amusing for a while but utterly useless unless you're remaking a 1970's pop video.

Alternatively it's possible to start a VNC server manually. The following command line assumes that the vncserver package is installed from the universe repository. The command will start a vncserver in which an X session should be running along with your normal desktop envionment. It will be started on desktop 10 - choose any number other than zero as this is usually used by the built in VNC server (if running) as detailed above. This could be started on the local PC or on any remote machine that you have a network connection to.

<pre>
vncserver --geometry 1024x76 :10
</pre>

If it starts correctly you should see something like the following:-

To find out the other command line options for vncserver, use the following command:-

<pre>
vncserver --help
</pre>

==== Start VNCREC ====

Start the recording software and connect to the vncserver - wherever it is running. If you started the vncserver on the local machine then the following command line will start recording. If you used the built-in vino vncserver then you'll usually need to connect to desktop number 0, not 10 as shown below. If you started the vncserver on a remote machine then replace localhost with the hostname or IP address of the remote computer. Beware that any firewalls between you and the remote machine will need to have port 59xx open - where xx is the two digit desktop number (10 in the case above).

<pre>
vncrec -record localhost:10
</pre>

==== Convert .vnc file ====

The main page for vncrec claims that transcode (which is in the Ubuntu repository) can convert a .vnc file to other formats.

Tips: If you have only one computer, create a second user under which you will do the demos, and run vncserver from there, but record by running vnrec using your normal user.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

Copy the following to a subpage of the LaptopTestingTeam with your make and model number
	
* Contact: <nowiki>[[RichardGould]]</nowiki>
* Make: Sony
* Brand: Vaio
* Model: VGN-FS660/W
* Website: http://esupport.sony.com/perl/model-home.pl?mdl=VGNFS660W

=== Current Issues ===
* 3-D Acceleration: Does glxinfo return the line "direct rendering: Yes"?
** Start a terminal and type the following:<pre>
glxinfo | grep rendering</pre>
  This will print either "direct rendering: Yes" or "direct rendering: No"

After install, glxinfo | grep rendering returns "direct rendering: No".

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Breezy?
| in Dapper (current development)?
|-
| Installation works?
| Yes
| Yes
|}

{| class="wikitable"
|-
| <-4 tablewidth="75%"> '''Hardware Information'''
|-
| <-4> '''Screen & Monitors'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| <|2> '''Bug #'''
|-
| in Breezy?
| in Dapper (current development)?
|-
| Screen
| Mostly <nowiki>[[#screen|(see below)]]</nowiki>
| Yes
| 
|-
| Correct resolution?
| Yes
| Yes
| 
|-
| Correct refresh rate?
| Yes
| Yes
| 
|-
| 3D Acceleration
| Yes
| Not installed by default
| 
|-
| External monitor works?
| Maybe <nowiki>[[#externalMonitor|(see below)]]</nowiki>
| Untested
| 
|-
| External monitor - mirrors
| Untested
| Untested
| 
|-
| External monitor - extend desktop
| Untested
| Untested
| 
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| 
|-
| Hibernates?
| No <nowiki>[[#suspend|(see below)]]</nowiki>
| No
| <nowiki>[[https://launchpad.net/malone/37642|#37642]]</nowiki>
|-
| Sleep
| No <nowiki>[[#suspend|(see below)]]</nowiki>
| No
| <nowiki>[[https://launchpad.net/malone/37642|#37642]]</nowiki>
|-
| Dim monitor on battery
| Untested
| Yes
| 
|-
| Blank monitor on inactivity
| Untested
| Untested
| 
|-
| Lid Close
| Untested
| Untested
| 
|-
| Cpu frequency scaling
| Yes
| Yes
| 
|-
| <-4> '''Sound'''
|-
| Sound works?
| Yes
| Yes
| 
|-
| Correct volume?
| Yes
| Was at lowest on startup
| 
|-
| Hardware volume switch
| Yes <nowiki>[[#fnkeys|(see below)]]</nowiki>
| No
| 
|-
| Headphone jack
| Yes
| Yes
| 
|-
| Mic jack
| Untested
| Untested
| 
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| 
|-
| Wireless NIC
| Yes
| Untested
| 
|-
| PCMCIA NIC
| Untested
| Untested
| 
|-
| Firewire
| N/A
| N/A
| 
|-
| Bluetooth
| N/A
| N/A
| 
|-
| Modem
| Untested
| Untested
| 
|-
| Infrared
| N/A
| N/A
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| Yes <nowiki>[[#touchpad|(see below)]]</nowiki>
| Yes
| 
|-
| External mouse - USB
| Yes
| Yes
| 
|-
| External mouse - Serial
| N/A
| N/A
| 
|-
| <-4> '''Docking Station/Port Replicator'''
|-
| AC through replicator
| Untested
| Untested
| 
|-
| USB
| Untested
| Untested
| 
|-
| Serial
| Untested
| Untested
| 
|-
| Parallel
| Untested
| Untested
| 
|-
| External Monitor - VGA
| Untested
| Untested
| 
|-
| External Monitor - DVI
| Untested
| Untested
| 
|-
| Modem
| Untested
| Untested
| 
|-
| NIC
| Untested
| Untested
| 
|-
| PS/2
| Untested
| Untested
| 
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| N/A
| N/A
| 
|-
| CD/DVD drive
| CD: Reads/writes fine, DVD: Untested
| Untested
| 
|-
| PCMCIA cards
| Untested
| Untested
| 
|-
| Parallel Ports
| Untested
| Untested
| 
|-
| Card reader(s)
| Untested
| Untested
| 
|}

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Breezy?
| in Dapper (current development)?
|-
| + Space
| 
| 
| Untested
| Untested
| 
|-
| + Esc
| 
| 
| Untested
| Untested
| 
|-
| + F1
| 
| 
| Untested
| Untested
| 
|-
| + F2
| Mute
| 
| Yes
| Untested
| 
|-
| + F3
| Volume Up
| 
| Yes
| Untested
| 
|-
| + F4
| Volume Down
| 
| Yes
| Untested
| 
|-
| + F5
| Brightness Up
| 
| Yes
| Untested
| 
|-
| + F6
| Brightness Down
| 
| Yes
| Untested
| 
|-
| + F7
| Monitor Out
| 
| Untested
| Untested
| 
|-
| + F8
| 
| 
| Untested
| Untested
| 
|-
| + F9
| 
| 
| Untested
| Untested
| 
|-
| + F10
| Zoom
| 
| Untested
| Untested
| 
|-
| + F11
| 
| 
| Untested
| Untested
| 
|-
| + F12
| Hibernate/Suspend-to-disk
| 
| Untested
| Untested
| 
|-
| + 1
| 
| 
| Untested
| Untested
| 
|-
| + 2
| 
| 
| Untested
| Untested
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Keycode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Breezy?
| in Dapper (current development)?
|-
| S1
| 
| 
| Untested
| Untested
| 
|-
| S2
| 
| 
| Untested
| Untested
| 
|-
| Power
| Shutdown
| 
| Yes
| Untested
| 
|}

==== Notes ====

This model is similar to the <nowiki>[[LaptopTestingTeam-SonyVaio_VGN-FS630W|VGN-FS630W]]</nowiki> and some of these fixes are taken from there. A lot of other help has been gleaned from <nowiki>[[http://www.beyondabstraction.net/sonyfs660/|Beyond Abstraction]]</nowiki>.

'''Fixing Reboot:'''
Add reboot=h to your kernel line in the grub menu (/boot/grub/menu.lst): 
<pre>
kernel          /boot/vmlinuz-2.6.12-10-686 root=/dev/hda1 ro quiet splash reboot=h
</pre> 

'''Screen:'''
After X starts, I can no longer get the console to display (when you reboot/shutdown or hit Ctrl-Alt-F1, screen goes black. If you have a second monitor plugged in, you can see the console on that screen.) Haven't found a fix. This problem was introduced in Hoary.

'''External Monitor:''' 
Only tested very very briefly. No output while X was up, but console screen appeared during reboot.

'''Hibernation/Sleep:''' 
The system seems to enter these modes correctly, but I have yet to have it successfully return.

'''FN Keys:''' 
Worked after I followed this thread: http://forums.gentoo.org/viewtopic-t-335267-highlight-sonypi.html

'''Touchpad:''' 
Got side-scrolling to work after figuring out which device and protocol to use. See my xorg.conf provided on this page. Added <code> Load "synaptics" </code> to the Modules section of /etc/X11/xorg.conf (I don't think this was necessary. It looks like synaptics is being loaded twice now, but I'm not sure where the other instance is). To determine what device to use, try <code> cat /proc/bus/input/devices </code> and look for the section that contains <code> "AlpsPS/2 ALPS GlidePoint". </code> It should say <code> Handlers=mouse2 event3 ts2 </code> or something similar. I used event3. You can try <code> cat /dev/input/event3 </code> and move your finger on the touchpad. If you see garbage, that means you can probably use it. For the Protocol value, "event" seems to work when I chose event3. Other values are "psaux" and "auto-dev" (automatic). Ubuntu seems to default to /dev/psaux and auto-dev. I took the parameters for the Synaptics InputDevice driver from the FS630/W page. <nowiki>[[http://www.beyondabstraction.net/sonyfs660/|Beyond Abstraction]]</nowiki> also has another configuration available.

'''xorg.conf:'''
<pre>

Section "Files"
	FontPath	"/usr/share/X11/fonts/misc"
	FontPath	"/usr/share/X11/fonts/cyrillic"
	FontPath	"/usr/share/X11/fonts/100dpi/:unscaled"
	FontPath	"/usr/share/X11/fonts/75dpi/:unscaled"
	FontPath	"/usr/share/X11/fonts/Type1"
	FontPath	"/usr/share/X11/fonts/CID"
	FontPath	"/usr/share/X11/fonts/100dpi"
	FontPath	"/usr/share/X11/fonts/75dpi"
##### paths to defoma fonts
	FontPath	"/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
	FontPath	"/var/lib/defoma/x-ttcidfont-conf.d/dirs/CID"
EndSection

Section "Module"
	Load	"GLcore"
	Load	"i2c"
	Load	"bitmap"
	Load	"ddc"
	Load	"dri"
	Load	"extmod"
	Load	"freetype"
	Load	"glx"
	Load	"int10"
	Load	"type1"
	Load	"vbe"
	Load 	"synaptics"
EndSection

Section "InputDevice"
	Identifier	"Generic Keyboard"
	Driver		"kbd"
	Option		"CoreKeyboard"
	Option		"XkbRules"	"xorg"
	Option		"XkbModel"	"pc104"
	Option		"XkbLayout"	"us"
EndSection

Section "InputDevice"
	Identifier	"Configured Mouse"
	Driver		"mouse"
	Option		"CorePointer"
	Option		"Device"		"/dev/input/mice"
	Option		"Protocol"		"ImPS/2"
	Option		"Emulate3Buttons"	"true"
	Option		"ZAxisMapping"		"4 5"
EndSection

Section "InputDevice"
  Identifier    "Synaptics Touchpad"
  Driver        "synaptics"
  Option        "SendCoreEvents"        "true"
## try cat /dev/input/event3 and move your finger on the touchpad - if there is output, use it
  Option        "Device"        "/dev/input/event3"
  Option        "Protocol"      "event"
        Option "AlwaysCore"
        Option "LeftEdge" "120"
        Option "RightEdge" "830"
        Option "TopEdge" "120"
        Option "BottomEdge" "650"
        Option "FingerLow" "14"
        Option "FingerHigh" "15"
        Option "MaxTapTime" "180"
        Option "MaxTapMove" "110"
        Option "ClickTime" "0"
        Option "EmulateMidButtonTime" "75"
        Option "VertScrollDelta" "10"
        Option "HorizScrollDelta" "0"
        Option "MinSpeed" "0.45"
        Option "MaxSpeed" "0.75"
        Option "AccelFactor" "0.020"
        Option "EdgeMotionMinSpeed" "200"
        Option "EdgeMotionMaxSpeed" "200"
        Option "UpDownScrolling" "1"
        Option "CircularScrolling" "0"
        Option "CircScrollDelta" "0.1"
        Option "CircScrollTrigger" "2"
        Option "SHMConfig" "true"
EndSection

Section "Device"
	Identifier	"NVIDIA Corporation NV40M? [GeForce Go 6200]"
	Driver		"nvidia"
	BusID		"PCI:1:0:0"
# renderAccel has memory leak
	Option          "RenderAccel"   "false"
	Option          "NoLogo"
# for binary suspend support
	Option          "NvAGP"       "1"
EndSection

Section "Monitor"
	Identifier	"Generic Monitor"
	Option		"DPMS"
	HorizSync	28-64
	VertRefresh	43-60
	Modeline	"1280x800@60" 83.91 1280 1312 1624 1656 800 816 824 841
EndSection

Section "Screen"
	Identifier	"Default Screen"
	Device		"NVIDIA Corporation NV40M? [GeForce Go 6200]"
	Monitor		"Generic Monitor"
	DefaultDepth	16
	SubSection "Display"
		Depth		1
		Modes		"1280x800"
	EndSubSection
	SubSection "Display"
		Depth		4
		Modes		"1280x800"
	EndSubSection
	SubSection "Display"
		Depth		8
		Modes		"1280x800"
	EndSubSection
	SubSection "Display"
		Depth		15
		Modes		"1280x800"
	EndSubSection
	SubSection "Display"
		Depth		16
		Modes		"1280x800"
	EndSubSection
	SubSection "Display"
		Depth		24
		Modes		"1280x800"
	EndSubSection
EndSection

Section "ServerLayout"
	Identifier	"Default Layout"
	Screen		"Default Screen"
	InputDevice	"Generic Keyboard"
	InputDevice	"Configured Mouse"
	InputDevice	"Synaptics Touchpad"
EndSection

Section "DRI"
	Mode	0666
EndSection
</pre>

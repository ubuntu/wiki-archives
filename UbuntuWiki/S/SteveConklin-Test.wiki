{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== An example input file for xnec2c ==

This file describes the details of the input file dipole-sample-freespace.nec

=== General Notes About Input Format ===

Input files to xnec2c are a series of command ''cards'', one per line. This input format is inherited
from the original nec2 program which was written in FORTRAN, and was originally a deck of punch cards
with fixed-width fields. Xnec2c reads these input lines as whitespace-delimited fields, and so the
documented field locations (columns and widths) don't apply. The ordering of the fields is the same
as the original.

With some exceptions (documented later in this document) the input file format is as documented in
the file nec2prt3.pdf

Each input line begins with a two-character identifier (ID), followed by numerical fields.

All integer numerical fields are first, followed by floating point fields. In documentation and in
the built-in editor of xnec2c, these fields are generally labeled like this:

ID  I1  I2  I3  I4  F1  F2  F3  F4 . . . 

The definition of each field changes for each identifier (Card type), and in many cases, the input
format of the card depends on one of the integer fields. An example of this is the 'EX' or
Excitation card. The value of the I1 field describes the type of excitation applied as follows:

* I1 = 0: Voltage Source (applied E-field source)
* I1 = 1: Incident plane wave, linear polarization
* I1 = 2: Incident plane wave, right-hand elliptic polarization
* I1 = 3: Incident plane wave, left-hand elliptic polarization
* I1 = 4: Elementary current source
* I1 = 5: Voltage Source (current-slope-discontinuity)

The definitions of the remaining fields depends on which excitation type is being applied. For
complete details, see the nec2prt3.pdf document. All this tends to make editing the input files
a confusing task.

The samples documented here will only address cases which are common for analysis of antennas in
the context of broadcast or amateur radio.

==== Things to note ====

* All dimensions in input are in meters
* Wire thickness is specified by ''radius'', NOT diameter

=== Example of a dipole in free space ===

==== Here is the entire input file ====

<pre>
CM  Example of a 20m dipole in free space
CM  This is a second comment line
CE End Comments
GW     1    25  0.00E+00    -5.023E+00     0.00E+00     0.00E+00    5.023E+00      0.00E+00     1.0E-03
GE     0     0  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
FR     0    35     0      0  1.40000E+01  1.00000E-02  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
EX     0     1    13      0  1.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
LD     5     0     0      0  3.70000E+07  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
NH     0     0     0      0  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
NE     0    20    15      1 -1.40000E+00 -1.40000E+00  5.00000E-02  2.00000E-01  2.00000E-01  0.00000E+00
RP     0    36    72   1000  0.00000E+00  0.00000E+00  1.00000E+01  5.00000E+00  0.00000E+00  0.00000E+00
EN     0     0     0      0  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
</pre>

Now we examine it in parts. I will refer to input lines as cards, to remain consistent with existing documentation.

==== Comments Cards ====

Each comment line begins with a '''CM''' ID, and a '''CE''' ID signified the end of the comment block

<pre>
CM  Example of a 20m dipole in free space
CM  For a detailed description of this data file, see dipole-sample-freespace.txt
CE End Comments
</pre>

==== Structure Geometry Cards ====

These cards define the physical structure of the antenna. Card IDs exist which can define wires, patches, helices, Spirals, arcs, cylinders, and other structures. This example uses only a wire definition:

The Geometry definition is ended with a '''GE''' card

<pre>
GW     1    25  0.00E+00    -5.023E+00     0.00E+00     0.00E+00    5.023E+00      0.00E+00     1.0E-03
GE     0     0  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00  0.00000E+00
</pre>

The 'GW' tag defines a wire, with the fields having the following meanings:

<pre>
GW   tag_number   num_segments   start_X   start_Y   start_Z   end_X   end_Y   end_Z   wire_radius

    tag_number:    A unique non-zero tag number for this set of segments (this wire)
                   The tag number is used in later cards to refer to this wire

    num_segments:  The number of segments in this wire (Note 1)

    start and end: The starting and ending coordinates of the wire in space

    wire_radius:   The radius of the conductor (Note 2)
</pre>

Notes:
1. As a rule of thumb, segment lengths should be less than 0.1 wave-length at the desired frequency. Somewhat longer segments may be used on long wires with no abrupt changes, while shorter segments, 0.05 wavelength or less, may be required in modeling critical regions of an antenna.

1. Radius must be non-zero unless this card is followed by a '''GC''' card defining a tapered conductor. This example does not use tapered conductors.

1. Wires with the same endpoint coordinates are connected electrically at that point

==== Control Cards ====

These cards define the parameters for the analysis, including frequency range, excitation applied, networks, transmission lines, and others.

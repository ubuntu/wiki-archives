{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* '''Launchpad Entry''': UbuntuSpec:server-maverick-upstart-conversion
* '''Created''': 2010-05-24
* '''Contributors''': ChuckShort
* '''Packages affected''': apache, bacula, bacukppc, bind9, clamav, dhcp3, dnsmasq, dovecot, drbd8, puppet, nagios, net-snmp, nut. openldap2, xinetd, winbind, postfix, cups, multipathd, apparmor

=== Summary ===

We started to convert init scripts on an need to be done basis, as to fix a bug or a request to do so.Now in maverick we are going to convert more init scripts to upstart.

=== Rationale ===

In the new world upstart is the default way to start services and servers for Ubuntu. We started to convert init scripts as a on-going need basis. Often to fix bugs that were reported by users. For maverick, we are going to be pre-active and convert more inits cripts to upstart.

=== Use Cases ===

** Rutager wants to run cups with samba but there is a race condition because samba was converted to upstart and cups wasnt.

=== Design ===

==== Initial selection ====

* apache2
* bacula
* backuppc
* bind9
* clamav
* dhcp3
* dnsmasq
* puppet
* nagios
* net-snmp
* nut
* openldap2 (slapd)
* xinetd
* winbind
* postfix
* tomcat6
* cups
* multipathd
* apparmor

==== Conversion Process ====
 
# Make sure that we have a complete list of init scripts that we want to convert.
# Convert the initscripts to upstart.
# Submit a debdiff for the foundations team to review
# Upload package.
# Submit patch to debian.

=== Implementation ===

See work items in blueprint.

=== BoF agenda and discussion ===

<pre>

==== Agenda ====

1. The work that was done in lucid
2. The proposed upstart scripts.

Done in Lucid:

* mysql
* samba - smbd/nmbd
* vsftpd
* squid
* tftpd-hpa
* autofs5

Proposed:
 - Will this create a delta with debian?

* apache2
* bacula
* backuppc
* bind9
* clamav
* dhcp3
* dnsmasq
* dovecot (ivoks)
* drbd8 (ivoks)
* puppet
* nagios
* net-snmp
* nut
* openldap2 (slapd)
* xinetd
* winbind
* corosync (ivoks)
* heartbeat [logd] (ivoks)
* keepalived
* unbound
* postfix
* tomcat6
* cups
* multipathd
* apparmor

Full list of init scripts that have not been converted to upstart can be found here:
https://wiki.ubuntu.com/komputes/InitToUpstartLucid

=== Action ===

* Submit patches to foundations team for review
* Submit patches to upstart.
* Use apt-file to check for init.d and assign list to wiki.
</pre>
----
CategorySpec

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

* Contact: <nowiki>[[RafaelPinilla]]</nowiki>
* Make: Lenovo
* Brand: 3000 N series
* Model: N100 0768 - BJG
* Website: http://www-307.ibm.com/pc/support/site.wss/product.do?template=/product.do?template=%2Fproductpage%2Flandingpages%2FproductPageLandingPage.vm&sitestyle=lenovo&brandind=10&familyind=303747&machineind=303753&modelind=333670&partnumberind=0&subcategoryind=0&doctypeind=3&doccategoryind=0&operatingsystemind=52305&validate=true

This page is an adaptation of the Lenovo3000N100_0768 one, with support of the different nvidia and sound behavior. I will follow updating to fullfill ubuntu support on this great piece of hardware. <nowiki>[[RafaelPinilla]]</nowiki>

<nowiki>[[http://tuxmobile.org|{{http://tuxmobil.org/pics/tuxmobil_sticker.png}}]]</nowiki> 

=== Pictures ===

<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-front.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-front-small.jpg}}]]</nowiki>
<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-keyboard.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-keyboard-small.jpg}}]]</nowiki>
<nowiki>[[http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-side.jpg|{{http://tfc.duke.free.fr/screens/hardware/Lenovo3000N100-side-small.jpg}}]]</nowiki>

=== Hardware Specifications ===

* Intel Core 2 Duo T5600 (1.83 Ghz, 2 MB Cache) 64bits enabled. VT disabled by BIOS, enabling anavailable in the BIOS.
* 1024 MB Memory 
* 15.4" WSXGA+ TFT Screen (1680x1050)
* 100 GB SATA Hard Drive on Intel 82801GBM (ICH7) SATA Controller
* Nvidia GeForce 7300 graphic controller with 128 MB shared memory
* DVD/DVD-RAM-RW Drive
* 56K Modem v.92
* LAN: Realtek RTL-8139
* WLAN: Intel PRO/Intel 3945ABG (802.11a/b/g)
* PCMCIA
* Bluetooth: Broadcom
* IEEE-1394: Ricoh
* MS/MS PRO/MMC/SD/SDIO/xD-Picture Card reader
* Audio: Intel Corporation 82801G (ICH7 Family) High Definition Audio Controller
* Webcam: Sonix “Microdia” (S``N``9``C201 based USB camera)
* Fingerprint reader: Authen``Tec

=== Current Issues ===

This laptop is quite well supported by Linux. Sound works perfectly in Feisty.

==== Installing Edgy ====

Steps to install Edgy on this laptop:
* Insert the install CD, boot on it;
* Install the system, reboot at the end of the installation process;
* Enjoy!

Don't need to pass any extra parameter to kernel for installation. All goes fine.

=== System Info ===
<pre>
bios-version:61ET31WW
system-manufacturer:LENOVO
system-product-name:0768BJG
system-version:3000 N100
</pre>

=== Hardware details ===
{| class="wikitable"
|-
| 
| in Edgy (current stable)?
| in Feisty (current development)?
|-
| Installation works?
| Yes
| Yes
|-
| <-4> '''Hardware Information'''
|-
| <|2> '''Device'''
| <-2> '''Works?'''
| <|2> '''Bug #'''
|-
| in Edgy (current stable)?
| in Feisty (current development)?
|-
| <-4> '''Screen & Monitors'''
|-
| Screen
| Yes
| Yes
| 
|-
| Correct resolution?
| Yes*, at 1680x1050
| Yes, at 1680x1050
| 
|-
| Correct refresh rate?
| Yes, at 60 Hz
| Yes, 60Hz
| 
|-
| 3D Acceleration
| Yes
| Yes
| 
|-
| External monitor works?
| Untested
| No, using nvtv
| 
|-
| External monitor - mirrors
| Untested
| No, cf supra
| 
|-
| External monitor - extend desktop
| Untested
| No, cf supra
| 
|-
| TV Out
| Untested
| Untested
| 
|-
| <-4> '''Power Management'''
|-
| Battery detected?
| Yes
| Yes
| 
|-
| Hibernates?
| Yes
| Yes, in 2D desktop
| 
|-
| Sleep
| Yes*
| Yes, in 2D Desktop
| 
|-
| Dim monitor on battery
| No
| No
| 
|-
| Blank monitor on inactivity
| Yes
| Yes
| 
|-
| Lid Close
| Yes
| Yes
| 
|-
| Cpu frequency scaling
| Yes
| Yes
| 
|-
| <-4> '''Sound'''
|-
| Sound works?
| No
| Yes
| 
|-
| Correct volume?
| No
| Yes
| 
|-
| Hardware volume switch
| No
| Yes
| 
|-
| Headphone jack
| No
| Yes
| <nowiki>[[https://bugtrack.alsa-project.org/alsa-bug/view.php?id=2581|Bug 2581]]</nowiki>
|-
| Mic jack
| Untested
| Yes
| 
|-
| <-4> '''Networking'''
|-
| Wired NIC
| Yes
| Yes
| 
|-
| Wireless NIC
| Yes
| Yes
| 
|-
| PCMCIA NIC
| Untested
| Untested
| 
|-
| Firewire
| Untested
| Untested
| 
|-
| Bluetooth
| Yes
| Yes
| 
|-
| Modem
| Untested
| Untested
| 
|-
| <-4> '''Touchpad & Mice'''
|-
| Touchpad
| Yes
| Yes
| 
|-
| Touchpad - Doubletap = double click
| Yes
| Yes
| 
|-
| Touchpad - Scroll down side
| No
| Untested
| 
|-
| Touchpad - turned off while typing
| Untested
| Untested
| 
|-
| External mouse - USB
| Yes
| Untested
| 
|-
| <-4> '''Additional Hardware'''
|-
| Fingerprint reader
| No*
| No*
| 
|-
| CD/DVD drive
| Yes
| Yes
| 
|-
| PCMCIA cards
| Untested
| Untested
| 
|-
| Card reader(s)
| xD card (No), SD (Yes?), others (Untested)
| Yes
| <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/84540|Bug 84540]]</nowiki>, <nowiki>[[http://bugzilla.kernel.org/show_bug.cgi?id=7673|Bug 7673]]</nowiki>
|-
| Webcam
| No
| No
| 
|}

{| class="wikitable"
|-
| <-6 tablewidth="75%"> '''Function and other keys'''
|-
| <|2> '''Fn Key'''
| <|2> '''Operation'''
| <|2> '''Scancode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Edgy (current stable)?
| in Feisty (current development)?
|-
| + Esc
| Mute
| 
| Yes
| Yes
| 
|-
| + F1
| Volume -
| 
| Yes
| Yes
| 
|-
| + F2
| Volume +
| 
| Yes
| Yes
| 
|-
| + F4
| Sleep
| e017
| Unaffected
| Unaffected
| 
|-
| + F5
| Toggle WLAN
| e016
| Unaffected
| Unaffected
| 
|-
| + F7
| Toggle external monitor
| e041
| Unaffected
| Unaffected
| 
|-
| + F10
| LCD Brightness Down
| 
| Yes
| Yes
| 
|-
| + F11
| LCD Brightness Up
| 
| Yes
| Yes
| 
|-
| + F12
| Hibernate
| e018
| Unaffected
| Unaffected
| 
|-
| + Arrow``Up
| Media Stop
| 
| Yes
| Yes
| 
|-
| + Arrow``Down
| Media Play/Pause
| 
| Yes
| Yes
| 
|-
| + Arrow``Right
| Media Next
| 
| Yes
| Yes
| 
|-
| + Arrow``Left
| Media Previous
| 
| Yes
| Yes
| 
|-
| + Pg``Up
| Home
| 
| Yes
| Yes
| 
|-
| + Pg``Down
| End
| 
| Yes
| Yes
| 
|-
| Numpad keys
| 
| 
| Yes
| Yes
| 
|-
| <-6> '''Other special keys'''
|-
| <|2> '''Key'''
| <|2> '''Operation'''
| <|2> '''Scancode'''
| <-2> '''Works?'''
| <|2> Bug #
|-
| in Edgy (current stable)?
| in Feisty (current development)?
|-
| Lenovo Care
| User Programmable Key
| e034
| Yes
| Yes
| 
|-
| Mute
| Mute
| 
| Yes
| Yes
| 
|-
| Volume Down
| Volume -
| 
| Yes
| Yes
| 
|-
| Volume Up
| Volume +
| 
| Yes
| Yes
| 
|}

==== Notes ====

=== Screen resolution (168x1050) ===
Nvidia proprietary driver works out of the box after installation.

=== Xorg and external monitor ===

The default xorg.conf file generated by the installer works well. See the <nowiki>[[LaptopTestingTeam-Lenovo3000N100_0768-Xorg.conf]]</nowiki> page for working xorg.conf files with external monitor.

NOTE: The X server crashes when running a GLX application (using OpenGL) when using Dual-Head Separate screens (extended desktop without Xinerama).

=== Intel video driver with modesetting/Xrandr 1.2 ===

<nowiki>[[http://fooishbar.org/|Daniel Stone]]</nowiki> has made Edgy packages for the intel modesetting video driver and Xrandr 1.2. Thanks to this new driver, we can get rid of ''915resolution'', correct modes will be automatically detected. Also, Xrandr 1.2 allows you to manage easily your outputs at run time (no need to reconfigure Xorg.conf and restart Xorg). Xrandr will let you handle three outputs on this laptop: LVDS (the laptop's screen), VGA (the VGA output) and TV (the TV-Out). See ''xrandr''``'s manpage for how to use it.

This is cool stuff, '''but still experimental''', they may blow up your machine, use at your own risk!

The repository is here: (add this line to /etc/apt/sources.list)
<pre>
deb http://www.fooishbar.org/packages/ randr-1.2/edgy/i386/
</pre>

You'll have to upgrade those packages:
<pre>
libdrm2 libgl1-mesa-dev libgl1-mesa-dri libgl1-mesa-glx libglu1-mesa libglu1-mesa-dev libxrandr-dev libxrandr2 mesa-common-dev 11proto-randr-dev xrandr xserver-xorg-core
</pre>

And install this one:
<pre>
xserver-xorg-video-intel
</pre>

If you want to go back to edgy's original driver, just uninstall the ''xserver-xorg-video-intel'' package. Xrandr will not work without it, so you'll have to reinstall edgy's packages (mesa, xrandr, etc.) if you want your Xrandr 1.1 to go back.

=== cpufreq applet ===

By default, the system controls itself the CPU frequencies (it gives more if needed), which is perfect for most people. If you want to control manually the CPU frequencies and governors with the applet, you must execute it with superuser privileges. In order to do this, run this command:
<pre>
sudo dpkg-reconfigure gnome-applets
</pre>

=== Sleep and hibernate ===

Sleep works fine in feisty, even with NetworkManager, which causes sleep to fail. Hibernate works fine too. 3D desktop seems to bug the process.

 ''Sleep problems can be alleviated by changing cpu scaling to "powersave" prior to suspend and back to "ondemand" during resume via scripts in /etc/acpi  (refer to: http://www.thinkwiki.org/wiki/Problems_with_ACPI_suspend-to-ram ).  Note: I do not use NetworkManager, although it works *great* with wifi-radar assuming you set up a script in /etc/acpi/resume.d to restart wifi-radar on resume-- <nowiki>[[derp]]</nowiki> ''

=== Sound ===

The ''snd-hda-intel'' driver is used for sound. It works out of the box with Edgy.

 ''At first it worked here too. Then, after a while using Edgy it didn't work also, like in Feisty, which I tried also. Perhaps some update (which also affecting Feisty because it is the newer version) affected it that it stopped working? -- <nowiki>[[mpathy]]</nowiki> ''
  Sound strange... I run Edgy with the latest updates, and I have no problem with sound (except the HP/speakers issue that I patched). Do you use the Edgy 2.6.17-10-generic kernel? -- <nowiki>[[Dhenry]]</nowiki>
   ''I do (uname says: 2.6.17-10-generic #2 SMP Tue Dec 5 22:28:26 UTC 2006 i686 GNU/Linux) and the guy from the other Lenovo 3000 N100 test (this one:  <nowiki>[[LaptopTestingTeam-Lenovo3000N100]]</nowiki> here) seem to have the same problem - whats going wrong there and here not? Are there different cards built in @ Lenovo? But I think I install Ubuntu again from scratch, I get a newer and bigger harddisk and then it would be a oppurtunity to test it on a brand new installation. <nowiki>[[mpathy]]</nowiki> ''

Internal speakers do not mute when plugging the headphones. A work-around consisted of unchecking the “External Amplifier” box in the sound panel applet, but it caused severe sound degradation. Moreover, it is not the right way to mute the speakers, it just disable an amplifier which causes the loss of quality.

I hacked a bit alsa-driver-1.0.14rc1 and wrote a little patch, not perfect but the result is still better than without. Here is how to install alsa 1.0.14rc1 with the patch:
<pre>
wget ftp://ftp.alsa-project.org/pub/driver/alsa-driver-1.0.14rc1.tar.bz2
wget ftp://ftp.alsa-project.org/pub/lib/alsa-lib-1.0.14rc1.tar.bz2
wget ftp://ftp.alsa-project.org/pub/utils/alsa-utils-1.0.14rc1.tar.bz2
wget http://tfc.duke.free.fr/coding/hdaintel-laptop-eapd.patch

tar -xvf alsa-driver-1.0.14rc1.tar.bz2
tar -xvf alsa-lib-1.0.14rc1.tar.bz2
tar -xvf alsa-utils-1.0.14rc1.tar.bz2

cd alsa-driver-1.0.14rc1
patch -p1 < ../hdaintel-laptop-eapd.patch
./configure --with-cards=hda-intel --with-sequencer=yes --with-oss=yes
make
sudo make install
cd ..

cd alsa-lib-1.0.14rc1
./configure
make
sudo make install
cd ..

cd alsa-utils-1.0.14rc1
./configure
make
sudo make install
cd ..
</pre>

Then reboot. You may have to unmute your sound card after the first reboot.

 '''Warning:''' ''I did a fresh install of Edgy 6.10 on my 0768 A53, applied the automatic updates which gave me kernel 2.6.17.11-generic, and then followed the steps above. After I rebooted, my system froze during startup. After five minutes I got the following message: udev-event[2749]: run_program: '/sbin/modprobe' abnormal exit. I can not boot with the 2.6.17-11 kernel at this point. Rebooted into the original 2.6.17-10 kernel, applied the steps above, and it locks during boot too.'' --<nowiki>[[Kmu2]]</nowiki>
  That's strange, I updated my kernel to 2.6.17-11 too, then rebuilt and reinstalled the alsa-drivers (only this package, didn't touch to alsa-utils and alsa-lib) and it still works here. --<nowiki>[[Dhenry]]</nowiki>
    I should note that I also tried <nowiki>[[http://ubuntuforums.org/showthread.php?t=332472|this]]</nowiki> approach after performing a clean installation; in summary, installing alsa-driver-1.0.14rc1 caused my crash. When I went to #alsa at irc.freenode.net, someone said I was being silly because rc2 is current. --<nowiki>[[Kmu2]]</nowiki> 

There is one issue still remaining: when Master volume if muted in sound controls and when you unplug the headphones jack, then it will unmute the speakers too (where it shouldn't). You'll have to remute them manually... For those who are interested in tracking it down, see the ''ad1986a_laptop_eapd_automute()'' function given by the patch.

'''Here is an alternate way of applying the patch to alsa without modifying too much the ubuntu installation :'''

I only took alsa-driver-1.0.14rc2, applied the patch and after i did :
<pre>
./configure --with-cards=hda-intel
make
make install_modules
</pre>
and only snd-hda-intel was replaced with a working version (note that i dont think that using rc2 or rc1 change something but since there was some fix for other problems in rc2, i chosen this one :) -- <nowiki>[[kaouete]]</nowiki>

=== Function keys and special keys ===

There are four Fn keys which aren't working out of the box, but user can set them with the ''setkeycodes'' command. There is also a special “Lenovo Care” button, which can be set via this command. However, I don't know yet how to affect the Fn keys to the task there should do (sleep, toggle WLAN, switch display and hibernate).

Here is an example of how to activate the Lenovo Care button (scancode = e034):
<pre>
setkeycodes e034 129
</pre>

It will attach the keycode “129” to it, then you can configure it in Gnome keybinding properties (if you use Gnome).

In order to get the keys recognized after each boot, you must put these lines in an init script (in /etc/init.d/):
<pre>
setkeycodes e034 129
setkeycodes e017 130
setkeycodes e016 131
setkeycodes e041 132
setkeycodes e018 133
exit 0
</pre>

=== Fingerprint reader ===

The fingerprint reader does not work out of the box. I don't know if it will be supported one day, anyway there is a wiki page about <nowiki>[[FingerprintAuthentication]]</nowiki>.

 ''Here my information is, that it is possible to use it. There are few How-To's out there, most for Thinkpads, which have mostly a Upek Fingerprint Reader, but there are also a few How-To's for the AuthenTec Fingerprint Reader. I haven't tried out them yet - laptop is quite new and I didn't had the time to do it - but it is confirmed that the fingerprint reader works, from 2 or 3 different people's websites. -- <nowiki>[[mpathy]]</nowiki> ''

Here is a program using the fingerprint reader:
* http://www.ag-networking.com/

I have a segfault for the ''biologin'' program, but the basic driver works! Give a try to ''usbrunner''. You can find it in both AES packages on this page. It will create a ''finger.xpm'' picture file in the same directory where the program is.

There is people at debian working on it too : http://wiki.debian.org/FingerForce

=== Webcam ===

There is an integrated Webcam in this laptop. ''lsusb'' tells me that it's a Microdia (0c45:624f), which should use a S``N``9``C201 driver. Currently it seems that there is no driver which supports it.
  
 ''I've seen a website which listed this model not under the sn* - drivers, but under the linux-uvc (USB Video Class) drivers. Perhaps it works with that. The author of the SN* driver also wrote that he would do it and would have done it already, if the support of the manufacturer of these cams (Sonix) would be there. He had to do the last driver completey on his own. Perhaps if a mail or friendly phone call questioning about that from some higher place (Canonical Ltd. - if I understand it right, they also will help in such ways? Or Canonical -> Lenovo -> Sonix because of the linux policys of Lenovo which assured the will now again really support Linux) - would arrive them, they would be more cooperative? Im just curious. -- <nowiki>[[mpathy]]</nowiki> ''
  
  ''The driver is under development, two different people working on it (but sadly NOT together). But its good news. For more information looking on the linux-uvc mailinglist of January 2007.'' (http://www.mail-archive.com/linux-uvc-devel@lists.berlios.de/msg00542.html)

=== Card reader ===

It seems that there are three or four devices for the card reader:
<pre>
05:06.1 Class 0805: Ricoh Co Ltd R5C822 SD/SDIO/MMC/MS/MSPro Host Adapter (rev 19)
05:06.2 System peripheral: Ricoh Co Ltd Unknown device 0843 (rev 01)
05:06.3 System peripheral: Ricoh Co Ltd R5C592 Memory Stick Bus Host Adapter (rev 0a)
05:06.4 System peripheral: Ricoh Co Ltd xD-Picture Card Controller (rev 05)
</pre>

The card reader can take xD-Picture, MS, MS PRO, MMC, SD and SDIO cards. The xD-Picture card is not supported (and will probably not be supported for some time, since it's a proprietary format). Other cards haven't been tested.

=== Note about different N100 models ===

''Judging from the Lenovo website, there seems to be an enormous amount of different models even within the N100 0768 subtype, and these cover a wide range of hardware configurations.  While the bulk of this page covers the B9G model, I can report the following differences in using the A53 model with Ubuntu 6.10 and kernel 2.6.17-11-generic:''

* ''The Wireless NIC uses the infamous Broadcom 4311 chipset, which is known to be problematic.  To get the wireless NIC to work (including NetworkManager and WPA support), I had to install ndiswrapper, and  <nowiki>[[https://help.ubuntu.com/community/WifiDocs/Device/Broadcom_BCM4311_rev_01_(ndiswrapper)|this]]</nowiki> link proved particularly helpful.  Note that I used the Windows XP drivers for the Broadcom chipset, available from the Lenovo website.''

* ''Sound did not work out of the box at all, though it uses the same Intel 82801G chipset as above.  As suggested in the forums, adding "acpi=ht" to the GRUB boot command enabled sound; however, this disables some parts of the ACPI (power management), and the above-mentioned headphone/laptop speaker issue also appears.  Furthermore, no "external amplifier" option seems to be available for this model, so muting the laptop speakers probably requires patching/recompiling alsa.  I did not try this route.
-- <nowiki>[[agklein]]</nowiki> ''

=== External Links ===

Usefull sites (by N``Petr):

==== General links ====
* http://fialky.com/drupal-5.0/?q=forum a forum on Lenovo 3000

==== Lenovo N100 ====
* http://gibreel.net/gentoo-on-lenovo-3000-n100/
* http://www.ggolec.netcom.jaw.pl/?page_id=30
* http://gentoo-wiki.com/HARDWARE_Lenovo_3000_N100
* http://linuxwiki.de/MarkusMajer/Lenovo3000N100
* http://www.linux-games.ca/?p=88

==== SN9C201 (webcam) ====
* http://mxhaard.free.fr/spca5xx.html
* http://linux-uvc.berlios.de/
* http://gkall.hobby.nl/sn9c10x.html
* http://www.linux-projects.org/modules/news/
* http://sonix.sourceforge.net/
* http://tgnard.free.fr/linux/
* http://bertrik.sikken.nl/
* http://users.skynet.be/chricat/SweexCam.html
* http://www.medias.ne.jp/~takam/bsd/NetBSD.html#sonix

==== AES2501 (fingerprint reader) ====
* http://www.qbik.ch/usb/devices/showdev.php?id=3444
* http://gkall.hobby.nl/authentec.html
* http://www.ag-networking.com/
* http://www.csz-online.de/projects/aesxxxx-linux/
* http://www.suseportal.cz/kucharka_pro_zprovozneni_ctecky_otisku_prstu_na_notebooku_ibm_thinkpad
* http://www.novell.com/coolsolutions/trench/16727.html
* http://www.thinkwiki.org/wiki/How_to_enable_the_fingerprint_reader
* http://wiki.debian.org/FingerForce

==== R5C592 (card reader) ====
* http://mmc.drzeus.cx/wiki/Linux/Drivers/sdhci
* http://www.thinkwiki.org/wiki/How_to_get_the_internal_SD-CARD_working

----
CategoryLaptop

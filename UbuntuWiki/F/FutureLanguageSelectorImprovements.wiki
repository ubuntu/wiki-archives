{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:foo
* '''Created''':
* '''Contributors''': 
* '''Packages affected''': language-selector

=== Summary ===

Add new functionality to language-selector. This is not bound to any specific release, but merely a collection of what needs to be done in future releases.

=== Release Note ===

TBD

=== Rationale ===

Users have requested additional features, like detailed locale settings and user based language settings instead of only providing the system wide settings.

from bug reports
{| class="wikitable"
|-
| <style="border:0px;">- Language selector should allow selecting newly marked languages as the default immediately (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/language-selector/+bug/138224|bug #138224]]</nowiki>)
|-
| <style="border:0px;text-decoration:line-through;">- Language selector does not suggest installing support for the default language (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/language-selector/+bug/289165|bug #289165]]</nowiki>)
|-
| <style="border:0px;">- Language selector only suggests installing partial language support for the default language (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/language-selector/+bug/311228|bug #311228]]</nowiki>)
|}
 
* when update-notifier becomes available it could notice that the missing language 
   packages can now be installed now and prompt for it (basicly 
   dpkg --set-selections, apt-get dselect-upgrade)
* update-manager/python-apt should check the dselect database
* make sure it works in kde

* From https://wiki.ubuntu.com/BetterDesktopCDLanguageSupport:
** Installer could suggest enabling Internet connection and downloading language packs automatically, when a non-English language is selected [note: it has been noted by the ubiquity developer that post-install suggestion, now implemented, is preferable]

* programmatic interface to install missing langpacks/support stuff to make installer/oem install happy - they set something like "install this at the next opportunity"
** dpkg --set-selections, have either apt or update-manager honor this

=== Use Cases ===

* Bob lives in Finland, but prefers his desktop to be in English. Since the English locales don't use the metric system, he would like to have more fine grained control over his environment variables and set the relevant ones to use fi_FI instead.

* A Brazilian user found that not all applications are fully translated into Brazilian Portuguese. Instead a fallback to general Portuguese is used. Since Brazilian Portuguese differs a lot from Portuguese spoken in Portugal, he would prefer US English as a fallback instead.

=== Design ===

* manipulate system locale variables (root)
* manipulate user locale variables
* give the user the choice over the fallback language for his locale.

=== Implementation ===

==== UI Changes ====

Should cover changes required to the UI, or specific UI that is required to implement this

* FIXME: add mockups from mpt

==== Code Changes ====

* Store the LC_* settings into ~/.locales
* Source ~/.locales into ~/.profile
* If variables are already set in the environment, but ~/.profile does not include ~/.locales, just display the values, but do not allow changing them
** look at gnome control center source code for their implementation http://svn.gnome.org/viewvc/gnome-control-center/trunk/capplets/localization
* langpack split (also affects langpack-o-matic):
** split Chinese into Simplified and Traditional Chinese
** split Portuguese into Portuguese and Brazilian

==== Migration ====

Include:
* data migration, if any
* redirects from old URLs to new ones, if any
* how users will be pointed to the new way of doing things, if necessary.

=== Test/Demo Plan ===

TBD

=== Unresolved issues ===

This should highlight any issues that should be addressed in further specifications, and not problems with the specification itself; since any specification with problems cannot be approved.

=== BoF agenda and discussion ===

Use this section to take notes during the BoF; if you keep it in the approved spec, use it for summarising what was discussed and note any options that were rejected.

----
CategorySpec

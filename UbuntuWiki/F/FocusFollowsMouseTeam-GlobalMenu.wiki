{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

This page is intended to work on a solution to problems with the global app menu in Unity when used with Focus Follows mouse. It belongs to the FocusFollowsMouseTeam. There is a <nowiki>[[https://bugs.launchpad.net/unity/+bug/674138|bug report in Launchpad]]</nowiki> (#674138).

=== Proposed solutions ===

==== Remove the top menu completely ====

By uninstalling certain packages you can completely disable the global menu. This is an easy workaround for all of these problems. We should certainly make sure that this is as easy as possible and fix any bugs that arise from this setup.

Arguably we are missing out on the global menu functionality in this case.

==== Only show the top menu for maximised windows ====

This is an interesting compromise. It still allows you to save space with a maximized window, and removes all confusion in every case. Arguably someone with limited screen space is going to maximise their window so it makes a lot of sense.

Possibly this would also be of interest to users of click-to-focus?

==== Always merge the menu into the titlebar ====

This is an interesting way of keeping the space saving without moving menus to the top. The main issue is that it reduces the area of the title bar you can grab. For people using alt+mouse to move windows (and users of focus-follows-mouse really should be) this might not be a huge issue.

Interestingly it seems that you can move any window by grabbing the menu bar with no modifier keys. I don't remember this being the case before and am not sure when it started.

==== Show the menu for the highest window ====

With this solution you have to raise a window before you can use it's menu. This seems to entirely defeat the point of focus follows mouse and so will probably be discounted.

==== Show the menu for the last window clicked ====

This is an interesting suggestion. It is similar to how the global menu is designed to be used. It remains to be seen whether it would work in practice. Some kind of indication would probably needed to identify the active window.

Possibly something other than the "last click" could change the window for which the menu is active. For example clicks in the title bar, with a different button, or with a modifier pressed.

==== Detect movement to the menu and prevent it from changing ====

The idea here is that a movement from an app directly to the menu should be easy to distinguish from other mouse movements. An interesting idea although it might detract slightly from the "instant" feeling of changing windows with click-to-focus.

Some possible implementations:

* Delay the focus-follows-mouse until the mouse stops.
* Delay the menu change until the mouse stops, but still change the focused window straight away.
* Change both the menu focus and the window focus back once the user completes a move to the menu bar.

==== Hold a modifier key to prevent menu changing ====

For example, the alt key, which is already associated with menus. This could prevent focus changes as well possibly.

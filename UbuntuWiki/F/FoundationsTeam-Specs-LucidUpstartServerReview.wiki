{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:foundations-lucid-upstart-server-review
* '''Created''': SteveLangasek
* '''Packages affected''': upstart, samba, lsb, vmbuilder, ifupdown

=== Summary ===

A number of regressions related to functionality needed by Ubuntu Server were introduced in Ubuntu 9.10 by the upstart conversion.  These need to be identified and resolved for 10.04 LTS.

=== Release Note ===

This section should include a paragraph describing the end-user impact of this change.  It is meant to be included in the release notes of the first release in which it is implemented.  (Not all of these will actually be included in the release notes, at the release manager's discretion; but writing them is a useful exercise.)

=== Rationale ===

Regressions are bad.  Regressions in the LTS release of a server are really bad.

=== User stories ===

=== Assumptions ===

=== Implementation ===

==== localhost for rc2 ====

* rc2 currently does not wait for localhost
* the naive fix will cause problems with being able to reboot systems because the rc job is the same in both cases
* which services need this?
** dnsmasq
** samba
** https://bugs.launchpad.net/ubuntu/+source/samba/+bug/462169
** The server team should identify other affected services, so that we know to deal with these when doing upstart conversion later

==== bridged and bonded interfaces ====

* anything that aggregates physical network devices is affected
* these need to be moved to event-based initialization, keying on the underlying physical interfaces being available
* a new mountall-like tool that will bridge ifupdown into upstart
** replaces /etc/init/network-interface.conf
** everything is then event-based, up to and including lo

==== init script output doesn't go to console on UEC ====

* The lsb functions will do the right thing
** Scott will upload fixed lsb package after plymouth is in the archive
* uec-specific changes to redirect output (the tee hack) should be reverted

==== unexpected semantics of 'restart' when an upstart job changes ====
* "restart" doesn't do what people think it does
* create a migration document for upstart
** wiki page, based on README.Debian

=== Unresolved issues ===

* upstart job output doesn't support distinguishing between success and failure output
* no way to debug upstart failures after the fact
** could be addressed by upstart caching log entries until syslog starts, but not for lucid
 
=== BoF agenda and discussion ===

Use this section to take notes during the BoF; if you keep it in the approved spec, use it for summarising what was discussed and note any options that were rejected.

----
CategorySpec

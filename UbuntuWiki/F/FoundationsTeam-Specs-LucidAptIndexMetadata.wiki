{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:foundations-lucid-index-based-downloads-client
* '''Created''': MichaelVogt
* '''Packages affected''': apt

=== Summary ===

Apt should provide a mechanism to extend it so that it downloads additional metadata on a apt-get update. This metadata may be opaque to apt itself.

=== Release Note ===

TBD

=== Rationale ===

Its important to keep the Packages data and any additional meta-data in sync. The natural way of doing this is to provide a mechanism in libapt itself that will fetch the required files.

=== User stories ===

Joe uses software-center and gets a new icon and application in the software-center when acrobat reader becomes available.

=== Design ===

Apt is extended so that it can download additional indexfiles. Packages that require such metadata (like debtags or software-center) should just drop in a configuration file into the right directory to make apt download it. The native apt configuration format should be used. In the future a plugin system for more complicated use-cases should be added.

Download failures of additional meta-data should not be fatal. A configuration item like 
<pre>
Acquire::Deb::AdditionalIndexFiles { "debtags"; "app-install"; };
</pre>
maybe with simple substitutions to allow multiple languages.
  
Configuring by "Origin" (from the Release file) should be considered so that it can be limited to e.g. Ubuntu (or debian) hosts. But given the low overhead its not strictly a requirement.

=== Implementation ===

See work items in the blueprint.

=== Test/Demo Plan ===

A test archive with some additional files needs to be created to test if the download is actually working.

=== Unresolved issues ===

* Signature handling
* triggering application processing
* diffs

----
CategorySpec

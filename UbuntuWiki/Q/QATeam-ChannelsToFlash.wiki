{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Flashing Devices ==
This is to confirm the command line you should use to freshly wipe your devices ready for testing different sections of the image.

You will need to install phablet-tools package on the version of ubuntu you are running.
<pre>
sudo apt install phablet-tools
</pre>

=== Flashing the Current Release ===
==== Image Testing Channels ====
These channels are used for silo and regression testing

BQ Aquaris e4.5 (Krillin): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/bq-aquaris.en --recovery-image recovery.img
</pre>

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Meizu MX4 (Arale): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/meizu.en --recovery-image recovery-arale.img
</pre>

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Nexus 4 and Nexus 7 (Mako and Flo): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/ubuntu
</pre>

Nexus device need no recovery image as adb is not disabled by default in the recovery image.

==== Testing Custom Tarballs ====
These channels are used to flash pending custom tarballs for testing for approval.

Krillin: <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/bq-aquaris.en-proposed --recovery-image recovery.img
</pre>

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Arale: <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/meizu.en-proposed --recovery-image recovery-arale.img
</pre>

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Frieza: <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --device frieza --channel ubuntu-touch/rc-proposed/bq-aquaris-pb.en-proposed --recovery-image recovery-frieza.img
</pre>

Recovery image can be obtained from http://people.canonical.com/~abeato/avila/recovery-frieza.img

Nexus devices have a custom tarball but it is automatically added to the ubuntu tarball

==== Testing Device Tarballs ====
First download the required tarball.  This will be linked to in email and via <nowiki>[[https://docs.google.com/a/canonical.com/spreadsheet/ccc?key=0Ahfru_NNQUKMdEZzQ3VHV0xHS3RKcERudVljcXQycWc#gid=50|The CI Spreadsheet]]</nowiki> <<BR>>
You will then need to create a disable-gpg.sh script with the following lines.
<pre>
# !/bin/bash
adb shell mkdir -p /etc/system-image
adb shell touch /etc/system-image/skip-gpg-verification
adb shell system-image-upgrader /cache/recovery/ubuntu_command
adb reboot
</pre>

BQ Aquaris e4.5 (Krillin): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/bq-aquaris.en --recovery-image recovery.img --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

/!\ To ensure you have the device tarball installed cat /etc/device-build the number should match the image you installed.

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Meizu MX4 (Arale): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode <<BR>>
With arale currently the device tarball stops the install of the rest of the system, so you first need to Flash the system normally to get the latest custom and ubuntu systems on, see <nowiki>[[https://wiki.ubuntu.com/QATeam/ChannelsToFlash#Image_Testing_Channels|Image Testing Channels]]</nowiki> for more info, Then run the bit below.
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/meizu.en --recovery-image recovery-arale.img --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

/!\ To confirm the tarball is installed correctly cat /android/cache/device-build and it should match the image you installed.

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Nexus 4 and Nexus 7 (Mako and Flo): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/rc-proposed/ubuntu --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

Nexus device need no recovery image as adb is not disabled by default in the recovery image.

=== Flashing the Next Release ===
==== Image Testing Channels ====
These channels are used for silo and regression testing

BQ Aquaris e4.5 (Krillin): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/bq-aquaris.en --recovery-image recovery.img
</pre>

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Meizu MX4 (Arale): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/meizu.en --recovery-image recovery-arale.img
</pre>

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Nexus 4 and Nexus 7 (Mako and Flo): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/ubuntu
</pre>

Nexus device need no recovery image as adb is not disabled by default in the recovery image.

==== Testing Custom Tarballs ====
These channels are used to flash pending custom tarballs for testing for approval.

BQ Aquaris e4.5 (Krillin): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/bq-aquaris.en-proposed --recovery-image recovery.img
</pre>

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Meizu MX4 (Arale): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/meizu.en-proposed --recovery-image recovery-arale.img
</pre>

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Nexus devices have a custom tarball but it is automatically added to the ubuntu tarball

==== Testing Device Tarballs ====
First download the required tarball.  This will be linked to in email and via <nowiki>[[https://docs.google.com/a/canonical.com/spreadsheet/ccc?key=0Ahfru_NNQUKMdEZzQ3VHV0xHS3RKcERudVljcXQycWc#gid=50|The CI Spreadsheet]]</nowiki> <<BR>>
You will then need to create a disable-gpg.sh script with the following lines.
<pre>
# !/bin/bash
adb shell mkdir -p /etc/system-image
adb shell touch /etc/system-image/skip-gpg-verification
adb shell system-image-upgrader /cache/recovery/ubuntu_command
adb reboot
</pre>

BQ Aquaris e4.5 (Krillin): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/bq-aquaris.en --recovery-image recovery.img --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

BQ recovery.img is located at http://people.canonical.com/~jhm/barajas/recovery.img

Meizu MX4 (Arale): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/meizu.en --recovery-image recovery-arale.img --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

Meizu recovery-arale.img is the renamed recovery.img located at http://people.canonical.com/~alextu/tangxi/recovery/recovery.img

Nexus 4 and Nexus 7 (Mako and Flo): <<BR>>
First enable developer mode on the device this is located in system-settings→About Phone→Developer Mode
<pre>
adb reboot bootloader
ubuntu-device-flash touch --bootstrap --channel ubuntu-touch/devel-proposed/ubuntu --device-tarball <path to device-tarball.tar.xz> --run-script ~/disable-gpg.sh
</pre>

Nexus device need no recovery image as adb is not disabled by default in the recovery image.

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


* '''Launchpad Entry''': UbuntuSpec:qa-bug-patch-workflow
* '''Created''': 2008-12-01
* '''Contributors''': bdmurray, dholbach

=== Summary ===

There are approximately 1900 bug reports about Ubuntu with attachments flagged as patches and an unknown number of bug reports with attachments that are patches that are not flagged. How can the Bug Squad help review these patches and facilitate the fixing of bugs with patches?

=== Rationale ===

Bugs with patches attached may be low hanging frit for developers to apply ready prepared fixes. The bug may also be stalled in this state with an unsuitable patch attached. More targeted triage would help identify both. 

Patches are a good way for new developers to start contributing to Ubuntu. We should improve the turn-around time to encourage new contributions.

=== Use Cases ===

* Amanda maintains a package in Ubuntu. She reviews bugs with patches once a week. A structured triage process improves her workflow and her collaboration with patch submitters and the Bug Squad.
* Andy is a Bug Squad member. In the past he has ignored bugs with patches, assuming they were in the realm of developmment. With a clear procedure he can help move these important bugs along.
* Zaid is makes his first code contribution to Ubuntu by patching a printer PPD file. He's encouraged when his patch is triaged and integrated quickly.

=== Implementation ===

==== Wiki Changes ====

* Create Bugs/Patches
** DONE - include information on what qualifies as a patch
** DONE - include a link to launchpad-greasemonkey-script that turns patches into stars
** DONE - include screenshots regarding how to flag an attachment as a patch and unflag an attachment
** DONE - e-mail Bug Squad regarding wiki page
* DONE - Add patch replies to Bugs/Repsonses
* DONE - Add links to bugs with <nowiki>[[ http:--qa.ubuntu.com-reports-launchpad-database-unfixed-bugs-with-patches.html | patches flagged report ]]</nowiki>
* DONE -Add links to bugs with <nowiki>[[ http:--qa.ubuntu.com-reports-launchpad-database-bugs-with-unmarked-patches.html | unflagged patches(?) report ]]</nowiki> 
* Document Patch Workflow
** If a bug has a patch common actions include:
*** DONE - subscribe the appropriate sponsoring team to the bug if they are not subscribed and if something needs uploading
*** forward the patch upstream because it is wishlist etc...
*** set to work on later because we are at the wrong time in the release cycle
* Create a list of patches reports
** DONE - patches in sponsoring queue
** patches flagged as later
** patches needing forwarding
** patches that have been forwarded
** everything else

==== Code Changes ====

* Write scripts for flagging / unflagging patches and adding comments and add to ubuntu-qa-tools
* DONE - Modify unfixed-bugs-with-patches report to not include bugs a sponsorship team is subscribed to(?)
* DONE - Update patches reports to use new Launchpad report formatting

=== BoF agenda and discussion ===

==== Agenda ====

* Define the criteria for what can / should be flagged as a patch
* Define process for bugs with attachments flagged as patches that are not
** <nowiki>[[http://qa.ubuntu.com/reports/launchpad-database/unfixed-bugs-with-patches.html | Possible examples]]</nowiki>
* Define process for bugs with attachments that are patches and are not flagged
** <nowiki>[[http://qa.ubuntu.com/reports/launchpad-database/bugs-with-unmarked-patches.html | Possible examples]]</nowiki>
* Define process for bugs with attachments that are patches and are flagged
* How to identify attachments that are flagged as patches
** There is a <nowiki>[[http://bazaar.launchpad.net/%7Egm-dev-launchpad/launchpad-gm-scripts/master/annotate/62?file_id=lp_patches.user.js-20080508051609-8g2nzqpedyp64re5-1 | greasemonkey script]]</nowiki> for this but it should happen in <nowiki>[[https://bugs.launchpad.net/malone/+bug/232449 | Launchpad]]</nowiki>
* Discuss how people could test patches

==== Discussion ====

Define the criteria for what can / should be flagged as a patch
* not necessarily a debdiff, it can be a patch
* anything that will fix the bug is considered a patch - persia

There are different states of patches
* "patches" that need reviewing
* "patches" that have been reviewed but need work
* "patches" that need uploading

Idea 
* patch review system in Launchpad like a merge proposal

Mark 
* patches should really be pulled into branches / a new branch made from patches
* don't create a workflow for patch review and branch review - only use one workflow

dholbach's Patch Review whiteboard notes:
*** not a patch - unflag and educate
*** patch:
***** needs work - bug tags?
***** needs testing - bug tags?
***** needs to go upstream - forward the bug report (flag for forwarding)
***** later? - if it can't be implemented in the current development release milestone the bug
***** can be uploaded - sponsorship queue (subscribe u-u-s or u-s)

It is not discoverable that one of two teams need to be subscribed to the bug report for the patch to get uploaded

----
CategorySpec

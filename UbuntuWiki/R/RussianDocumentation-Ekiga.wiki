{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Предыдущее: <nowiki>[[InternetAndNetworking| Интернет и Сеть]]</nowiki>

Экига - стандартная программа Интернет телефонии (VoIP) в Убунту. Она даёт возможность общаться в Интернет по средством передачи сообщений, аудио и видео потоков с людьми, ...
Ekiga is the default Internet telephony (VoIP) application in Ubuntu. It lets you make audio and video calls over the Internet to people who have hardware or software that follows the <nowiki>[[http://en.wikipedia.org/wiki/Session_Initiation_Protocol|SIP]]</nowiki> or <nowiki>[[http://en.wikipedia.org/wiki/H.323|H.323]]</nowiki> standards. Ekiga also features basic instant messaging.

Ekiga has a rubust and wide support for multimedia, and is compatible with Windows Messenger and most VoIP applications. Ekiga cannot communicate with Skype because it uses proprietary technology. If you have the right SIP provider, you can also use Ekiga to place calls to any normal phone line. 

 <nowiki>[[File:ekiga.png]]</nowiki>

=== Desktop interoperability ===
Ekiga works with Linux or <nowiki>[[http://ekiga.net/misc/ekiga-setup-2.0.10-BETA.exe|Windows]]</nowiki>. For Mac OS, you can use the free software <nowiki>[[http://xmeeting.sourceforge.net/pages/index.php|xmeeting]]</nowiki>.

Ekiga is compatible with Netmeeting (H.323, windows), Windows Messenger (SIP, Windows, <nowiki>[[http://wiki.ekiga.org/index.php/Connecting_Windows_Messenger_5.1_to_ekiga.net|how to configure Windows Messenger for ekiga.net]]</nowiki>), <nowiki>[[Gizmo]]</nowiki> (SIP, multi-platform), and <nowiki>[[http://wiki.ekiga.org/index.php/Which_programs_work_with_Ekiga_%3F|other programs listed on the Ekiga documentation]]</nowiki>.

<nowiki>[[http://code.google.com/apis/talk/open_communications.html#service_4|Googletalk is working to implement the industry standard SIP]]</nowiki> which will make it possible to communicate with Ekiga users in the future.

=== Первое применение ===

When you start Ekiga for the first time, the 10 step '''Configuration druid''' will help you to correctly configure Ekiga. It is '''strongly''' recommended that you complete the druid.

<nowiki>[[http://wiki.ekiga.org/index.php/Configuring_Ekiga|More help about the druid]]</nowiki> (step-by-step)

==== How do I get a free sip:address ? (step 3/10) ====

At step 3 of 10 in the druid, you'll be asked for your Username and Password. You get them by registring in <nowiki>[[http://ekiga.net|ekiga.net]]</nowiki>. This will gives you a free sip:address. Choose a good Username, this is what you will be giving out to your contacts. A sip:address is a way to be reachable and to reach people. You can compare it to an e-mail address.

<nowiki>[[http://wiki.ekiga.org/index.php/Troubleshooting#Unable_to_register_to_ekiga.net_.3F|Please avoid specials characters for your password.]]</nowiki> Letters and numbers will do just fine.

<nowiki>[[File:Capture-FirstTimeConfigurationAssistant3.png]]</nowiki>

Just follow the link given in the dialog to get an account if you do not have one, then ﬁll in your username and password. 

Your address will be '''<code>sip:Username@ekiga.net</code>'''

Please press ’Forward’ after having entered all required information to continue. 

==== How do I place a call ? ====

When you're done the druid and if you have an account on <nowiki>[[http://ekiga.net|ekiga.net]]</nowiki>, you can call the echo test: <code>sip:500@ekiga.net</code> You'll be able to check if you can reach the service (the SIP network), if your sound setup is ok (you can hear yourself '''with a delay''') and if your webcam works (you can see yourself).

If you know the SIP address of the party that you wish to call, you may enter that adress into the '''sip: input box''' at the top of the screen and press the Connect button; eg: <code>sip:foo@ekiga.net</code> and pressing the Connect button would call the user at that address.

==== Can I use several sip:addresses ? ====
Yes. First you have to register to the provider (e.g. ekiga.net). Then to add your new sip:address, go to menu '''Edit -> Accounts -> Add'''

<nowiki>[[File:Capture-EdittheAccountInformation.png]]</nowiki>

{| class="wikitable"
|-
| Account name:
| enter the name for the '''Edit -> Accounts''' window
|-
| Registrar:
| ekiga.net (or another provider)
|-
| User:
| Your Username
|-
| Password:
| Your password
|}

=== Ekiga.net services (free calls PC-to-PC) ===

Ekiga.net is a free service (no ads) based upon Free Software (<nowiki>[[http://www.iptel.org/ser/|SER]]</nowiki> and <nowiki>[[http://www.asterisk.org/|Asterisk]]</nowiki>) ran by the Ekiga team.

==== Test service ====

Once you're registered to http://ekiga.net, you can test your setup and line quality by dialing the echo service: <code>sip:500@ekiga.net</code>

This service only works with <nowiki>[[http://en.wikipedia.org/wiki/G.711|PCMU]]</nowiki> or <nowiki>[[http://en.wikipedia.org/wiki/Ilbc|iLBC]]</nowiki> audio codecs, and the <nowiki>[[http://en.wikipedia.org/wiki/H.261|H.261]]</nowiki> video codec.

==== Audio conference server ====

If you are using ekiga.net as your VoIP provider, you can access a conference server via the aliases

* <code>sip:501@ekiga.net</code> to join the public conference room
* <code>sip:501XXXX@ekiga.net</code> where XXXX is the number of your choice representing the number of the room. 

[For example, a group of friends could meet in conference room 1122 by dialing <code>sip:5011122@ekiga.net</code>]

Using 501xxxx, you'll be asked for a "PIN number": dialing a number you can protect the access to your conference room or just dialing # will make this conference public.

==== How to place a call to other SIP providers (peering) ====

Peering is the term given to agreement between VoIP Service Providers which enables the users of one service to call users of another.

This is usually implemented by dialing a special prefix number and then the number of the receipitant (on the 'other' service). 

With Ekiga.net, you can use <nowiki>[[http://www.sipbroker.com/sipbroker/action/providerWhitePages|SipBroker prefixes]]</nowiki>.

Here are some exemples of prefixes:

{| class="wikitable"
|-
| Prefix
| Registrar
| Description
|-
| *282
| sip.broadvoice.com
| Broadvoice, do not work actually (2007 july)
|-
| *747
| proxy01.sipphone.com
| Gizmo/SIPPhone
|-
| *393
| fwd.pulver.com
| Freeworlddialup
|-
| *534
| sip1.voipbuster.com
| Voipbuster
|-
| *551
| sip.internetcalls.com
| internetcalls
|-
| *248
| voip.wengo.fr
| Wengo
|}

You can also use the special prefix *013 to place a call using <nowiki>[[http://en.wikipedia.org/wiki/Telephone_Number_Mapping|Enum]]</nowiki>. As prefixes do not have a standard, Enum tries to solve this situation.

Some numbers you can dial using Ekiga.net:

{| class="wikitable"
|-
| Number
| Description
|-
| <code>*8501800xxxxxxx@ekiga.net</code>
| US toll free numbers (1-800) <nowiki>[[http://www.ideasip.com/numbers.php|ideasip.com]]</nowiki>, <nowiki>[[http://inter800.com/|search US Toll Free numbers.]]</nowiki>
|-
| <code>*318411@ekiga.net</code>
| <nowiki>[[http://www.1-800-555-tell.com/|Tell me]]</nowiki> ixcall.net (Speech recognition)
|-
| <code>*248333@ekiga.net</code>
| Wengo echo test (France)
|-
| <code>*393613@ekiga.net</code>
| Freeworlddialup echo test
|-
| <code>*773505741837999@ekiga.net</code>
| Prato City Hall echo test (Italy)
|-
| <code>*74717475552663@ekiga.net</code>
| Freeconferencecall.com
|-
| <code>*7471101301@ekiga.net</code>
| Gizmo Echo test
|-
| <code>*74712220000000@ekiga.net</code>
| Party Line Sipphone.com
|-
| <code>*010600@ekiga.net</code>
| Voxalot.com (US) Echo test
|}

* <nowiki>[[http://wiki.ekiga.org/index.php/Fun_Numbers|More fun numbers in the Ekiga online documentation]]</nowiki>

==== How to search a contact in Ekiga White pages ====

People registered to Ekiga.net may be reached using the White Pages.

* Open the Address Book ('''Tools''' → '''Address Book'''), or click the address book button.
* Select "Ekiga White pages".

You can search the White pages by name, SIP address, or location. Up to 100 results are returned for any search.

==== Ekiga.net button for your web page ====

You can easily put a button on your web page showing your status: online or offline. If you're online, the visitor can place a call using the button.

Here is what will appear on your web page:

{| class="wikitable"
|-
| <nowiki>[[File:button-call-me.png]]</nowiki>
| <nowiki>[[File:button-offline.png]]</nowiki>
|}

In order to use it, simply add this to your web page:

<code><script src=”http://www.ekiga.net/status/presence.php?user=YOUR_ID_ON_EKIGA.NET”></script></code>

where YOUR_ID_ON_EKIGA.NET is simply your username. 

=== Register to a commercial VoIP provider (landline and mobile phones) ===

You can register to a commercial VoIP provider to place calls to normal phone line or cell phone. Ekiga allows you to register several VoIP providers.

==== Default provider ====

There is no obligation for you to use the default provider.

The default provider is <nowiki>[[https://www.diamondcard.us/|Diamondcard Worldwide Communication Service]]</nowiki>, which offers these <nowiki>[[https://www.diamondcard.us/exec/voip-rep-acc-type?priInc=/ekiga?sr%3D/secondary/e/ekiga%26pr%3D/templates%26ht%3D/templates&secInc=/ekiga?sr%3D/secondary/e/ekiga%26pr%3D/templates%26ht%3D/secondary/e/ekiga&secAbs=/home/diamond/secondary/e/ekiga&secRel=/secondary/e/ekiga&priAbs=/home/diamond/templates&priRel=/templates&secId=ekiga&lc=|rates]]</nowiki>

   1. To purchase the account, go in '''Tools -> PC-To-Phone Account'''. You absolutely need to purchase the account from the PC-To-Phone configuration window or it won't work.
   2. Wait for the mail that will give you a login and a PIN.
   3. Enter that login and PIN in the appropriate fields in the window and enable the PC-To-Phone service. 

You are now ready to do PC-To-Phone calls at very low rates all over the world.

To dial a number, simply add "00" followed by the country code, and by the phone number you want to reach. 

For example, sip:003210111111 to call number 10111111 in Belgium. 

==== Broadvoice Support ====
In order to setup Ekiga to work with <nowiki>[[http://www.broadvoice.com/|Broadvoice]]</nowiki> which offer those <nowiki>[[http://www.broadvoice.com/rateplans.html|rates]]</nowiki>, use the following settings.

Figure out which proxy is closest to you:

Ekiga Preferences:

* '''SIP Settings''' → '''Outbound SIP Proxy:''' proxy.broadvoice.com

* '''Codecs''' → '''Video Codecs''' → Disable (uncheck) video support or else you will get a codec error.

Account Information:

* Registrar: sip.broadvoice.com

* User: <10 digit broadvoice telephone number>

* Password: <obtained requesting it from broadvoice support>

* Authentication Login: <10 digit broadvoice telephone number>

* Realm/Domain: sip.broadvoice.com or Broadworks

In the case where you need to troubleshoot, start ekiga with 'ekiga -d 4'

==== How to set up a Gizmo account ====
<nowiki>[[http://gizmoproject.com/|Gizmo]]</nowiki> offers those <nowiki>[[http://gizmoproject.com/call-out-rates.php|rates]]</nowiki>.

To subscibe an account, go <nowiki>[[https://signup.sipphone.com/new-users/app?class=NewUser;proc=start|here]]</nowiki> and open a Sipphone account. Then, with your account number and your password go <nowiki>[[https://my.gizmoproject.com/gizmo/app?class=MySip&proc=start|there]]</nowiki>, you'll be prompted to choose a Gizmo name.

Now go to menu <code>Edit → Accounts → Add</code>

{| class="wikitable"
|-
| Account name:
| whatever you wish
|-
| Registrar:
| <code>proxy01.sipphone.com</code>
|-
| User:
| Your Gizmo number (1747xxxxxxx)
|-
| Password:
| Your password
|}

Then try the echo test: <code>sip:1393613@proxy01.sipphone.com</code>

==== How to set up a Wengo account ====

<nowiki>[[http://www.wengophone.com|Wengo]]</nowiki> offer this <nowiki>[[http://www.wengophone.com/index.php/aboutcallout|rates]]</nowiki>.

Once you've registered at https://secure.wengo.com/register/wengophone/index.php?yawl[S]=wengo.public.homePage&yawl[K]=wengo.subs_152.persistOffer&lang=eng 
, visit

<code>https://ws.wengo.fr/softphone-sso/sso.php?login=YOUR-EMAIL&password=YOUR-PASSWORD</code>

where <code>YOUR-EMAIL</code> and <code>YOUR-PASSWORD</code> are what you used when you registered your account. <nowiki>[[http://dev.openwengo.org/trac/openwengo/trac.cgi/wiki/GetYourWengoPlatformSipPassword|This will give you your real username and password]]</nowiki>:
<pre>
...
<userid>Username</userid>
...
<password>Password</password>
...}}}

Now go to menu <code>Edit → Accounts → Add</code>

{| class="wikitable"
|-
| Account name:
| whatever you wish
|-
| Registrar:
| <code>voip.wengo.fr</code>
|-
| User:
| the username from the ws.wengo.fr url above
|-
| Password:
| the password from the ws.wengo.fr url above
|}

Now try the echo test: <code>sip:333@voip.wengo.fr</code>

=== Configuration ===

This section covers the configuration of Ekiga.

==== Network ====
Ekiga is able to use a <nowiki>[[http://en.wikipedia.org/wiki/STUN|STUN server]]</nowiki>. In most cases the defaults should work fine, even for users of consumer-grade firewalls.

However, for advanced users or complex setups, here is the list of ports used by Ekiga:

{| class="wikitable"
|-
| Protocol
| Port
| Type of port
| Description
|-
| SIP
| 5000 to 5100
| UDP
| SIP signalling, listen port: 5060
|-
| STUN
| 3478 to 3479
| UDP
| Outgoing traffic to <nowiki>[[http://en.wikipedia.org/wiki/STUN|STUN servers]]</nowiki>
|-
| H323
| 1720
| TCP
| Listen port
|-
| H323
| 5000 to 5100
| UDP
| gatekeepers H.323
|-
| H323
| 30000 to 30010
| TCP
| H.245 channel for old implementations H.323 (Netmeeting)
|}

===== Several Ekigas on a LAN =====

There are several programs which allow copies of Ekiga to communicate with each other; you can use a SIP proxy (like <nowiki>[[http://siproxd.sourceforge.net/|Siproxd]]</nowiki>) or a PBX (like <nowiki>[[http://www.asterisk.org/|Asterisk]]</nowiki>. Further information about Ekiga and Asterisk can be found on the <nowiki>[[http://wiki.ekiga.org/index.php/Main_Page|Ekiga documentation]]</nowiki>), or you can use <nowiki>[[HowToZeroconf|Avahi]]</nowiki>.

====== Avahi ======

Avahi is the main implementation of <nowiki>[[http://en.wikipedia.org/wiki/Zeroconf|ZeroConf protocol]]</nowiki> under Ubuntu (known as Rendezvous or Bonjour on Mac OS X). This technology allows automatic discovery of services.

To set up Avahi, please follow the <nowiki>[[HowToZeroconf|Zeroconf Howto]]</nowiki>.

Other copies of Ekiga on the LAN should appear in the Address Book (third button on the left) if you double-click on ''Contacts Near Me''.

==== Sound ====

This section is about testing and changing the sound configuration in Ekiga.

===== Test your computer =====

The audio test in the configuration druid will show you if there is any audio problem.

In case of audio problem, to check if your computer meets the requirements for Ekiga, try this <nowiki>[[https://help.ubuntu.com/community/CommandlineHowto|command in a terminal]]</nowiki>:

{{{
$ arecord -D plughw:0,0 -c 1 -r 8000 -f S16_LE - | aplay -D plughw:0,0 -c 1 -r 8000 -f S16_LE -
</pre>

Now, speak into your microphone. You should be able to hear yourself in your headset with a small delay (approximately half a second). If it doesn't work as expected, first try to setup correctly your audio desktop configuration: make sure your microphone is not muted and the volume levels are OK.

===== Ekiga and other audio applications =====

Ekiga is capable of running simultaneously with other sound applications (like music and video players). The following directions should be enough to accomplish this:

From the '''Edit''' menu, choose '''Preferences''' → '''Devices''' → '''Audio Devices'''.

* Select "<code>ALSA</code>" as the audio plugin
* Select "<code>Default</code>" as output
* Select "<code>Default</code>" as input

Then, from the '''Edit''' menu, choose '''Preferences''' → '''General''' → '''Sound Events'''. Select "Default" as alternate device output.

* <nowiki>[[http://wiki.ekiga.org/index.php/Getting_several_applications_using_the_sound_card_at_the_same_time_%3F|Ekiga's documentation More about running Ekiga with other audio applications]]</nowiki>

==== Webcam ====

Ekiga does not require a webcam.

* <nowiki>[[Webcam| How to set up a webcam]]</nowiki>

===== Choosing the right webcam driver =====

The Linux kernel has two ways to communicate with video devices, the old v4l and the new v4l2. It's best to use v4l2, but some devices only support v4l.

From the '''Edit''' menu, choose '''Preferences''' → '''Devices''' → '''Video device'''.

* Try "'''v4l2'''” or "'''v4l'''” as video plugin

===== Choosing the right video device =====

If you have several video devices (like a TV card and a webcam) you will need to tell Ekiga which one to use:

From the '''Edit''' menu, choose '''Preferences''' → '''Devices''' → '''Video device'''. Change the channel number until you find the right one.

===== Test your webcam =====

To test your webcam, click the fourth of the six icons (a grey round webcam) on the left side of the main Ekiga window. If eveything is ok, you'll see the output of the webcam. If not, you'll see the Ekiga logo bouncing slowly.

=== Install the latest version ===
{| class="wikitable"
|-
| <tablestyle="text-align: justify; width:100%; " style="border:none;" 5%> <nowiki>[[File:IconsPage/warning.png]]</nowiki>
| <style="padding:0.5em; border:none;">''The following process uses non-official <nowiki>[[https://help.ubuntu.com/community/Repositories|repositories]]</nowiki>. They've been made by the Ekiga team which can't support them. Thus, if you run into trouble, you'll be on your own. The main reason you'll upgrade is the version shipped with Ubuntu is more than 1 year old (2.0.3 at best); many bug fixes have been contributed since (2.0.9).''
|}

<nowiki>[[Repositories/Ubuntu#head-155b53308911d4d3869b3650856a41550f57f891|Add the repository for your Ubuntu version]]</nowiki>:
* Ubuntu 7.04 Feisty i386 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/feisty_x86/ ./
</pre>
* Ubuntu 7.04 Feisty AMD64 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/feisty_amd64/ ./
</pre>
* Ubuntu 6.10 Edgy i386 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/edgy_x86/ ./
</pre>
* Ubuntu 6.10 Edgy AMD64 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/edgy_amd64/ ./
</pre>
* Ubuntu 6.06 Dapper i386 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/dapper_x86/ ./
</pre>
* Ubuntu 6.06 Dapper AMD64 :
<pre>
deb http://www.ekiga.org/admin/downloads/latest/ubuntu/dapper_amd64/ ./
</pre>

{| class="wikitable"
|-
| <tablestyle="text-align: justify; width:100%; " style="border:none;" 5%> <nowiki>[[File:IconsPage/warning.png]]</nowiki>
| <style="padding:0.5em; border:none;">''When upgrading the package list you'll get a warning about a public key and PGP as our packages aren't signed. This won't prevent you from upgrading to version 2.0.9.''
|}

=== Development snapshots ===

 <nowiki>[[File:Capture-Ekiga-SVN.png]]</nowiki>

You can get the latest development snapshots from <nowiki>[[http://snapshots.voxgratia.org/|snapshots.voxgratia.org]]</nowiki>. Installing them may solve problems you are experiencing, but be aware that the snapshots could also cause more problems. This package will install nearby your actual and stable version. The Ekiga team maintains this <nowiki>[[http://wiki.ekiga.org/index.php/Roadmap_to_3.00|roadmap to Ekiga version 3.0]]</nowiki>.

To install, follow this directions:

To add the security <nowiki>[[http://en.wikipedia.org/wiki/GNU_Privacy_Guard|GPG]]</nowiki> key to your portfolio, use this <nowiki>[[https://help.ubuntu.com/community/CommandlineHowto|command in a terminal]]</nowiki>:
<pre>
gpg --keyserver wwwkeys.de.pgp.net --recv-keys 52ABFCB1
gpg --export --armor 52ABFCB1 | sudo apt-key add -}}}

<nowiki>[[Repositories/Ubuntu#head-155b53308911d4d3869b3650856a41550f57f891|Add the repository for your Ubuntu version]]</nowiki>:
* Ubuntu 7.04 Feisty :
{{{
deb http://snapshots.ekiga.net/ubuntu/ feisty main
</pre>
* Ubuntu 6.10 Edgy :
<pre>
deb http://snapshots.ekiga.net/ubuntu/ edgy main
</pre>
* Ubuntu 6.06 Dapper :
<pre>
deb http://snapshots.ekiga.net/ubuntu/ dapper main
</pre>

Install the package '''ekiga-snapshot'''.

=== Edgy 6.10 Troubleshooting ===

==== Ekiga crash on exit ====

A bug in Ubuntu 6.10 makes <nowiki>[[http://bugzilla.gnome.org/show_bug.cgi?id=359655|Ekiga crash on exit]]</nowiki>. If you experience "bug buddy" showing up on exit, install <nowiki>[[http://bugzilla.gnome.org/attachment.cgi?id=76801&action=view|this package]]</nowiki> on your system.

'''Please, do not send a <nowiki>[[http://bugzilla.gnome.org/show_bug.cgi?id=359655|bug report about this issue]]</nowiki>.  Thank you.'''

==== The webcam shows only a grey image ====

<nowiki>[[https://help.ubuntu.com/community/Webcam?#head-836881f8aaa64508507ce1f2091b24b8aead02cb|Try this]]</nowiki>.

=== References ===

* To read the Ekiga Documentation : run Ekiga and press F1 (requires yelp)
* <nowiki>[[http://ekiga.org/|Ekiga website]]</nowiki>
* <nowiki>[[http://ekiga.org/index.php?rub=3|Ekiga FAQ]]</nowiki>
* <nowiki>[[http://wiki.ekiga.org//|Ekiga online documentation]]</nowiki>
* <nowiki>[[http://www.asterisk.org|Asterisk]]</nowiki> is a full featured PABX including VoIP facitlies which complement Ekiga's capabilities.

'''Ekiga needs you.''' <nowiki>[[http://mail.gnome.org/archives/ekiga-devel-list/2007-February/msg00041.html|Let's spread Ekiga!]]</nowiki>
----
CategorySoftware

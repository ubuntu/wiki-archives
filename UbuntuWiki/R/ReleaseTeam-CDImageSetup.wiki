{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

Release team members often need to work on the code which builds our CD images.  While there are public branches for this on Launchpad, for mostly historical reasons some of the master copies of these are actually hosted on the CD image build machine, and are readable/writable directly by Canonical staff with access to that machine (currently `cdimage-master`).

Please do not commit directly on `cdimage-master`.  Although our processes aren't the best, it's intended to be a production machine, not a development machine.  Please check out branches on your normal development system and commit there, and then deploy those commits to `cdimage-master`.

Setup (replace `cdimage-master` in the following with `cdimage-master.internal` if that's how you ssh to that machine):

<pre>
git clone lp:ubuntu-cdimage cdimage
git clone lp:~ubuntu-cdimage/debian-cd/+git/ubuntu debian-cd
git clone git+ssh://cdimage-master/srv/cdimage.ubuntu.com/git/private/production
</pre>

You can now `git pull` in each of those branches to update, `git commit` to commit, and `git push` to push changes to the server.

Make sure to run the tests before committing to lp:ubuntu-cdimage:

<pre>
./run-tests
</pre>

There are some test dependencies, documented in that script.

To deploy, as `cdimage@cdimage-master`:

<pre>
sudo -u cdimage -i
(cd ~/cdimage && git pull)
(cd ~/cdimage/debian-cd && git pull)
(cd ~/cdimage/production && git pull)
</pre>

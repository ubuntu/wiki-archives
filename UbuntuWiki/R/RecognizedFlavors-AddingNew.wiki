{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Adding New Flavors to CDImage ==

Whenever a flavor gets officially recognized as a RecognizedFlavors of Ubuntu by the TechnicalBoard, there's still multiple steps that need to be performed for the new flavor to be built and released daily through cdimage.

=== Getting Permission ===

If adding an image for a new flavor, then see <nowiki>[[..-NewFlavorProcess]]</nowiki>.

If adding an image to an existing flavor, then <nowiki>[[https://lists.ubuntu.com/archives/technical-board/2023-January/002696.html|the Technical Board has determined]]</nowiki> that the Ubuntu Release Team needs to decide if a proposed new flavor is aligned with an already approved flavor. If, in the release team's opinion, it's obviously and uncontroversially aligned, then it is fine to proceed with just an announcement to the <nowiki>[[https://lists.ubuntu.com/mailman/listinfo/technical-board|technical board mailing list]]</nowiki> with a description of the goals of the new image and the Release Team's decision on it. If the release team is unsure if the Technical Board would agree, then the Technical Board must be asked first.

=== Things to be done by the flavor developers ===

* Prepare a seed branch for your flavor. Make sure it's accessible by more than one person by having a team own it - and possibly add the ubuntu-core-dev team as one of the members to ease submitting urgent fixes. 
* Prepare a meta source package (<flavor>-meta) generated from the newly created seed branch. Make sure it's accepted and published in the main archives.

=== Things to be done by a someone with proper permissions ===

* Add the new flavor to the livecd-rootfs package in the series of interest. This usually means adding the flavor to the `$PROJECT` switch cases in `live-build/auto/config`. Some additional configuration might be needed as per flavor shape and requirements.
** A new version of the package needs to be then released for each series the flavor wants to exist in.
** If you want to use add_task for your project package configuration, see the additional ubuntu-archive-publishing step below
* Add the new flavor to the ubuntu-cdimage project - needs to be added into `ALL_PROJECTS` and all other places where other flavors are being referenced.
** Remember to deploy the changes on the production machine once the changes are merged into trunk (see <nowiki>[[ReleaseTeam-CDImageSetup]]</nowiki> for more information).
* Create the livefs objects for the new project on Launchpad
** Open up lp-shell: `lp-shell production devel`
** Execute: `lp.livefses.new(owner='/~ubuntu-cdimage', distro_series='/ubuntu/<SERIES_NAME>', name='<FLAVOR_NAME>')`
* If in the livecd-rootfs you want to use tasks for your system setup, you need to add the new task to the ecosystem. Find an archive admin that will add your flavor task to `scripts/cron.germinate` in lp:ubuntu-archive-publishing.
** For the changes to take effect a publisher run for the selected series needs to happen. This can be forced by a TechnicalBoard member or requires some proposed-migration succeeding.

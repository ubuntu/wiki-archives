{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Настройка USB модема AnyDATA ADU-E100A от SkyLink в Ubuntu 7.10 ==

Данное руководство предназначено для тех, кто хочет выходить в интернет с помощью беспроводного модема  AnyDATA в сетях стандарта CDMA провайдера SkyLink. Есть предположение что оно будет полезно не только для данной конкретной модели но и для других устройств данной серии.

Вариантов настройки существует бесчисленное множество, всвязи с этим после долгих экспериментов был выбран 100% рабочий и сотавленно данное HOW-TO:

Открываем 3 окошка терминала (1 основное 2 для проверки работы). В основном окне набираем команду «'''su'''» (если вы уже под root то этого можно не делать)
<pre>
su
nano /etc/modules}}}
Должен открыться текстовый редактор nano. Если в файле присуствует строка «'''anydata'''» то удаляем её и вписываем следующую строчку:
{{{
usbserial vendor=0x16d5 product=0x6501
</pre>
Сохраняем изменения (Ctrl+X, Y, Enter).

Далее выполняем (при выполнени первой команды могут быть ошибки — не обращаем внимания, это делается для надёжности):
<pre>
rmmod anydata usbserial
modprobe usbserial vendor=0x16d5 product=0x6501}}}

{{{
nano /etc/ppp/peers/cdma
</pre>
В открывшийся файл (пустой, если нет — всё стереть) вставляем:
<pre>
debug
noipdefault
defaultroute
ipcp-accept-local
lcp-echo-interval 60
lcp-echo-failure 5
usepeerdns
nopcomp
noauth
noaccomp
nodetach
user "mobile"
connect "/usr/sbin/chat -s -S -V -t 5 -f /etc/ppp/cdma.chat"}}}
Сохраняем его и выходим.

Такимже образом создаём файл «'''/etc/ppp/cdma.chat'''» со следующим содержанием:
{{{
'' ''
'' 'ATZ'
'OK' 'ATI'
'OK' 'ATDT#777'
'CONNECT' 'ATO' }}}
Сохраняем и выходим.

Открываем файл «'''/etc/ppp/pap-secrets'''» и вписываем в него строку:
{{{
"mobile" * "internet"
</pre>
Сохраняем и выходим.

Набираем команду:
<pre>
ln -sf /dev/ttyUSB0 /dev/modem
pppd /dev/modem 115200 file /etc/ppp/peers/cdma user mobile}}}
соединение должно установиться.

Теперь нужно проверить всё ли правильно работает, для этого во втором окне терминала набираем «'''ping ya.ru'''» дожидаемся ответа сервера и в третьем окне набираем «'''ping www.ru'''», если пинг ya.ru неожиданно замер — смотрим что записано в логах:
{{{
nano /var/log/messages
</pre>

Если там присутстрвует такая строчка:
<pre>
Unsupported protocol
</pre>

Значит у вас протокол без сжатия (у скайлинка есть дополнительная опция FileExpress — сжатие данных, возможно возникают конфликты если она у вас не подключена, не проверялось):
<pre>
nano /etc/ppp/peers/cdma
</pre>
и вписываем туда:
<pre>
nodeflate
</pre>
Сохраняем и выходим.

Также на просторах интернета иногда рекомендуют дописывать:
<pre>
novj
novjccomp
nobsdcomp}}}
Пока что не стоит этого вписывать.
Рестарт ppp:
{{{
killall -w pppd
pppd /dev/modem 115200 file /etc/ppp/peers/cdma user mobile}}}

Повторяем действия с ping. Если ошибок нет и пинги не конфликтуют (идут одновременно) — поздравляю, вы успешно настроили интернет соединение.
В противном случае попробуйте сделать следующее:

1) дописать в «'''/etc/ppp/peers/cdma'''»
{{{
novj
novjccomp
nobsdcomp}}}
Сохраняем и выходим.

{{{
nano /etc/hosts
</pre>
2) Закомментировать всё кроме строчек
<pre>
127.0.0.1 localhost
Ваш_IP Имя_ПК
</pre>
и повторить тесты с помощью ping

Если у вас не заработает — проверьте всё с самого начала, возможно вы где-то ошиблись.

Ну и наконец, когда всё уже работает:
<pre>
nano /etc/rc.local
</pre>

До команды «'''exit 0'''» вписать:
{{{
modprobe usbserial vendor=0x16d5 product=0x6501
ln -sf /dev/ttyUSB0 /dev/modem
pppd /dev/modem 115200 file /etc/ppp/peers/cdma user mobile}}}
Сохраняем и выходим, можно перезагрузить компьютер — при входе интернет уже будет.

Выражаю огромную благодарность всем, из чьих постов и советов было составленно это руководство.
Первоисточник: <nowiki>[[http://www.nixp.ru/cgi-bin/forum/YaBB.pl?board=hardware;action=display;num=1175104268]]</nowiki>

Всё остальное: просторы интернета.

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Building Reiser4 Kernel Module from Sources on Ubuntu 14.04 Trusty Tahr ==

==== Get the Ubuntu 14.04 Trusty Tahr 3.13 Linux Kernel Source Code from the Repo ====
<pre>
apt-get source linux-image-$(uname -r)
</pre> 

==== Install additional Software ====
<pre>
sudo apt-get build-dep linux-image-$(uname -r)
</pre> 

==== Download and install Reiser4 3.13 Kernel Patch ====
<pre>
wget 'http://sourceforge.net/projects/reiser4/files/reiser4-for-linux-3.x/reiser4-for-3.13.6.patch.gz'
gunzip reiser4-for-3.13.6.patch.gz

cd linux-3.13.0 
patch -p1 <../reiser4-for-3.13.6.patch
</pre> 

==== Configure and Compile Reiser4 Kernel Module for Ubuntu 14.04 Trusty Tahr ====
<pre>
chmod a+x debian/scripts/*
chmod a+x debian/scripts/misc/*
fakeroot debian/rules clean

fakeroot debian/rules editconfigs
===== Enable in the Menu Configuration under Filesystem the Reiser4 Module to be compiled for your architecture. ====

===== Start the Compile Process ====
DEB_BUILD_OPTIONS=parallel=2 AUTOBUILD=1 NOEXTRAS=1 fakeroot debian/rules binary-headers binary-generic
</pre> 

==== Install the new compiled Ubuntu Kernel with Reiser4 Module Support ====
<pre>
If the build is successful, a set of several .deb binary package files will be produced in the directory above the build root directory. For example after building a kernel with version "3.13" on an ubuntu 14.04 system, these .deb packages would be produced:

    cd ..
    ls *.deb
       linux-headers-3.13.0-35_3.13.0-35.62_all.deb
       linux-headers-3.13.0-35-generic_3.13.0-35.62_i386.deb
       linux-image-3.13.0-35-generic_3.13.0-35.62_i386.deb
       linux-image-extra-3.13.0-35-generic_3.13.0-35.62_i386.deb
       linux-tools-3.13.0-35-generic_3.13.0-35.62_i386.deb

Install the package set (on your build system, or on a different target system) with dpkg -i and then reboot:

    sudo dpkg -i linux*.deb
    sudo reboot
</pre>

==== Trouble Shooting ====
<pre>
If for some reason this kernel release doesnâ€™t work properly for you, reboot into previous kernel (Grub -> Advanced -> select previous kernel) and run this command to remove Linux Kernel 3.15:

sudo apt-get remove linux-headers-3.13.0-35* linux-image-3.13.0-35*

Finally update grub menu:

sudo update-grub
</pre>

==== Further Documentation ====
*** <nowiki>[[https://reiser4.wiki.kernel.org/index.php/Main_Page|Reiser4 Main Web Site]]</nowiki>
*** <nowiki>[[http://sourceforge.net/projects/reiser4/files/reiser4-for-linux-3.x/|Reiser4 Kernel Source Code Patches]]</nowiki>
----
CategorySoftware

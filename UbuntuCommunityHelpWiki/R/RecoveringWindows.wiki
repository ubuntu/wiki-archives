{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Introduction ==
There are several complications or problems that can occur while running Ubuntu and Windows in either a dual-boot or <nowiki>[[https://wiki.ubuntu.com/WubiGuide | Wubi]]</nowiki> environment.

This guide assumes that you either have Ubuntu on a LiveCD or installed on the hard-drive.

== Boot Repair ==

In some situation, you might loose access to one or several of your operating systems (Windows, Ubuntu...) because of a buggy update, a bootloader problem, a broken filesystem, or after  installing a new OS (e.g. installing Windows breaks Linux bootloader).

Boot-Repair is a graphical tool that will repair these problems, generally by reinstalling GRUB, which then restores access to the operating systems you had installed before the issue.

Boot-Repair also has advanced options for reinstalling GRUB, adding kernel options, restoring a generic MBR, or repair a broken filesystem.

Boot-Repair can be installed on Ubuntu, either on installed-session or live-session.

More information on <nowiki>[[Boot-Repair]]</nowiki>.

== Wubi ==
=== "Missing hal.dll" ===
This is a frequent error seen on Wubi installations.  It leaves Windows unable to boot and causes it to complain about a missing file,
<pre>
C:\windows\system32\hal.dll
</pre>
which is the Hardware Abstraction Layer for Windows.

Here is what you should do to fix it:
1. Boot up an Ubuntu LiveCD
2. On the top taskbar click on the "Places" menu 
3. Select your Windows partition (it will be shown by its partition size, and may also have a label such as "OS")
4. Navigate to windows/system32/dllcache
5. Copy hal.dll from there to windows/system32/
6. Reboot.

The full Wubi guide is <nowiki>[[https://wiki.ubuntu.com/WubiGuide|here]]</nowiki>.

== Dual-Boot ==
=== Resizing Vista or Win7 Partitions ===
Windows 7 and Vista sometimes fail to boot after its partitions are resized outside of Windows.  This is due to Windows using a very simplistic boot-loader.  A regular file-system check is normal and to be expected on the first boot-up to Windows 7 or Vista because GParted programs Windows to do that by putting the 'dirty' flag in its file-system metadata.

To recover from this boot problem, you can follow <nowiki>[[RestoreUbuntu-XP-Vista-7Bootloader|these instructions]]</nowiki>.

== Reinstalling Windows ==
If you need to return the machine to the shop, or if for some other reason you need to return to Windows permanently, you can:

1. Follow <nowiki>[[RestoreUbuntu-XP-Vista-7Bootloader|these instructions]]</nowiki>.
2. Reboot the machine, it should boot straight into Windows with no option for Ubuntu
3. To complete this task you might have to delete the remaining Ubuntu partitions from the hard drive in a LiveCD session, because Windows won't be able to see them.

== Links ==
* <nowiki>[[https://help.ubuntu.com/community/WindowsRecoveryCd|Windows Recovery CD]]</nowiki>
* <nowiki>[[http://neosmart.net/blog/2009/windows-7-system-repair-discs/|NeoSmart Windows 7 Recovery Discs]]</nowiki>
* <nowiki>[[http://neosmart.net/blog/2008/windows-vista-recovery-disc-download/ | NeoSmart Windows Vista Recovery Discs ]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/WubiGuide|Wubi Guide]]</nowiki>

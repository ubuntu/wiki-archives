{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''For alternative installation methods have a look at the parent page: <nowiki>[[Trac]]</nowiki>''

== Before we start ==
A couple of remarks before we start:

=== PIP-based Installation ===
Although the stable version of Trac (0.12) was released in June 2010, Ubuntu Oneiric still ships with the (deprecated) 0.11 version of Trac. Therefore '''''this tutorial will use Python's PIP installer tool'''''.

=== Web-server Choice ===
Trac can run either on top of its own, standalone server (tracd) or on top of several generic web-servers, such as Apache, nginx, IIS etc. Even then, several plug-ins can be used on top of the web-server: Apache + FastCGI, Apache + mod_wsgi, Apache + mod_python, IIS + AJP, etc. '''''This tutorial will use the Apache + mod_wsgi combination.'''''

=== Database Choice ===
Trac defaults to SQLite for a database. PostgreSQL is also fully supported. MySQL is problematic, and <nowiki>[[http://trac.edgewall.org/wiki/MySqlDb|the Trac Wiki states]]</nowiki>: ''supporting this database has proven to be painful at times. We recommend that you use it only if you don't have other choice.'' '''''This tutorial will use SQLite for simplicity.'''''

=== Authentication Methods ===
'''''This tutorial uses Apache's <nowiki>[[http://httpd.apache.org/docs/2.2/mod/mod_auth_basic.html|basic]]</nowiki> authentication method (mod_auth_basic).''''' However, <nowiki>[[http://trac.edgewall.org/wiki/TracModWSGI#ConfiguringAuthentication|it is recommended]]</nowiki> that you either enable SSL or at least use the "digest" authentication scheme instead of "Basic".

=== Version Control Systems ===
Trac is tightly integrated with the Subversion (SVN) VCS and defaults to that one out of the box. It's possible to <nowiki>[[http://trac.edgewall.org/wiki/VersionControlSystem|use other VCSs through plug-ins]]</nowiki>. '''''This tutorial will use the Mercurial (HG) VCS.'''''

== Installation Instructions ==
1. First, install PIP: 
<pre>
sudo apt-get install python-pip
 </pre>

1. Install Trac using PIP: 
 <pre>
sudo pip install trac
 </pre>

1. Initialize by typing: 
 <pre>
sudo trac-admin /opt/trac initenv
 </pre>
 (replace '''/opt/trac''' with the installation path of your choice). You will be asked for the project-name and the database connection.

1. Install Apache2, mod_wsgi: 
 <pre>
sudo apt-get install apache2 libapache2-mod-wsgi
 </pre>

1. Configure WSGI by running: 
 <pre>
sudo trac-admin /opt/trac deploy /opt/trac
 </pre>
 which will create a '''/opt/trac/cgi-bin/trac.wsgi''' file.

1. Configure Apache by adding the following to '''/etc/apache2/sites-available/trac''':
 <pre>
WSGIScriptAlias /trac /opt/trac/cgi-bin/trac.wsgi
<Directory /opt/trac>
    WSGIApplicationGroup %{GLOBAL}
    Order deny,allow
    Allow from all
</Directory>
 </pre>

1. Give Apache the required privileges: 
 <pre>
sudo chown -R www-data /opt/trac
 </pre>

1. Enable the "trac" site in Apache: 
 <pre>
sudo a2ensite trac
 </pre>

1. Restart Apache: 
 <pre>
sudo service apache2 restart
 </pre>

Now point your browser to http://localhost/trac and you should see Trac's welcome screen

If you want to remove all the default wiki pages added during initenv, type: 
<pre>
sudo trac-admin /opt/trac wiki remove *
</pre>

=== Configuring Authentication ===
1. You can add the first user like this: 
<pre>
sudo htpasswd -c /opt/trac/htpasswd firstuser
 </pre>
 (replace first-user with your user-name of choice), and the following users with 
 <pre>
sudo htpasswd /opt/trac/htpasswd nextuser
 </pre>

1. Add the following to '''/etc/apache2/sites-available/trac''':
 <pre>
<Location "/trac/login">
    AuthType Basic
    AuthName "trac"
    AuthUserFile /opt/trac/htpasswd
    Require valid-user
</Location>
 </pre>

1. Remember to restart Apache: 
 <pre>
sudo service apache2 restart
 </pre>

1. To grant administrator rights to a user, run: 
 <pre>
sudo trac-admin /opt/trac permission add username TRAC_ADMIN
 </pre>

=== Enabling Mercurial ===
For more details, read <nowiki>[[http://trac.edgewall.org/wiki/TracMercurial|TracMercurial]]</nowiki>

1. Install subversion if you haven't already done so: 
 <pre>
sudo apt-get install subversion
 </pre>

1. Download the plugin's source code: 
 <pre>
svn co http://svn.edgewall.com/repos/trac/plugins/0.12/mercurial-plugin
 </pre>

1. Build and install the "egg": 
 <pre>
cd mercurial-plugin && python setup.py bdist_egg && sudo python setup.py install
 </pre>

1. Edit '''/opt/trac/conf/trac.ini''':
 <pre>
[components]
tracext.hg.* = enabled

[trac]
repository_type = hg
repository_dir = /path/to/my/hg/repository
 </pre>

1. Restart Apache: 
 <pre>
sudo service apache2 restart
 </pre>

=== Syntax High-lighting ===
If you want syntax highlighting when browsing the source code, just install '''pygments''': 
<pre>
sudo apt-get install python-pygments
</pre>
and restart Apache.

----

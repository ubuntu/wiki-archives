{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== Known tablets working with the Wizardpen-driver ==

The setup has been tested with the following USB tablets.

Non-USB tablets are not covered by this guide.

=== Known Tablet Names (The packaging) ===
 
* Acecad Flair II GT-504
* G-pen
* Genius Wizardpen
* Genius Mousepen
* Genius 
* iBall
* Manhattan
* Pentagram
* QWare
* UC-LOGIC

=== Known Tablet SystemNames (How the computer recognize it!) ===
 
* Syntax: Output from "/sys/bus/usb/devices/*/product" (Output from "lsusb") - Name

* Tablet WP4030U (lsusb: UC-Logic Technology Corp. ) - Tablet WP4030U
* Tablet WP5540U (lsusb: UC-Logic Technology Corp. Genius MousePen 5x4 Tablet) - Genius MousePen 5x4 Tablet
* Tablet WP8060U (Genius MousePen 8x6 Tablet) - Genius MousePen 8x6" Tablet
* Tablet WP8060U (lsusb:UC-Logic Technology Corp.) - Manhattan Graphics Tablet 8x6"
* Tablet PF1209 (lsusb: UC-Logic Technology Corp.) - Genius PenSketch 9x12"
* Tablet PF1209 - Pentagram Titan Tablet
 

If your tablet is working, but not listed here, please ADD it! (If you don't have an account, then email me: danielklejnstrup@gmail.com)

== Setting up your tablet ==

=== General information ===

This guide is based on '''*ubuntu 8.04 (Hardy Heron)''' after Xorg version 1.7.3.

'''IMPORTANT!''' Hardy Heron seems to have upgraded Xorg beyond version 1.7.3 in May 2008. Before this version, you need to set up UDEV. Please start Synaptic and search titles for "xorg" to see which version you have. Prior to 1.7.3, see TabletSetupWizardpen

For an '''*ubuntu 6.06 (Dapper Drake)'''-version, see TabletSetupWizardpenDapper

For an '''*ubuntu 7.04 (Feisty Fawn)'''-version, see TabletSetupWizardpenFeisty

For an '''*ubuntu 7.10 (Gutsy Gibbon)'''-version, see TabletSetupWizardpenGutsy

=== Installing needed packages ===
 
Open a terminal (Applications -> Accessories -> Terminal)

Install some needed packages - Run this command:

<pre>
sudo apt-get install xutils libx11-dev libxext-dev x-dev build-essential xautomation xinput xserver-xorg-dev
</pre>

=== Downloading and installing the driver ===

Download the wizardpen driver, and extract it! - Run these commands:
 
<pre>
wget http://www.kubuntu.dk/wizardpen/wizardpen-0.6.0.2.tar.gz
</pre>
<pre>
tar -xvf wizardpen-0.6.0.2.tar.gz
</pre>
<pre>
cd wizardpen-0.6.0.2
</pre>

Configure, make and install:
<pre>
./configure --with-xorg-module-dir=/usr/lib/xorg/modules
make
sudo make install
</pre>

 
=== Calibration ===

You should find your tablet entry listed below. If not, you can run '''calibrate''', but then you need to set up UDEV. See TabletSetupWizardpen for help doing that. You should only need to set up UDEV temporarily in order to run calibrate. Also, the output from calibrate will include a "Device" line that '''must be omitted''', and you need to add a "Name" line as in the examples below (you can make up a name).

If you have to run calibrate, and get your tablet working, please come back and add your tablet settings to the list below!

==== Calibration output ====

Tablet W5540U (UC-Logic):
<pre>
Section "InputDevice"
        Identifier      "WizardPen Tablet"
        Option          "Name" "UC-LOGIC Tablet W5540U"
        Option          "SendCoreEvents"        "true"
        Driver          "wizardpen"
        Option          "TopX"          "2199"
        Option          "TopY"          "3598"
        Option          "BottomX"       "30325"
        Option          "BottomY"       "29278"
        Option          "MaxX"          "30325"
        Option          "MaxY"          "29278"
EndSection
</pre>

Tablet W8060U (UC-Logic):
<pre>
Section "InputDevice"
        Identifier      "WizardPen Tablet"
        Option          "SendCoreEvents"        "true"
        Driver          "wizardpen"
        Option          "TopX"          "826"
        Option          "TopY"          "2626"
        Option          "BottomX"       "32747"
        Option          "BottomY"       "32762"
        Option          "MaxX"          "32747"
        Option          "MaxY"          "32762"
EndSection
</pre>

Tablet PF1209 (UC-LOGIC)
<pre>
Section "InputDevice"
        Identifier      "WizardPen Tablet"
        Option          "SendCoreEvents"        "true"
        Driver          "wizardpen"
        Option          "TopX"          "0"
        Option          "TopY"          "1553"
        Option          "BottomX"       "32541"
        Option          "BottomY"       "32762"
        Option          "MaxX"          "32541"
        Option          "MaxY"          "32762"
EndSection
</pre>

=== Setting up X ===
Now we are ready to edit the xorg.conf file!

Take a backup - run this command: 

<pre>
sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.backup
</pre>

Edit the file - run this command:

<pre>
sudo nano /etc/X11/xorg.conf
</pre>

Insert the output from calibrate into xorg.conf: (just place it below your generic mouse!)

Next, add the following line in the "ServerLayout" section:

<pre>
InputDevice "WizardPen Tablet" "SendCoreEvents"
</pre>

Use Ctrl-X to save and exit the editor.

You should now be able to restart X and have the tablet working as a mouse.

=== Optional: Configuring the buttons on the pen ===

<nowiki>[[File:IconsPage/note.png]]</nowiki> Special thanks to riesenpixel for writing the following part about the button-configuration!

You may not need this section. Try to get your tablet working first before you come back and experiment with the buttons. 
There are two ways to change the button mapping:

==== The first way (Not very smart, since it also change the behaviour of your generic mouse!) ====

If you want to change the button mapping for all devices running in core mode, you should use xmodmap. (not recommended, try the second way first!) 

Show the current configuration: 
<pre>
xmodmap -pp
</pre>

You will get a table like this:
{| class="wikitable"
|-
| Physical Button
| Button Code
|-
| 1
| 1
|-
| 2
| 2
|-
| 3
| 3
|-
| 4
| 4
|-
| 5
| 5
|-
| 6
| 6
|-
| 7
| 7
|-
| 8
| 8
|-
| 9
| 9
|}

For example, if you now want to change the middle button and the right button, execute the following command:
<pre>
xmodmap -e "pointer = 1 3 2"
</pre>

Here is a list of numbers with their corresponding function: 

{| class="wikitable"
|-
| Number
| Function
|-
| 0
| No action (only movement)
|-
| 1
| Left button click
|-
| 2
| Middle Button click
|-
| 3
| Right Button click
|-
| 4
| Scroll up (one click equals one step of scroll wheel in my logitech mouse)
|-
| 5
| Scroll down
|}

If you want to disable a button (maybe because you know that one of the buttons causes some problems), use zero. Example (should disable the right click):
<pre>
xmodmap -e "pointer = 1 2 0"
</pre>

To reset the xmodmap-configuration, use this command:
<pre>
xmodmap -e "pointer = default"
</pre>

==== The second way ====

If you are using more devices than just the tablet (e. g. mouse+tablet or multiple tablets a. s. o.) you can use this second way to change the mapping just for one device.

	Step 1: Find the name of the device you want to change, e.g. with this command:
	xsetpointer -l
	alternatively you can use this command:
	xinput list

	Step 2: execute this command to swap the middle and the right button ("WizardPen Tablet" 	is the device â€“ if you want to change the configuration of another device, you have to 	change the name; use the table above to define other buttons)

<pre>	
xinput set-button-map "WizardPen Tablet" 1 3 2 
</pre>

Hint: If you experience problems with the buttons, use:
<pre>
xinput set-button-map "WizardPen Tablet" 1 0 0
</pre>
or, if you have a pen with 32 buttons ;)
<pre>
xinput set-button-map "WizardPen Tablet" 1 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0
</pre>
...to disable all buttons on your pen (for instance if you just want to draw).

== Troubleshooting - See this if you have any problems ==

=== The command cat /var/log/Xorg.0.log | grep "wizardpen" outputs errors ===

The output of <pre>
cat /var/log/Xorg.0.log | grep "wizardpen"
</pre> 
 may reveal several errors, some of them are:

Module present, but with compilation-errors:
<pre>
(II) LoadModule: "wizardpen" 
(II) Loading /usr/lib/xorg/modules/input/wizardpen_drv.so
dlopen: /usr/lib/xorg/modules/input/wizardpen_drv.so: undefined symbol: __stack_chk_fail_local 
(EE) Failed to load /usr/lib/xorg/modules/input/wizardpen_drv.so
(II) UnloadModule: "wizardpen" 
(EE) Failed to load module "wizardpen" (loader failed, 7)
(EE) No Input driver matching `wizardpen' 
</pre>

Module missing:
<pre>
(II) LoadModule: "wizardpen"
 (WW) Warning, couldn't open module wizardpen
(II) UnloadModule: "wizardpen"
 (EE) Failed to load module "wizardpen" (module does not exist, 0)
(EE) No Input driver matching `wizardpen' 
</pre>

=== The Xserver is not starting after playing with the xorg.conf file ===

Wow - That's bad! - First of all, check that you set everything right!

Well, I suggest that you drop me an email, telling me what went wrong!

And then just restore the backup we created - run this command:

<pre>
sudo cp /etc/X11/xorg.conf.backup /etc/X11/xorg.conf
</pre>

=== Everything seems to work, except pressure sensitivity ===

All the tablets mentioned in "known tablets" has pressure sensitivity support in Linux!

If pressure-sensitivity doesn't work, there are 3 possible causes!

1. The driver is not properly installed

2. The tablet is not supported by this driver

3. The application is not properly configured, to accept pressure sensitivity.

Please make sure that your favourite application supports pressure sensitivity.

{| class="wikitable"
|-
| Application
| Support for pressure sensitivity
| Guide
|-
| Krita
| Full support since 1.6. Very bad lag while drawing, V2.0(alpha) fixes it but is quite unstable otherwise
| No
|-
| Inkscape
| Full support
| TabletSetupInkscape
|-
| Gimp
| Full support - but problems with 2.2.13
| <nowiki>[[TabletSetupGIMP]]</nowiki>
|-
| Xara
| No support for pressure yet, but smooth and fast drawing
| 
|-
| Pixel (http://www.kanzelsberger.com/pixel)
| Doesn't seem to support pressure in Linux
| 
|}

Please tell me about other applications!

=== Pressure sensitivity works, but is not calibrated well ===

The section we inserted into xorg.conf holds some options to calibrate the area of the tablet, but I haven't put in options to configure pressure sensitivity, since it varies a lot.

You can insert these options to enable MAX and MIN pressure sensitivity:

        Option          "TopZ"          "10"

        Option          "BottomZ"       "511"

        Option          "MaxZ"          "511"

Where "TopZ" represents the lowest pressure-level to accept, and "BottomZ"/"MaxZ" represents the maximum pressure-level to accept.

=== I have problems not solved by the above troubleshooting ===

Try the forum:

http://www.stud.fit.vutbr.cz/~xhorak28/unb/forum.php (This link is broken, please actualice it.)

Much of this guide is based on information found here:
http://digitalbluewave.blogspot.com/2008/04/genius-wizardpen-with-hardy-heron-and.html

=== Related articles ===

Talking about hotplugging: (haven't tested it! - Please mail me in case it works, and should be implemented here!)
http://deadcabbit.blogspot.com/2007/07/linux-genius-wizardpen-setup-for-udev.html (This link is also broken, please actualice it.)

----
CategoryHardware

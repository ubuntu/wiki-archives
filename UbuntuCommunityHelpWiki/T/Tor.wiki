{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <rowbgcolor="#FFF280"> {i} Tor is part of the UserDocumentation series of index pages.  Please read the WikiGuide prior to making changes.
|}

This page is a brief howto for using Tor under Ubuntu.

== Introduction ==

Tor is a toolset used to help anonymize your traffic. From the Tor <nowiki>[[https://www.torproject.org|website]]</nowiki>:

 Tor is a toolset for a wide range of organizations and people that want to improve their safety and security on the Internet. Using Tor can help you anonymize web browsing and publishing, instant messaging, IRC, SSH, and other applications that use the TCP protocol. Tor also provides a platform on which software developers can build new applications with built-in anonymity, safety, and privacy features.

This guide is an adaptation of the official Tor installation method.  It has been changed to reflect installation methods unique to Ubuntu, but may easily be used as a guide for other Debian based distros.

== Installing Tor ==

=== From the Snap Store ===

If you are only planning to use Tor as a client, you can install the tor snap from the Snap Store.

<pre>
snap install tor
</pre>

You can start, stop, restart, or check the status of the service with:

<pre>
sudo systemctl start snap.tor.tor
sudo systemctl stop snap.tor.tor
sudo systemctl restart snap.tor.tor
sudo systemctl status snap.tor.tor
</pre>

=== Using APT ===

Install Tor by issuing the following command or use System --> Administration --> <nowiki>[[SynapticHowto|Synaptic Package Manager]]</nowiki>:

<pre>
 sudo apt-get install tor
 </pre>

You may prefer to install from the Tor project's own repository to ensure that you have the latest security updates: see the <nowiki>[[https://www.torproject.org/docs/debian.html#ubuntu|Tor Project installation documentation for Ubuntu]]</nowiki> for instructions.

To start, stop or restart the service:

<pre>
sudo systemctl start tor
sudo systemctl stop tor
sudo systemctl restart tor
</pre>

Check that the Tor service is running on TCP port 9050, where it will accept SOCKS5 connections from applications:

<pre>
ss -aln | grep 9050
</pre>

You should see either or both lines of the following output:
<pre>
0  0  :::950  :::*
0  0   *:950   *:*
</pre>

If you have configured a web browser to use Tor, you can check it is working by visiting <nowiki>[[https://check.torproject.org/|https://check.torproject.org]]</nowiki>. Tor Project strongly recommends that you only use Tor Browser to browser the web with Tor, as it includes additional anti-fingerprinting protections that are not present in other browsers.

== Anonymizing Applications ==

Here are some common applications people configure for use with Tor on Ubuntu.  The <nowiki>[[https://trac.torproject.org/projects/tor/wiki/TheOnionRouter/TorifyHOWTO|Tor FAQ lists more supported applications]]</nowiki>.

=== Pidgin ===

### Go to the Accounts, select your Account
### Select Edit Account
### Go to the Advanced Tab
### Under Proxy Options:
*** Select proxy type "Tor/Privacy (SOCKS5)"
*** Enter 127.0.0.1 for the host
*** Enter 9050 for the port
*** Leave user/pass blank

=== Mozilla Thunderbird ===

Thunderbird has native SOCKS5 support that can be enabled through the '''Tools / Options / Advanced / Network & Disc Space''' Tab. Click on the Connection button and then select Manual Proxy Configuration.  Enter the details for your running Tor process:
<pre>
host: 127.0.0.1
port: 9050
</pre>
Thunderbird should now be working.  It's best to test it at this point, although bear in mind that it might be leaking DNS information.

Assuming you now have Thunderbird working through Tor, the last step is to ensure that DNS resolves aren't leaking information.  Select the '''Tools / Options / Advanced / General''' Tab and then click on '''Config Editor'''. This will present you with a huge list of all the potential configuration options in Thunderbird.  The list can be narrowed by typing proxy into the filter box. Find the option
<pre>
network.proxy.socks_remote_dns
</pre>
and make sure it's set to '''true'''.  If not, double-click it to toggle the setting.  That's it, Thunderbird should now be fully configured for use with Tor.

=== X-Chat ===

Right-click in the window and select
Settings-> Preferences -> Network -> Network setup -> Proxy server

Use the following settings:
<pre>
Hostname: 127.0.0.1
Port: 9050
Type: Socks5
</pre>

=== IRSSI ===

If you run IRSSI on GNU Screen, open a new window (C-a C). If not, you'll have to open a new tab or windows to connect to the proxy:

<code>socat TCP4-LISTEN:5000,fork SOCKS4A:localhost:irc.oftc.net:6667,socksport=9050</code>

On IRSSI, connect to localhost, on port 5000:

<code>/connect localhost 5000</code>

To ignore information leakage (client and time zone) run on IRSSI:

<code>/ignore * CTCPS</code>

=== BitTorrent clients ===

File sharing is widely unwanted in the Tor network and exit nodes are configured by default to block file sharing traffic.  Tor is not really designed for it and file sharing through Tor excessively wastes everyone's bandwidth (slows down browsing).  Finally, using current bittorrent clients over Tor <nowiki>[[https://blog.torproject.org/blog/bittorrent-over-tor-isnt-good-idea| is NOT anonymous]]</nowiki> and so does not provide any protection anyway!

== References and More Information ==

* https://www.torproject.org/
* https://trac.torproject.org/projects/tor/wiki

----
CategorySecurity

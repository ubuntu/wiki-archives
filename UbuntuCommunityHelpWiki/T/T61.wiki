{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

'''LENOVO ThinkPad T61 64608NG'''<<BR>>
NVidia (Quadro NVS 140M), Intel PRO/Wireless 4965AGN<<BR>><<BR>>

'''Enabling Trackpoint scrolling'''<<BR>>
Create /etc/hal/fdi/policy/mouse-wheel.fdi and add the following to it:
<pre>
<?xml version="1.0" encoding="ISO-8859-1"?>
<deviceinfo version="0.2">
  <device>
    <match key="info.product" string="TPPS/2 IBM TrackPoint">
      <merge key="input.x11_options.EmulateWheel" type="string">true</merge>
      <merge key="input.x11_options.EmulateWheelButton" type="string">2</merge>
      <merge key="input.x11_options.ZAxsisMapping" type="string">4 5</merge>
      <merge key="input.x11_options.Emulate3Buttons" type="string">true</merge>
    </match>
  </device>
</deviceinfo>
</pre>

'''Enabling multi-touch touchpad'''<<BR>>
Create /etc/hal/fdi/policy/11-x11-synaptics.fdi and add the following to it:
<pre>
<?xml version="1.0" encoding="ISO-8859-1"?>
<deviceinfo version="0.2">
 <device>
   <match key="info.capabilities" contains="input.touchpad">
       <merge key="input.x11_driver" type="string">synaptics</merge>
       <merge key="input.x11_options.SHMConfig" type="string">On</merge>
       <merge key="input.x11_options.EmulateTwoFingerMinZ" type="string">90</merge>
       <merge key="input.x11_options.VertTwoFingerScroll" type="string">1</merge>
       <merge key="input.x11_options.HorizTwoFingerScroll" type="string">1</merge>
       <merge key="input.x11_options.TapButton1" type="string">1</merge>
       <merge key="input.x11_options.TapButton2" type="string">3</merge>  <!--two finger tap -> middle clieck(3) -->
       <merge key="input.x11_options.TapButton3" type="string">2</merge>  <!--three finger tap -> right click(2). almost impossible to click -->
   </match>
 </device>
</deviceinfo>
</pre>

'''Enabling the fingerprint reader'''<<BR>>
Install the ''thinkfinger-tools'' and ''libpam-thinkfinger'' packages then execute:
<pre>
sudo /usr/lib/pam-thinkfinger/pam-thinkfinger-enable
</pre>
to enable the fingerprint reader. To capture the user's fingerprint run:
<pre>
tf-tool --acquire $USERNAME
</pre>
you can then verify it with:
<pre>
tf-tool --verify
</pre>

'''Fix for fingerprint reader getting too hot'''<<BR>>
<pre>
cat > $HOME/ReaderNoMoreHot << "EOF"

find_manuf=STMicroelectronics
find_prod="Biometric Coprocessor"

for devdir in /sys/class/usbmon/usbmon*/device/usb*/*; do
  <nowiki>[[ -r $devdir-manufacturer ]]</nowiki> || continue
  manuf=$(<$devdir/manufacturer)
  <nowiki>[[ $manuf = $find_manuf ]]</nowiki> || continue;
  prod=$(<$devdir/product)
  <nowiki>[[ $prod = $find_prod ]]</nowiki> || continue;
## if we get here then we have the right device!
  plevel_file=$devdir/power/level
  old_level=$(<$plevel_file);
## if it is already set properly then exit silently:
  <nowiki>[[ $old_level = auto ]]</nowiki> && exit 0
## if we successfully change it then exit silently:
  echo auto >$plevel_file && exit 0
  echo "Failed to set the fingerprint reader's power level to 'auto'."
  exit 1
done

echo "Could not find the $find_manuf $find_prod (fingerprint reader)"
exit 1
EOF
</pre>

<pre>
sudo cp $HOME/ReaderNoMoreHot /etc/init.d/ReaderNoMoreHot
rm $HOME/ReaderNoMoreHot
sudo chmod 755 /etc/init.d/ReaderNoMoreHot
sudo update-rc.d ReaderNoMoreHot defaults 90
</pre>

'''Install HDAPS - IBM Active Protection System Linux Driver'''<<BR>>
<pre>
sudo cp /etc/modules /etc/modules_backup
sudo aptitude install tp-smapi-source
sudo module-assistant prepare tp-smapi
sudo module-assistant auto-install tp-smapi
sudo modprobe tp-smapi
sudo aptitude install hdapsd
echo 'tp-smapi' | sudo tee -a /etc/modules
</pre>

<pre>
cat > $HOME/local_conf << "EOF"
options thinkpad_ec force_io=1

options hdaps invert=1
EOF
</pre>
<pre>
sudo cp $HOME/local_conf /etc/modprobe.d/local.conf
rm $HOME/local_conf
</pre>

'''Tweak battery settings'''<<BR>>
<pre>
echo '40' | sudo tee /sys/devices/platform/smapi/BAT0/start_charge_thresh
echo '70' | sudo tee /sys/devices/platform/smapi/BAT0/stop_charge_thresh
cat /sys/devices/platform/smapi/BAT0/*_charge_thresh
</pre>

-----
Fully tested on Karmic Koala.

Created by <nowiki>[[LaunchpadHome:viorel-ciucu]]</nowiki><<BR>>
<<BR>>

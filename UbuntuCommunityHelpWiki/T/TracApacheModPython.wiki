{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

The following instructions will allow you to install Trac with Apache and mod_python.

Please note that the Trac installation instructions promote mod_wsgi instead of mod_python.

=== Dependencies ===

For the installation of Trac we need Python, as well as Apache and Subversion. Therefor install <nowiki>[[ApacheMySQLPHP|apache2]]</nowiki> and <nowiki>[[SubversionInstall|Subversion]]</nowiki>. 

Trac is programmed in Python and therefor a module for the usage of python in apache is required. Since Python 2.5 and apache play well together using the mod-python, we are going to use it for the following installation as well.

<pre>
apt-get install libapache2-mod-python
apt-get install python-setuptools
</pre>

You may have to stop your apache2 server before trying to install libapache2-mod-python:

<pre>
/etc/init.d/apache2 stop
</pre>

=== Installation ===

To install Trac, we can now just use the version in the repository by typing:

<pre>
apt-get install trac
</pre>

For the usage of multiple projects in trac, you can define the apahe-configuration file (/etc/apache2/conf.d/trac.conf) as follows:

<pre>
    Alias /trac "/usr/share/trac/htdocs"                                        
    <Directory "/usr/share/trac/htdocs">                                        
                Options Indexes MultiViews                                      
                AllowOverride None                                              
                Order allow,deny                                                
                Allow from all                                                  
    </Directory>                                                                
                                                                                
    <Directory "/var/www/projects">                                             
        AllowOverride None                                                      
        Options Indexes +ExecCGI MultiViews FollowSymLinks                      
        AddHandler cgi-script .cgi                                              
        Order allow,deny                                                        
        Allow from all                                                          
    </Directory>                                                                
                                                                                
<LocationMatch "/projects/<nowiki>[[:alnum:]]</nowiki>+/login">             
    AuthType Basic                                                              
    AuthName "trac"                                                             
    AuthUserFile /etc/apache2/htpasswd                         
    Require valid-user                                                          
</LocationMatch>                                                                
                                                                                
<Location /projects>                                                            
   SetHandler mod_python                                                        
   PythonInterpreter main_interpreter                                           
   PythonHandler trac.web.modpython_frontend                                    
   PythonOption TracEnvParentDir /var/trac                                      
   PythonOption TracUriRoot /projects                                           
</Location>             
</pre>

Furthermore, for a project listing, you need the following index.cgi in /var/www/projects: 

This is a perl script and therefore you need perl installed.

<pre>

use strict;

my $trac_path = "/var/trac";
my $trac_location = "/projects";
my $projectAvailable = "false";

print "Content-Type: text/html\n\n";

print "<html>\n";
print " <head>\n";
print "  <title>Project listing</title>\n";
print " </head>\n\n";
print " <body>\n";
print "   <h1>Project listing</h1>\n";
print "   <ul id=\"trac\">\n";

opendir(ROOT, $trac_path)
        or die "Unable to open root directory ($trac_path)";
</pre>

You can now create new projects using trac-admin like described on <nowiki>[[http://trac.edgewall.org/wiki/TracAdmin]]</nowiki>.

If you would like to use the latest version of Trac (right now 0.11), you can get the version from subversion using:

<pre>
svn co https://svn.edgewall.org/repos/trac/trunk trac
</pre>

To install this version, use:

<pre>
cd trac
python setup.py install --prefix=/usr
</pre> 

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


<nowiki>[[..-|Return to the main BootOptions page]]</nowiki>
-----

== Summary ==

=== Example ===

The usage of boot options has changed in the '''Ubuntu Vivid 15.04 mini.iso''' alias '''netboot''', and in this case the boot option '''forcepae''' must be used '''twice''' to work with Celeron M and Pentium M processors.

See comments <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/1422675/comments/12|#12-15]]</nowiki> of the <nowiki>[[http://launchpad.net/bugs/1422675|bug report #1422675]]</nowiki>

=== New way to use boot options ===

This new way to use boot options is general, and should be used with other boot options too. It is '''present in Ubuntu Server 14.04.2 LTS''', but it has not trickled down to the desktop installer (yet?).
-----
Q: Is this new usage of boot options general?

* The entry before -- means that it will be used by the live system / the installer
* The entry after -- means that it will be carried to and used by the installed system

A: Yes that is correct.
-----
== Sometimes the boot option must be entered twice ==

=== Explanation and solution of the problem of the example ===

The problem is not PAE, the problem is that the kernel parameters parser was changed as a result of the systemd debug params controversy.

You need to repeat the 'forcepae' twice in the linux kernel parameters, before and after the -- i.e.:
<pre>
        linux ... forcepae -- forcepae
</pre>
Kernel patch that changed the previous behaviour was:
<pre>
        commit 51e158c
        Author: Rusty Russell <rusty@rustcorp.com.au>
        Date: Mon Apr 28 11:34:33 2014 +0930
            param: hand arguments after -- straight to init

        The kernel parses parameters from the kernel command line up to "--";
        if it doesn't recognize a parameter and it doesn't contain a '.', the
        parameter gets passed to init: parameters with '=' go into init's
        environment, others are passed as command line arguments to init.
        Everything after "--" is passed as an argument to init.
</pre>
With "forcepae -- forcepae" I did a full install of the Vivid ISO link above. It worked ok.

(There was a non-related bug, Ubuntu/grub puts "vt.handoff=7" in grub.cfg which causes a black screen on boot - looks like bug #913731 or some related regression).

=== Ubuntu Vivid 15.04 daily 32-bit mini.iso ===

When testing the Ubuntu Vivid daily 32-bit mini.iso (dated feb 9) in a IBM Thinkpad T42 with Pentium M, it has worked too with this '''double''' boot option.

Clicking tab to get to the boot line.

And editing the boot line from
<pre>
> linux vga=788 initrd=initrd.gz -- quiet
</pre>
to
<pre>
> linux vga=788 initrd=initrd.gz forcepae -- quiet forcepae
</pre>
and the installation of a minimal text system worked for me.

=== Lubuntu (14.04.2 LTS) and Lubuntu 15.04 ===

For the Lubuntu trusty-alternate-i386.iso (14.04.2 LTS) in the same IBM Thinkpad T42 with Pentium M, this bug is squashed here too with this '''double''' boot option.

Clicking F6 and ESC to get to the boot line and changed the end of it from
<pre>
... quiet --
</pre>
to
<pre>
... quiet forcepae -- forcepae
</pre>
But the other red bug <nowiki>[[http://launchpad.net/bugs/1417918|1417918]]</nowiki> must be solved by other methods.

The corresponding Lubuntu '''desktop''' installer works with the single boot option
<pre>
... quiet -- forcepae
</pre>

== General description of the new way to use boot options ==

'''Question:'''

Is this new usage of boot options general?

* The entry before -- means that it will be used by the live system / the installer

* The entry after -- means that it will be carried to and used by the installed system

'''Answer:'''

Yes that is correct.

== Final comment ==

Notice that we have found this new method during testing of the following ISO files that are '''released''', 

* Ubuntu Server 14.04.2 LTS (tested with forcepae in the 32-bit version)

We have also found this new method during testing of the following ISO files that were '''not''' released when tested, 

* Ubuntu Vivid 15.04 mini.iso - (which was released in April)
* Lubuntu Trusty 14.04.2 alternate ISO (which was not released due to show-stopping bugs)
* Lubuntu Vivid 15.04 alternate beta 1 ISO (dated 20150224, was released in April)

where you must enter the boot option forcepae '''twice''', for example
<pre>
... forcepae -- forcepae
</pre>

But since it is due to introducing systemd into Ubuntu, we can expect entering boot options twice to become the standard soon, maybe generally in 15.04 and maybe in 14.04.3 and later versions.

The new syntax for boot options affects (or at least will affect) standard Ubuntu (with Unity) and all the flavours. The particular issue with forcepae also affects them all, but in practical life, most people who run the old computers with Celeron M and Pentium M computers want a light desktop environment like Ubuntu Mate and Xubuntu, or even better, an ultra light desktop environment, Lubuntu. Therefore, this workaround suits all Ubuntu derivatives. 
-----
<nowiki>[[..-|Return to the main BootOptions page]]</nowiki>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


Neither the fglrx driver nor any version of Ubuntu that would use it are supported by their respective purveyors.  This entire article is obsolete.

== BEFORE YOU PROCEED ==

NOTE: For '''Ubuntu 16.04 LTS''' and above, the '''AMD Catalyst''' or '''fglrx''' driver is ''no longer supported by AMD, or in Ubuntu''.<nowiki>[[https://wiki.ubuntu.com/XenialXerus/ReleaseNotes#fglrx|{1}]]</nowiki> If you have an AMD GPU and wish to run any Ubuntu version 16.04 LTS or newer, there are two open source driver options: '''Radeon''' or '''AMDGPU'''. The '''AMDGPU-PRO''' driver provides the open source '''AMDGPU''' driver and a proprietary overlay. Newer AMD GPUs designed with '''GCN''' technology (Graphics Core Next) should use '''AMDGPU''' or '''AMDGPU-PRO''', while older AMD GPUs should use '''Radeon'''. For details on which GPUs require '''Radeon''', please see the <nowiki>[[https://www.x.org/wiki/radeon/|Radeon driver homepage]]</nowiki> or execute at a terminal: <pre>
man radeon
</pre>

== Introduction ==

By default Ubuntu uses the open source <nowiki>[[RadeonDriver|Radeon]]</nowiki> driver for cards manufactured by AMD. However, the proprietary '''fglrx''' driver (known as '''AMD Catalyst''' or '''AMD Radeon Software''') is made available for those who would like to use it. The instructions on this page advise on how to install and use '''fglrx'''.

If you encounter a bug with these closed-source drivers, you are welcome to file a report via Launchpad. However, if the bug is determined to be with fglrx, this may only be fixed by AMD, as they are the only ones with access to the source code.

== Before you get started ==

The first thing to check for when you consider using the ''fglrx'' driver is whether your AMD graphics card is supported.
# Go to the <nowiki>[[http://support.amd.com/en-us/download|AMD website]]</nowiki>.
# Enter your graphic card details. You may check this at the terminal: <pre>
lspci -vvnn | grep VGA
</pre>
 1. Identify whether your AMD graphics card model series is supported by the ''fglrx'' driver. If the search returns the latest version of the Catalyst driver, then proceed to the next section. If the search returns a legacy version, you may have to use the open source driver.

'''NOTE: If you are switching from another OEM's hardware, NVIDIA for instance, you must uninstall the driver for that hardware before installing the AMD driver.'''

== Installation via the Ubuntu repositories ==

Ubuntu offers the following fglrx drivers that are supported only in Ubuntu 14.04: <<BR>>
 <nowiki>[[https://launchpad.net/ubuntu/+source/fglrx-installer|fglrx-installer]]</nowiki> <<BR>>
 <nowiki>[[https://launchpad.net/ubuntu/+source/fglrx-installer-updates|fglrx-installer-updates]]</nowiki> <<BR>>

The easiest way to install binary drivers is to use the built in '''Additional Drivers''' manager in Ubuntu.

After the ''fglrx'' driver is installed, reboot your system and login. To check whether the ''fglrx'' driver is working, open a terminal and type:
<pre>
fglrxinfo
</pre> If ''fglrx'' is installed and working well you should see an output similar to: <pre>
fglrxinfo
display: :0  screen: 0
OpenGL vendor string: Advanced Micro Devices, Inc.
OpenGL renderer string: ATI Radeon HD 4300/4500 Series
OpenGL version string: 3.3.11399 Compatibility Profile Context
</pre>

=== Installing via the command line ===

For users who find that the Additional Drivers method does not work, please file a bug report on Launchpad about this.

Once done, the driver may also be installed from the Ubuntu repositories using the terminal.

(Note: If your machine has hybrid Intel/AMD switchable graphics, please consult the Ubuntu Forums thread <nowiki>[[http://ubuntuforums.org/showthread.php?t=1930450|here]]</nowiki> first and refer to the section titled "Manually installing Catalyst 13.4, special case for Intel/AMD hybrid graphics" in this wiki. At the time of writing, the method described below MAY NOT WORK for Intel/AMD switchable graphics. If you have an Intel/AMD hybrid, it is advisable to wait until further instructions are available).

 1. Save a backup copy of xorg.conf in case this doesn't work. <pre>
sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.BAK
</pre>
 1. Remove/purge current fglrx and fglrx-amdcccle (If you have used a method outside of aptitude, apt, Software Center or Synaptic, follow the other party's instructions for removal). You will need to deliberately remove both the normal and -updates versions in recent releases of Ubuntu because it seems that attempting to remove one installs the other: <pre>
sudo apt-get purge fglrx*
</pre>

# Reboot.
# You may need to install the linux generic headers <pre>
sudo apt-get install linux-headers-generic
</pre>
 1. Install the driver 
 For 12.04: <pre>
sudo apt-get install fglrx fglrx-amdcccle
</pre> or <pre>
sudo apt-get install fglrx-updates fglrx-amdcccle-updates
</pre>

 From 14.04 forward, fglrx-amdcccle is included when you install fglrx, so the following will suffice:<pre>
sudo apt-get install fglrx
</pre> or <pre>
sudo apt-get install fglrx-updates
</pre>
 To install the packages for hardware acceleration along with the driver:<pre>
sudo apt-get install fglrx xvba-va-driver libva-glx1 libva-egl1 vainfo
</pre> or <pre>
sudo apt-get install fglrx-updates xvba-va-driver libva-glx1 libva-egl1 vainfo
</pre>

 1. Generate a fresh xorg.conf BEFORE REBOOTING! <pre>
sudo amdconfig --initial
</pre> If you are using multiple AMD graphics cards or AMD dual graphics (i.e.: notebook users), use: <pre>
sudo amdconfig --adapter=all --initial
</pre>
# Reboot again.
# To confirm the drivers are working open a terminal and type: <pre>
fglrxinfo
</pre> You should get an output similar to the following: <pre>
fglrxinfo 
display: :0  screen: 0
OpenGL vendor string: Advanced Micro Devices, Inc.
OpenGL renderer string: AMD Radeon HD 6300M Series
OpenGL version string: 4.2.11733 Compatibility Profile Context
</pre>
 1. Use the Catalyst Control Center to make final adjustments to your monitor setup. If, after rebooting, you are presented with the message "Could not apply the stored configuration for monitors", do not be alarmed. It simply means that you will have to use the Catalyst Control Center to configure your monitors as you should even in the case where this warning is not shown. This most likely to happen with multiple monitor applications (particularly if the monitors are of different sizes) and multiple graphics card applications.

== Installing upstream drivers directly from AMD's website ==

=== Manually installing Catalyst 13.4 ===

These instructions apply to AMD Catalyst official software distributions, versions 11 through to 13 (e.g. 11.10, 12.104, 13.12, 13.35/"14.1 beta"). Before you go about installing the ''fglrx'' driver from the official AMD Catalyst software distribution ensure to read the release notes from the AMD website.

In this how-to an AMD64 Catalyst 13.4 installation on an Ubuntu 13.1 system (Saucy) with an AMD Radeon HD 6300M will be chosen for illustrative purposes.

'''''Note:''''' ''Remember to uninstall the AMD proprietary fglrx graphics if it is already installed and reboot your system.''

# Download the driver found at the <nowiki>[[https://support.amd.com/us/gpudownload/Pages/index.aspx|AMD website]]</nowiki>. Select System - Product Family - Product - and Operating System (Linux x86/x86_64). Select a compatible driver. To avoid complications later on, save it inside an empty folder. Unzip the driver if necessary.
# Enable the ''Source Code'' repository in ''Synaptic Package Manger'', then open a terminal and type: <pre>
sudo apt-get update
</pre>
 1. Still using the terminal, navigate to the folder where you downloaded the drivers. In Ubuntu 14.04 LTS Trusty: <pre>
sh amd-driver-installer-catalyst-13-4-x86.x86_64.run --buildpkg Ubuntu/trusty
</pre> If it is required, a package manager window will open and install some dependencies and after a while create the following three <code>.deb</code> packages: <pre>
fglrx_13.4-0ubuntu1_amd64.deb
fglrx-amdcccle_13.4-0ubuntu1_amd64.deb
fglrx-dev_13.4-0ubuntu1_amd64.deb
</pre> '''''Note:''''' ''It will also create a file called <code>fglrx-installer_13.4-0ubuntu1_amd64.changes</code>. If you wish you can read this file to know the changes that have been effected through AMD Catalyst 13.4 and related information.''

  For reference, the AMD driver installer can also be executed using its built-in graphical user interface, which provides options to manually generate the fglrx driver.
   <pre>
sudo ./amd-driver-installer-catalyst-13-4-x86.x86_64.run
</pre>
  Select Generate Distribution Specific Driver package - Continue - I Agree - select Build package for detected OS:Ubuntu/saucy - Continue.

 1. To install the created <code>.deb</code> files, type: <pre>
sudo dpkg -i fglrx*.deb
</pre> '''''Note:''''' ''In case any of the packages are broken, open '''Synaptic Package Manager''' and go to '''Edit -> Fix Broken Packages'''. In case you are new to Ubuntu, broken here means that some dependent packages are not yet installed. Once you sort out the issue as indicated above through the '''Synaptic Package Manager''', the problem of broken packages should be resolved.''
 1. Continuing with the installation, type: <pre>
sudo amdconfig --initial
</pre> After this command, reboot your system. If all is right, the ''fglrx'' driver that corresponds to AMD Catalyst 13.4 will be installed and working on your system. To confirm the drivers are working open a terminal and type: <pre>
fglrxinfo
</pre> You should get an output similar to the following: <pre>
fglrxinfo
display: :0  screen: 0
OpenGL vendor string: Advanced Micro Devices, Inc.
OpenGL renderer string: AMD Radeon HD 6300M Series
OpenGL version string: 4.2.11733 Compatibility Profile Context
</pre> '''''Note:''''' ''If you see any mention of ''MESA'' in the output, the fglrx drivers have not been installed correctly. See the <nowiki>[[ATI#Troubleshooting|troubleshooting section]]</nowiki> for more details'' You can make configuration changes through the AMD Catalyst Control Center via the '''Application''' menu.

=== Manually installing Catalyst 13.4, special case for Intel/AMD hybrid graphics ===

/!\ WARNING: This method does not appear to work with Catalyst 12.8. More information will follow as available.

/!\ WARNING: Using a method other than described in the manual instructions section above by creating a .deb file can lead to extreme difficulties. Be sure to take note of the instructions for uninstalling the driver at the end of this section, since the driver must be uninstalled using the amdconfig utility.

This method is NOT RECOMMENDED in general, but has been found by some users with Intel/AMD hybrid graphics to work.

This method PROBABLY WILL NOT WORK for HD 5xxx or earlier cards. It has been shown by some users to work only with 6xxx and 7xxx series cards.

 1. Save backup copy of xorg.conf in case this doesn't work. <pre>
sudo cp /etc/X11/xorg.conf /etc/X11/xorg.conf.BAK
</pre>
 1. Remove/purge current fglrx and fglrx-amdcccle (If you have used a method outside of aptitude, apt, Software Center or Synaptic, follow the other party's instructions for removal). <pre>
sudo apt-get purge fglrx fglrx-amdcccle
</pre> For some users, the fglrx-updates and fglrx-amdcccle-updates packages do not work. If you attempted to install them, also do: <pre>
sudo apt-get purge fglrx-updates fglrx-amdcccle-updates
</pre>
# Reboot.
# Download the driver found at the <nowiki>[[https://support.amd.com/en-us/download|AMD website]]</nowiki>.
# Navigate to the directory to which the file was downloaded. <pre>
cd /path/to/file
</pre>
 1. Make the .run file executable, using the 13.4 driver as an example (modify as needed for future versions. Note that the name of the .run file is for ILLUSTRATION only and you must be sure that you type the name of the actual file correctly). <pre>
sudo chmod +x amd-driver-installer-catalyst-13-4-x86.x86_64.run
</pre>
 1. Execute the .run file: <pre>
sudo ./amd-driver-installer-catalyst-13-4-x86.x86_64.run
</pre> Be sure to click "Install Driver" as shown: <<BR>> <nowiki>[[File:catalyst1.png]]</nowiki>
 1. Create a new xorg.conf: <pre>
sudo amdconfig --initial
</pre>
# Reboot.
# To confirm the drivers are working open a terminal and type: <pre>
fglrxinfo
</pre> You should get an output similar to the following: <pre>
fglrxinfo
display: :0  screen: 0
OpenGL vendor string: Advanced Micro Devices, Inc.
OpenGL renderer string: AMD Radeon HD 6300M Series
OpenGL version string: 4.2.11733 Compatibility Profile Context
</pre>
# The Catalyst Control Center should now offer a choice between the integrated Intel graphics and the dedicated AMD graphics. To switch, select the graphics you want to run. Because the change is not dynamic, a reboot is required. <<BR>> <nowiki>[[File:SwitchGraphics.png]]</nowiki>
# To uninstall after installing using this method, you MUST use the amdconfig utility: <pre>
sudo amdconfig --uninstall
</pre>

== Enabling Video Hardware Acceleration ==

Video hardware acceleration with the Linux AMD driver is not as full featured as other OEMs, but there is some that can be enabled. To get video hardware acceleration (tested on all currently supported releases at the time of writing), you need to add four packages after installing the driver. <pre>
sudo apt-get install xvba-va-driver libva-glx1 libva-egl1 vainfo
</pre> You can test to see if you have installed them correctly thus: <pre>
sudo vainfo
</pre> When installed correctly, you should get the following: <pre>
libva: VA-API version 0.32.0
Xlib:  extension "XFree86-DRI" missing on display ":0".
libva: va_getDriverName() returns 0
libva: Trying to open /usr/lib/x86_64-linux-gnu/dri/fglrx_drv_video.so
libva: va_openDriver() returns 0
vainfo: VA-API version: 0.32 (libva 1.0.15)
vainfo: Driver version: Splitted-Desktop Systems XvBA backend for VA-API - 0.7.8
vainfo: Supported profile and entrypoints
      VAProfileH264High               :    VAEntrypointVLD
      VAProfileVC1Advanced            :    VAEntrypointVLD
</pre> From time to time a required symlink is not properly created. This will result in a shorter message than the above indicating that the driver could not be found.

The following may correct the problem.

For 64 bit systems: <pre>
sudo ln -s /usr/lib/va/drivers/fglrx_drv_video.so /usr/lib/x86_64-linux-gnu/dri/fglrx_drv_video.so
</pre>

For 32 bit systems: <pre>
sudo ln -s /usr/lib/va/drivers/fglrx_drv_video.so /usr/lib/dri/fglrx_drv_video.so
</pre>

== Troubleshooting ==

You may see a message like this: <pre>
Xlib:  extension "XFree86-DRI" missing on display ":1.0
</pre> This message does not necessarily indicate a problem. It can be fixed however...

Open <code>/etc/X11/xorg.conf</code> and add the following line to <code>Section "Module"</code>: <pre>
load "dri"
</pre>

=== MESA "error" ===

If fglrxinfo gives you the following output, your installation is not completed correctly: <pre>
$ fglrxinfo
display: :0.0  screen: 0
OpenGL vendor string: Mesa project: www.mesa3d.org
OpenGL renderer string: Mesa GLX Indirect
OpenGL version string: 1.2 (1.5 Mesa 6.4.1)
</pre> In this case, watch for these things:

 1. Make sure that the restricted-modules package installed correspond to the kernel your are running and that you can load the ''fglrx'' driver, whether by issuing the command: <pre>
sudo modprobe fglrx
</pre> or by verifying that the module appears in the list of loaded modules, by issuing the command: <pre>
lsmod
</pre>
 1. It may be necessary to establish a symbolic link for the <code>/usr/lib/dri</code> folder, by issuing the following command: <pre>
sudo ln -s /usr/lib/dri /usr/lib/xorg/modules/dri
</pre>
 1. You may have to deload the ''radeon'' and ''dri'' modules, by issuing: <pre>
sudo rmmod radeon
</pre> and: <pre>
sudo rmmod dri
</pre>
 1. Make sure you deload the module ''ati-agp'' by issuing: <pre>
sudo rmmod ati-agp
</pre> and blacklist it in: <pre>
/etc/modprobe.d/blacklist
</pre>
 1. Make sure you've added: <pre>
Load "dri"
</pre> to: <pre>
/etc/X11/xorg.conf
</pre> under: <pre>
Section "Module"
</pre>

=== HDTV underscan ===

If you experience underscan when outputting video to an HDTV, this may resolve the issue: <pre>
sudo amdconfig --set-pcs-val=MCIL,DigitalHDTVDefaultUnderscan,0
sudo reboot
</pre> This sets the default underscan setting to false.

=== Catalyst Control Center does not open from the panel icon ===

If you cannot get the Catalyst Control Center to launch from an icon, try from the terminal: <pre>
gksudo amdcccle
</pre>

== Reporting a bug when using fglrx via supported Ubuntu repository ==

=== Known issues ===

* fglrx-installer not working with AMD Radeon™ HD/Mobility Radeon™ HD 4000, 3000 or 2000 series graphics card
** For more on this, please see <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/fglrx-installer/+bug/1058040]]</nowiki>.

=== New issues ===

If you have a bug in the driver provided in a supported Ubuntu repository, please file a report about this by executing at a terminal: <pre>
ubuntu-bug xorg
</pre> Once reported, please test the latest fglrx version available from AMD's website as per below. This will allow one to also report it to AMD directly, as they are the maintainers of the fglrx, and will ultimately be the ones providing a fix. Not testing the latest driver available for your card virtually eliminates the possibility of getting your bug solved.

== Reporting a bug in fglrx when using latest upstream beta and stable downloaded directly from AMD's website ==

Reporting bugs about the latest driver downloaded directly from AMD's website should be done via official AMD channels. Please do not report bugs about these drivers on <nowiki>[[https://launchpad.net|Launchpad]]</nowiki>.

=== Technical Support ===

Before submitting a bug to AMD, please provide the output of the following terminal command:
<pre>
sh /usr/share/fglrx/atigetsysteminfo.sh
</pre>

Once obtained, submit a <nowiki>[[https://support.amd.com/en-us/contact|online service request]]</nowiki>. This will provide a ticket number sent to your e-mail address to track it.

== Unofficial AMD Wiki and Bugzilla ==

/!\ As per AMD, the Unofficial Wiki for the AMD Linux Driver and Unofficial AMD Bugzilla are not supported by, or affiliated with AMD in any way. Hence, please use official AMD reporting methods if you would like your issue addressed by AMD.

== See Also ==

* <nowiki>[[RadeonDriver| The AMD Radeon open-source driver how-to for Ubuntu]]</nowiki>

* <nowiki>[[AMDGPU-Driver| AMD's AMDGPU open source driver for GCN (Graphics Core Next) GPUs]]</nowiki>

* <nowiki>[[AMDGPU-PRO-Driver| AMD's AMDGPU-PRO hybrid proprietary-open-source driver for GCN (Graphics Core Next) GPUs]]</nowiki>

== External Links ==

* AMD driver homepage <nowiki>[[https://support.amd.com]]</nowiki>

----
CategoryHardware CategoryGraphics

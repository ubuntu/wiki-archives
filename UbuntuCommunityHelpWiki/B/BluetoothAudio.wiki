{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


----

This page applies to Ubuntu 7.10 (Gutsy). For Ubuntu 10.10, please refer to BluetoothHeadset page.

== Overview of Bluetooth Audio ==
There are two different Audio profiles implemented in Bluetooth. Which one to use depends on how you plan to use your headset.

The "sco" audio profile is a low quality, low latency connection.  The sound quality is comparable to a cell phone.  The poor sound quality is very noticeable when listening to music.

The "a2d" audio profile is a high quality compressed connection, and provides excellent audio quality.  As of July 13, 2007 the a2d audio driver is not available via apt, and requires manual compiling for installation.  This is the preferred audio configuration for Bluetooth.

== Installing Low quality "sco" audio drivers ==
Note:  This software is no longer maintained by the original authors

=== Loading Prerequisites ===
<pre>
 sudo apt-get install bluez-btsco
 sudo modprobe snd-bt-sco
</pre>

Note:  If you prefer this module be loaded automatically at boot, run 'gksu gedit /etc/modules' and add a line for 'snd-bt-sco'.

=== Determine the BT Address of the headset ===
# Put the device into "Pairing" mode.  This procedure varies by headset, but usually involves holding down the power button for 10-15 seconds
# Open a terminal and run 'hcitool scan'
""Note:  I am using my address '00:07:a4:b8:f9:77' for this example.""
""Please substitute your address from the hcitool scan output for the remaining steps.""
 1. Look for output like this
<pre>
 ellie@ellie-laptop:~$ hcitool scan
 Scanning ...
         00:07:A4:B8:F0:77       Motorola HT820
 ellie@ellie-laptop:~$
</pre>

 1. Edit  /etc/bluetooth/hcid.conf (gksu gedit  /etc/bluetooth/hcid.conf ) and add a section like this
<pre>
 device 00:07:A4:B8:F9:77 {
         name "Motorola HT820"
         auth enable;
         encrypt enable;
 }
</pre>

 1. Restart Bluetooth services 
<pre>
sudo /etc/init.d/bluetooth restart
</pre>

=== Starting the "sco" driver for the first time ===
# Place the Headset into "pairing" mode as above
# Open a terminal and run 'btsco -v 00:07:a4:b8:f9:77'
# This should cause the gnome bluetooth manager to ask you for a pin number to pair.  This is usually 0000 or 1234

=== Testing the "sco" driver ===
<pre>
aplay -B 1000000 -D plughw:Headset /usr/share/sounds/login.wav
</pre>

You should hear the Ubuntu Login sound.

=== Configuring btsco to run automatically at each boot ===
# Open System -> Preferences -> Sessions and select "startup Programs"
# Click New
# Enter "BT Sco Headset audio" for the Name
# Enter '/usr/bin/btsco -r -f 00:07:a4:b8:f9:77'
# Click Ok and Apply

=== Setting the headset as your default alsa audio device ===
<pre>
asoundconf set-default-card Headset
</pre>

This will create the appropriate entries in your .asoundrc file.  This setting is per-user.

=== GUI tool for BT Sco config ===

An alternative way to configure your BT Headset is to use Gbtsco, a simple GUI for all the previously described hard work.

http://www.stgraber.org/2007/05/20/gbtsco-already-release-02/

Please take into account that at this time btsco and snd-bt-sco are deprecated in favor of the new bluez development, but btsco still works until is definitely replaced by the new solution.  More info at http://www.bluez.org/

== Installing High Quality "a2d" Audio Drivers ==
The `bluetooth-alsa` package is available since Ubuntu 7.10 (Gutsy).

=== Using "a2d" audio drivers ===
Pairing a headset using the Bluetooth Manger works as designed through the GUI, however routing sound to the newly paired headset is not possible using Sound Preferences (found at System > Preferences > Sound Preferences). In the Sound Preferences dialog under Devices > Music and Movies > Sound Playback you should be able to pick the paired bluetooth headset. However, the headset does not appear in the list of options. To direct sound output to the headset open a terminal window and enter the following:

<pre>
gconftool -t string -s /system/gstreamer/0.10/default/musicaudiosink "sbcenc ! a2dpsink device=XX:XX:XX:XX:XX:XX"
</pre>

Where XX:XX:XX:XX:XX:XX is the MAC address of the headset.

After executing this command you can reopen the Sound Preferences window and see under Devices > Music and Movies > Sound Playback that the field is now blank (your device can not be represented because the headset isn't a available option in the drop down list).

To redirect the sound back to the computer's speakers select Autodetect for Devices > Music and Movies > Sound Playback.

You will have to restart Rhythmbox each time you make a change.

This information was taken from http://wiki.bluez.org/wiki/HOWTO/AudioDevices.

=== Activating A2D ===
In System > Preferences > Sound and under the ''Hardware'' tab, there will be a separate device for your bluetooth headset (once paired). Clicking on it reveals a drop-down box labeled ''Profile'', which has settings for A2DP profile and any other profiles installed. 

== Troubleshooting ==
The BluetoothSkype; page has additional information for configuring the new driver.
See <nowiki>[[[http:--bluetooth-alsa.sf.net-contact.html|Contact-troubleshooting]]</nowiki>] for troubleshooting information. There is additional information for audio troubleshooting at <nowiki>[[BluetoothPulseaudioTroubleshooting]]</nowiki>

If you experience drop in audio while you use your bluetooth mouse, change this options in /etc/bluetooth/hcid.conf, device section: Change “lm accept;” to “lm master;” and change “lp rswitch,hold,sniff,park;” to “lp hold,sniff,park;”. Then restart bluetooth (/etc/init.d/bluetooth force-reload).

----
CategoryBluetooth CategoryAudio

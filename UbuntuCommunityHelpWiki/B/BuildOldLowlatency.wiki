{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

=== Regard this guide highly experimental ===

'''Why would you want to build an older lowlatency kernel?'''

If you have issues with the newer kernels, there may be cause to try an older kernel. These instructions assume you have the current lowlatency kernel installed and will be using its config as base.

Observe that kernel versions below 2.6.39 will not be able to support the use of irq threading, as is done with the rtirq script.

==== Build Procedure ====

First install build tools
{{{ 
sudo apt-get install kernel-package
}}}

Get Natty source (Oneiric linux source is at security.ubuntu.com/ubuntu/pool/main/l/linux/linux-source-3.0.0_3.0.0-20.34_all.deb) and install it
<pre>
wget http://security.ubuntu.com/ubuntu/pool/main/l/linux/linux-source-2.6.38_2.6.38-16.67_all.deb 
sudo dpkg -i linux-source-2.6.38_2.6.38-16.67_all.deb
</pre>

become root
<pre>
sudo su
</pre>

Go to the source dir, where we find the recently installed linux-source package and extract the source
<pre>
cd /usr/src
tar xvf linux-source-2.6.38.tar.bz2
cd linux-source-2.6.38
</pre>

We will use current lowlatency config (Replace with your version of lowlatency)
<pre>
cp /boot/config-3.2.0-*-lowlatency .config
</pre>

After hitting the next command you probably want to answer no to cgroups for 2.6.38 kernels (might cause problems for realtime audio) and debug related questions in the beginning. After that, just click *Enter* for everything else (will set everything to default)
<pre>
make oldconfig
</pre>

Build the kernel (concurrency level 2 will use two processor cores). For each new build, you can just set a new revision number, to keep track of the builds (you might want to try different configs)
<pre>
CONCURRENCY_LEVEL=2 make-kpkg --append-to-version "-customlowlatency" --revision "1" --initrd kernel-image kernel-headers
</pre>

Hopefully the build went well, and the resulting two packages, the kernel image, and the kernel headers are now installable. Depending on arch, the packages will be named accordingly
'''If you rebuild using the same source again, make sure to uninstall the previous built kernel before installing the new build'''
<pre>
dpkg -i ../linux-image-2.6.38.8-customlowlatency*
dpkg -i ../linux-headers-2.6.38.8-customlowlatency*
</pre>

Reboot, and boot into this new kernel

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== Introduction ==
{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

This guide is meant to help get the Gigabyte T1005 netbook working with Ubuntu 11.10.

== Summary ==

=== What works out of the box ===
* Graphics
* Sound
* Wifi
* Bluetooth
* Special keys on the keyboard
* eSata
* Card Reader
* Webcam
* 3G (standard PCI Express mini card, tested Ericsson F5521gw for Lenovo)
* external VGA

=== Fixes available ===
* Touchpad
* Sleep/Hibernate fail
* Sleep on Power removal
* Lid Button registers as permanently closed
* Touchscreen when rotating screen
* Side Hard Button (battery level/SmartManager in Windows)
* Keyboard keys get "stuck" (<nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-input-evdev/+bug/769103|bug 769103]]</nowiki>)
* Touchscreen configuration (T1005P only)

=== Not Tested ===
* usb 3

== Solutions ==

=== Touchpad ===
Modify /etc/defaults/grub and modify the "splash quiet" line by including 'i8042.noloop=1'. Afterwards run update-grub2.
You can test this by adding 'i8042.noloop=1' in the grub menu at boot. (From <nowiki>[[http://ubuntuforums.org/showpost.php?p=8011165&postcount=1|this post]]</nowiki>) See <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/737482|bug #737482]]</nowiki>.

=== Sleep/Hibernate fail ===
This is related to the USB 3 not unbinding (see <nowiki>[[http://ubuntuforums.org/showthread.php?t=1444822|this thread]]</nowiki>)
* In /etc/pm/sleep.d create a new script: 20_custom-xhci_hcd
<pre>
case "${1}" in
        hibernate|suspend)
######## Unbind xhci_hcd for first device 0000:02:00.0:
               echo -n "0000:02:00.0" | tee /sys/bus/pci/drivers/xhci_hcd/unbind
        ;;
        resume|thaw)
######## Bind xhci_hcd for first device 0000:02:00.0:
              echo -n "0000:02:00.0" | tee /sys/bus/pci/drivers/xhci_hcd/bind
        ;;
esac
</pre>

=== Sleep on Power removal ===
This is a symptom of '''Lid Button registers as permanently closed'''. The default power setting is to sleep on lid close when on battery so when the power is removed the computer sleeps. Disable sleep on lid close in System > Preferences > Power Management by change '''When Laptop Lid is Closed''' from suspend to blank.

=== Lid Button registers as permanently closed ===
This problem isn't fully resolved at the moment but you can make your device to sleep on lid close (it does wakeup on lid open out of the box). Edit /etc/acpi/lid.sh as follows:
<pre>
...
    for x in /tmp/.X11-unix/*; do
      displaynum=`echo $x | sed s#/tmp/.X11-unix/X##`
      getXuser;
      if [ x"$XAUTHORITY" != x"" ]; then
        export DISPLAY=":$displaynum"
-       . /usr/share/acpi-support/screenblank
+       GS_PID=`pgrep -u $user -f "gnome-screensaver"`
+       export DBUS_SESSION_BUS_ADDRESS=`grep -z DBUS_SESSION_BUS_ADDRESS /proc/$GS_PID/environ | sed -e 's/DBUS_SESSION_BUS_ADDRESS=//'`
+       su $user -c 'dbus-send --session --type=method_call --dest=org.gnomeScreenSaver /org/gnome/ScreenSaver org.gnome.ScreenSaver.Lock'
      fi
    done
+   pm-suspend
...
</pre>

=== Touchscreen when rotating screen ===
* Use `xrandr -o [normal,right,inverted,left]` to rotate the screen
* Use `xinput set-prop` to rotate the Touchscreen to match
** Find the touchscreen device number with `xinput list|grep Cando | grep -o 'id=[0-9]*' | sed 's/id=//'` e.g. 10
** Use:
** normal:
*** xrandr -o normal && xinput set-prop 10 "Coordinate Transformation Matrix" 1, 0, 0, 0, 1, 0, 0, 0, 1
** right:
*** xrandr -o right && xinput set-prop 10 "Coordinate Transformation Matrix" 0, 1, 0, -1, 0, 1, 0, 0, 1
** inverted:
*** xrandr -o inverted && xinput set-prop 10 "Coordinate Transformation Matrix" -1, 0, 1, 0, -1, 1, 0, 0, 1
** left:
*** xrandr -o left && xinput set-prop 10 "Coordinate Transformation Matrix" 0, -1, 1, 1, 0, 0, 0, 0, 1

=== Side hard button (SmartManager) ===
You can get the button to work using gb-wmi DKMS module which is hosted on <nowiki>[[https://launchpad.net/~ivzave/+archive/gigabyte]]</nowiki>. To install open a terminal and enter following commands:
<pre>
sudo apt-add-repository ppa:ivzave/gigabyte
sudo apt-get update
sudo apt-get install gb-wmi
</pre>
Reboot to load the module (it will be loaded automatically on system boot) or manually start it:
<pre>
sudo modprobe gb-wmi
</pre>

Then you can bind the button to any action of your choice (e.g. screen rotation) using System Settings > Keyboard > Hotkeys.

=== Keyboard ===
Use System > Preferences > Keyboard and uncheck '''Repeat Keys''' This will prevent multiple key presses when a key gets "stuck". See <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-input-evdev/+bug/769103|bug 769103]]</nowiki> for a better workaround that makes autorepeat work almost as expected.

=== Touchscreen configuration (T1005P only) ===
Device is equipped with IDEACOM IDC 6650 touchscreen. Its support is enabled in newest hid-multitouch driver but that driver isn't used by current Ubuntu at the moment. You need to do the following:
* get your kernel source
* manually apply changes listed in <nowiki>[[http://lii-enac.fr/cgi-bin/gitweb.cgi?p=linux-input/drivers.git;a=commitdiff;h=ccc83740812c97b001c6e059a09c3ab5c25e1e9d|this patch]]</nowiki>
* recompile hid.ko and hid-multitouch.ko modules
* replace the modules in your kernel by updated ones
* depmod -a && update-initramfs -u
* reboot

The touchscreen then performs well and handles gestures up to dual-touch with ginn or touchegg running.

== To Do ==
* Getting <nowiki>[[https://wiki.ubuntu.com/Multitouch/|Multitouch]]</nowiki> to work with all PPA's including <nowiki>[[https://launchpad.net/ginn/+milestone/ubuntu-10.10|ginn]]</nowiki>. See  <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/utouch/+bug/773138|bug #773138]]</nowiki>.
* Fix lid problem (write a specific lid driver?). See <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/874483|bug #874483]]</nowiki>.

== Suggestions ==
If you have any solutions please update this page or send them to <nowiki>[[https://launchpad.net/~xraya4t|XRayA4T]]</nowiki>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


Return to <nowiki>[[https://help.ubuntu.com/community/Lubuntu-fake-PAE|Lubuntu-fake-PAE]]</nowiki> or
<nowiki>[[https://help.ubuntu.com/community/Bento-fake-PAE|Bento-fake-PAE]]</nowiki>

== 'grub-n-iso' ==

=== Introduction ===

CD images of operating systems (with the ISO 9660 file system) are often distributed as iso files.

Ubuntu iso files are designed to allow booting directly from the hard drive using GRUB 2 and eliminates the need for burning a CD/DVD. This feature permits the user to boot and use the "Try Ubuntu" feature of the Ubuntu installation CD as well as to install Ubuntu directly from an iso file on the hard drive. In addition to Ubuntu iso files, many other Linux distributions as well as popular rescue CDs can be booted directly from an iso file.

In order to use this feature, GRUB 2 must already be installed on the system. GRUB Legacy can not use this feature.

==== 'grub-n-iso' for USB pendrives ====

This help page describes how to create USB pendrives, that use this 'grub-n-iso' method to boot directly from iso files. The bootloader is configured to select an iso file for booting. There are some small files for the configuration, and it is quite easy to copy an iso file or several iso files to the pendrive and create a '''USB [multi]boot drive'''.

=== Notes ===

{| class="wikitable"
|-
| '''''Note 1: Instructions how to make install USB drive from Windows with graphical user interface tools'''''
|-
| '''''Note 2: mkusb, a shell-script from the Ubuntu Forums tutorial "Howto make USB boot drives", helps you write to the correct USB drive'''''
|-
| '''''Note 3: Lubuntu 13.10 Saucy Salamander'''''
|-
| <#CCFF99> '''''Note 4: Bento-Ubuntu-Remix'''''
|-
| <#CCFF99> '''''Note 5: Lubuntu 13.04 'Raring' and 13.10 'Saucy' have passed end of life'''''
|-
| <#CCFF99> '''''Note 6: grub-n-iso for all PCs'''''
|}

=== 'grub-n-iso' for all PCs ===

{| class="wikitable"
|-
| <#CCFF99> This method is new, and developed after the introduction of the boot parameter '''forcepae''', that makes fake-pae obsolete.
|}

==== Booting 32-bit and 64-bit systems in BIOS and UEFI mode ====

'grub-n-iso' for all PCs was developed for the Ubuntu version 14.04 LTS, which is using grub version 2-02~beta2. Compared to previous versions, it can manage both BIOS and UEFI mode from the same pendrive.

64-bit versions work only in 64-bit computers. 32-bit versions work in 32-bit and 64-bit computers with BIOS, and now also with UEFI. '''It is possible to create 'grub-n-iso' pendrives that boot most PCs with Intel and AMD processors according to the following 'BIOS and UEFI' links'''.

==== UEFI ====

But old style 'grub-n-iso' does not work in UEFI mode.

If you want to boot in UEFI mode and '''install''' your Ubuntu flavour alongside Windows, you can use for example the '''ubuntu-14.04.2-desktop-amd64.iso''' directly.

==== Links ====

There is a good wiki page about <nowiki>[[https://help.ubuntu.com/community/UEFI|booting with UEFI]]</nowiki>

'''General 'grub-n-iso' links'''

<nowiki>[[https://wiki.archlinux.org/index.php/Multiboot_USB_drive]]</nowiki>

<nowiki>[[https://help.ubuntu.com/community/Grub2/ISOBoot]]</nowiki>

<nowiki>[[https://help.ubuntu.com/community/Grub2/ISOBoot/Examples]]</nowiki>

<nowiki>[[https://help.ubuntu.com/community/Grub2/CustomMenus]]</nowiki>

''''BIOS and UEFI' links'''

<nowiki>[[http://ubuntuforums.org/showthread.php?t=2276498|How to Create a EFI/UEFI GRUB2 Multiboot USB drive to boot ISO images]]</nowiki>

<nowiki>[[http://ubuntuforums.org/showthread.php?t=2259682|One pendrive for all PC (Intel/AMD) computers]]</nowiki>

<nowiki>[[File:grub-n-iso_lub14041-32_720x400.png]]</nowiki>

{| class="wikitable"
|-
| <#CCFF99> End of 'grub-n-iso' for all PCs
|}

=== 'grub-n-iso' for Lubuntu-fake-PAE ===

==== Advantages ====

- Similar to normal installation (via 1GB or 2GB USB drive)

- No upgrading between versions is necessary

- Full flexibility, for example to make a dual boot system

- The official Lubuntu and Bento i386 desktop iso files are used, and can be checked with md5sum
<pre>
5e85e368b6eaf1b9f5cf88467c6570f5  lubuntu-13.10-desktop-i386.iso
1f4263f822d9cb2f7607974a721f9468  bento.iso
</pre>
according to <nowiki>[[https://help.ubuntu.com/community/UbuntuHashes]]</nowiki>

and <nowiki>[[http://linuxvillage.org/en/2013/11/bento-ubuntu-remix-rc]]</nowiki> with 'bento.iso' alias

'bento-ubuntu-remix-RC-linux-3.8-fake-pae-i386-2012.04.3.iso'

==== Disadvantages ====

- You do not get a complete worḱing operating system directly (Lubuntu)

- You need to install fake-pae using 7bit's ppa after the installation (Lubuntu, Bento has fake-PAE)

- It uses the desktop iso file, while the alternate iso file can install to systems with lower RAM.

{| class="wikitable"
|-
| <#CCFF99> '''''Note 5: Lubuntu 13.04 'Raring' and 13.10 'Saucy' have passed end of life'''''
|-
| <#CCFF99> - '''All Lubuntu versions before 14.04 LTS have passed end of life and are no longer supported''', not even security updates are available for the Lubuntu specific program packages. So avoid using them when connected to the internet! On the other hand, the boot option '''forcepae''' is available and replaces '''fake-pae'''. So there is no need to create Lubuntu-fake-PAE systems for 14.04 LTS and newer versions.
|}

==== Warning ====

This Lubuntu Raring 'grub-n-iso’ system was made for Pentium M and Celeron M, that have PAE capability but no PAE flag. It is harmless for all computers modern enough to have USB. '''We take no responsibility for any damage, that this software can cause with very old hardware without PAE capability (pre Pentium II)'''.
----

=== Instruction details ===

==== a. Backup all personal data before trying this method ====

==== b. Use it only for computers with old Pentium M and Celeron M CPUs without the PAE flag (mainly if not only laptops)! ====

==== c. Check very carefully which drive is the USB drive, ====
to use as the ‘grub-n-iso’ or ‘grub-n-iso-n-swap’ USB boot drive. '''Double check and triple check''', because dd will overwrite the drive and if you write to a drive with unique data, there is no way to get them back.

It makes it easier, if you '''disconnect all external drives except the target''', the USB drive intended to be the target.

'''In Linux''' the following command can help identify the USB drive intended to be the target. Run them one line each time and watch the output to the terminal window.

- press the hotkey combination '''ctrl +alt + t''' to get a terminal window 

- notice that upper case and lower case letters make a difference in linux commands, so type exactly like here or cut and paste into the terminal window. Press the Enter (or Carriage Return) key to ‘send’ the command. 

<pre>
sudo fdisk -lu
sudo parted -l
sudo blkid
df
</pre>

'''In Windows''' the file browser '''Explorer''' can help identify the USB drive intended to be the target. Normally '''win32diskimager''' will only select USB drives, which makes it easy, if you have no other USB drives connected. But please check anyway!

==== d+. The ‘grub-n-iso’ system should work well with 1 GB RAM or more, ====
maybe with 768 MB. The ''' ‘grub-n-iso-n-swap’ system can install will less RAM''', because the swap can relieve some peaks in memory usage. It depends on the computer specs (not only RAM, also graphics chip and other devices, that use memory) if it will work, but you can probably install with 512 MB RAM. This assumption is based on tests in VirtualBox.

==== d-. If you have less than 512 MB RAM, ====
we suggest that you get more RAM, or use another method, either the Lubuntu-13.10-fake-PAE install method 'installed system', or the method by mörgæs starting with Ubuntu non-PAE 12.04 mini.iso, fake-PAE, and upgrading to 12.10 (and 13.04 and 13.10). See <nowiki>[[https://help.ubuntu.com/community/PAE]]</nowiki>

==== e. Download one of the compressed image files ====

Right now the image files to download reside on these links

<nowiki>[[https://drive.google.com/folderview?id=0B46yhFQuJvfPRXRvSmJ6b0xoNE0&usp=sharing |google drive of Nio Wiklund alias sudodus]]</nowiki> -- link for 'all' Lubuntu fake-PAE files

<nowiki>[[http://phillw.net/isos/linux-tools/bento-fake-pae]]</nowiki> -- '''you find 'Bento Linux fake-PAE' here'''

----

'''Lubuntu-13.10-desktop-grub-n-iso.img.gz'''

or

'''Lubuntu-13.10-desktop-grub-n-iso-n-swap.img.gz'''

or

'''bento-ubuntu-remix-RC-linux-3.8-fake-pae-i386-2012.04.3.grub-n-iso.img.gz'''

View or download the file '''md5sums.txt''' from the same web page.

==== f.1 Check download and clone image in Linux ====

Check that the download was successful with '''md5sum''' according to the file '''md5sums.txt''' 

<pre>
md5sum Lubuntu-13.10-desktop-grub-n-iso.img.gz
</pre>

or

<pre>
md5sum Lubuntu-13.10-desktop-grub-n-iso-n-swap.img.gz
</pre>

or

<pre>
md5sum bento-ubuntu-remix-RC-linux-3.8-fake-pae-i386-2012.04.3.grub-n-iso.img.gz
</pre>

Next

Either run the shell-script '''mkusb''' from the Ubuntu Forums tutorial <nowiki>[[http://ubuntuforums.org/showthread.php?t=1958073|"Howto make USB boot drives"]]</nowiki>, which helps you write to the correct USB drive

<pre>
$ mkusb Lubuntu-13.10-desktop-grub-n-iso.img.gz
Usage:
sudo /home/sudodus/bin/mkusb Lubuntu-13.10-desktop-grub-n-iso.img.gz
$ sudo /home/sudodus/bin/mkusb Lubuntu-13.10-desktop-grub-n-iso.img.gz
...
</pre>
and you can expect an output like this, if you have installed '''pv''' which shows Mibibytes (while '''dd''' shows Megabytes.
<pre>
 953MB 0:00:31 [30,7MB/s] [====================================================================================>] 100%
243967+1 poster in
243967+1 poster ut
999292416 byte (999 MB) kopierade, 33,9696 s, 29,4 MB/s
</pre>

Or do it '''manually''' in the following way
<pre>
sudo -s # install with superuser privileges 
</pre>
Install a 1GB system to a USB drive 
<pre>
zcat Lubuntu-13.10-desktop-grub-n-iso.img.gz|dd bs=4096 of=/dev/sdx 
</pre>
or install a 2GB system to a USB drive with a swap partition and space for a second iso file 
<pre>
zcat Lubuntu-13.10-desktop-grub-n-iso-n-swap.img.gz|dd bs=4096 of=/dev/sdx 
</pre>
<pre>
sync # and wait for the command prompt (while writing to the USB drive)
</pre>
<pre>
exit # return to normal privileges 
</pre>

x is the drive letter (no digit). You should write to a drive, not a partition. So instead of x use a letter. 

For the first drive '''of=/dev/sda'''

For the second drive '''of=/dev/sdb'''

...

according to what you found, when you identified the USB drive intended to be the target.

==== f.2 Check download and clone image in Windows ====

Download the following help programs 

<nowiki>[[http://www.md5summer.org]]</nowiki>

<nowiki>[[http://www.7-zip.org]]</nowiki>

<nowiki>[[http://sourceforge.net/projects/win32diskimager]]</nowiki>

First check that the download was successful with '''md5summer''' according to the file '''md5sums.txt'''. 

Next extract the image file with '''7-zip''' (It is also possible with '''winzip''')

from '''Lubuntu-13.10-desktop-grub-n-iso.img.gz''' to '''Lubuntu-13.10-desktop-grub-n-iso.img'''
 
or 

from '''Lubuntu-13.10-desktop-grub-n-iso-n-swap.img.gz''' to '''Lubuntu-13.10-desktop-grub-n-iso-n-swap.img'''

Then write the extracted image file (without the ending gz) with '''win32diskimager''' according to the pictures. Win32diskimager looks for '''img''' files. 

<nowiki>[[attachment:win32diskimager.jpg|Link to big picture with several details]]</nowiki>

<nowiki>[[File:win32diskimager2.jpg]]</nowiki>

==== g. Boot from the USB drive and when you have a live system running ====

<nowiki>[[File:the-grub-n-iso-n-swap-menu.png]]</nowiki>

<nowiki>[[File:live-lubuntu-fake-pae-grub-n-iso-with-pentium-m_reduced-to-800x600.jpg]]</nowiki>

<nowiki>[[attachment:live-lubuntu-fake-pae-grub-n-iso-with-pentium-m.jpg|View the screen shot in full size]]</nowiki>

- press the hotkey combination '''ctrl +alt + t''' to get a terminal window 

- notice that upper case and lower case letters make a difference in linux commands, so type exactly like here or cut and paste into the terminal window. Press the Enter (or Carriage Return) key to ‘send’ the command. 

==== h. Check that PAE is supported with the following command ====

<pre>
cat /proc/cpuinfo
</pre>

and look for address sizes. '''There should be 36 bits physical address size'''. If there is, install Lubuntu into the target drive, an internal hard disk drive or an external USB drive. Since such old laptops have no USB 3 or eSATA ports, it will run fastest with the internal drive. The installation works like it would from a normal desktop install (CD/DVD/USB) drive.

==== i. You should have no partition mounted on the target drive, ====
when you start the installation.

Check with '''df'''. Unmount partitions on the target drive '''/dev/sdx''' with the command

<pre>
sudo umount /dev/sdx?
</pre>

where x is the drive letter, a, b, c, ... and ? is a wild card symbol for all partitions.

If the target drive is a USB drive, don't eject it with the file browser, because then you will probably lose contact with it, and you must unplug and reconnect it physically (and use the sudo umount command line above, if partitions are auto-mounted).

Then when you get this message and question: 

"The installer has detected that the following disks have mounted partitions: 

/dev/sda, /dev/sdb

Do you want the installer to try to unmount the partitions on these disks before continuing?" 

(or maybe you get only "/dev/sdb") you can answer "'''No''', don't unmount anything", because you need to have the partitions on the installation USB drive mounted. 

==== j. When you arrive at the second page of the installer ‘Preparing to install Lubuntu’, ====
'''do not tick the boxes''' to ‘download updates while installing’ and ‘install this third-party software’. (It works for me but not for everybody after ticking those boxes.) Upgrading and installation of third-party software can be done after installation of fake-pae.

==== k. When the installation has finished, reboot and install fake-pae by 7bit (for Lubuntu, Bento has fake-PAE) ====
according to <nowiki>[[http://ubuntuforums.org/showthread.php?t=2113826&p=12504589#post12504589]]</nowiki>
with the following commands

<pre>
sudo apt-add-repository ppa:prof7bit/fake-pae
sudo apt-get update
sudo apt-get install fake-pae
</pre>

(You did it a short while ago, otherwise update before upgrading '''sudo apt-get update''') 

==== l. And now you can upgrade the system to the current daily status, ====
including kernel upgrades 

<pre>
sudo apt-get dist-upgrade 
</pre>

and install the ‘restricted extras’ 

<pre>
sudo apt-get install lubuntu-restricted-extras 
</pre>

Now you should have a system, that works as is should, updating and upgrading packages including the kernel. Lubuntu Raring end of life is January 2014. The fake-PAE should survive an upgrade to the next version. But you can look for a new Lubuntu 13.10 'Saucy' for Pentium M CPUs (between October 2013 and January 2014).

==== m. If you were using the ‘grub-n-iso-n-swap’ method, ====
you probably have an entry for the USB install drive’s swap partition in '''/etc/fstab'''. Use the UUID to identify it.

<pre>
UUID=3d1893f5-6e68-46d0-a957-9a9d74dc5d10 none            swap    sw             0       0
</pre>

Remove it! You should use a swap partition on the internal hard disk drive if possible. Swapping on a USB drive is very slow, and only intended to manage rare peaks of memory usage, and you don’t intend to have the USB install drive connected anyway.
----
Good luck!

Return to <nowiki>[[https://help.ubuntu.com/community/Lubuntu-fake-PAE|Lubuntu-fake-PAE]]</nowiki> or
<nowiki>[[https://help.ubuntu.com/community/Bento-fake-PAE|Bento-fake-PAE]]</nowiki>

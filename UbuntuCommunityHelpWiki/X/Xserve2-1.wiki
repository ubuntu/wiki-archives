{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


<nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|<nowiki>[[File:IconsPage/index.png|up]]</nowiki></nowiki>]]

== Xserve ==

<nowiki>[[File:Xserve.png]]</nowiki>

<<BR>><<BR>>
This page started 17 April 2009 to introduce the Apple Intel Xserve which requires EFI booting to install and run ubuntu linux which can be done using grub2 grub.efi, details currently being finalised.
The Xserve is a rack mounting server.
(Previous G5 or G4 Xserve used Open Firmware boot loader in common with other Power PC.)
<<BR>>
<<BR>>
<nowiki>[[File:IconsPage/terminal.png]]</nowiki> You can find out, what model you have by typing at the terminal:<<BR>>
<pre>
sudo dmidecode -s system-product-name
</pre> Or in OSX, < About This Mac: More Info... : Hardware >
<<BR>> 
 If you have a different model, please go <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki> and find the right wiki.

== Introduction ==

This page is intended primarily to show successful grub.efi booting method used for booting a linux installer, and then booting the installed linux system.

The alternative efi bootloader elilo used for IA32 and IA64 systems is not suitable for Apple's EFI implementation without extensive debugging, and not considered here

It is not intended to go into detail of various linux installations and post-install optimizations here.

It is assumed that Xserve may be used 
1. as a server with CLI console or minimal GUI with frame buffer video driver.
2. as workstation with CLI and desktop, regarded as experimental. This may need restriction to xorg fbdev GUI, depending on the hardware.

Initially I am using information from the ubuntuforums grub efi discussion thread in debuggiing grub.efi and application to Xserve to successfully boot linux, but I do not have an Xserve to vefify results.
 
Xserve2,1 now boots using grub64.efi from the grub2 after debugging. Requires SVN grub2 revision 2074 with patches for Xserve or later (2121 at 20april2009). More input is needed from Xserve users to confirm essential details.

The GRUB WIKI has recently been updated for the latest intel mac grub.efi installation.

<nowiki>[[http://grub.enbug.org/TestingOnMacbook|GRUB WIKI - efi on mac]]</nowiki>

And a basic explanation for grub.efi intel mac installation, has been started -

<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/EFI-Boot-Mactel|basic grub.efi bootng information for apple macs]]</nowiki>

== Configuration ==
An outline of the configuration used to boot the linux installer and linux OS -

Assume that an OSX hfsplus partition with the bless utiity and rEFIt is available.

Install bootloader on OSX partition root, or separate hfsplus partition-
<pre>
 /efi/refit/refit.efi,other refit files
 /efi/grub/grub.efi,grub.cfg,grub modules 
# # or grub.efi in the root with preloaded modules only
 /grub.efi,grub.cfg
</pre>

=== Booting Installer ===
A text based alternate install cd, or netboot kernel and initrd on an hfsplus partition, can be booted using this grub.cfg

<pre>
timeout=10
default=0
set F1=ctrl-x
set F2=ctrl-c

menuentry "2.6.28 x86_64 alternate installer cd" {
	fakebios
	search --set /install/vmlinuz
	linux /install/vmlinuz video=efifb noefi
	initrd /install/initrd.gz
}
menuentry "2.6.26 x86_64 net install images" {
	fakebios
	search --set /lenny64/linux
	linux /lenny64/linux video=efifb
	initrd /lenny64/initrd.gz
}
menuentry "REBOOT" {
	reboot
}
</pre>

=== Booting OS ===

After the linux OS is installed, reboot using additional grub.cfg menuentries -
More options may be needed here depending on he kernel version and specific hardware.

<pre>
menuentry "2.6.27 i386 fbdev sda4" {
	fakebios
	root=hd0,4
	linux /vmlinuz root=/dev/sda4 video=efifb
	initrd /initrd.img
}
menuentry "2.6.28 amd64 fbdev sda8 single" {
	fakebios
	root=hd0,8
	linux /vmlinuz root=/dev/sda8 video=efifb noefi single
	initrd /initrd.img
}
</pre>

Other configurations possible for agp 3d graphics are assumed not applicable, but who knows.
 ------------------------------

=== Please Contribute ===
If you have an alternative working Xserve/linux grub.efi or other linux bootloader configuration please feel free to edit below here.

=== The following sections are under review, work in progress ===
<nowiki>[[http://ubuntuforums.org/showthread.php?t=995704|grub.efi discussion thread ]]</nowiki> and for debugging.

<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/EFI-Boot-Mactel|basic grub.efi bootng information for apple macs]]</nowiki>

<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|general Apple Intel installation info]]</nowiki>

==== Overview ====

Anything not mentioned here probably already works out of the box. If not, please refer to the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=328|Ubuntu Apple Users forum]]</nowiki>. 

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;">Feature
| <style="background-color: #f9eaaf;"> Support status
|-
| External Monitor
| 
|}
<nowiki>[[File:IconsPage/ok.png]]</nowiki> (works out-of-the-box) <<BR>>
<nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki> (works, with remarks) <<BR>>
<nowiki>[[File:IconsPage/warning.png]]</nowiki> (needs manual install) <<BR>>
<nowiki>[[File:IconsPage/dont.png]]</nowiki> (won't work)<<BR>>
<nowiki>[[File:IconsPage/question.png]]</nowiki> (not yet documented)<<BR>>

==== Basic Installation Instructions ====
Common things about installing and maintaining Ubuntu on Intel-based Macs:
<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|Intel CPU-based Macintosh Generic Installation Instructions]]</nowiki>

----
<nowiki>[[https://help.ubuntu.com/community/CategoryMac|CategoryMac]]</nowiki> 
----
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> Please update this page, if you have figured out anything, that is not mentioned here!
|}
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel docummentation going on.
|}
<<BR>><<BR>>

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

== Introduction ==

This page provides guidance for restoring and fixing the top and bottom panels when using Xubuntu Desktop Environment. (In earlier versions of Xubuntu, panels used to disappear often. To help the developers find the causes of the panel disappearing, you can file a bug report before restoring the panels. Please try to obtain the appropriate logs as requested in <nowiki>[[https://wiki.ubuntu.com/Backtrace|Debugging Procedures]]</nowiki>.

== Quick Fix ==

This requires you to log out and log in again.

{{{ 
    Alt+F2                           (run window)
    rm -rf ~/.cache/sessions         (delete the Xfce4 saved sessions files for your user)
    Click on "Run"                   (or hit the enter key) }}}

Now you will log out and log in again. Make sure "Save session for future logins" is not checked.

If the '''Quick Fix''' fails, please try the next method.

== All Panels Disappeared ==

If the xfce4 panels do not start with your desktop session, use
<pre>
    Alt+F2                           (run window)
    xfce4-panel                      (command to start panels)
    Click on "Run"                   (or hit the enter key) }}}

It is not necessary to use gksu / sudo.

When you finish your session, be sure to put a check on "Save session for future logins". This will insure you have panels when you restart.

== One Panel Disappeared ==

You may restore the default Xfce4 panels as follows:
{{{
    alt+f2                           (run window)
    killall xfce4-panel              (command to kill the panels)
    Click on "Run"                   (or hit the enter key)
    alt+f2                           (run window)
    rm -rf ~/.config/xfce4/panel/    (delete the Xfce4 panel's config files for your user)
    Click on "Run"                   (or hit the enter key)
    alt+f2                           (run window)
    cp -r /etc/xdg/xfce4/panel ~/.config/xfce4/    (copies existing default file)
    Click on "Run"                   (or hit the enter key)
    alt+f2                           (run window)
    xfce4-panel &                    (command to start panels)
    Click on "Run"                   (or hit the enter key) }}}

When you finish your session, be sure to put a check on "Save session for future logins". This will insure you have panels when you restart.

== Any Item Disappeared From The Panel ==

If only one item disappeared from the panel, try adding it back by right-clicking the panel, then "Add New Items...".

== Restore your Xfce panel settings ==

You'll need a backup of the ~/.config/xfce4/panel folder and the ~/.config/xfconf/xfce-perchannel-xml/xfce4-panel.xml file.

This is the easy method, without logging out. (More complicated method see below)

{{{
   1) xfce4-panel --quit      (shut down the panel)
   2) pkill xfconfd           (kill the xfce4 configuration daemon)
   3) move your backed up panel folder and xfce4-panel.xml file into their original locations
   4) xfce4-panel             (restart the panel; this will respawn xfconfd automatically)
</pre>

== Back up & restore your Xfce settings ==

You can use this procedure to migrate Xfce settings (panels, desktop, ...) to another computer, as long as it runs the same or a compatible version of Xubuntu / Xfce. If you just want to restore the panels, see the easier method above.

'''Back up using the default Thunar file manager:'''
** View - Show hidden files
** Select the folder, right-click, Create archive (you may choose "zip" extension):
<pre>
   ~/.config/xfce4/
</pre>

'''Restore your Xfce settings:'''

If we try to modify the Xfce settings files, it appears that changes will be OVERWRITTEN by the running Xfce session. So let's use a text console to bypass Xfce.

<pre>
   1) Put the zip backup file containing the "xfce4" directory to ~/.config
   2) Logout, and UNCHECK "Save session for future logins"
   3) Ctrl+Alt+F2. Log in to text console. (REMEMBER: You can return using Ctrl+Alt+F7)
   4) cd .config                           (go to the settings directory)
   5) mv xfce4 xfce4_old                   (move the old settings)
   6) unzip myXfceSettings.zip             (unpack backed up settings)
   7) logout                               (logout from text console)
   8) Ctrl+Alt+F7                          (back to xfce login; log in as usual)
</pre>

To restore only **some** settings, you may skip step 5 (moving the old xfce4 folder). When unzipping, you will be prompted which files you want to replace. Note that some settings belong together, e.g. the '''panels''' subdir goes together with '''xfconf/xfce-perchannel-xml/xfce4-panel.xml'''.

----
CategoryXubuntu

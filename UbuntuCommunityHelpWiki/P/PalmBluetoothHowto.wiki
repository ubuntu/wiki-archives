{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== Palm Bluetooth Howto ==
=== Share your Internet connection with your Palm device via Bluetooth - 10 EASY steps ===
This page is going to explain you how to connect your Palm OS device to your (K)Ubuntu via Bluetooth, and share your  Internet connection. The following things are important:
* I assume you already know how to activate Bluetooth on your Palm, and how to setup a connection. You might want to read this page http://howto.pilot-link.org/bluesync/e.html in order to verify that your Palm is correctly setup.
* Palm devices come with a software that lets you synchronize your Outlook Inbox with your Versa``Mail account. Neat, right? But what if you use Linux? You need to setup Evolution, Kmail, Thunderbird... in order to leave your messages in the server. That way, you will be able to check your emails in your favorite email client and in your Palm.

Just follow these steps:

 1.#1 <pre>
gksudo gedit /etc/bluetooth/hcid.conf
</pre>
search for 'name "%h-%d"' in line 37 and change it to whatever you like
example:
name "ubuntu";
In line 17 make sure that 'security' is set to 'auto'.
In line 64 and 65 make sure that 'auth enable' and 'encrypt enable' are commented.
Save the document and close.
 1.#2 <pre>
gksudo gedit /etc/bluetooth/pin
</pre>
Change '1234' by a new password, save and close.

 1.#3 <pre>
sudo nano /proc/sys/net/ipv4/ip_forward
</pre>
Replace 0 by 1 and save (CTRL+X, then press 'Y', press Enter)
 1.#4 <pre>
sudo iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE
</pre>
 1.#5 <pre>
sudo iptables -A FORWARD -i ppp0 -j ACCEPT
</pre>
 1.#6 <pre>
sudo iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT
</pre>
 1.#7 Now let's create a new file for your Point-to-Point Protocol (PPP) connection between your Palm and your Computer. Save this file after editing.
<pre>
cat /etc/resolv.conf
</pre>
Find out your current Domain Name Server (DNS), make sure to enter the correct values instead of ''ms-dns 192.168.0.1''
<pre>
gksudo gedit /etc/ppp/peers/palm
</pre>

115200

192.168.2.1:192.168.2.2

local

ms-dns 192.168.0.1

noauth

debug

 1.#8 <pre>
dund --nodetach --listen --persist --msdun call palm
</pre>
This will keep a non-daemonized version of dund running, listening to your connections.
Watch how it reports information once you connect your Palm with it.

 1.#9 Now go to your Palm, click on Bluetooth, select your Bluetooth connection, click on Connect, and watch how the terminal (the one in which you are running dund) starts to output messages, among them the assignation of DNS addresses.
You might want to download Mergic Ping at this URL http://www.mergic.com/vpnDownloads.php in order to ping from your Palm to your DNS machine and to Google, this will verify Internet connectivity.
(You can refer to http://www.newt.com/debian/treo650.html for information on how to set up a Treo 650 with a Bluetooth connection and connect with it. Follow the sections "Create a new connection" and "Create a new network".)

 1.#10 You might want to create a new shell script and let it run automatically every time Ubuntu starts. That way all you will have to do, in order to share your Internet connection with your palm, will be to click on the 'Connect' Bluetooth icon of your handheld.
<pre>
gksudo gedit /etc/init.d/start_bluetooth.sh
</pre>

echo 1 > /proc/sys/net/ipv4/ip_forward

iptables -t nat -A POSTROUTING -o eth0 -j MASQUERADE

iptables -A FORWARD -i ppp0 -j ACCEPT

iptables -A FORWARD -m conntrack --ctstate ESTABLISHED,RELATED -j ACCEPT

killall -v dund

dund --listen --persist --msdun call palm

* . Now let's make your new start_bluetooth.sh script load every time the system boots.

<pre>
sudo chmod -v 755 /etc/init.d/start_bluetooth.sh
</pre>

<pre>
sudo ln -sv /etc/init.d/start_bluetooth.sh /etc/rc2.d/S98start_bluetooth
</pre>

If you downloaded Mergic Ping, you can ping Google, and your DNS server in order to verify connectivity.
Enjoy!

----
CategoryPDA CategoryBluetooth

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Introduction ==

This document I will explain howto integrate the Fedora Directory Server. To learn howto install Fedora Directory server on Ubuntu 5.10 (Breezy Badger) look at FedoraDirectoryServer. This howto assumes that you have a working installation of Ubuntu 5.10 (Breezy Badger).

== Purpose ==

At the end of this howto you will  have fully working Samba Primary Domain Controller(PDC) with the FedoraDirectoryServer as it backend. You can store Domain Administrators, users, guests ,and computers of Your Windows network.

== Requirements ==

Before you continue this howto you need a working Fedora Directory Server installed. If you haven't done yet please refer to FedoraDirectoryServer to learn howto install it. In addition to Fedora-ds we need following packages have installed in your existing Ubuntu system. I will tell you howto, if haven't done yet.

=== Installing openldap Migration Tools ===

The package ldap-utils contains the migration utilities which I have used in this howto. To install it:
<pre>
 sudo apt-get install migrationtools
</pre>

=== Installing Samba ===

To install Samba:

<pre>
sudo apt-get install samba
</pre>

Samba-doc package contains <code>samba.schema</code> and we neet to insyall it.

<pre>
sudo apt-get install samba-doc
</pre>

<code>samba.schema</code> comes as a .gz file and we need to keep uncompress it before the next step. To uncompres:

<pre>
cd /usr/share/doc/samba-doc/examples/LDAP
sudo gunzip  samba.schema.gz
</pre>

== How FDS implements extending schemas ==

The following points explain how you FDS works with schemas

*** All schema files are in ldif format and loaded during server start
*** All schemaâ€™s are located in /opt/fedora-ds/slapd-<server>/config/schema
*** Filenames are sequential and loaded in order and 99user.ldif is always the last schema to be loaded.

For this howto I am going to name our schema file as 61samba.ldif. We need to provide FDS with a schema it understands. This involves converting the provided /usr/share/doc/samba/LDAP/samba.schema to ldif format. There is a utility provided 3rd party that will assist in doing this which can be found at http://www.directory.fedora.redhat.com/download/ol-schema-migrate.pl

=== Getting Schema Migration Perl Script ===

We can down load the third party script which is hosted at Redhat. To  download it

<pre>
 wget -c http://www.directory.fedora.redhat.com/download/ol-schema-migrate.pl
</pre>

You can view the source of this script at: FdsSchemaMigratePl

=== Converting Samba Schema ===

To convert samba schema:

<pre>
sudo perl ol-schema-migrate.pl /usr/share/doc/samba-doc/examples/LDAP/samba.schema > \ /opt/fedora-ds/slapd-<server>/config/schema/61samba.ldif
</pre>

Once the above conversion is over we need to restart Fedora-ds admin server to make changes effect.
To start admin server:
<pre>
/opt/fedora-ds/slapd-<server>/restart-slapd
</pre>

Replace <code><server></code> with your severname. For example, I use <code>/opt/fedora-ds/slapd-dsmaster/restart-slapd</code>

Howto created by: ChinthakaDeshapriya.
----

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



Some older machines do not have USB ports, and instead used serial ports to support the earlier generation of mice. The standard install of Ubuntu no longer supports serial mice, but Ubuntu will run on these machines and use the serial mouse with a few simple modifications.

If you are installing on a PC with a mouse attached to a serial port (rather than the mouse port), here's what you need to do...

== Using Inputattach ==
This method is tested to work with Ubuntu 10.04.
# Press Control-Alt-F1 to get to Virtual Terminal 1 (your screen will turn black and you'll see a login prompt in white text).
# Login using your username and password.
# Run 'inputattach --help' and find the appropriate protocol option to match your mouse
# Add 'inputattach <protocol option> /dev/ttyS0' (or whatever device your serial mouse is attached to) to /etc/rc.local

ie. for many generic serial mice, the code is:

<pre>
inputattach --microsoft /dev/ttyS0
</pre>

# Restart (ie. 'sudo reboot')
# Hopefully your mouse is now working, if not, remove the line you added to rc.local and try another method.

---- /!\ '''All the methods described below are now deprecated and will probably not work with HAL detection used since Ubuntu 9.04 Jaunty.''' ''This article should be updated using new HAL method. Although it will work with 8.04 (hopefully). 
Most serial mice cannot report their presence and HAL will never discover them. The simplest way to enable them is to re-allow 'Mouse' entries in the /etc/X11/xorg.conf file. This is disabled by default and can be re-enabled by adding the line:-

     Option "AllowEmptyInput" "false"

to the ServerLayout section.
'' ----

== Manual editing of the xorg.conf file ==
This is arguably the simplest method to set up a serial mouse.
# Boot up normally and wait for Ubuntu to finish loading.
# Press '''Ctrl+Alt+F1''' to gain access to a text console (your screen will turn black with a prompt in white text, and if not running from the CD you may be asked to login).
# Type the following exactly: <pre>
sudo nano -B /etc/X11/xorg.conf
</pre>
1. If you have one, you will be asked for your user password.

2. The editor will open, displaying the xorg.conf file.

3. Navigate (using the arrow and/or Page Up/Down keys) to the following section: (all lines may not be present) <pre>
Section "InputDevice"
Identifier "Configured Mouse"
Driver "mouse"
Option "CorePointer"
Option "Device" "/dev/input/mice"
Option "Protocol" "ExplorerPS/2"
Option "ZAxisMapping" "4 5"
Option "Emulate3Buttons" "true"
EndSection
</pre>

4. Change the "Option Device" and "Option Protocol" lines as follows: <pre>
Section "InputDevice"
Identifier "Configured Mouse"
Driver "mouse"
Option "CorePointer"
Option "Device" "/dev/ttyS0"
Option "Protocol" "auto"
Option "ZAxisMapping" "4 5"
EndSection
</pre> change ttyS0 to ttyS1 if your mouse is connected to COM2 instead of COM1. If the Device and Protocol lines aren't there, add them.

5. Type '''Ctrl+X''' then '''Y''' and '''Enter''' to save the changes to the file and exit.

6. Press '''Ctrl+Alt+F7''' (to return to the graphical interface).

7. Restart X by logging out and back in, or typing <code>sudo /etc/init.d/gdm restart</code>.

8. Hopefully your mouse now works. If not, type the following to undo your changes, just to be safe, before trying again using ttyS1 instead of ttyS0.

<pre>
cd /etc/X11
sudo cp xorg.conf~ xorg.conf
</pre>

(Note the symbol immediately after the first "xorg.conf" is a tilde. The error message '''cp: cannot stat...''' indicates a typing error here.)

If trying the other port also fails try another method below.

=== Manual editing of the xorg.conf file (without leaving graphical mode) ===
How to set up a serial mouse using only the keyboard and without working in a text-only console.

It is highly recommended that you make a backup copy of the "xorg.conf" file before making edits.
# Login normally and wait for Ubuntu to finish loading.
# Press '''"Alt+F1"''', to open the '''"Applications"''' menu.
# Press '''down arrow''' to move to the '''"Accessories"''' item.
# Press '''right arrow''' to get into the next '''"menu"'''.
# Press '''down arrow''' to move to the '''"Terminal"''' item.
# Press '''Enter/Return''' to start a '''small terminal window'''.
# Type in '''"gksudo gedit /etc/X11/xorg.conf"''' and press '''Enter/Return'''.
# When asked, enter your '''password''' and press '''Enter/Return''' (gedit will open, displaying the xorg.conf file).
## Using the keyboard, navigate to '''"Configured Mouse"'''.
## Change '''"/dev/input/mice"''' to '''"/dev/ttyS0"''' (or '''"/dev/ttyS1"''' if using COM2 instead of COM1) (add this line if it doesn't exist)
## Change '''"ExplorerPS/2"''' to '''"Auto"''' (add this line if it doesn't exist)
# Press '''"Ctrl+s"''' to save the changes.
# Press '''"Ctrl+q"''' to close the editor.
# Restart the X server by logging out and back in, or typing <code>sudo /etc/init.d/gdm restart</code>.

Your mouse should work at this point, if it doesn't, restart the system.

== Configure Xserver (alternate method) ==
The installation will complete, and you will be able to log in but your mouse will not move or respond to button clicks. You need to reconfigure your xserver to see the mouse.
* Press Control-Alt-F1 to get to Virtual Terminal 1 (your screen will turn black and you'll see a login prompt in white text).
* Login using your username and password.
* Enter the following command at the prompt <pre>
sudo dpkg-reconfigure xserver-xorg
</pre>
* Press Return to accept the existing settings UNTIL you get to the selection for the mouse port.
* Choose whichever port your mouse is connected to:
* first serial port: /dev/ttyS0
* second serial port: /dev/ttyS1
* Press Return to accept each the rest of the settings pages.
* After you finish configuring the xserver, you will get back to a prompt in white text on a black background.
* Switch back to the xserver by pressing Control-Alt-F7 (virtual terminal 7).
* Restart X by logging out and back in, or typing <code>sudo /etc/init.d/gdm restart</code>.
* When the xserver restarts, your mouse should work normally. If not, you may have chosen the wrong port. If necessary, press Control-Alt-F1 to go back to the virtual terminal and reconfigure the xserver again (following the steps above). If the xserver gives up, you can make it try again by typing startx at a virtual terminal prompt.

== Installing Without a Mouse At All. ==
This method will help you if you MUST install Ubuntu on a pc with a serial mouse. Clearly you cant modify xorg.conf when running from the CD, so you CAN'T have a mouse during the installation process.

# Exit the xserver
# Create an .xinitrc file in your home directory, with the following line. <pre>
xterm -geometry +300+300
</pre>
# Save the file and run startx
# Now you will have an X session. with a focused XTERM in the middle of your screen. Just type: <pre>
sudo ubiquity
</pre> And follow the installation procedure using only your keyboard.

----
CategoryX

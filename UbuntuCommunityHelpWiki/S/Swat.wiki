{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

''From the <nowiki>[[http://samba.org/samba/docs/man/manpages-3/swat.8.html|swat man page]]</nowiki>:'' swat allows a <nowiki>[[SettingUpSamba|Samba]]</nowiki> administrator to configure the complex smb.conf file via a Web browser. In addition, a swat configuration page has help links to all the configurable options in the smb.conf file allowing an administrator to easily look up the effects of any change.

* ''Installing and running <nowiki>[[SettingUpSamba|Samba]]</nowiki> is outside the scope of this document.''
* ''How to actually use Swat is outside the scope of this document, but <nowiki>[[http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/SWAT.html#id2651818|http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/SWAT.html#id2651818]]</nowiki> is a good place to get started.

=== Installing Swat ===
1. <code>sudo apt-get install swat xinetd</code>
2. <code>sudo nano /etc/xinetd.d/swat</code>
3. Insert the following text (borrowed from <nowiki>[[http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/SWAT.html#xinetd|http://www.samba.org/samba/docs/man/Samba-HOWTO-Collection/SWAT.html#xinetd]]</nowiki>):
<pre>
service swat
{
	port    = 901
	socket_type     = stream
	wait    = no
	only_from = localhost
	user    = root
	server  = /usr/sbin/swat
	log_on_failure  += USERID
	disable = no
}
</pre>
4. Exit and Save

=== Running Swat ===
1. 
 Invoke an init script (depreciated) <code>sudo /etc/init.d/xinetd restart</code>
 
 or use the services utility <code>sudo service xinetd restart</code>
2. Point your browser to <nowiki>[[http://localhost:901/|http://localhost:901/]]</nowiki>
3. Enter the username and password of a user with proper privileges
----

=== Questions ===
Q: The swat help links do not work. How do I tell swat where to find the man pages?

A: You don’t have to tell swat where they are you have to install them.
<pre>
sudo apt-get install samba-doc
</pre>

Q: When I open the web page I only see four boxes (Home, Status, View, Password) but none of these boxes give me the ability to configure Samba.  What should I do?

A: You do not have the necessary permissions. You will need to ensure you are a user of the administration group (‘admin’) and that the adm group has sufficient access rights to the Samba configuration file (‘smb.conf’). Note the user created during the installation is automatically a member of the adm group.

To ensure the adm group has proper permissions over ‘smb.conf’ use ‘chmod’ and ‘chgrp’ tools to change the file access permissions and group permissions respectively:

<pre>
sudo chmod g+w /etc/samba/smb.conf
sudo chgrp adm /etc/samba/smb.conf
</pre>

Another method is to grant all users—the whole world essentially—complete access to ‘smb.conf’. This is '''not''' recommended for obvious security reasons.

<pre>
sudo chmod 777 /etc/samba/smb.conf
</pre>

Now refresh your browser window and you should see additional boxes for Globals, Shares, Printers and Wizard.

Q: On my 6.06 LTS server clients don't see the swat page. It is just a blank page. What now?

A: Edit the /etc/samba/smb.conf file so that the file contains a line for allowed hosts like:

<pre>
sudo vi /etc/samba/smb.conf 
</pre>

or, if you are not that comfortable with vi:

<pre>
sudo nano /etc/samba/smb.conf
</pre>

Add or change the following line:

<pre>
[global]
        ......
        .......    
        hosts allow = 192.168.1.0/255.255.255.0

[printers]
</pre>
Of course this has to match your own network settings. After this you have to restart the samba subsystem.
<pre>
sudo /etc/init.d/samba restart
</pre>

Q: On my 9.04 Server i can't access swat. If I test with '''ss -lt''' there is a line with
<pre>
...
LISTEN  0  0  :::swat  :::*
...
</pre>

A: Swat seems to be bound to IPv6 instead of IPv4
A2: IPv6 sockets include IPv4 connectivity by default (unless turned off by the process).

Edit the following line with '''sudo nano /etc/inetd.conf'''
<pre>
swat  stream tcp nowait.400 root /usr/sbin/tcpd /usr/sbin/swat
</pre>
into
<pre>
swat  stream tcp4 nowait.400 root /usr/sbin/tcpd /usr/sbin/swat
</pre>
then restart inetd with '''sudo /etc/init.d/inetutils-inetd restart'''

----
CategoryNetworking

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== Modems supported by the Intel537EP driver ==
This section describes how to install a 537EP driver on Ubuntu. Below, you can find installation instructions for various versions of Ubuntu. After going through the "Prerequisites", please pick the version applicable to you. 

'''UPDATE: '''<<BR>>
'''Most people (NEW USERS) can skip compiling process and download the driver already prepackaged (deb file) from the following location: <<BR>>
* <nowiki>[[http://groups.google.com/group/ubuntu-modems/web/modem-driver-downloads-for-537ep]]</nowiki>'''

'''With this package you don't need to compile, just download and double click on it.'''

=== Prerequisites ===
---------------------------------------------------------------------------------------------------------------------------------------

You will need the following:

1. A compatible Intel softmodem - supported models are 537, 537EP, 537SP, 537AA or 537EA. To find out what model you have, see the section in <nowiki>[[DialupModemHowto|the parent]]</nowiki> on <nowiki>[[DialupModemHowto-ScanModem|scanModem]]</nowiki>. 536* modems may work but they are not tested.

2. A 32-bit kernel. Most likely, you will have installed the 32-bit flavor of Ubuntu, but ''if you chose the 64-bit edition for amd64, you will not be able to use these drivers''. For instance, if <code> uname -r </code> prints to the terminal something ending in <code>386</code>, <code>686</code>, or <code>generic</code>, you probably have a 32-bit kernel. <code>amd64</code> kernels are 64-bit and not supported.

3. The Intel537EP driver, available at <nowiki>[[http://www.x9000.fr/Intel/]]</nowiki> 
There are other versions, this one is the latest. Depending on your system, you may have to try multiple versions.

4. GCC 3.4 (for certain releases of Ubuntu), developer tools, and the kernel headers. Developer tools and kernel headers are on the Ubuntu CD while GCC 3.4 is not. See <nowiki>[[DialupModemHowto-FromSource|this section]]</nowiki> for more information and instructions. What you generally need are <code> build-essential </code> and <code> linux-headers-`uname -r` </code>

5. Some knowledge on using the terminal (also called command line). Documentation on how to use the terminal are available <nowiki>[[UsingTheTerminal|here]]</nowiki>

=== Installing on 6.06 (obsoleted by 6.06.1) ===
On 6.06, a complicated series of hacks are necessary. First, unpack the 537EP driver to a directory of your choice. A folder called Intel-537 should be created when you unpack. Rename that folder to whatever <code>uname -r</code> prints. After that, type the following in the directory you unpacked to: 
<pre>
make clean
make 537
sudo make install
</pre>
This will create and install the driver and a set of scripts. However, the boot script provided by Intel does not work on 6.06. Therefore, we have to <code>gksudo gedit /etc/init.d/537_boot</code> and replace the script with the following:

<pre>
kernel=`uname -r`
serial="/etc/init.d/$kernel/Intel537.ko"
device="537"
registry="hamregistry"
group="root"
mode="664"
if [ -a /etc/SuSE-release ]; then
{
group="dialout"
}
fi
case "$1" in
start | b)
if ! ( modprobe -f $serial 1>/dev/null 2>/dev/null ); then
{
if ! ( insmod -f $serial 1>/dev/null 2>/dev/null ); then
{
echo error loading $serial
rmmod $serial
exit 1
}
fi
}
fi
major=`cat /proc/devices | awk "\\$2==\"Intel537\" {print \\$1}"`
echo major="($major)"
rm -f /dev/$device
mknod /dev/$device c $major 1 2> /dev/null 1> /dev/null
chgrp $group /dev/$device
chmod $mode /dev/$device
ln -sf /dev/Intel5370 /dev/modem 1> /dev/null 2> /dev/null
if ! ps -C $registry 1> /dev/null 2> /dev/null; then
{
if ! ( /usr/sbin/$registry 2> /dev/null 1> /dev/null & ); then
{
echo "Modem registry ($registry) could not start."
echo "Please see international users secion in readme.txt for more info."
}
fi
}
fi
exit 0
;;
stop)
rmmod 537 1> /dev/null 2> /dev/null
rmmod 537_core 1> /dev/null 2> /dev/null
rmmod $serial 1> /dev/null 2> /dev/null
;;
restart | reload)
/bin/bash "$0" stop
/bin/bash "$0" start
exit 0
;;
status)
if lsmod | grep "$serial " >/dev/null; then
{
lsmod | grep "$serial " > /dev/null
}
else
{
echo "$serial NOT loaded"
}
fi
if ps -C $registry 1> /dev/null 2> /dev/null; then
{
ps -C $registry
}
else
{
echo "$registry NOT running"
}
fi
exit 0
;;
* )
echo unknown $serial script parameter
exit 1
esac
exit 0
</pre>

If you get an access denied error, type <code>sudo chmod 300 /etc/init.d/537_boot</code> and try again. To finish, copy the folder that you unpacked the driver to /etc/init.d with <code>sudo cp -r (foldername) /etc/init.d</code>. After a restart, you should be able to dial a connection with your favorite dialer.

=== Installing on 6.06.1 ===
Fortunately, the install works perfectly on 6.06.1 (you have 6.06.1 if "uname -r" prints 2.6.15-27-386 or 2.6.15-27-686). Simply unpack, then type the following:

<pre>
make clean
make 537
sudo make install
</pre>

The boot script for this driver was designed for SUSE, so you will have to change the line in <code>/etc/init.d/537_boot</code> that says "mode=664" to "mode=666" if you want to dial without root permissions.

=== Installing on 6.10 ===

An edgy install is similar to the procedure for 6.06.1. However, the SUSE 9.3 drivers mentioned above return build errors when run through make. Therefore, we must use Phillipe Vouter's modified 2.60.80.1 drivers <nowiki>[[http://linmodems.technion.ac.il/packages/intel/Philippe.Vouters/|here]]</nowiki> (make sure to pick the latest one). You can build them with the same commands as those shown for 6.06.1, but make sure to type "export MODEM_TYPE=537EP" beforehand, replacing 537EP with your modem type:

<pre>
export MODEM_TYPE=537EP
make clean
make 537
sudo make install
</pre>

=== Installing on 7.04 ===

As of the release candidate of Feisty Fawn, neither Phillipe Vouter's drivers nor Intel's drivers are compilable (<nowiki>[[https://launchpad.net/ubuntu/+source/linux-source-2.6.20/+bug/98756|bug #98756]]</nowiki>). If you know of a solution, please add it here. 

'''IMPORTANT UPDATE:''' It is possible to compile a working driver for Feisty Fawn (Ubuntu 7.04). First, you must get this driver from Mr. Phillipe Vouter: <nowiki>[[http://linmodems.technion.ac.il/packages/Intel/537/Intel-537EP-2.70.95.0-for-2.6.20.tar.gz|Intel-537EP-2.70.95.0-for-2.6.20.tar.gz]]</nowiki> 

Next, just issue the following commands:

<pre>
sudo apt-get install build-essential
export MODEM_TYPE=537EP
sudo make clean
sudo make 537
sudo make install
</pre>

And that is it. You should be able to use your favorite dialing utility with your modem remembering that it is linked to '''/dev/modem'''. ''(CarlosMarcano = chuckman78)''

=== Installing on 7.10 ===

The installation process is the same as for 7.04.

=== Notes ===

On the Dell Dimension 8400 I tested this on, I was subject to random lockups and odd (unstable) behavior when scanning/interacting with serial ports. Your experience may differ.

=== Credits ===
Kudos to chuckman78 for his guide (available at http://ubuntuforums.org/showthread.php?t=210405), from which this guide borrows extensively.

<nowiki>[[DialupModemHowto|go back to the main wiki]]</nowiki>

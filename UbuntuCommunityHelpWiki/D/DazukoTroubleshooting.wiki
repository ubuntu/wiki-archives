{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


Dazuko is a stackable file system to allow userspace applications to perform online file access control. http://www.dazuko.com

== Installation ==

=== Old Methods ===

<pre>
 $ sudo apt-get install build-essential module-assistant 
 $ sudo gedit /etc/modprobe.d/dazuko
</pre>

Copy and paste the following lines to the document. Then save and exit.

<pre>
 install dazuko modprobe -r apparmor; \
 modprobe -i dazuko; \
 modprobe -i apparmor; 
</pre>

==== Using deb ====

Now, we will first attempt to install dazuko via the .deb package. (This file was downloaded to my desktop.)

Download the package ->http://www.dazuko.org/files/dazuko-source_2.3.3-1_all.deb

Open Terminal.

<pre>
 $ sudo dpkg -i ./Desktop/dazuko-source_2.3.3-1_all.deb
 $ sudo module-assistant prepare
 $ sudo m-a a-i dazuko
</pre>

For some reasons, this step may not work. Most of the time this is due to the capability module. To go around this move on to the next method.

==== Using .tar.gz ====

If the first method did not work, try the .tar.gz method.

Look for the file "dazuko-2.3.4.tar.gz" inside your "My Desktop" folder or the "Downloads" folder inside your home folder. This file should be downloaded to one of those folders.

If you cannot find the file, download it at ->http://www.dazuko.org/files/dazuko-2.3.4.tar.gz . 

Open a terminal. Change directory to the directory where the file is.

Type or copy/paste the following lines into Terminal.

<pre>
 $ tar -xvf dazuko-2.3.4.tar.gz
 $ cd dazuko-2.3.4
 $ sudo -s
# ./configure
# make
# sudo make test
</pre>

If you receive any errors from this step, try this.

<pre> 
# rmmod capability
# insmod /dazuko.ko
# modprobe capability
# sudo make test
</pre>

You should see a message that the module is already installed.

<pre>
# cat /proc/modules
</pre>
 
You should find dazuko listed.

<pre>
# cat /proc/devices
</pre>

You should find dazuko listed with a number beside it.

<pre>
# mknod -m 600 /dev/dazuko c [the number] 0
# chown root:root /dev/dazuko
# make install
</pre>

Dazuko should now be installed. 

=== DazukoFS Method ===

To install DazukoFS you will need linux kernel 2.6.31.x from http://www.kernel.org.  This is currently the only known version that DazukoFS will work with, although there may be others.

Open a Terminal.

<pre>
 $ uname -r
</pre>

Remember the output given.  You will need to replace [insert] each time you see it with this output.

<pre>
 $ sudo -s
# apt-get install build-essential bin86 kernel-package libqt3-headers libqt3-mt-dev wget libncurses5 libncurses5-dev fakeroot
# cp ~/Desktop/linux*.tar.bz2 /usr/src
# cd /usr/src
# tar xvjf linux*.tar.bz2
# cd linux*
# cp /boot/config-[insert] .config 
# make menuconfig
</pre>

* Scroll down with the arrow keys to select "Load an Alternate Configuration" and press Enter.
* Scroll back up to "General Options" and select it.
* Scroll down to select Kernel .config support.  Press space twice to get the '*' option.
* Also select the next option. Press space once to get the '*' option.
* Press <Esc><Esc> to go back until it asks you to save.  Select "Yes" by pressing Enter.

<pre>
# make-kpkg clean
# fakeroot make-kpkg --initrd --append-to-version=-dazuko-kernel kernel-image kernel-headers
</pre>

This step will take approximately 1 - 3 hours, depending on your  computer configuration.

<pre>
# cd ..
# sudo dpkg -i linux-headers*.deb
# sudo dpkg -i linux-image*.deb
</pre>

Restart your computer with the new kernel named dazuko-kernel.

<pre>
# shutdown now -r
</pre>

Download DazukoFS from http://dazuko.dnsalias.org/files/dazukofs-3.1.1.tar.gz and navigate to the download directory.

<pre>
 $ tar -xvf dazuko*
 $ cd dazuko*
 $ make
 $ sudo -s
# /sbin/insmod dazukofs.ko
# cat /proc/filesystems | grep dazukofs
</pre>

If you see dazukofs listed, everything worked.

<pre>
# make dazukofs_install
</pre>

DazukoFS is now installed.

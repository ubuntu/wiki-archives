{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== Configuring the dialup connection to your provider ==

There are different tools, which can help you to configure & establish a dialup connection.

Some of them are command line based:
* pppconfig & pon/poff
* wvdialconf & wvdial),

while others use a graphical interface:

* NetworkAdmin, in System => Administration => Networking
* kppp
* and gnome-ppp (wvdial graphical frontend).

With all these tools, to establish a dialup connection, the user has to be member of the "dip" and "dialout" groups, so put all users who are supposed to connect via dialup into these groups:
<pre>
 $ sudo adduser $USER dip
 $ sudo adduser $USER dialout
</pre>
where of course <code>USERNAME</code> has to be automatically substituted with your username (No need to change it).

You will also need to know the device node of your modem. The "Installing the driver"-section of this page should have told you about it. In case you don't know it, assume <code>/dev/modem</code>.

=== For Ubuntu, without installing additional software, using NetworkAdmin ===

NetworkAdmin that you can find in  '''System => Administration => Networking''', will let you set up the ppp connection in a graphical interface. You have to know your device name, ISP phone number, username and password to set it up.

1. Open Network Manager (System => Administration => Network)
2. Select the Connections tab.
3. Select Modem Connection
4. Choose Properties and fill out the fields.
5. Click OK
6. Select the DNS tab.
7. Click add, enter your DNS address.
8. Click Close.

You can also use the ''Gnome Modem Monitor'' and ''Network Monitor panel'' applets if you want to stop, start and monitor modem connections without opening the ''Networking'' GUI every time. Some people have had a problem with the modem dialing during bootup. This may be related to setting the modem as default route to the internet on the ''Options'' tab of ''Interface properties''.

'''Note:''' It has been reported, that connections started with this interface might be very slow, if they work. You can try it, but if this is the case for you, just try one of the other options.

=== For Ubuntu, alternative approach (using gnome-ppp) ===

gnome-ppp is a graphical frontend to wvdial and can be installed by <code>$ sudo apt-get install gnome-ppp</code>. You will find it in the Applications menu ( Menu => Internet => Gnome-PPP ) and the configuration is probably straightforward.

==== Configuration ====

Verify that gnome-ppp has correctly detected the modem: click on "Parameters"  and later on "Detect"

In the Gnome-ppp window, fill login, password and telephone number of the Internet Service Provider.

If you get an "immediate"  disconnection: in "Parameters" / "Options", unmark "check carrier line"

==== Usage ====

===== Connection =====
To connect, you must be in the gnome-ppp window. Click in "Connect".

You can also see the connection operations.

When the IPs appear, the connection is established.

===== Connection information =====
When you are connect, appears a little window. You can click in "details" to see information about the connection.

===== Disconnection =====
Click in "disconnect".

==== Troubles ====

If wvdial works but you have problems connecting with gnome-ppp, view the wvdial.conf file. This is created in the "Alternate Way 1" section below:
<pre>
gksudo gedit /etc/wvdial.conf
</pre>
open the wvdial.conf file that gnome-ppp creates (in a different location):
<pre>
gksudo gedit $HOME/.wvdial.conf
</pre>
and compare the settings.
Change the settings in the gnome-ppp wvdial so they match the settings in the functioning /etc/wvdial.conf.
Do not delete lines--if you need to remove a setting, simply delete the text to the right of the = sign, eg. "Init3 =  ". Despite the warning at the bottom of the gnome-ppp wvdial.conf file, you can add lines if necessary, eg. "Stupid Mode = on".

If you get an error message that gnome-ppp wvdial does not have permission to enter "secret files", you must open gnome-ppp as root ONE time so it can write to these files how to connect with your provider.
<pre>
gksudo gnome-ppp
</pre>
Click in "Connect".  As soon as you can tell you have a connection, click in "Disconnect".  Open gnome-ppp the regular way with the icon.
Check your setup information in gnome-ppp, sometimes it disappears and you have to reenter some of it, but the connection information in the "secret" files is set.

=== For Kubuntu (using kppp) ===

Kppp can be installed and comes with Kubuntu and is a very nice program with all the features you would like from a dialer. It has a nice window showing that it is connected and gives the duration as well. It can also be configured to calculate your telco connection cost. If it is not installed yet, you can install it with your package manager, e. g. <code>$ sudo apt-get install kppp</code>, and find it in the "Internet" section of the menu.

Every user, who is in the dip/dialout groups, can use kppp to configure, connect and manage a connection to an ISP. If you need help with its interface, go to "Help -- Handbook" or use the online handbook here: [WWW] http://docs.kde.org/stable/en/kdenetwork/kppp/

If you have problems with authentication, you might want to edit /etc/ppp/peers/kppp-options and activate the line <code>noauth</code> by removing the comment sign.

=== Alternative Way 1 (using wvdialconf & wvdial) ===

I prefer wvdial, because it tells you whether your modem is configured or not.

It dials a modem and starts <nowiki>[[http://en.wikipedia.org/wiki/Pppd|pppd]]</nowiki> in order to connect to the Internet. The connection started with wvdial can be dropped by switching back to the terminal from where it was started and pressing ctrl-C.

Type in a terminal
<pre>
 $ sudo wvdialconf /etc/wvdial.conf
</pre>

If it says 'no modem found' or something similar, sorry... the driver for your modem seems not to be installed properly yet. Alternatively, you can try <nowiki>[[setserial]]</nowiki>. The lack of a /dev/modem is not supposed to break wvdial's configuration.

If the modem is found, finish the setup with:
<pre>
 $ sudo nano /etc/wvdial.conf
</pre>

After opening the wvdial.conf file, input your ISP information where needed (look inside the file for fields) and add other options that might be needed for your software modem. You will know what these options are if you asked for help from linmodems.org mailing list. Examples options that you can try to add, if dialling does not work:
* add <code>X3</code> to Init2 (means dial without waiting)
* add <code>Carrier Check = no</code> as a new line (useful for Smartlink modems)
* add <code>Stupid mode = on</code> as a new line (will start pppd immediately--required by some ISPs)

Typing <code>man wvdial.conf</code> in a separate terminal will give details on options.

Once you are ready, save the file (Ctrl-o) and exit (Ctrl-x), and try to dial:
<pre>
sudo wvdial
</pre>
will dial and connect. If you are using the Ubuntu Live CD, you cannot save the file wvdial.conf

Upon connection, it will spit out some information about your connection (local IP, remote IP, DNS address, etc.). Do '''not''' close the terminal where wvdial is running. Leave it alone until you want the connection to be terminated, and hit CTRL+C on that terminal once you want to end the connection.

If you lose the connection a short time after connecting (30 sec - 3 min), you might need to edit options for pppd:
<pre>
gksudo gedit /etc/ppp/options
</pre>

Find <code>lcp-echo-interval30</code> and <code>lcp-echo-failure4</code>. Comment out these options by adding a '#' at the start of these lines, eg. <code># lcp-echo-interval30</code> and <code># lcp-echo-failure4</code>.

If you connect successfully but your Internet applications do not function (eg. web pages do not load in Firefox), you might need to add <code>replacedefaultroute</code> as a new line in the pppd option file.

=== Alternative Way 2 (using pppconfig & pon/poff) ===

This is a command line based option to manage dialup connections. This makes it very flexible, but maybe not so straightforward to configure.

==== Collecting Information ====

You will need:

* Your ISP's phone number
* Your username and password on the ISP
* The name of the modem device (/dev/...)

==== Setting up ppp ====

1. Open a terminal (Applications > System Tools > Terminal) and type <pre>
  $ sudo pppconfig
</pre>
# You will be on the main menu.  Choose 'Create     Create a connection'.
# Leave the name as 'provider', hit 'Ok'.
# Select 'Dynamic  Use dynamic DNS', hit 'Ok'.
# Select 'PAP      Peer Authentication Protocol', hit 'Ok'.
# Enter your user name for the ISP, hit 'Ok'.
# Enter your password for the ISP, hit 'Ok'.
# Leave the speed at 115200 as recommended, hit 'Ok'.
# Choose Tone or Pulse dialing, hit 'Ok'.
# Enter the phone number to your ISP (do not use any dashes), hit 'Ok'.
# You can try to have your modem detected automatically, but it did not work for me, even on my easily detectable external modem.
# If the modem wasn't detected, it will ask you for the port your modem is on.  Enter the device name for your modem, hit 'Ok'.
# A summary screen will appear and give you the opportunity to make changes if needed.
# Choose 'Finished Write files and return to main menu.'.
# Choose 'Quit   Exit this utility'.
# Exit the terminal window, type:<pre>
  $ exit
</pre>

==== Connecting to the ISP ====

Log out and back in (for the group setting to take effect). Every "dialout/dip" user will now be able to connect and disconnect with these commands:
<pre>
 $ pon    # connect to the ISP configured as "provider"
 $ poff   # disconnect the ISP configured as "provider"
</pre>

You can also check the last messages generated by these commands with:
<pre>
 $ plog   # shows the (status) messages generated by pon and poff
</pre>

If you want to configure more ISPs, start pppconfig again, go through the steps, but give it a different name in step 3 (e.g. provider2). You can then (dis)connect by <code>pon provider2</code> and <code>poff provider2</code>.

==== Log ====
If something goes wrong, you can look at the /var/log/ppp.log file to determine what happened.You can also view the log as the connection is being made, by "tailing" it in another window; that is, viewing it as pppd logs the connection's status information. To do this, use the command (as root):

 sudo tail -f /var/log/ppp.log

On some systems the PPP output is directed to /var/log/messages, in which case your system may not have a dedicated PPP log file.

==== Configuration ====
The configuration of pppd, the program that maintains the actual connection, is usually contained in two or three separate files. The first is usually /etc/ppp/options, which contains options that  all of your system's PPP connections will use. (Yes, you can have more than one; as many as your computer has serial ports, generally.)

You can see an <nowiki>[[http://www.faqs.org/faqs/linux/faq/part5/|a sample /etc/ppp/options file]]</nowiki>.

==== Changing speaker volume ====
To quiet or silence the connection noises (dialing, negotiation, etc.), follow these steps:

1. Open a terminal (Applications > System Tools > Terminal) and type<pre>
 $ sudo nano /etc/chatscripts/provider
</pre>
# Locate the line marked 'OK-AT-OK'.
# Change 'ATDT' to 'ATxxDT', where 'xx' is one of the following:
** M0 Silence the speaker
** L1 Low volume
** L2 Medium volume
** L3 High volume

  For example: ATM0DT. Leave the rest of the line unchanged.
1. Save the file (Ctrl-o) and exit (Ctrl-x).

==== Using Modem Lights panel-application ====

While it's good to be able to get online, it'd be nice to have a single way to either connect or disconnect.

The easiest way is by using Modem Lights. Right click on the top panel, select 'Add to panel', and choose 'Modem Lights'. If your modem device is other than ttyS0, you'll have to configure the app. Right-click Modem Lights, choose Preferences -> Advanced, and change the lock file to point to your modem device.

For example, if you have an internal modem on /dev/modem, the Device would be ppp0 and the Lock File /var/lock/LCK..modem

Besides allowing you to connect and disconnect with a single click, Modem Lights also gives you information on how long you've been connected, and a graphical view of your modem's activity.

<nowiki>[[DialupModemHowto|Go back to the main wiki]]</nowiki>

=== Alternative Way 3 (using minicom ) ===

==== Install minicom ====

In a terminal enter:

 sudo apt-get install minicom

Use <nowiki>[[setserial]]</nowiki> command to set and/or report the configuration information associated with a serial port.

==== Setup minicom ====
Make sure Linux has detected serial ports. Use <nowiki>[[setserial]]</nowiki> command to set and/or report the configuration information associated with a serial port.

The -s option use to setup minicom. Type the following command at shell prompt:

 minicom -s

To start minicom, you need to connect your serial device such as router or modem using modem cable. Once connected power on device and type minicom command without -s option:

$ minicom -c on

=== See also ===
* <nowiki>[[null modem cable]]</nowiki>

----
CategoryNetworking CategoryHardware

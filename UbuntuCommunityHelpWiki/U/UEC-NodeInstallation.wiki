{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

Installing the Eucalyptus Node Service on a running Ubuntu system consists of doing the following on one or more systems:

# <nowiki>[[https://help.ubuntu.com/10.04/serverguide/C/installation.html|Install Ubuntu 10.04 Server]]</nowiki>
# Update to the most current state in the Ubuntu archive:
<pre>
sudo apt-get update
sudo apt-get dist-upgrade
</pre>
1. Install the eucalyptus-nc package
<pre>
sudo apt-get install eucalyptus-nc
</pre>
1. Configure the system's primary ethernet interface as a bridge.  The node controller will attach virtual network interfaces to this bridge for VM that is started before it to enable network connectivity.
** Note: Remember the name of your node's bridge device (we assume the name of your bridge device is "br0" for the rest of this document).
** For details on configuring a bridge, see: <nowiki>[[http://doc.ubuntu.com/ubuntu/serverguide/C/network-configuration.html]]</nowiki>
** The following script should configure your bridge correctly in most setups:
<pre>
interface=eth0
bridge=br0
sudo sed -i "s/^iface $interface inet \(.*\)$/iface $interface inet manual\n\nauto br0\niface $bridge inet \1/" /etc/network/interfaces
sudo tee -a /etc/network/interfaces <<EOF
        bridge_ports $interface
        bridge_fd 9
        bridge_hello 2
        bridge_maxage 12
        bridge_stp off
EOF
sudo /etc/init.d/networking restart
</pre>
1. Configure <code>/etc/eucalyptus/eucalyptus.conf</code> with the name of the bridge, and restart the node controller:
<pre>
sudo sed -i "s/^VNET_BRIDGE=.*$/VNET_BRIDGE=$bridge/" /etc/eucalyptus/eucalyptus.conf
sudo /etc/init.d/eucalyptus-nc restart
</pre>
** ''Note that there are several ways to configure a node to have a bridge as its primary interface, depending on the configuration of your machine.  We show an example set of steps <nowiki>[[Eucalyptus+bridge|here]]</nowiki> but you will need to take care to ensure that this example configuration does not conflict with your local configuration if you wish to use it.  ''
1. Finally, you need to install the Cloud Controller's ''eucalyptus'' user's public ssh key into the Node Controller's eucalyptus user's <code>authorized_keys</code> file.  The easiest way to do this:
** On the Node Controller, temporarily set a password for the ''eucalyptus'' user:
<pre>
sudo passwd eucalyptus
</pre>
** Then, on the Cloud Controller:
<pre>
sudo -u eucalyptus ssh-copy-id -i ~eucalyptus/.ssh/id_rsa.pub eucalyptus@<IP_OF_NODE>
</pre>
** You can now remove the password of the ''eucalyptus'' account on the Node:
<pre>
sudo passwd -d eucalyptus
</pre>

The following diagram depicts what your setup should now resemble:
{{http://pompone.cs.ucsb.edu/~nurmi/images/euca-topo.png}}

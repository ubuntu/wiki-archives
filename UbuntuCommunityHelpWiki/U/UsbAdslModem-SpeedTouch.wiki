{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


This guide is for setting up a USB ADSL modem with the '''''Speed``Touch''''' driver . 

Warning: this guide was written for Ubuntu 9:10 with Linux 2.6.31-14. The information here may be partly obsolete.

=== Method 1 ===
Follow this guide (<nowiki>[[https://help.ubuntu.com/community/UKSpeedtouchDSLHowTo|UKSpeedtouchDSLHowTo]]</nowiki>)

=== Method 2 ===
Go to a computer or another operating system with internet access.

Visit <nowiki>[[http://packages.ubuntu.com/|Ubuntu Packages Search]]</nowiki> and search for each of the following packages. Download them to a folder that is also visible from Ubuntu (or to a USB stick).

1. python-gtkmozembed
  for 32 bit http://packages.ubuntu.com/karmic/i386/python-gtkmozembed/download 
  for 64 bit http://packages.ubuntu.com/karmic/amd64/python-gtkmozembed/download
2. python-eggtrayicon
  for 32 bit http://packages.ubuntu.com/karmic/i386/python-eggtrayicon/download
  for 64 bit http://packages.ubuntu.com/karmic/amd64/python-eggtrayicon/download
3. python-gtkspell
  for 32 bit http://packages.ubuntu.com/karmic/i386/python-gtkspell/download 
  for 64 bit http://packages.ubuntu.com/karmic/amd64/python-gtkspell/download
4. python-gksu2
5. libgdl-1-common
6. libgdl-1-3
7. python-gdl
8. libgda-4.0-common
9. libgda-4.0-4
10. python2.5-minimal
11. libdb4.6
12. python2.5
13. python-gda
14. python-gnome2-extras

Boot into Ubuntu and install each package in the ''exact'' order listed.

Now download <nowiki>[[http://www.squeezedonkey.com/svn/linux/trunk/releases/ubuntu/32-bit%20i386/usbadslmodemmanager_0.5.8_i386.deb|USB ADSL Modem Manager]]</nowiki> and install it.

After installation, to access the USB ADSL Modem Manager, go to
Applications...Internet...USB ADSL Modem Manager.

When first run, it will ask for the settings of your connection: Username, Password, VP and VC. 

To connect, right click the tray icon with your mouse and choose '''Connect''' from the context menu. 

You should now be connected to the internet!

=== PPP Over ATM only if you have done method  1 ===
If your ISP uses PPP Over ATM (PPPoATM, PPPoA) then read this section. If it uses PPP Over Ethernet (PPPoE) then jump to the PPP Over Ethernet section.
We now need to create a configuration file for pppd to use so open a text editor and paste the following into it:

(for Ubuntu)
<pre>
touch speedtch
gedit speedtch
</pre>
(or for Kubuntu)
<pre>
touch speedtch
kwrite speedtch
</pre>

<pre>
noipdefault
defaultroute
user 'username@isp'
noauth
updetach
usepeerdns
plugin pppoatm.so
0.00

</pre>

Replace 'username' and 'isp' with that provided by your ISP and also change 0.00 with the VP/VC values and save the file as speedtch.
Now copy it to /etc/ppp/peers :
<pre>
sudo install -m 600 speedtch /etc/ppp/peers
</pre>

==== Make a Bootscript ====
Edit /etc/rc.local as root, e.g.
<pre>
sudo nano /etc/rc.local
</pre>
and after the line
<pre>
</pre>
paste the following:
<pre>
pon speedtch
</pre>
Now the connection will start at boot time.

=== PPP Over Ethernet ===
If your ISP is using PPP Over Ethernet (PPPoE) then things are a little bit more complicated because we need to create a bridging connection using br2684ctl bridging utility. Download br2684ctl from <nowiki>[[http://www.linux-usb.org/SpeedTouch/mandrake/br2684ctl|here]]</nowiki> or install it with this command:
<pre>
sudo apt-get install br2684ctl
</pre>
Now we also need a configuration file for pppd to use so we open a text editor and paste the following:

(for Ubuntu)
<pre>
touch speedtch
gedit speedtch
</pre>
(or for Kubuntu)
<pre>
touch speedtch
kwrite speedtch
</pre>

<pre>
noipdefault
defaultroute
user 'username@isp'
noauth
updetach
usepeerdns
plugin rp-pppoe.so
nas0

</pre>
replace 'username' and 'isp' with that provided by your ISP, save it as speedtch and copy it to /etc/ppp/peers:
<pre>
sudo install -m 600 speedtch /etc/ppp/peers
</pre>

==== Make a Bootscript ====
Open a text editor and paste the following:
<pre>
modprobe ppp_generic
modprobe pppoatm
modprobe br2684
count=0
while [ $count -lt 40 ]
do
  sync=$(dmesg | grep 'ADSL line is up')
  if [ ! -z "$sync" ]
  then
    br2684ctl -b -c 0 -a VP.VC
    sleep 3
    ip addr add 192.168.0.1/24 dev nas0
    ip link set nas0 up
    sleep 10
    pppd call speedtch
    exit 0
  fi
  sleep 1
  count=$((1+$count))
done
echo "The Speedtouch firmware didn't load"
</pre>

change the VP.VC values with those provided by your ISP ( in my case 0.35 ) save the file as dial then install the bootcript and make the needed symbolic links:
<pre>
sudo install -m 744 dial /etc/init.d &&
sudo ln -s ../init.d/dial /etc/rc2.d/S95dial
</pre>

In Ubuntu 11.10 and earlier, also link resolv.conf. 
<pre>
sudo ln -sf ppp/resolv.conf /etc/resolv.conf
</pre>
In Ubuntu 12.04 and later this is neither necessary nor permitted, as resolv.conf is updated dynamically by the resolvconf utility and resolvconf's symbolic link /etc/resolv.conf --> ../run/resolvconf/resolv.conf is needed for this feature to work.

Now everything is in place and the connection is set.

==== Finally ====
You now reboot and should be online. The Net is yours! :)

----
CategoryNetworking

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

The Ubuntu Enterprise Cloud includes an innovative, integrated power management feature, which can provide some significant power savings in under-utilized clouds.

=== Prerequisites ===

# Your node(s) must support wake-on-lan, and have it enabled in the BIOS.
# Each node runs a program called ''powernap'', which attempt to do the following, in this specific order:
** /etc/powernap/action
** pm-suspend
** pm-hibernate
** poweroff
 The node should be able to execute at least one of these.

=== Enabling UEC Power Management ===

To enable UEC's Power Management, enable the ''POWERSAVE'' scheduling algorithm in your Cloud Controller's <code>/etc/eucalyptus/eucalyptus.conf</code>.
<pre>
sudo sed -i 's/^SCHEDPOLICY=.*$/SCHEDPOLICY="POWERSAVE"/' /etc/eucalyptus.conf
sudo restart eucalyptus CLEAN=1
</pre>

=== Monitoring UEC Power Management ===

By default, Eucalyptus will wait for 300 seconds (5 minutes) of inactivity on a node before putting it to sleep.

You can monitor the state by watching the <code>cc.log</code>:
<pre>
tail -f /var/log/eucalyptus/cc.log
</pre>

You can watch the counter for each node, with messages like:
<pre>
[Tue Nov 24 20:13:03 2009][010063][EUCADEBUG ] node 10.1.1.243 idle since 1259114895: (288/300) seconds
</pre>

Once the requisite 300 idle seconds have elapsed, you can see Eucalyptus sending the ''powernap'' signal to each node, with messages like this:
<pre>
[Tue Nov 25 16:09:57 2009][017368][EUCADEBUG ] sending powerdown to node: 192.168.1.126, http://192.168.1.126:8775/axis2/services/EucalyptusNC
</pre>

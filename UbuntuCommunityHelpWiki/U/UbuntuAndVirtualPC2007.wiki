{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Introduction ==

This page describes how to install ISO images of Ubuntu 7.10 as Virtual Hard Drives for Microsoft Virtual PC 2007.

== Ubuntu 7.10 Desktop Configuration ==
1. Create and start a Virtual Machine
2. Capture the relevant ISO Image
3. Use F6 to access Other Options
4. Remove "splash" and add "i8042.noloop clock=pit vga=791"
5. After the system is booted, select install and configure according to your preferences
6. If a message "Cannot access security updates" appears, just continue
7. Once finished, restart the system (note: you may have to use a VPC Reset)
8. Hit ESC at the Grub screen and select Recovery Mode
9. Issue the following commands:
9.1. Configure Xserver
      <code>sudo dpkg-reconfigure xserver-xorg</code><<BR>>
**** X server driver: VESA
**** Video modes: 800x600 and 1024x768 only
**** Color depth: 16
9.2. Configure Grub
      <code>sudo nano /boot/grub/menu.lst</code>
**** Add: i8042.noloop clock=pit vga=791
9.3. Configure Modules
      <code>sudo nano /etc/modules</code>
**** Add: tulip
**** Add: snd-sb16
9.4. Configure Splash Screen Resolution
      <code>sudo nano /etc/usplash.conf</code><<BR>>
**** Amend: xres=1280 to xres=1024
**** Amend: yres=1024 to yres=768
9.5. Rebuild Splash Screen
      <code>sudo update-initramfs -u -k `uname -r`</code>
10. Reboot
11. Sign on using your username and password
12. Go to System | Preferences | Power Management and set the Display to sleep "Never"
13. Go to System | Preferences | Screensaver Preferences and uncheck "Activate Screensaver when computer is idle"
14. Go to System | Administration | Network and select Wired Network then click Properties
15. Uncheck "Enable roaming mode" 
16. Select Automatic configuration (DHCP) and click OK
17. Check the box next to Wired connection and close

Reboot and confirm that your network is working, you can hear sounds, and the screen is displayed correctly.

== Ubuntu 7.10 Server Configuration ==
1. Start VPC
2. Capture ISO Image
3. Reset if required
4. Set server name
5. System Clock is NOT set to UTC
6. Set up user details
7. Software selection: LAMP server, OpenSSH server
8. Set MySQL Root Password
9. Reboot
10. Sign on
11. Test the Installation
11.1. Linux
  <code>lsb_release -a</code>
11.1. Apache
  <code>apache2 -v</code>
11.2. MySQL
  <code>mysql -V</code>
11.3. PHP
  <code>php --version</code>
12. Shutdown Server
  <code>sudo shutdown -P now</code>

=== Issue with Network Configuration ===
Sometimes after the initial reboot, especially if you are using a differencing hard drive where the base is read only, the Ethernet adapter is no longer recognised.
1. Edit network details
     <code>sudo /etc/network/interfaces</code>
*** Amend eth0 to eth1
2. Restart networking
     <code>sudo /etc/init.d/networking restart</code>

This should fix it.

----
CategoryVirtualization

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== Introduction ==
  The device has been tested with both, WEP as well as WPA mode, using a FRITZ!Box Fon WLAN 7050 (UI), Firmware-Version 14.04.01 as AP and is currently transmitting this page on a <nowiki>[[https://wiki.ubuntu.com/HardwareSupportMachinesLaptopsSony|Sony Vaio PCG-SRX51P]]</nowiki> Notebook with D-Link PCMCIA USB 2.0 Adapter. If you need more help, please look to the WifiDocs page for more support channels or check
<pre>
~$ man interfaces}}} 
  for configuration options.
 
== Device Info ==
** Manufacture: '''D-Link'''
** Model:       '''DWL-G122'''
** Revision:    '''B1'''
** Device Type: '''USB'''

=== Feisty 7.04 (Kernel 2.6.20-16-generic) ===

   The rt2570 vanilla driver works both for 32-bit and 64-bit.

=== Dapper 6.06 (Kernel 2.6.15-19-386) & Breezy (Kernel 2.6.12) ===
==== Did it configure during install? ====

   '''YES''' for Dapper, '''NO''' for Breezy

==== Did it work by just configuring network settings after install (out of box)? ====

   '''NO''', the packaged driver will freeze the system on 
{{{ 
~$ sudo ifup rausb0    }}}
   only powering down and up again will help.

(this looks like bug https://launchpad.net/distros/ubuntu/+source/linux-source-2.6.15/+bug/39391 )

==== What driver did you use and ease of set up? ====

   http://rt2x00.serialmonkey.com/rt2570-cvs-daily.tar.gz

Please make sure you have the appropriate Kernel-Headers and GCC in place.

Download the tarball to the current directory and unpack
{{{
~$ wget http://rt2x00.serialmonkey.com/rt2570-cvs-daily.tar.gz
~$ tar -xvf rt2570-cvs-daily.tar.gz}}}
Go into the source directory and compile
{{{
~$ cd rt2570-cvs-<timestamp>/Module
~$ make}}}
For '''Dapper:''' Make a backup copy of the actual driver ( you never know... )
{{{
~$ mkdir rt2570-backup
~$ cp /lib/modules/$(uname -r)/kernel/drivers/usb/net/rt2570/rt2570.ko \
>./rt2570-backup/rt2570.ko}}}
For '''Breezy''' Create the proper directory for the new driver
{{{
~$ sudo mkdir -p /lib/modules/$(uname -r)/kernel/drivers/usb/net/rt2570
</pre>

Now copy the freshly compiled driver to its place
{{{
~$ sudo cp rt2570.ko /lib/modules/$(uname -r)/kernel/drivers/usb/net/rt2570}}}
For '''Dapper''' Unload the current driver ( after you removed the USB WLAN Adapter )
{{{
~$ sudo rmmod rt2570}}}
Register the new driver
{{{
~$ sudo depmod -a}}}
Load the new driver
{{{
~$ sudo modprobe rt2570 }}}

Now edit the configuration file "/etc/network/interfaces" ( do you need a backup copy ?? )

{{{
~$ gksudo gedit /etc/network/interfaces }}}
and add the following for WEP with DHCP
{{{
iface rausb0 inet dhcp
wireless-essid myapname
wireless-key s:myplaintextpassword
auto rausb0}}}
or the following for WPA with DHCP
{{{
iface rausb0 inet dhcp
pre-up ip link set rausb0 up
pre-up iwconfig rausb0 mode managed
pre-up iwpriv rausb0 enc 3
pre-up iwpriv rausb0 auth 3
pre-up iwconfig rausb0 essid myapname
pre-up iwpriv rausb0 wpapsk myplaintextwpapassword
pre-up iwconfig rausb0 essid myapname
auto rausb0}}}
Reinsert the USB WLAN Adapter and issue
{{{
~$ sudo ifup rausb0}}}
The Network connection will be made. If not, issue 
{{{
~$ sudo dhclient rausb0}}}
Repeat a few times with pauses if necessary.
==== Comments, tips, or other set up help... ====

To install basic compile support 
{{{
~$ sudo apt-get install build-essential gcc-3.4}}}
For information on Kernel setup see

https://wiki.ubuntu.com/KernelHowto?highlight=%28kernelhowto%29

For information on installing DWL-G122 with Breezy see

http://notizblock.no.funpic.de/cwiki.php?page=DWL-G122

For information on rt2x00 project see

http://rt2x00.serialmonkey.com

'''( be careful, information given can be really confusing and misleading. Make sure people you listen to, know what they are talking about )'''
----
CategoryHardware CategoryNetworking CategoryWireless

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Introduction ==
This document describes how to choose, setup and use a webcam in Ubuntu. If you are reading this page, you are probably in either/both of the following situations:

# Looking for information on which webcam to buy.
# Trying to setup and use your existing webcam.

Please note that this document is intended for the current release: Ubuntu 10.10 (Maverick Meerkat).
=== Choosing a Webcam ===
Webcam support in Linux is mainly provided by the Linux UVC Project's <nowiki>[[UVC]]</nowiki> driver. This aims to provide a universal driver in the same way that a generic driver handles USB storage devices (memory sticks, hard drives etc). However, other drivers also exist that may allow more devices to be used. When looking to purchase a webcam for use with Ubuntu, you should look for a UVC compatible camera. The <nowiki>[[http://www.ideasonboard.org/uvc/|Linux-UVC]]</nowiki> project has a good list of UVC compatible webcams.

=== Testing Your Webcam Using Cheese ===
Ubuntu aims to provide 'out-of-the-box' or 'just-works' functionality for webcams. This means that you should be able to plug-in your webcam and use it straight away: no driver disks or installation. To test whether or not your webcam works in this way, install Cheese, a GNOME program for capturing video and stills from a webcam. It can also apply some special effects. Cheese is included in the Main repositories since Ubuntu 8.04 LTS (Hardy Heron). It uses the <nowiki>[[http://www.gstreamer.net/|gstreamer]]</nowiki> library, which utlilizes the video4linux2 API.

Download and install Cheese using the following steps:

# Open a terminal window.
# Type in the following command:
<pre>
sudo apt-get install cheese
 </pre>
# Run Cheese. Cheese should automatically detect your webcam and display live video stream.
# To record video or take a snapshot, click either on photo or video and select ''Take a Photo'' or ''Start recording''.
** If Cheese doesn't display the output from your webcam, test that the problem is not with Cheese before trying anything else by using one of the programs in the next section.
** If Cheese displays a garbled picture or one with poor colour/brightness/contrast, go to the Ubuntu wiki <nowiki>[[Troubleshooting|Webcam Troubleshooting]]</nowiki> page for steps to resolve this.

=== Webcam Software ===
This is a list of software that allows you to do a simple 'plug-in-and-go' test with your webcam. You should try one of these programs if Cheese didn't display anything at all to make sure that Cheese is not causing the problem.

* <nowiki>[[Empathy]]</nowiki> has been the default VoIP/Video Chat application since Ubuntu 9.10 (Karmic Koala), and can be used to establish whether or not your webcam is working. 

==== Configuring Webcam Software ====
In some cases your media player (VLC, mplayer, amongst others) will need to know the video and audio device files for your webcam. Before you plug in your webcam, try the following two commands at a console:

<pre>
ls /dev/video*
ls /dev/audio*
</pre>

Make a note of the devices appearing. Now plug in your webcam, allow the system a few seconds to register the device, and run the two commands again. The new appearances should belong to your webcam (for instance, /dev/video0 and /dev/audio2). If nothing new appears, you may need to switch your webcam on. For a built-in webcam, you may have a function key to do so.

==== VLC ====
===== Using the GUI =====
In VLC, choose 'Open capture device' from the file menu and enter the video and audio device files (see above) in video device name and audio device name, respectively. If you just want a 'mirror' (to see what the webcam is showing), click 'OK' and you're done. If you wish to record, tick off 'Stream/save' in the 'Advanced options' section. Click the settings button right next to it. Tick 'File' off under 'Outputs' and enter a filename. Encapsulation method can be left at the default (MPEG TS). Under 'Transcoding options', tick 'Audio codec' and 'Video codec'. These can also safely be left the defaults (obviously greater compression results in lower file sizes, so experiment). Click 'OK' in the Settings screen and 
once again in the main webcam screen (Video4linux). If you want to have more control, you can access several settings, including resolution,  by clicking the Advanced options button. 

===== Using the Command Line =====
A simple test of just the video from your webcam can be done as follows. This assumes the webcam is installed as '/dev/video0'.
<pre>
$ vlc v4l2:///dev/video0
</pre>
If you wish to be able to quickly start a video session with your webcam, the resulting vlc command is printed in the Customize line at the bottom. You simply need to prepend 'vlc', e.g. 
<pre>
vlc v4l2:// :v4l-vdev="/dev/video0" :v4l-adev="/dev/audio2" :v4l-norm=3 :v4l-frequency=-1 :v4l-caching=300 :v4l-chroma="" :v4l-fps=-1.000000 :v4l-samplerate=44100 :v4l-channel=0 :v4l-tuner=-1 :v4l-audio=-1 :v4l-stereo :v4l-width=640 :v4l-height=480 :v4l-brightness=-1 :v4l-colour=-1 :v4l-hue=-1 :v4l-contrast=-1 :no-v4l-mjpeg :v4l-decimation=1 :v4l-quality=100
</pre>
The recording instructions will similarly need to be appended. Copy the contents of the 'Stream Output MRL' box under 'Settings' and 
change ":sout=" to "--sout " and append it to your vlc command:, e.g.
<pre>
vlc v4l2:// :v4l-vdev="/dev/video0" :v4l-adev="/dev/audio2" :v4l-norm=3 :v4l-frequency=-1 :v4l-caching=300 :v4l-chroma="" :v4l-fps=-1.000000 :v4l-samplerate=44100 :v4l-channel=0 :v4l-tuner=-1 :v4l-audio=-1 :v4l-stereo :v4l-width=640 :v4l-height=480 :v4l-brightness=-1 :v4l-colour=-1 :v4l-hue=-1 :v4l-contrast=-1 :no-v4l-mjpeg :v4l-decimation=1 :v4l-quality=100 --sout "#transcode{vcodec=mp1v,vb=1024,scale=1,acodec=mpga,ab=192,channels=2}:duplicate{dst=std{access=file,mux=mpeg1,dst=/tmp/test.mpg}}"

</pre>
To simple take a few snapshots, open the webcam without recording and choose 'Snapshot' under the 'Video' menu.

==== FFmpeg ====
<nowiki>[[http://www.ffmpeg.org|FFmpeg]]</nowiki> is a cross-platform audio/video recording, conversion and streaming application. 
===== Recording Video =====
1. To record both video and audio using FFmpeg, first make sure it is installed:
<pre>
sudo apt-get install ffmpeg
 </pre>
1. Run ffmpeg with arguments such as these:
 <pre>
ffmpeg -f oss -i /dev/dsp -f video4linux2 -s 320x240 -i /dev/video0 out.mpg
 </pre>
With recent versions of Ubuntu (>= 12.10) you should use avconv instead of ffmpeg command:
<pre>
avconv -f oss -i /dev/dsp -f video4linux2 -s 320x240 -i /dev/video0 out.mpg
 </pre>

==== MPlayer ====
<nowiki>[[https://help.ubuntu.com/community/MPlayer|MPlayer]]</nowiki> is capable of displaying a webcam video stream, 
===== Recording Video =====
To record video from the command line:
1. Open a terminal window and type the following:
 <pre>
mplayer tv:// -tv driver=v4l2:width=640:height=480:device=/dev/video0
 </pre>
** This example assumes that your webcam device is at <code>/dev/video0</code>
** The resolution (<code>width=???</code> & <code>height=???</code>) should be chosen to match the output of your device.

==== MEncoder ====
The companion to MPlayer, <nowiki>[[MEncoder]]</nowiki> can record from a webcam to video files.
===== Recording Video =====
1. Recording AVI, without audio:
 <pre>
mencoder tv:// -tv driver=v4l2:width=320:height=240:device=/dev/video0 -ovc lavc -o webcam.avi
 </pre>
1. Recording AVI, with audio:
 <pre>
mencoder tv:// -tv driver=v4l2:width=320:height=240:device=/dev/video0:forceaudio:adevice=/dev/dsp1 -ovc lavc -oac mp3lame -lameopts cbr:br=64:mode=3 -o webcam.avi
 </pre>
** Type 'man mencoder' for more info on the audio options. 
** <code>/dev/dsp1</code> refers to the webcam USB Audio device.
** <code>/dev/dsp</code> refers to the sound card.

You may need to install these programs with 
<pre>
sudo apt-get install mplayer mencoder
</pre>

* <nowiki>[[http://www.infinicode.org/code/cameramonitor/|Camera Monitor]]</nowiki> from <nowiki>[[http://www.infinicode.org/|chaos infinito]]</nowiki> shows a tray icon that lets you know when your webcam is on. It has been in the Universe repository since Ubuntu 10.10 (Maverick Meerkat) and is released under the GPL.
* <code>luvcview</code> is a good program you can use to test that the camera is working. It has been in the Universe repository since Ubuntu 8.04 LTS (Hardy Heron). If it doesn't work, you may need to update the UVC driver (see Manual install instructions below). 
* <code>guvcview</code> is based on <code>luvcview</code> and has a graphical user interface. It has been in the Universe repositories since Ubuntu 9.10 (Karmic Koala).
* ''Camorama'' (not updated since 2007), ''xawtv'', ''aMSN'', and ''Kopete'' can all be used to test and use your webcam. They have been in the Universe repositories since Ubuntu 6.06 LTS (Dapper Drake) apart from Kopete, which is in the main repositories.

==== Skype ====
See the dedicated <nowiki>[[https://help.ubuntu.com/community/Skype|Skype]]</nowiki> and <nowiki>[[https://wiki.ubuntu.com/SkypeWebCams|SkypeWebCams]]</nowiki> pages.

==== streamer ====

The <nowiki>[[http://packages.ubuntu.com/nl/natty/streamer|streamer]]</nowiki> package provides a very simple command line interface for taking pictures:
<pre>
streamer -f jpeg -o /path/to/image.jpeg
</pre>

The package can be installed as follows:
<pre>
sudo apt-get install streamer
</pre>

=== Identifying Your Webcam ===
Although webcams may look quite different from one another, they often share similar or identical major components. This means that drivers may work for many different makes and models with little or no modification.

To definitively identify your webcam, the following information will be of use:

# Make and Model Name/Number.
# Any version or revision information. This is often printed on the device or its packaging and will read something similar to <code>REV 01</code> or <code>VER. 2.2</code>. This information can be particularly useful.
# The output of the <code>lsusb</code>. Type <code>lsusb -v</code> into a terminal window.
** This program prints information about the devices connected to the USB bus. If you scroll through it, you should find some information about your webcam.
1. Type <code>lsusb -n</code> into a terminal window. This version of the command lists the device's USB ID; a number that is unique to every device.

=== Driver installation ===
Linux Webcam drivers are provided by several different projects. Although the Linux UVC project covers many devices, support for others is provided elsewhere. This section aims to help you install your webcam's drivers if they have not been automatically installed by Ubuntu.

If the drivers for your webcam haven't been loaded automatically by Ubuntu, you may have to install them manually.
* <code>ov51x</code> - The Ubuntu wiki page is <nowiki>[[Ov51x|here]]</nowiki>.
* <code>ov51x-jpeg</code> - This is a hacked driver by http://www.rastageeks.org/ and more info is available <nowiki>[[http://www.rastageeks.org/ov51x-jpeg/index.php/Main_Page|here]]</nowiki>.
** <nowiki>[[http://www.rastageeks.org/ov51x-jpeg/index.php/Working_Webcams|Suported Hardware]]</nowiki> - A list of webcams supported by the rastageeks driver.

=== See Also ===
* <nowiki>[[Troubleshooting|Troubleshooting Webcams]]</nowiki> - The Ubuntu wiki page.
* <nowiki>[[UVC]]</nowiki> - The Ubuntu wiki page for the Universal Video Class.
* <nowiki>[[https://help.ubuntu.com/community/InstallingEyetoyAsAWebcam|Installing the Eyetoy as a Webcam with Kopete]]</nowiki>

=== External Links ===
* <nowiki>[[http://jbuberel.typepad.com/blog/2008/03/using-a-usb-web.html|Using a USB Webcam to capture videos for upload to YouTube]]</nowiki>
* <nowiki>[[http://linuxtv.org/|The Linux TV Project Homepage]]</nowiki> - This is the project responsible for the video4linux drivers for webcams and tv capture/tuner devices.
** <nowiki>[[http://linuxtv.org/wiki/index.php/Webcam_Devices| The linuxtv.org V4L-DVB Wiki Webcam Page]]</nowiki>  - This page contains lots of information about webcam support in Linux. 
* <nowiki>[[http://www.ideasonboard.org/uvc/|The UVC Homepage]]</nowiki> - The home of the Universal Video Class for Linux project. This project aims to provide a universal driver for Linux webcams.
* <nowiki>[[http://www.ffmpeg.org/|FFmpeg]]</nowiki> - This project develops the cross-platform recording, conversion and streaming solution for audio and video.
----
CategoryHardware CategoryCommandLine

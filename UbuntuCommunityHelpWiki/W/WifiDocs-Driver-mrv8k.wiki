{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== Marvell Libertas Wireless Cards ==

=== Do you have one? ===

This page is intended to help you make your mrv8k based wireless card work under Ubuntu.

To check if you have one, run:
<pre>
lspci
</pre>

If you see a line like:
<pre>
Ethernet controller: Marvell Technology Group Ltd. 88w8335 [Libertas] 802.11b/g Wireless (rev 03)
</pre>
then you have a mrv8k.

=== Disable the broken driver ===

Sadly, the default kernel contains an unfinished driver for this chip. It simply doesn't work. Thus, we need to use disable it and set up ndiswrapper to get our card to work correctly.

First, disable the broken free driver: 
<pre>
echo 'blacklist mrv8k' | sudo tee -a /etc/modprobe.d/blacklist.conf
</pre>

=== Configure ndiswrapper ===

Now, download the windows drivers for the mrv8335 chip:
<pre>
mkdir mrv
cd mrv
wget -c http://www.cafuego.net/stuff/mrv.zip
unzip mrv.zip
sudo ndiswrapper -i mrv8335.inf
sudo ndiswrapper -m
cd ..
rm -rf ./mrv
</pre>
Note: I've zipped up the set of working ones that I use, which I got from http://people.freebsd.org/~wpaul/marvell/

A known to work 64-bit driver tested with the trendnet tew-423pi B1 was found at:
http://www.versiontracker.com/dyn/moreinfo/win/131948

This driver will be required if you use 64-bit ubuntu.

Now, reboot your system, and note you have a wlan0 interface to play with :-)

Troubleshooting:
If Ubuntu freezes durring the boot process at "Configuring Network Devices...".  After letting it sit for a few minutes (I let mine sit for half an hour before I figured this out), do a hard reboot.  Ubuntu should boot fine this time, and have a working wlan0!

=== Issues with Feisty ===

Some people are experiencing issues with this driver under feisty. These seem to stem from network-manager, and can be resolved in the following way:

Firstly, follow the instructions above to get your card working correctly, and check your card is active by initiating a scan:
<pre>
iwlist wlan0 scan
</pre>
If things are working you should see a list of your local networks. Now, obtain a copy of wicd from here using a wired network connection: http://wicd.sourceforge.net

Install the .deb file, and uninstall network-manager (and network-manager-gnome) using Synaptic. You'll need to restart your gnome-panel with ''killall -9 gnome-panel'' to stop the error messages from network-manager. It should automatically restart.

After rebooting, start wicd from '''Applications''' > '''Internet'''. You should see your local wireless networks listed, and be able to connect after adding your settings under the '''Advanced Settings''' option for your chosen network.

It should also be noted, that you cannot connect to WPA2-secured networks with the mrv8k chipset and ndiswrapper in Feisty or Gutsy (which is currently on Tribe 5).

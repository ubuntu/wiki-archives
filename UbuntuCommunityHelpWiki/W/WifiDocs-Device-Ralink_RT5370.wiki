{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

I had configure usb Ralink RT5370 802.11b/g/n adapter in Ubuntu 12.04.

lsusb: ID 148f:5370 Ralink Technology, Corp. RT5370 Wireless Adapter

I use rt2800usb driver - it seem to be better then the orig from Ralink - more features, no (???) logs, ...
But this driver do no know this particular usb ID yet -> we must configure udev.

My working config:
-----------------

$ cd /etc/udev/rules.d
$ vim 95-rt5370-usb.rules
   SUBSYSTEM=="usb", ATTR{idVendor}=="148f", ATTR{idProduct}=="5370", RUN+="/etc/udev/rules.d/rt5370-usb.sh"

$ vim rt5370-usb.sh
## !/bin/sh
   modprobe rt2800usb
   echo 148F 5370 > /sys/bus/usb/drivers/rt2800usb/new_id

$ vim 70-persistent-net.rules

## -- identification via driver
## USB device 0x148f:0x5370 (usb)
## SUBSYSTEM=="net", ACTION=="add", DRIVERS=="rt2800usb", ATTR{dev_id}=="0x0", ATTR{type}=="1",   KERNEL=="wlan*", NAME="wlan0", RUN+="/etc/udev/rules.d/rt5370-net.sh"

## -- identification via orig MAC (more standard way)
## USB device 0x148f:0x5370 (usb)
   SUBSYSTEM=="net", ACTION=="add", DRIVERS=="?*", ATTR{address}=="e8:4e:06:03:ea:08", ATTR{dev_id}=="0x0", ATTR{type}=="1", KERNEL=="wlan*", NAME="wlan0", RUN+="/etc/udev/rules.d/rt5370-net.sh"

$ vim rt5370-net.sh
## !/bin/sh
## change the orig MAC to another, if you like
   if test -f /tmp/mac; then read MAC < /tmp/mac; else MAC=xx:xx....:xx; fi
   ifconfig wlan0 hw ether $MAC

That is all - after plug in the card, Network Manager can use it :-)

--kapetr

Resources:
----------

----
CategoryWireless

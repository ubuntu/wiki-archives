{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Introduction ==
{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

This page provides information about connecting your computer to a wireless router. Before working through the following suggestions, you should make sure that you have a working wireless device and driver.

=== Try to Connect to Your Router ===
==== Connect Using the NetworkManager Panel Applet ====
# With the driver loaded go to the panel applet. Select your wireless network (or "Connect to Hidden Wireless Network.." for networks that don't broadcast ESSIDs), enter your networking info, and then try to activate.
# You should see on the panel applet an active connection.
# You can check if you're associated to a router by running the command <nowiki>[[..-Commands#iwconfig|sudo iwconfig]]</nowiki>.

* If you cannot connect with NetworkManager, try the <nowiki>[[https://manpages.ubuntu.com/manpages/jammy/en/man1/nmtui.1.html|nmtui]]</nowiki> command

If the steps above don't connect you to your router, try to connect manually using the next section.

==== Manually Connecting to a Router ====
GUI network tools can cause problems. In order to work round this, try connecting manually from a terminal using the <nowiki>[[..-Commands#iwconfig|iwconfig]]</nowiki> command

The syntax looks like this:

<pre>
sudo iwconfig <ath0> essid <essid> ap <xx:xx:xx:xx:xx:> key <XXX> mode <> commit
</pre>

''~-note: not all these may be used, check the '''man page''' for more information-~''

If you cannot connect to the router then try these:

# Most PCs have some power-management features, provided by the Advanced Configuration and Power Interface (ACPI). Linux uses kernel modules to support ACPI. However, these modules can cause problems with network devices. Adding the kernel options <code>pci=noacpi</code> or <code>acpi=off</code> to your boot parameters may resolve your connection issues. The second of these option will affect power management for your whole system.
# Check for firmware update on the router and update it if there is newer firmware available.

=== Troubleshooting Encryption ===
<nowiki>[[File:IconsPage/important.png|Important|align="left"]]</nowiki>'''Unless you have specific reasons for not doing so, you should encrypt your wireless connection. Encryption stops other people from connecting to your router. This, in turn, makes it much harder for those people (and their computers) to access your sensitive information.'''

WEP (Wired Equivalent Privacy) and WPA/WPA2 (Wi-Fi Protected Access) are the current normal standards for wireless network encryption. WPA(2) is more secure than WEP but is not as well-supported by devices.Unfortunately, encryption can present problems with wireless networks and may need some tweaking to work properly.

==== Encryption Test ====
<nowiki>[[File:IconsPage/warning.png|Warning|align="left"]]</nowiki>'''These steps require you to disable encryption settings on your router and computer. During this time, your network will not be secure and any sensitive network access (online bank accounts, online purchases etc.) should be avoided. Once you have finished, make sure encryption is turned on again.'''

# Make sure that your wireless adapter is compatible with the encryption type used by the router. Older adapters (such as 802.11b) are often not able to handle WPA or WPA2, at least not without a firmware upgrade.
# Disable wireless encryption on your router. You may need to consult the documentation for your router in order to do this.
# Try to connect to the router using either the NetworkManager applet in the notification area or manually as described above. Check that the connection allows you to browse the internet.
** If the connection works without encryption, you have a problem with your previous encryption configuration. Try using WPA instead of WEP or vice-versa and following the advice given in the respective sections below.
** If the connection still doesn't work, the issue may lie elsewhere. Check if other devices can connect wirelessly.
1. Ensure that you restore some form of wireless security on your router.

==== Notes on WEP ====
* More people seem to have success using an open key instead of shared and a hexadecimal method instead of ASCII. But there should be no reason any setting shouldn't work. Try the settings you want and consider adjusting if you have problems.
* <nowiki>[[https://www.ubuntulinux.org/support/documentation/faq/helpcenterfaq.2004-10-07.0031507315/|Ubuntu WEP FAQ]]</nowiki>
* If you have a 10 digit WEP key try entering it in this format xxxx-xxxx-xx (include dashes)
* Check driver files such as README as some drivers need a command to adjust the mode to work properly. Here are a couple of examples.
** Madwifi driver needs to change to authmode 2 when using shared key setting.
** manually from command line  <code>iwpriv ath0 authmode 2</code>
** add line ''pre-up iwpriv ath0 authmode 2'' to interfaces file to automate during boot
** For ipw2200 driver interface file should say <code>wireless-key restricted <key></code>
* If you are unable to obtain an IP address through DHCP, check if you have wpa_supplicant processes running. The wpa_supplicant could interfere with WEP-based authentication and association. Kill the process and try again.

==== Notes on WPA ====
* You may need to install the <code>wpasupplicant</code> from the repositories. There are instructions for various drivers on using WPA.
* <nowiki>[[https://hostap.epitest.fi/|Information on host AP; hostapd; wpa_supplicant]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/WifiDocs/Driver/Ndiswrapper|Using ndiswrapper with WPA]]</nowiki> - The Ubuntu Wiki Guide to using ndiswrapper with WPA wireless encryption.
* <nowiki>[[https://help.ubuntu.com/community/WifiDocs/WPAHowTo|WPA HowTo]]</nowiki> - The Ubuntu Wiki Guide to setting up and using WPA wireless encryption
* <nowiki>[[http://doc.gwos.org/index.php/Ipw2200_wpa|ipw2200 and WPA]]</nowiki> - Currently unavailable
* <nowiki>[[https://web.archive.org/web/20081230013744/http://madwifi-project.org/wiki/UserDocs/802.11i|Using madwifi/atheros drivers with WPA security]]</nowiki>

{i} There have been a few posts where no association is established with router even on an open signal. At the point of writing this line, no answer has been seen to why this happens. A router reboot has been noted once to resolve but in other situations has caused heartache as network settings need to be set up again. Booting with <code>acpi=off</code> or <code>noapci</code> should be tried.

=== IP Address Assignment ===

''Now that you have association to the router did you get an IP assigned to the device? This can be checked two ways.''
1. Run the command `ip addr` and look for an assigned IP.
2. You can always try to <nowiki>[[..-Commands#ping|ping]]</nowiki> the router with the routers IP. A lot of home routers use something similar to 192.168.0.1 You'll have to find what that IP address is to ping.

''If you do not have an IP then here are things to try''
==== Using DHCP ====
Dynamic Host Control Protocol (DHCP) is a protocol that governs the creation and allocation of Dynamic IP addresses. This means that when you connect to a network, your computer is given an IP address within a range specified by a DHCP server. In many setups, the router will act as  a DHCP server.
<pre>
sudo dhclient <ath0>
</pre>
 or
<pre>
sudo invoke-rc.d networking restart
</pre>
* After running the <code>invoke-rc.d</code> command try <code>dhclient ath0</code> again
* Reboot making sure your networking <nowiki>[[..-ConfigFiles#-etc-network-interfaces|-etc-network-interfaces]]</nowiki> file is set up properly.

If you can connect to the router, but can't get an IP address, it may be because you put the wrong WEP key in.

==== Using Static IP Assignment ====
Using a dynamically-assigned IP address can occasionally cause problems or otherwise be undesirable. Using a static IP is generally considered more secure for the network's security, as a static IP can be mapped to the specific MAC address of the wireless adapter. However, always having the same IP can create a vulnerability as hackers can repeatedly attack the same IP address, somewhat increasing their chance of success.
1. Put down the network using the following command typed in a terminal window
 <pre>
sudo ip link set ath0 down
 </pre>
1. Bring the network back up using the appropriate IP address, netmask and broadcast IP address for the connection
 <pre>
sudo ip addr add 192.168.x.x/24 brd + dev ath0
 </pre>
 where the x = an IP address in your network range.
1. Add a route between your router and wireless adapter.
 <pre>
sudo route add default gw <router_ip> dev <ath0>
 </pre>
1. Now try to <nowiki>[[..-Commands#ping|ping]]</nowiki> your router and a website.
** If you're connected now and have an IP assigned but can not surf website then move on to next section.
** You will need to make sure your <nowiki>[[..-ConfigFiles#-etc-network-interfaces|-etc-network-interfaces]]</nowiki> file is set up properly so you get internet again when you reboot

=== Connected but no internet ===

==== Check DNS Settings ====

''If you are connected to your router and have an IP address assigned to your wireless device but can't search the web, you will need to check to see if you have a DNS nameserver set''

* Use the <nowiki>[[..-Commands#ping|ping]]</nowiki> command to ping an external site using its IP address. If this is successful but you can't load a web page in your browser then you may have a DNS server problem.
1. DNS settings are stored in <code>/etc/resolv.conf</code>. Type the following command into a terminal to see if there are any DNS servers listed.
 <pre>
  cat /etc/resolv.conf
 </pre>
 The output should be something similar to the following:
 <nowiki>[[File:IconsPage/example.png]]</nowiki>
 <pre>
  search telus.net
  nameserver 209.53.4.130
  nameserver 209.53.4.150
 </pre>
** The last two lines of this particular file list two nameservers, in order of preference.
1. If your file doesn't look like this one, edit it and add your own settings. Reboot your computer.
** Your DNS server settings can also be identified by calling your Internet Service Provider (ISP) and asking them.
1. If this doesn't work, edit the file again to use the Google DNS servers at <code>8.8.8.8</code> and <code>8.8.8.4</code> to check if your ISPs are the problem.

* If you are using DNS servers with static IP addresses, follow <nowiki>[[StaticDnsWithDhcp|this guide]]</nowiki> to configure your system.

==== IPv6 Issues ====

The current public Internet Protocol is Internet Protocol Version 4 (IPv4). It's successor, Internet Protocol Version 6 (IPv6) is being phased into use. The main difference between these versions from a user's perspective is the number of Internet Protocol Addresses. IPv4 has 2^32^ unique addresses compared to IPv6's 2^128^.

* Disabling IPv6 can remedy wireless connections that seem to work right up to the point of accessing the internet. It is enabled by default in recent versions of Ubuntu.

===== Disabling IPv6 Support in Firefox =====
# Open a Firefox window.
# In the address bar type:
 <pre>
about:config
 </pre>.
1. Scroll through the list of settings and find this line:
 <pre>
network.dns.disableIPv6
 </pre>
1. Double-click on it to change the value to <code>true</code>.

===== Disabling IPv6 Support System-Wide =====
# Open the file <code>/etc/modprobe.d/aliases</code>
# Add the following first three lines to the file. The line with <code>#</code> starting is already in the file. Find it and add the # in front of it.
 <pre>
  alias net-pf-10 ipv6 off
  alias net-pf-10 off
  alias ipv6 off
## alias net-pf-10 ipv6
 </pre>
1. Reboot the computer..

=== Connection Established, Problems Persist ===

This section is for troubleshooting unstable connections.

==== Dropped Connections ====
1. Channel interference from cordless phones and other wireless devices can interrupt your wireless connection.  If you are having a problem with dropped connections then try using a different channel.  Use
 <pre>
  sudo iwlist scan
 </pre>
 to check what wireless channels are being used in your immediate area.
1. Network-Manager; Wifi-radar; and gtk wifi can cause dropped signals every so often as they scan the interfaces, causing the connection to drop. You can try uninstalling these apps to see if your problem goes away, but doing so will remove any GUI tools that you may or may not have been using to configure and monitor your wireless connections.  If removing these tools solves your problem, please file a bug report on the product's launchpad page to help improve the app's performance.

==== Connected, Issues with Certain Websites ====
1. Disable <nowiki>[[#ipv6|IPv6]]</nowiki>.

==== Incorrect Driver Loads at Boot ====
1. Some devices will have multiple drivers, and some will function better than others. To prevent a specific driver from loading during boot, read the <nowiki>[[..-Commands#modprobe|modprobe]]</nowiki> command section.

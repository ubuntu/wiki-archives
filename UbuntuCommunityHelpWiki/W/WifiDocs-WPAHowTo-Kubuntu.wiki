{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== How to Enable WPA on Kubuntu ==
The purpose of this wiki is to clarify the procedure of getting WPA to work on Kubuntu. The general wiki is hard to read (at least for the time being), and it is hard to know which parts pertain to KDE. This page contains excerpts from the more general parent wiki <nowiki>[[WifiDocs-WPAHowTo]]</nowiki>, and some particulars pertaining to KDE and Kubuntu.

=== Before You Start ===
* You need to configure WPA on your wireless router/accsess point. Please note that though it is possible to set up the network in WEP-mode or unencrypted, and then switching to WPA when trying to connect to the router, this has serious security implementations, and also is very cumbersome and unreliable.
* It is assumed throughout this wiki that you have '''Kubuntu 6.10 (Edgy Eft)''' installed.
* Have a look at <nowiki>[[WifiDocs-WiFiHowTo]]</nowiki> to get your card up and running.  Remember that some of the tools mentioned there, like '''network-admin''' are specific to '''Gnome''', and not particularly well suited for use with KDE.
* Check to see if your card is supported by <nowiki>[[http://hostap.epitest.fi/wpa_supplicant/|wpa_supplicant]]</nowiki>. If your card is not supported, I guess you are out of luck for now.

Remember also that '''''' isn't going to get you anywhere if you are planning to use '''WPA encryption'''.

=== Note for the Impatient ===
Go directly to the <nowiki>[[#EasySteps|Easy steps]]</nowiki> section.

=== Other Wikis of Interest ===
* <nowiki>[[WifiDocs-NetworkManager]]</nowiki>, dealing with  in general.
* The <nowiki>[[WifiDocs-WPAHowTo]]</nowiki> wiki that most of this stuff comes from.
* The <nowiki>[[WifiDocs-WiFiHowTo]]</nowiki> wiki to get you started on wireless networking.
* Special considerations for the RT2500 chipset at <nowiki>[[WifiDocs-Driver-RalinkRT2500]]</nowiki> (I do not have one, so I did not test this).
* The parent wiki, <nowiki>[[WifiDocs]]</nowiki>, for a listing of more wikis of interest.

=== External References ===
To further understand what is going on, these links might be useful.

* WPA explained on <nowiki>[[http://en.wikipedia.org/wiki/Wi-Fi_Protected_Access|Wikipedia]]</nowiki>.
* <nowiki>[[http://hostap.epitest.fi/wpa_supplicant/|wpa_supplicant]]</nowiki> website.
* <nowiki>[[http://www.gnome.org/projects/NetworkManager/|NetworkManager]]</nowiki> site on .
* The  docs on <nowiki>[[http://en.opensuse.org/Projects/KNetworkManager|OpenSuse]]</nowiki> webpages (thanks ).

=== Basic Information for Users New to Kubuntu and Linux ===
Some basic information for inexperienced Linux users is included here. Please be patient, or skip directly to the <nowiki>[[#EasySteps|Easy steps]]</nowiki> section below.

==== You Need a Working Internet Connection to Install Packages ====
To be able to install packages you will need a working Internet connection. Most laptops (mine at least) does not have problem with the wired LAN card, and this will be your best option for installing the required packages. Please also note that  only enables one interface at a time. I do not quite understand why this should be so. Maybe future versions will support multiple interfaces and routing.

 {i} Now, it ''is'' possible to download packages with a different OS and install them off-line. This is a cumbersome process, though, and is not recommended.

 {i} It is Not a Good Option to use the wireless to access the Internet and then switching to WPA when you think you have done things right.

==== Explanations of the Instructions ====
When I write 
<pre>
$ chmod u+x somefile
</pre>
this means that chmod is a command to be entered on a command prompt. Such a prompt is readily supplied by terminal emulators, i.e. Konsole. The action of the command issued can be investigated by issuing
<pre>
$ man chmod
</pre>
and reading the manual for the command. To become adept in using the man tool, issue
<pre>
$ man man
</pre>
The '''sudo''' command typpically prompts for your password. Supply your regular login password, and you should be fine.

== Easy Steps to get WPA to Work on Kubuntu ==
These are the steps needed to get WPA up and running on Kubuntu.

# Check to see if your card is supported by <nowiki>[[http://hostap.epitest.fi/wpa_supplicant/|wpa_supplicant]]</nowiki>. If your card is not supported, I guess you are out of luck for now.
# Download the packages needed; knetworkmanager, network-manager and wpasupplicant. Personally I prefer aptitude, but please use the package manager of your choice (e.g. Adept).
 If you use aptitude, enter this command, supplying your own password at the password prompt:
<pre>
$ sudo aptitude install knetworkmanager network-manager wpasupplicant 
</pre>
 {i} Technically knetworkmanager should drag in wpasupplicant and network-manager, but no harm done to specify them explicitly, other than that they will me marked as '''manually''' installed. Read the documentation for aptitude to learn about the implications.

 {i} You'll need a working network connection to install packages. Please see <nowiki>[[#NIC|Network connection]]</nowiki> for a brief explanation.
1.#3 Reboot the computer.
 {i} Might work without rebooting, but better safe than sorry.
1.#4 Log in to KDE and start '''''' from the Internet menu.
# There should now be a tray icon for  in the system tray. Click on it and select the appropriate network, or specify a network with the '''Connect to Other Wireless Network ... '''
# Specify the passphrase and other details for your network. 

That's all there is to it.

It should be possible to select  as encryption method in the last step. If not, something has gone wrong. One possibility is that your card is not supported by vpasupplicant. If it is on the list of supported cards try reinstalling the software with
<pre>
sudo aptitude reinstall knetworkmanager wpasupplicant network-manager
</pre>
Reboot and try again. If the problem persists, read the other wikis referenced in this wiki and see what you can learn from them.

=== Tip ===
Knetworkmanager will not manage any interfaces defined in /etc/network/interfaces file. Please comment out lines for any interface listed in the interfaces file except for the lo interface.

=== Final Remarks ===
Here are some remarks for tuning the system.

==== Remembering Passphrases ====
If  is configured,  should use this to remember passphrases. Check <nowiki>[[http://en.opensuse.org/Projects/KNetworkManager#How_can_I_store_passphrases_associated_with_encrypted_wireless_networks.3F|this link]]</nowiki> for further information.

==== Suspend Suport ====
Have a look at the <nowiki>[[WifiDocs-NetworkManager#Suspend|NetworkManager]]</nowiki> wiki for more information.

==== Workaround for Automatic Startup ====
I could not get the manager to work after system reboot. This seems to be because I tried to start knetworkmanager as root (with kdesu or such) the first time round. Don't know, though it seems to be the case after a bit of testing. Other user accounts on my system works just fine. My manager does not show any NICs when started by the session manager. Anyhow, there is no need to run knetworkmanager as root, as it is only a frontend to a daemon doing the actual network setup.

Since I got myself into this mess, I'll include a bit of info on how I got around it too.

On the <nowiki>[[https://wiki.ubuntu.com/LaptopTestingTeam/DellInspiron510m|Dell Inspirion 510m]]</nowiki> laptop I am doing the testing this hack is suffiscient to get the manager to work across reboots.

# Start '''System Settings''' from the '''K''' menu.
# Click '''Advanced''' in the upper left corner of the window.
# Click '''Session manager'''.
# Add '''knetworkmanager''' to the comma-separated list of applications to exclude from the session management (in the bottom of the window), and click '''Apply'''.
# Create a file in the '''~/.kde/Autostart''' folder named '''knetworkmanager'''.
# Enter this into the file:
<pre>

sleep 10

knetworkmanager
</pre>
 {i} The two preceding steps can be combined into one by starting '''''' from the '''K -> System''' menu, issuing the command '''nano ~/.kde/Autostart/knetworkmanager''', cutting and pasting the above text into the editor window and pressing the key sequence '''[Ctrl] + x''', and then pressing the '''[ENTER]''' key.
1.#7 Make the file executable:
<pre>
$ chmod u+x ~/.kde/Autostart/knetworkmanager
</pre>

This should do the trick. 

{i} After a bit of fiddling I found that  worked properly even with the '''sleep 10''' removed. This might be different for your system, so I'll leave it in there.

{i} Also note that any tools dependent on the network to be up, like adept_notify and klamav (KDE frontend to clamav) will not work properly until after the wireless network has settled. I could not get this to work. Possibly  needs to be integrated in the network services of KDE for this to work properly ...

==== Additional workaround for Automatic Startup ====
# Start '''Konqueror''' from the '''K menu'''.
# Make sure hidden files can be viewed (click the '''View''' menu in the upper left and select '''Show Hidden Files''').
# Left-click (or double left-click) the '''.kde''' folder to open it.
# Left-click (or double left-click) the '''share''' folder to open it.
# Left-click (or double left-click) the '''config''' folder to open it.
# Open the '''knetworkmanagerrc''' file in Kate or your favorite text editor.
# Look for a section similar to this:
 <pre>
 [General]
 Autostart=yes
 Version=0.2.2
 WirelessEnabled=true
 </pre>
# If the value for '''Autostart''' is '''no''', change it to '''yes'''.
# Save the file and close the editor.

----
CategoryNetworking

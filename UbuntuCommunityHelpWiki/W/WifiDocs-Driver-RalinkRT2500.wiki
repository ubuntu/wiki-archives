{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


''' WARNING!'''

'''In Ubuntu 7.10 (Gutsy Gibbon) everything should work out of the box, using newer built-in driver, so the information posted below are not relevant to this version. There are many reports about WPA connections not working, though. <nowiki>[[http://ubuntuforums.org/showpost.php?p=3595458&postcount=6|This post]]</nowiki> describes how to make them work by going back to the legacy serialmonkey driver. The issue was reported in the <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/network-manager/+bug/134962|bug #134962]]</nowiki>.'''

== About the guide ==

This guide explains how to set up and configure a wireless network card based on the RT2500 chipset, which is manufactured by Ralink and incorporated in many wireless network cards.

You will need for this guide; your access point's ESSID (case-sensitive); the key (case-sensitive) used to access the access-point; the encryption used for the key.

== Driver Information ==
If you are unsure whether your wireless card is based on the RT2500 chipset, visit <nowiki>[[http://ralink.rapla.net|this page]]</nowiki> for a list of cards based on the chipset.

Since Ubuntu 5.10 (Breezy Badger) the rt2500 driver is installed out of the box, so your wireless card should be visible as "ra0" if you open the Networking utility <nowiki>[[http://www.tendances-de-mode.com/|mode 2010]]</nowiki> found under the '''System->Administration->Networking''' menu. If your wireless network uses no encryption, just click "Properties", enter your wireless access point's ESSID, and click OK. Once you click the "Activate" button, you should be connected to your wireless network <nowiki>[[http://custom-paper-writing.com/editing-services|service essays]]</nowiki> and <nowiki>[[http://uiredesign.com/solutions/mobile-website-design.htm|Mobile Website Design Services]]</nowiki>. If your network requires <nowiki>[[#WEP|WEP]]</nowiki> or <nowiki>[[#WPA|WPA]]</nowiki> encryption, continue to the appropriate section. If you would like to have Ubuntu automatically connect to your wireless network when your computer starts up, follow <nowiki>[[#auto|these]]</nowiki> steps.

If you run an older version of Ubuntu, or the instruction on this page for setting up WPA or WEP encryptions don't work for you, then you may have to compile the driver and/or one of the RaConfig or RutilT utilities as described <nowiki>[[#compile|here]]</nowiki>. Have a look at <nowiki>[[http://uiredesign.com/solutions/ui-design-for-android-apps.htm|Android Apps Design]]</nowiki>.

** Driver Name: rt2500
** Module Name: rt2500.ko

== Support Channels ==
* <nowiki>[[http://forums.fedoraforum.org/showthread.php?t=60081&page=3|FedoraForums discussion of WPA]]</nowiki> on which this description is based
* <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=78250|Ubuntuforums discussion of WPA]]</nowiki> on which this is also based
* <nowiki>[[http://rt2x00.serialmonkey.com/phpBB2/|Rt2x00 support forum]]</nowiki>
* <nowiki>[[http://rt2x00.serialmonkey.com/wiki/index.php/Main_Page|Rt2x00 wiki]]</nowiki>
* <nowiki>[[http://ralink.rapla.net/|List of wireless cards based on Rt2500]]</nowiki>
* Someone who has found <nowiki>[[http://www.livejournal.com/~stinerman/81697.html|problems with the native WPA support]]</nowiki>
* <nowiki>[[http://en.wikipedia.org/wiki/Wi-Fi_Protected_Access|Wikipedia on WPA]]</nowiki>

=== WEP info ===
If your wireless network is not protected by the WPA encryption method (i.e. if it's open or protected by the WEP encryption method) follow these steps:

1. Plug in your card. 

2. Open '''System->Administration->Networking''' in the menu.

3. Click "Properties"

4. Enter your wireless access point's ESSID and WEP Key (if appropriate), and click OK.

5. Click the "Activate" button. You should now be connected to your wireless network!

In the future, all you'll need to do is click the Activate button to connect to the wireless network. If you would like to have Ubuntu automatically connect to your wireless network when your computer starts up, follow these steps:

1. Open a "Terminal" window.

2. Type: 

<pre>
gksudo gedit /etc/network/interfaces
</pre>

3. In the text editor window that opened search for a stanza beginning with "iface ra0".

4. Add the following line to the beginning of the stanza:

<pre>
auto ra0
</pre>

5. Save the file and close the editor.

=== WPA info ===
If your wireless network uses the WPA encryption method, follow these steps:

1. Open a "Terminal" window.

2. Type: 

<pre>
gksudo gedit /etc/network/interfaces
</pre>

3. In the text editor window that opened add the following stanza: 

<pre>
iface ra0 inet dhcp
        pre-up ip link set ra0 up
        pre-up ip link set ra0 down
        pre-up ip link set ra0 up
        pre-up ip link set ra0 down
        pre-up iwconfig ra0 essid "myssid"
        pre-up iwconfig ra0 mode Managed
        pre-up iwpriv ra0 set AuthMode=WPAPSK
        pre-up iwpriv ra0 set EncrypType=TKIP
        pre-up iwpriv ra0 set WPAPSK="A shared key"
        pre-up ip link set ra0 up</pre>

You should replace "myssid" with the SSID of your network, and "A shared key" with your network's WPA pre-shared key (in hex format, not ASCII plain text; use wpa_passphrase to generate the key if your AP software allows you to specify only plain text). If your network uses the AES encryption type, replace "TKIP" with "AES". If your network operates a mode other than Managed, replace "Managed" with the appropriate mode - but notice that some modes are not supported by the driver, or may not be fully functional.

If you wish Ubuntu to connect to the network on startup, add the following line to the beginning of the stanza: 

<pre>
auto ra0
</pre>

If you want to use a static IP address rather than DHCP, you should replace the first line of the stanza above with something like

<pre>
iface ra0 inet static
        address 192.168.1.45
        netmask 255.255.255.0
        gateway 192.168.1.1</pre>
(Use the address, netmask and gateway appropriate for your network's settings)

5. In the terminal window, type:

<pre>
sudo ifup ra0
</pre>

You should now be connected to your wireless network!

{i} If the above did not work for you, try one of the following stanzas instead (the same notes apply to these stanzas as well):

<pre>
iface ra0 inet dhcp
        pre-up iwpriv ra0 auth 3
        pre-up iwpriv ra0 enc 3
        pre-up iwconfig ra0 essid myssid
        pre-up iwpriv ra0 wpapsk A shared key
        pre-up iwconfig ra0 essid myssid </pre>

<pre>
auto ra0
iface ra0 inet dhcp
pre-up iwconfig ra0 essid " myssid "
pre-up iwconfig ra0 mode managed
pre-up iwpriv ra0 set Channel=11
pre-up iwpriv ra0 set AuthMode=WPAPSK
pre-up iwpriv ra0 set EncrypType=TKIP
pre-up iwpriv ra0 set WPAPSK="A shared key"
pre-up iwpriv ra0 set TxRate=0</pre>

{i} If you need WPA support and the native method described here doesn't work, you may have to download and compile R''''''aConfig or R''''''utilT as described <nowiki>[[#Raconfig|here]]</nowiki>. It's not necessary to compile the driver if that's already working out of the box.

== Ubuntu Release Specific Info ==

=== Hoary 5.04 ===

Ubuntu Hoary users should follow the <nowiki>[[#compile|compiling insturctions]]</nowiki>

=== Breezy 5.10 and Dapper 6.06 ===

Users of the Breezy release or any newer one have the driver installed out of the box.  If the above instructions for the configuration of the driver do not work for you, follow to the <nowiki>[[#Raconfig|configuration application installation insructions]]</nowiki>. Or, if for some reason you wish to install a newer version of the driver follow the <nowiki>[[#compile|'Compile Newer Driver']]</nowiki> section. In both cases please note all of these specific instructions in addition:

1. Apart from the packages listed on the <nowiki>[[#apt|third step]]</nowiki> of the driver compilation instructions, you will also need to install gcc-3.4 instead of (or along with) the default gcc-4 using the following command:'' 
<pre>
sudo apt-get install gcc-3.4
</pre>

''Note if this doesn't work because it's complaining about
<pre>
E: Couldn't find package gcc-3.4
</pre>

'' then you need to add the main repository to your apt sources. The easiest way of doing this is:

** by launching the System -> Administration -> Synaptic Package Management program,
** clicking the Settings -> Repositories menu, 
** clicking Add, selecting the "Ubuntu 5.10 Breezy Badger" repository,
** checking the "Community Maintained (Universe)" box 
** clicking OK and OK again.

Then you should quit the Synaptic program and try the install command again.

2. To the packages installed on the <nowiki>[[#apt2|the first step]]</nowiki> of the R''''''aconfig installatio add libqt3-mt-dev by typing at the terminal:

<pre>
sudo apt-get install libqt3-mt-dev
</pre>

3. Before finalizing the installation as described <nowiki>[[#end|here]]</nowiki>, type this at the terminal:

<pre>
sudo rm -r /lib/modules/`uname -r`/kernel/drivers/net/wireless/rt2500
</pre>

=== Feisty 7.04 ===

You will need to blacklist the SerialMonkey driver, add ndiswrapper to /etc/modules, and get the correct ndiswrapper setup, then make sure wpa_supplicant is installed. Then add this to you /etc/interfaces

""iface ra0 inet dhcp 

wpa-driver wext 

wpa-ssid your-ssid 

wpa-ap-scan 1 

wpa-proto RSN WPA 

wpa-pairwise CCMP TKIP 

wpa-group CCMP TKIP 

wpa-key-mgmt WPA-PSK 

wpa-psk your-wpa-psk""

Then disable the wireless card in NetworkManager and do a sudo ifup ra0.

=== Compile Newer Driver ===
This section describes how to download, compile and install the open source wireless drivers for R''''''aLink Rt2500-based wi-fi cards. 

<!>'''Note: This is only needed for users of Ubuntu 5.04. Ubuntu 5.10 and 6.06 have these drivers already installed. If your use one of the latter and wish to compile the driver anyway, note these <nowiki>[[#brezzy|release specific instructions]]</nowiki>'''

Please note you will need to have an active internet connection for these instructions to work, so you may need to hook up via ethernet temporarily.

==== Get Driver and RaConfig ====
1. Download RT2500 Beta or RT2500 CVS (the Beta Release is considered more stable, but for packet injection mode, which tools like <nowiki>[[http://www.cr0.net:8040/code/network/|Aircrack]]</nowiki> require, the CVS Version is necessary).

You can find the Rt2500 download page on http://rt2x00.serialmonkey.com/wiki/index.php/Downloads
* For downloading the Beta Release follow the "Latest BETA rt2500 driver" download link.
* For downloading the CVS Release follow the "rt2500 nightly CVS tarball" download link.

2. Open a Terminal window (found under the "System Tools" group, in the "Applications" menu). Most of the work will be done through the Terminal. Now go into the directory where you downloaded the driver and type:

<pre>
tar -xzf <driver name>
</pre>

to unpack it.

3. At the Terminal Type:

<pre>
sudo apt-get install build-essential linux-headers-$(uname -r)
</pre>

This will install necessary packages for the compilation, after typing your password.

==== Installing the Driver ====
The first step is to compile and install the driver:

1. Now type:

<pre>
cd ./rt2500*/Module
</pre>

This will bring you into the driver folder. If you extracted it somewhere else, adjust the address accordingly.

2. Type:

<pre>
make
</pre>

3. The module is now built. Before we install it, let's test it. Type:

<pre>
sudo insmod rt2500.ko
</pre>

4. Now, you can set up your device as described in the <nowiki>[[#WEP|WEP]]</nowiki> and <nowiki>[[#WPA|WAP]]</nowiki> sections according to your encryption needs. After you complete your configuration, continue to <nowiki>[[#end|finalize the installation]]</nowiki>. If the above instructions for the configuration of the driver do not work for you, continue to the <nowiki>[[#Raconfig|next]]</nowiki> section that will install R''''''aconfig or R''''''utilT.

==== Installing RaConfig/RutilT, and using it ====

You can chose to install the GUI application provided with the driver, R''''''aconfig, or another GUI application for the driver instead called <nowiki>[[http://cbbk.free.fr/bonrom/|RutilT]]</nowiki>. The developers of the driver intend to replace R''''''aconfig with this tool, and discontinue the development of the former. At this point RutilT is still under heavy development (RutilT v0.14, latest update 17-04-2007) and in comparison to R''''''aConfig it has the following advantages/disadvantages:
* It supports several R''''''alink chipsets and not only Rt2500 (they're going to implement all R''''''aLink chipsets).
* It's based on GTK, so Ubuntu users don't have to install kdebase.
* The new R''''''t2X00 Driver is supported, which is a complete new driver and supports all R''''''aLink chipsets (this driver is still very unstable).
* Users are going to be able to run this tool as non-root user (not implemented yet).
* It doesn't support WPA yet.
So choose accordingly: <nowiki>[[#InstallRaconfig|Install Raconfig]]</nowiki> or <nowiki>[[#InstallRutilT|Install RutilT]]</nowiki>

==== Installing RaConfig ====

1. To install the utility, you'll need to download and install the kdebase and qt3 development  packages. Type:

<pre>
sudo apt-get install kdebase
</pre>

note that if you're using Kubuntu, you need not install this package.

Also type:

<pre>
sudo apt-get install qt3-dev-tools
</pre>
If qt3-dev-tools fails to install, you might try libqt3-mt-dev.

2. Go here: http://rt2x00.serialmonkey.com/wiki/index.php/Downloads and download the driver package for your chipset. RaConfig is contained in these packages so even if you don't need new drivers you still need to download them. Use some program to extract the files. You may need to type this is a terminal to get root access to extract the files: 
<pre>
gksudo file-roller
</pre>

Remember where it is that you extracted the files because you will need that information later. See <nowiki>[[http://www.vinfotech.com | Web 2.0 Design]]</nowiki> and <nowiki>[[http://vopensource.co/drupal-developer/ | Drupal Experts]]</nowiki>

2. Now change to the Utilitys folder in the directory that you extracted the rt2500 drivers to. What you need to type here may be different depending on where you saved the drivers. If you extracted the driver package into your /etc directory it may look something like this:

<pre>
cd /etc/rt2500-1.1.0-b4/Utilitys
</pre>

3. Now type:

<pre>
sudo qmake -o Makefile raconfig2500.pro
</pre>

4. Then type:

<pre>
make
</pre>

After typing make it appears that nothing happens. Don't worry, everything is still going according to plan. 

5. Activate your wireless card if you haven't already. Under System -> Administration you will find networking. Your Ralink card will be listed there. Activate it.

6. Now we need that directory where you saved the drivers. It may look like /etc/rt2500-1.1.0-b4/Utilitys/RaConfig. This may be different if you saved it somewhere else. In the Terminal, type:

<pre>
sudo cp <path to RaConfig2500 executable> /usr/local/bin
</pre>

7. Launch RaConfig by typing in console:

<pre>
RaConfig2500
</pre>

8. The present wireless networks will be listed. Pick the one you want to connect to, click "Add Profile." Fill in the correct details for wireless security (WPA, WEP, etc) if you need to. Save the profile, click connect. Voila! You should have RaConfig set up correctly using your connection with WPA security enabled.  

==== Installing RutilT ====

'''NOTE: Starting from gutsy, rutilt is now in the official Ubuntu repositories.'''

1. First we're going to download the tool. Visit the tool's homepage at http://cbbk.free.fr/bonrom/ and download the newest version.

2. Now to solve the dependencies:

<pre>
sudo apt-get install libgtk2.0-dev
</pre>

and, if you haven't already done this before,

<pre>
sudo apt-get install build-essential linux-headers-$(uname -r)
</pre>

3. We need to unpack the archive you downloaded, so open a console and go into the directory where you downloaded the archive.  Type

<pre>
tar -xzf <archive name>
</pre>

4. After unpacking the archive we will open the new folder:

<pre>
cd <path to folder>
</pre>

5. Now, we're going to compile the application:

<pre>
./configure.sh
make
</pre>

If you want to compile it with packet injection mode type:

<pre>
make SUPPORT=RFMONTX
</pre>

instead. (note: If you want to compile it with packet injection mode, you must use the CVS driver version, otherwise R''''''uTilt won't work)

6. In order to install the executable in /usr/bin type:

<pre>
sudo make install
</pre>

7. Under System -> Administration you will find networking. Your Ralink card will be listed there. Activate it.

8. You can now run the RutilT by typing "rutilt" in console.

==== Finalizing the Install ====
1. First, disconnect - click Deactivate in the Networking window, or use the Terminal:

<pre>
sudo ifdown ra0
</pre>

3. Type:

<pre>
sudo cp ~/rt2500-cvs-daily/Module/rt2500.ko /lib/modules/`uname -r`/kernel/drivers/net/wireless/
</pre>

4. Type:

<pre>
echo "alias ra0 rt2500" | sudo tee /etc/modprobe.d/rt2500
</pre>

5. Type:

<pre>
sudo depmod
</pre>

6. That's it! The driver's installed! You can now erase the unpacked rt2500 folder and the archive itself.

=== Specific Release Notes ===

----
CategoryNetworking

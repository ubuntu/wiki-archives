{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Installing Tora with Oracle Support ==

The "tora" database client package in FeistyFawn comes with Postgres support, and MySQL if you have the libraries.  This How-To shows you how to build Oracle Instantclient 10g support into tora.

This is client only.  You will not install the whole Oracle database.  

'''NOTE''': Packages for more recent Ubuntu versions may be found on <nowiki>[[https://launchpad.net/tora-oracle|Launchpad]]</nowiki>, please also note that ''/etc/ld.so.conf.d/oracle.conf'' must be created instead of setting LD_LIBRARY_PATH since Ubuntu 9.04 (see <nowiki>[[https://help.ubuntu.com/community/EnvironmentVariables|Help]]</nowiki>).

=== First Step: Install Oracle Instantclient ===

The instructions for this stage are on the page <nowiki>[[Oracle Instant Client]]</nowiki>.  The Oracle Client SDK is needed to build Tora.

When sqlplus is working correctly, move on to compiling "tora"

=== Second Step: Build Tora ===

* Install some required libraries:
<pre>
apt-get install build-essential g++ gcc autoconf automake flex zlib1g-dev docbook-xsl
apt-get install libqt3-mt-dev libqt3-compat-headers libqscintilla-dev
apt-get install debhelper dpatch texinfo
</pre>

  On <nowiki>[[LucidLynx]]</nowiki>, building tora-2.1.1, the following packages are also needed:
<pre>
apt-get install cdbs cmake
apt-get install qt-qmake libqt4-dev
apt-get install libqscintilla2-dev
</pre>

  In order to retain <nowiki>[[PostgreSQL]]</nowiki> and <nowiki>[[MySQL]]</nowiki> support, development packages for those are also required:
<pre>
apt-get install postgresql-dev libmysqlclient-dev
</pre>

* Download the tora source code:
<pre>
sudo apt-get source tora
</pre>
* Edit some build lines for Instantclient (not required for tora-2.1.1 on <nowiki>[[LucidLynx]]</nowiki>):
<pre>
cd /usr/src/tora-1.3.21
sudo vi debian/rules
</pre>
 change the line:
<pre>
./configure --prefix=/usr --without-oracle --without-rpath --disable-new-check --with-kde --enable-libsuffix=
</pre>
 to look like this:
<pre>
./configure --prefix=/usr --with-instantclient --with-oracle-includes=/usr/include/oracle/11.1.0.1/client --without-kde --without-rpath --disable-new-check --enable-libsuffix=
</pre>
* Now you're ready to build.  First become root:
<pre>
sudo -i
</pre>
* If ORACLE_HOME is not already set, point it to the appropriate place:
<pre>
export ORACLE_HOME=/usr/lib/oracle/11.1.0.1/client
</pre>
* Then build:
<pre>
cd /usr/src/tora-1.3.21
debian/rules binary
</pre>

If all goes well, after a "'long'" time, you should end up with a file in <code>/usr/src</code> called "tora_1.3.21-3ubuntu1_i386.deb".  You can install it like this:
<pre>
dpkg -i tora_1.3.21-3ubuntu1_i386.deb
</pre>

If dpkg gives an error like so:
<pre>
 tora depends on libqt3-mt-psql | libqt3-mt-odbc | libqt3-mt-mysql; however:
  Package libqt3-mt-psql is not installed.
  Package libqt3-mt-odbc is not installed.
  Package libqt3-mt-mysql is not installed.
</pre>

you can have apt fix its dependencies like so (afterwhich running the above dpkg -i command again should work):
<pre>
apt-get -f install
</pre>

=== Step Three: Using Tora to connect to an Oracle database ===

* Start "tora".
* In the connect box make sure the connection provide says "Oracle. Then enter an Instantclient connect string in the boxes.  Put "username" and "password" in the appropriate places.  Then put the string <code>//dbhost:<portno>/SID</code> in the "Database" box.  <nowiki>[[attachment:tora-connect.png|Here]]</nowiki> is a picture.

----
This How-To owes thanks to <nowiki>[[http://www.benpinter.net/article.php?story=20051208034638928|this]]</nowiki> page from Ben Pinter;
 <nowiki>[[https://help.ubuntu.com/community/tOraOracleSetUpHowTo|this]]</nowiki> page, which was a bit outdated; and <nowiki>[[http://ubuntuforums.org/showthread.php?t=92528|this]]</nowiki> entry on Ubuntuforums.
----
CategorySoftware

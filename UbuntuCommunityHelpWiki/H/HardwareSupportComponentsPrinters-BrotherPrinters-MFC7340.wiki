{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

== Introduction ==
This article covers the installation of drivers and utilities for the Brother MFC-7340 printer and scanner functions. All or most of the steps below are covered in various places on the <nowiki>[[http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/index.html|Brother Linux Support]]</nowiki> website. 

== Prepare for Install ==

Connect the printer via USB then power it on.

Setup apparmour:
<pre>
sudo aa-complain cupsd
</pre>

Create required directories:
<pre>
mkdir -p /var/spool/lpd
mkdir -p /usr/share/cups/model
mkdir -p /usr/lib/sane
</pre>

Install dependencies:
<pre>
sudo apt-get install sane-utils psutils tcsh lib32stdc++
</pre>

Add '''your''' user to the group `lpadmin`:
<pre>
usermod -aG lpadmin username
</pre>
== Download Driver Packages ==
==== For 64-bit systems ====
<pre>
wget http://www.brother.com/pub/bsc/linux/dlf/brmfc7340lpr-2.0.2-1.i386.deb http://www.brother.com/pub/bsc/linux/dlf/cupswrapperMFC7340-2.0.2-1.i386.deb http://www.brother.com/pub/bsc/linux/dlf/brscan3-0.2.11-5.amd64.deb http://www.brother.com/pub/bsc/linux/dlf/brscan-skey-0.2.4-0.amd64.deb
</pre>
==== For 32-bit Systems ====
<pre>
wget http://www.brother.com/pub/bsc/linux/dlf/brmfc7340lpr-2.0.2-1.i386.deb
http://www.brother.com/pub/bsc/linux/dlf/cupswrapperMFC7340-2.0.2-1.i386.deb http://www.brother.com/pub/bsc/linux/dlf/brscan3-0.2.11-4.i386.deb http://www.brother.com/pub/bsc/linux/dlf/brscan-skey-0.2.4-0.i386.deb
</pre>

== Install Driver Packages ==
==== For 64-bit systems ====
<pre>
dpkg -i --force-all brmfc7340lpr-2.0.2-1.i386.deb cupswrapperMFC7340-2.0.2-1.i386.deb brscan3-0.2.11-5.amd64.deb brscan-skey-0.2.4-0.amd64.deb
</pre>
==== For 32-bit Systems ====
<pre>
dpkg -i --force-all brmfc7340lpr-2.0.2-1.i386.deb cupswrapperMFC7340-2.0.2-1.i386.deb brscan3-0.2.11-4.i386.deb brscan-skey-0.2.4-0.i386.deb
</pre>

== CUPS Setup ==
In your browser navigate to <nowiki>[[http://localhost:631/admin|localhost:631/admin]]</nowiki> and select the `AddPrinter` button.
In the first screen select the radio button for "Brother MFC-7340". When you reach the driver selection list be sure to select the first of the two drivers titled "`Brother MFC7340 for CUPS(en)`". This is the CUPS specific driver, the other is for LPR.

== Scanner Setup ==
To allow scanner access to normal users add the two lines below to `/lib/udev/rules.d/40-libsane.rules`:
<pre>
sudo nano /lib/udev/rules.d/40-libsane.rules
</pre>
<pre>
ATTRS{idVendor}=="04f9", ENV{libsane_matched}="yes"
</pre>
For Ubuntu versions 9.04 and less see <nowiki>[[http://welcome.solutions.brother.com/bsc/public_s/id/linux/en/instruction_scn1c.html|HERE]]</nowiki>

Add "`brscan-skey`" as a <nowiki>[[AddingProgramToSessionStartup|start-up application]]</nowiki>. If you would like to have the Scan button work the same for all users add the line "`brscan-skey -l`" to the file `/etc/rc.local`

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


'''<nowiki>[[http://openbox.org/wiki/Main_Page | Openbox]]</nowiki> is a lightweight window manager using <nowiki>[[http://www.freedesktop.org/|freedesktop]]</nowiki> standards.''' It can be used either as a replacement for the default Gnome window manager -- <nowiki>[[Metacity]]</nowiki> -- or as a standalone desktop environment.  You can use Openbox without a desktop environment, by logging out, selecting an Openbox session, and logging in.

== Run Openbox ==

Openbox is a linux program package. It is used by Lubuntu and many other linux distros and flavours. This '''Run Openbox paragraph''' might help you get started.

To use Openbox (without tweaking) is easy, if it is installed and available from the log in screen, as described here for Lubuntu.

=== Select Openbox ===

When you select Openbox at the log in screen of '''Lubuntu''' and log in, you arrive at a grey screen in almost no time.

=== Right-click ===

==== Terminal emulator ====

Right-click and you will get a small menu. Select '''terminal emulator''', and from that you can start any other program.

==== Exit ====

Right-click on the grey background again and select '''exit''' to return to the log in screen (or '''sudo poweroff''' from the terminal window). 

== What is Openbox? ==

To answer that question, it's important to know the difference between a ''window manager'' and a ''desktop environment''.

A ''window manager'' is the program which draws on your screen the "box" in which the program is run. A window manager controls how your program window works, looks and acts. It decides what window decorations to use and gives you a way to move the windows, hide them, resize them, minimize them and close them. It controls what buttons you push to do those things, and what keys you press to make those things happen.

On the other hand, a ''desktop environment'' minds the entire desktop. It provides a taskbar, a system tray, a login manager, additional menus or perhaps screensavers and desktop icons. It might include a file manager, a text editor or some other accessory programs, too.

Openbox is a ''window manager'', not a ''desktop environment''. Openbox is only responsible for maintaining the windows you open on your screen -- nothing else. That means installing Openbox won't give you easy menu access to wallpaper options, a taskbar or system panel, or most of those other doo-dads. It does, however, give you a framework to build incorporate other programs that do those things -- and usually with a greater degree of freedom over the style and interface.

Openbox can be used alone, without a desktop environment, or it can be used to replace the window manager in a complete desktop environment. Either way is acceptable.

=== Features and benefits ===

* '''Minimal overhead''', which makes it ideal for lightweight systems, older hardware or speed demons;
* '''Few dependencies''', which again is appealing to lightweight or minimal systems;
* '''Mouse-wheel scrolling''' of the desktops, for quick access to multiple workspaces;
* A '''customisable right-click''' menu and '''customisable keybindings''' written as XML files;
* '''Piped menus''', where the output of one menu script is piped back into the Openbox menu and used in another (imagine the possibilities!);
* Plenty of '''themes''', which are all customizable through text files;
* Written in '''C''';
* Multi-head '''Xinerama support''' for dual monitor output;
* And above all, '''SPEED'''.

=== Disadvantages ===

* Sparse, which some people find appealing but others dislike;
* It can take a while to set up, and even once it is set up, changing a style or theme can be additional work;
* Doesn't handle some obvious features, like wallpaper or a taskbar;
* Relies on outside programs to handle some simple tasks;
* Requires some maintenance, since it doesn't "set itself up;"
* Some simple tasks, such as automounting CDROMs or attaching digital cameras, will require additional steps.

== Installing ==

Openbox is in the ''universe'' repository; make sure your <nowiki>[[AddingRepositoriesHowto| additional repositories]]</nowiki> are enabled before proceeding any further.

Either install Openbox from the command line,

  <pre>
sudo apt-get install openbox obconf
</pre>

or through the Synaptic Package Manager; mark the ''openbox'' and ''obconf'' packages for installation and apply the changes.

== Openbox on Gnome ==

Use these instructions only if you're converting an existing Gnome desktop to Openbox.

=== Replacing Metacity in Gnome ===

To replace Metacity on a Gnome installation, type this command into the run dialog (Alt+F2):

 <pre>
openbox --replace
</pre>

=== Creating a Openbox/Gnome session ===

For Natty 11.04, create the following two files as root (sudo) and then you will be able to select "Classic Ubuntu (with Openbox)" as an option at login:

/usr/share/gnome-session/sessions/openbox.session
 <pre>
[GNOME Session]
Name=Openbox GNOME
Required=windowmanager;panel;filemanager;
Required-windowmanager=openbox
Required-panel=gnome-panel
Required-filemanager=nautilus
DefaultApps=gnome-settings-daemon;
</pre>
/usr/share/xsessions/openbox-gnome.desktop
 <pre>
[Desktop Entry]
Name=Ubuntu Classic (with Openbox)
Comment=This session logs you into GNOME with Openbox as the window manager
Exec=gnome-session --session=openbox
TryExec=gnome-session
Icon=
Type=Application
X-Ubuntu-Gettext-Domain=gnome-session-2.0
</pre>

Prior to 11.04: 
If you wish to keep Openbox as your default window manager, just save your session on logout.
When you reach the GDM login, clicking on the "Session" button should give you Openbox as an option. Click it to start Openbox after your login.

== Openbox by itself ==

Starting Openbox on its own is an easy task. Edit your ''~/.xinitrc'' file and add this line to trigger Openbox when X starts.

 <pre>
exec openbox-session
</pre>

Of course, without some additional programs and accessories, there's very little to see in a pure Openbox installation. Keep reading for more ideas.

== Configuration ==

=== menu.xml and rc.xml ===

Openbox uses two main configuration files: '''rc.xml''', which sets keybindings, desktop names and window behavior; and '''menu.xml''', which contains the instructions for the right-click menu. As you might have guessed, both files are written in XML and can be edited in any text editor program. User-specific copies are stored in ~/.config/openbox/ and used first by default. If user-specific files do not exist or contain invalid XML, Openbox will revert to the default configuration files in /etc/xdg/openbox/.

Here's an example of what's inside the menu.xml file.

 <pre>
<item label="Program_Name">
	<action name="Execute">
		<execute>
			Program_Command
		</execute>
	</action>
</item>
</pre>

As you can see, the menus are neatly nested so they can be easily followed. Each entry has an opening tag and a closing tag, and each is clearly readable. rc.xml has a similar structure.

For more information about how to hand-edit Openbox's XML files, read over the <nowiki>[[http://icculus.org/openbox/|Openbox Web site]]</nowiki>.

==== ObMenu ====

If you're not keen on editing an XML file, there's <nowiki>[[http://obmenu.sourceforge.net/|ObMenu]]</nowiki>. This is a very small Python program that will allow you to modify your menu with a simple GUI, and save the results back into your menu.xml file. It's fast, easy and you don't have to worry about typos in your menu.xml file.

Obmenu has been included in the repositories. To install open a terminal and type:

<pre>
sudo apt-get install obmenu
</pre>

The command "obmenu" runs the program.

== Customizing ==

Openbox might just be a window manager, but there are plenty of opportunities to add some flair.

=== Obconf ===

Obconf is a handy program to customise Openbox. It allows for the selection of themes, some window behaviour, the number of desktops, and the dock. You can start Obconf with this command:

 <pre>
obconf
</pre>

'''Note:''' Edgy (Ubuntu 6.10) users should be aware of a small discrepancy in Obconf that might prevent it from running. You can correct that with these commands ...

 <pre>
cd /usr/lib
sudo ln libobparser.so.0.4.0 libobparser.so.1
sudo ln libobrender.so.0.4.0 libobrender.so.1
</pre>

Entering ''obconf'' in an X terminal window should now trigger the Obconf dialogue.

==== Themes ====

A variety of default themes are available in the repositories; you can install them via Synaptic, or through a terminal command:

 <pre>
sudo apt-get install openbox-themes
</pre>

These system-wide themes are stored in ''/usr/share/themes'' and may be a good base to copy to your ''~.themes'' directory and customize (see  modifying themes below).

A number of third-party sites also offer themes as compressed packages. Download the one you like, then decompress it into the ''~/.themes'' folder.

 <pre>
tar -xzvf compressed-theme-package-that-you-downloaded.tar.gz -C ~/.themes/
</pre>

Don't forget the trailing slash. Now you can use Obconf to select your theme.

==== Modifying themes ====

The better part of a theme package is contained in a text file called ''themerc'' inside some nested folders in ''~/.themes''. If you want to fine-tune a theme (such as, make the letters bigger, or change the width of a window handle, or pick a different color), find the correct file in your ''~/.themes'' folder and edit it as you like.

When you save it, you can reselect the theme with Obconf, and your changes will take effect.

=== Wallpaper ===

==== feh ====

A number of programs can handle the responsibility of showing a background image; the most common is a funny little program called ''feh''.

feh is actually a lightweight image viewer with a number of options, but perhaps the most popular is the ability to draw a desktop background. Pick a wallpaper image and try this command in a terminal.

 <pre>
feh --bg-scale /path/to/your/background/image.jpg
</pre>

Feh can handle other file types than just jpg. Once you've picked a wallpaper, feh stores the name in a file called ''.fehbg''. That means you can tell it to restore the wallpaper on the next boot by checking to see what's inside that file. Add this line to your ''~/.xinitrc'' file.

 <pre>
eval `cat $HOME/.fehbg` &
</pre>

===== Nitrogen =====

If you perfer a graphical method for choosing between many background images, perhaps nitrogen is a good option. Nitrogen allows you to choose from many background images from a preset directory, you should add any wallpapers you wish to choose from to this directory.

To use nitrogen, you should add 

 <pre>
nitrogen /path/to/backgroundfiles/
</pre>

to your menu.xml file (or alternatively add it to your menu using obmenu.)

Next you must add

 <pre>
nitrogen --restore
</pre>

to your ~/.config/openbox/autostart.sh (You can create this file if it does not exist)

Now you can use your nitrogen entry in your menu to change your wallpaper and the changes will be restored on login.

===== Random wallpaper =====

One neat trick available with feh is a random wallpaper on each boot. Make a directory in your home folder called "wallpapers", then put a few background images in it. Then copy this text into a file called ''wallpaper.sh'', and save it anywhere.

 <pre>
WALLPAPERS="$HOME/path_to_your_wallpapers"
ALIST=( `ls -w1 $WALLPAPERS` )
RANGE=${#ALIST[*]}
SHOW=$(( $RANDOM % $RANGE ))

feh --bg-scale $WALLPAPERS/${ALIST[$SHOW]}
</pre>

Next make the script executable.

 <pre>
chmod +x wallpaper.sh
</pre>

Now add that program to your ~/.xinitrc file, like this.

 <pre>
./wallpaper.sh
</pre>

When you log in, the script should be executed, and feh will pick a new wallpaper for your amusement.

==== Other options ====

feh isn't the only program that can handle drawing a background image. Here are some others.

* xsetbg
* imagemagick
* nitrogen

Additionally, some file managers have the option of managing your wallpaper.

* rox-filer
* PCManFM
* Nautilus, if started without the --no-desktop option, will draw over the background image

=== Desktop icons ===

==== iDesk ====

You can add customizable, clickable icons to your desktop with <nowiki>[[http://idesk.sourceforge.net/wiki/index.php/Main_Page|iDesk]]</nowiki>. iDesk is available in the Ubuntu repositories, and is installable from the command line with

 <pre>
sudo apt-get install idesk
</pre>

Consult the <nowiki>[[http://idesk.sourceforge.net/|iDesk wiki]]</nowiki> for instructions on how to configure and use iDesk. For icon sets, you may wish to search the repositories, or download them from third-party customization sites, such as <nowiki>[[http://www.gnome-look.org|Gnome-Look.org]]</nowiki> and similar locations.

==== Rox-Filer ====

Rox-filer is a file manager, but in addition to handling wallpaper, it also has a ''pinboard'' option, and can manage desktop icons. Install rox-filer with this command:

 <pre>
sudo apt-get install rox-filer
</pre>

You can set up the pinboard through Rox's menus.

=== Taskbars and pagers ===

Some people prefer to use a taskbar or pager to keep track of running programs. Here's a list of applications you can add to your Openbox installation that will handle that task for you.

==== Taskbars ====

* <nowiki>[[http://wiki.ubuntuusers.de/Pypanel|pypanel]]</nowiki> ('''Note:''' For Ubuntu 6.10 users, the PyPanel included in the repositories is often reported as broken. Look <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=327514|here]]</nowiki> for a possible way to fix it.)
* <nowiki>[[http://wiki.ubuntuusers.de/GNOME_Panel|gnome-panel]]</nowiki>
* <nowiki>[[http://freshmeat.net/projects/fspanel/|fspanel]]</nowiki>
* <nowiki>[[http://wiki.ubuntuusers.de/fbpanel|fbpanel]]</nowiki>
* <nowiki>[[http://freshmeat.net/projects/perlpanel/|perlpanel]]</nowiki>
* <nowiki>[[http://wiki.ubuntuusers.de/Xfce_Panel|xfce4-panel]]</nowiki>
* <nowiki>[[http://code.google.com/p/tint2/|tint2]]</nowiki>

==== Pagers ====

* <nowiki>[[http://bbtools.sourceforge.net/index.php|bbpager]]</nowiki>
* <nowiki>[[http://code.google.com/p/neap/|neap]]</nowiki>

=== System monitors ===

If you're looking for a way to display system information, try these nifty programs.

* gkrellm, which has a number of floating or docked graphical meters and displays
* adesklets, for similar graphical displays
* conky, a highly configurable text and graphic output that draws directly to your desktop

If you're working on Openbox in conjunction with a Gnome installation, you might also look into ''gdesklets'', which features some very polished monitors and meters for desktop display.

=== GTK themes ===

Program GUIs might look ugly if you're working on a pure Openbox system. Install gtk-theme-switch and the gtk2-engines package to give yourself a few more appealing options.

 <pre>
sudo apt-get install gtk-theme-switch gtk2-engines
</pre>

Bring up the configuration menu with this command, from a terminal or the Openbox right-click menu.

 <pre>
switch2
</pre>

Be sure to search the repositories for other engines that aren't included in the gtk2-engines package.

You can also try installing a Gnome package that will manage some of the settings for you.

 <pre>
sudo apt-get install gnome-settings-daemon
</pre>

If you prefere an XFCE look, try

 <pre>
sudo apt-get install xfce-mcs-manager
</pre>

Either program will run, depending on what's installed, from openbox autostart.sh.

=== Automounting ===

To automount external volumes -- like CDs and USB drives -- you will need a volume manager. Here is the Gnome application that handles that:

 <pre>
sudo apt-get install gnome-volume-manager
</pre>

Kubuntu and Xubuntu share the ivman application, which is installable with:

 <pre>
sudo apt-get install ivman
</pre>

=== Screensaver ===

If you're building an Openbox desktop with Gnome already installed, you'll probably already have ''gnome-screensaver'' in place. Pure Openbox fans might want to install ''xscreensaver'', which is more customizable and has a wider variety of screensavers involved.

Without K/X/Ubuntu in place, installing xscreensaver needs a couple of extra commands:

 <pre>
sudo mkdir /usr/share/backgrounds
sudo apt-get install xscreensaver xscreensaver-gl-extra xscreensaver-data-extra
</pre>

The first command sets up a default directory that xscreensaver will look for when it runs. If you don't create that directory, you'll get a string of error messages the first time you set the preferences.

The second command installs xscreensaver and its optional files. xscreensaver in Ubuntu is packaged with several screensaver options enabled, but not installed. As a result, you might see brief error messages when the daemon picks an enabled screensaver that it can't find. Adding those packages puts the missing screensavers in place, which is easier than disabling the absent ones.

Now add this command to your ''~/.xinitrc'' file, to start the xscreensaver daemon on boot.

 <pre>
xscreensaver -no-splash
</pre>

You can access the xscreensaver preferences panel by running ''xscreensaver-demo'' from the Openbox menu or from a terminal window.

=== Run dialogue ===

Some people find it convenient to invoke a run dialogue program, which is usually triggered with ALT+F2. You'll need to change the keybinding in the rc.xml file in order to regain that function.

If you are using XFCE components, changing rc.xml to point at ''xfrun4'' might solve the problem. If not, consider installing the ''gmrun'' program.

 <pre>
sudo apt-get install gmrun
</pre>

Change your rc.xml file to point to ''gmrun''; you don't have to add it to your ''.xinitrc'' file, though.

If you are running Gnome, you probably want to probably want to bind Alt+F2 (A-F2) to the Gnome run dialog by adding the following to your rc.xml file:
   <pre>
    <keybind key="A-F2">
      <action name="Execute">
        <execute>gnome-panel-control --run-dialog</execute>
      </action>
    </keybind>
</pre>

== Other window managers ==

=== To replace Metacity ===

As an alternative to <nowiki>[[Metacity]]</nowiki>, consider these window managers.

* xfwm4: This is the default window manager for the XFCE4 desktop environment, and is a very comprehensive substitute. Instructions on replacing <nowiki>[[Metacity]]</nowiki> with XFCE4 are found <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=88393|here]]</nowiki>.
* compiz: Compiz is a modern window manager that has many effects, such as animations, decoration opacity and provides its own composite manager.
* E17: Enlightenment provides a full desktop environment, based around speed and attractiveness. This includes the window manager and a desktop shell.  

=== Standalone ===

Here are some alternatives to Openbox for standalone window managers and desktop environments.

* <nowiki>[[FVWM]]</nowiki>: FVWM is a traditional window manager with a long history in the Linux community. It is highly customizable, very flexible and has a very slim profile.
* <nowiki>[[FVWM-Crystal]]</nowiki>: FVWM is set of configuration files that sits atop of FVWM, and is installable as a complete desktop environment with integrated audio controls, screensaver options and wallpaper control. It's also one of the prettiest options available to older hardware.
* <nowiki>[[Fluxbox]]</nowiki>: Fluxbox is a window manager intended to be lightweight and fast, it is based on the Blackbox 0.61.1 code. If you find you enjoy working with Fluxbox, the <nowiki>[[http://www.fluxbuntu.org/|Fluxbuntu]]</nowiki> project might be for you.
* <nowiki>[[IceWM]]</nowiki>: IceWM is likewise a clean and svelte window manager, but keeps a "traditional" desktop look that some users prefer.
* <nowiki>[[Blackbox]]</nowiki>: Blackbox served as the basis for Openbox, although Openbox has been completely rewritten in past years. Blackbox is still available, and still a popular option.
* XFCE: XFCE serves as the underpinnings for <nowiki>[[http://www.xubuntu.org/|Xubuntu]]</nowiki>, a fully supported Ubuntu variant complete with an office suite, networking interfaces, e-mail clients, and more. The project began as an option to run Ubuntu on older hardware, but has matured into a complete system on par with Kubuntu or Ubuntu. Visit their home page for more information about the project.

== External links ==

=== Openbox ===

* <nowiki>[[http://openbox.org/wiki/|Openbox web site]]</nowiki>
* <nowiki>[[http://openbox.org/wiki/Main_Page|Openbox documentation wiki]]</nowiki>
* <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=75471|An Openbox howto on ubuntuforums.org]]</nowiki>
* <nowiki>[[https://wiki.ubuntu.com/CustomXSession|XSession Wiki page]]</nowiki>
* <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=103806|How to build an Oubuntu! desktop]]</nowiki>

=== Openbox themes ===

* <nowiki>[[http://themes.freshmeat.net/browse/1087/|Freshmeat]]</nowiki>
* <nowiki>[[http://www.box-look.org/index.php?xcontentmode=7402|box-look.org]]</nowiki>

=== A sample .xsession file ===

* <nowiki>[[http://www.ubuntuforums.org/showthread.php?t=23998|An example from ubuntuforums.org]]</nowiki>

=== Other programs ===

* <nowiki>[[http://www.linuxbrit.co.uk/feh/|feh Web site]]</nowiki>
* <nowiki>[[http://projects.l3ib.org/nitrogen/|nitrogen Web site]]</nowiki>
* <nowiki>[[http://www.muhri.net|gkrellm themes]]</nowiki>

=== Other sites of interest ===

* <nowiki>[[http://en.wikipedia.org/wiki/Openbox|Wikipedia article on Openbox]]</nowiki>
* <nowiki>[[http://gentoo-wiki.com/HOWTO_Openbox|Openbox in the Gentoo Linux wiki]]</nowiki>
----

-- I'm still of the mind that this page should be split out, with Openbox on Gnome taking the bulk of the previous material, and this staying closer to a "pure Openbox on Ubuntu" explanation. Edit: Scratch that. Openbox+Gnome material can shift to ReplaceMetacityWithOpenbox, and link to there from here. -- K.Mandla

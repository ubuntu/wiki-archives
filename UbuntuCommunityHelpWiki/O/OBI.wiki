{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


== 'OBI' Deprecated ==
{| class="wikitable"
|-
| <#CCFF99> Please notice that the One Button Installer, 'OBI', is no longer developed or maintained
|}

The OBI project is no longer relevant because the computers and the internet have changed, so that computers with so little RAM, that the OBI is needed, are no longer useful (except as 'typewriters').

-----

== Typical cases for the One Button Installer, 'OBI' ==

=== Tool that is easy to use and just works ===

The normal linux installers that come with iso files are complicated to use or freeze during the
installation process, and you want a tool that is easier to use and just works.

=== Replace Windows XP ===

Replace Windows XP because after the end of life in April 2014, when there will be no more security updates for Windows XP.

=== Backup ===

You want a simple method to backup (and restore) your whole installed linux system. The One
Button Installer combines installation, backup and restore in one set of tools.

=== Your own portable Ubuntu based linux system ===

You want to <nowiki>[[MakeOBItarball|make your own linux system portable]]</nowiki> and port it to a USB pendrive or to be
installed in another computer to be used by yourself, or to be uploaded to the internet for
sharing with other people. The One Button Installer can do it in a simpler way than to remaster
the code and make an own iso file.

== General description ==

Please view or download <nowiki>[[attachment:DescriptionoftheOneButtonInstaller-2.pdf|this General description file]]</nowiki>.

/* and view this <nowiki>[[https://www.youtube.com/watch?v=s2BYU0_3mUY|Lubuntu Q&A Session - YouTube]]</nowiki> */

== How to install and run the OBI ==

=== OBI quick start manual ===

Please view or download <nowiki>[[attachment:OBI-quick-start-manual-6.pdf|this OBI quick start manual file]]</nowiki> with a short description how to make a boot drive with the OBI and how to use the OBI to install an Ubuntu based linux operating system.

=== Links to help programs ===

Use '''mkusb''' in linux to install the One Button Installer from its compressed image file. You find mkusb here:

<nowiki>[[https://help.ubuntu.com/community/mkusb]]</nowiki>

<nowiki>[[http://phillw.net/isos/linux-tools/mkusb/mkUSB-quick-start-manual.pdf]]</nowiki>

In Windows there is a two step procedure as described in the '''OBI quick start manual'''. Start by decompressing the compressed image file with <nowiki>[[http://www.7-zip.org|7-zip]]</nowiki>. Continue with <nowiki>[[https://wiki.ubuntu.com/Win32DiskImager/iso2usb|Win32 Disk Imager]]</nowiki>.

=== README ===

If you want to read more, please view or download <nowiki>[[attachment:README-3.pdf|this README file]]</nowiki>, which describes '''with more details''' how to make a boot drive with the OBI and how to use the OBI to install an Ubuntu based linux operating system to your computer, to make a portable system or to make a tarball from an existing system for backup or sharing.

=== Download the following files ===

Short update notice:

{| class="wikitable"
|-
| <#CCFF99> new tarball: X32-Txt-Startx-Intl_2016-06-29.tar.xz (16.04 LTS)
|-
| <#CCFF99> new tarball: ToriOS-pae-OEM_prec_use-by-OBI-in-trusty-2016-may.tar.xz  # Precise
|-
| <#CCFF99> new tarball: ToriOS-pae-OEM_trus_use-by-OBI-in-trusty-2016-may.tar.xz  # Trusty
|-
| <#CCFF99> new tarball: Lubuntu_16.04_oem-intel.tar.xz
|-
| <#CCFF99> new tarball: Lubuntu_16.04_oem-intl_amd64.tar.xz
|-
| <#CCFF99> to install tarballs made for precise: dd_precise-obi_4GB_29_text.img.xz
|-
| <#CCFF99> '''OBI version 3.3: works in Lubuntu 14.04 LTS 'Trusty'; Current main choice'''
|}

A new compressed image and new tarballs uploaded at http://phillw.net/isos/linux-tools/one-button-installer/

==== Torrent files ====

You can download torrent files in order to get the One Button Installer and a tarball with a small Xenial 32-bit system.

See this link, <nowiki>[[torrent]]</nowiki>

==== Compressed image files and tarballs ====

* '''OBI version 3.3''' dd_blank-obi_7.8GB_33_!LubuntuTrusty.img.xz with 32-bit PAE kernel, updated & dist-upgraded 2016-07-04 (also base operating system up to date) at <nowiki>[[http://phillw.net/isos/linux-tools/one-button-installer/dd_images/dd_blank-obi_7.8GB_33_LubuntuTrusty.img.xz|this direct link]]</nowiki>

* Tarball '''Trusty-mini-txt6.tar.xz''': This tarball has a generic PAE kernel and all program packages were up to date (2014-12-30). See more details at <nowiki>[[Trusty-mini-txt]]</nowiki>

* Tarball '''ToriOS-pae-OEM_prec_use-by-OBI-in-trusty-nov.tar.xz''': The new version has the current generic PAE kernel and all program packages were up to date (2015-11-04). Notice that this is a 'gamma' version, 'more than a beta version', but still not a stable released version.

* Tarball '''X32-Txt-Startx-Intl_2016-06-29.tar.xz''': This tarball has a generic PAE kernel and all program packages were up to date (2016-06-29). See more details at <nowiki>[[Xenial-32-txt]]</nowiki>

End of short update notice.
-----
Select one of the compressed image files alias '''dd_images'''

<pre>
dd_blank-obi_4GB_23_text.img.xz                    # if you need a really small system    (324MiB)
dd_blank-obi_7.8GB_25_LubuntuTrusty_nonpae.img.xz  # if you need a non-pae kernel         (677MiB)
dd_precise-obi_4GB_29_text.img.xz                  # to install tarballs made for precise (183MiB)
dd_blank-obi_7.8GB_33_LubuntuTrusty.img.xz         # current main choice for most cases   (695MiB)
</pre>
and at least one of the '''tarballs''' (check for new tarballs at the websites for downloading). '''User: guru, Password: changeme''' if nothing else is stated, except for the One Button Installer itself, that comes with '''User: myself, Password: 123456'''

{| class="wikitable"
|-
| <#CCFF99> Notice: The One Button Installer can search for available tarballs and download the tarball(s) you select via the starter menu
|}

<pre>
Lubuntu_14.04oem-npae5.tar.xz          # in OEM mode, password: 123456
Lubuntu_14.04oem-npae.tar.xz           # in OEM mode, password: 123456 (old)
Lubuntu_14.04_eu-npae.tar.xz           # OEM: ready for the end user
LubuntuTrusty-oem-feb12.tar.xz         # OEM: ready for the end user
Lubuntu_16.04_oem-uxa.tar.xz           # in OEM mode, password: 123456, (up to date 2016-05-08)
Lubuntu_16.04_oem-intel.tar.xz         # in OEM mode, password: 123456, (up to date 2016-05-08)
Lubuntu_16.04_oem-intl_amd64.tar.xz    # in OEM mode, password: 123456, (up to date 2016-05-14)

Trusty-mini-txt6.tar.xz                 # user: guru, password: changeme
Trusty-mini-txt7.tar.xz                 # user: guru, password: changeme, (up to date 2016-05-06)
Trusty-nonpae-txt5.tar.xz               # user: guru, password: changeme
Xenial-32-txt.tar.xz                    # user: guru, password: changeme (old, use the next version)
Xenial-32-txt_2016-06-28_intel.tar.xz   # user: guru, password: changeme (old, use the next version)
X32-Txt-Startx-Intl_2016-06-29.tar.xz   # user: guru, password: changeme (old, use the next version)
X32-dus-lxde-Intl_2017-06-13_4GB.tar.xz # user: guru, password: changeme, (up to date 2017-06-13)
XubuntuTrusty-oem-feb13.tar.xz          # OEM: ready for the end user
</pre>

plus a script file and a signed list of the md5sums.
<pre>
mkusb
md5sums.txt.asc
</pre>

Get the files from <nowiki>[[http://phillw.net/isos/linux-tools/one-button-installer]]</nowiki> where a complete set of files is available or from <nowiki>[[https://drive.google.com/folderview?id=0BzX-18u3W1sQVkpDUlgxS2FORkE&usp=sharing|this google drive address]]</nowiki> where a limited selection of files is available. If one website is slow or unreliable when you want to download, use the other one, or use the <nowiki>[[torrent|torrent]]</nowiki> method!

== Test the One Button Installer in a virtual machine ==

=== Download a virtual disk for testing the OBI in Virtual Box ===

Virtual Box can connect to peripheral devices and mass storage devices via USB, but not boot. Instead, the OBI can be installed to a [virtual] hard disk drive. The virtual machine will boot from the first virtual disk, so you must put it on top in the 'storage managing window' or use F12 at boot to select the correct virtual disk. Later, when you want to boot from the installed system, you must switch the order of the virtual disks. There are two compressed virtual disks with the OBI in

<nowiki>[[http://phillw.net/isos/linux-tools/one-button-installer/vboxdisks/]]</nowiki>

One is old and one is new (OBI version 3.3).

Expand it (from vdi.xz to vdi) with file-roller or this command line
<pre>
xzcat dd_blank-obi_7.8GB_33_LubuntuTrusty.vdi.xz > dd_blank-obi_7.8GB_33_LubuntuTrusty.vdi
</pre>

Connect the vdi file to a virtual machine, and you can test the OBI in Virtual Box without the extra problems to get the OBI into the virtual machine and installing it.

The standard tarballs can be downloaded via '''Download tarball''' in the main menu and used in order to install systems to a second virtual disk.

=== KVM can boot from a USB drive and even an image file ===

If a 64-bit host operating system in a machine with hardware virtualization is available, install a KVM
virtual machine. Otherwise Virtualbox might be more efficient.

Install a virtual machine using KVM, qemu, and virt-manager according to this wiki page

<nowiki>[[https://help.ubuntu.com/community/KVM/VirtManager]]</nowiki>

It is fast and very similar to installing and running in a real system.

You don't need a special virtual disk file for KVM. You can mount the OBI image file (after expansion
from img.xz to img) and it can be used as a virtual SATA disk. If it is the first disk, the virtual machine
will boot from it. You can also press F12 at boot and select boot drive.

The standard tarballs can be downloaded via '''Download tarball''' in the main menu and used in order to install systems to a second virtual disk.

== Make your own tarball ==

<nowiki>[[MakeOBItarball|This is a link to a detailed description how to make your own tarball]]</nowiki>

== Improvements ==

OBI versions 0.7, 1.0, ... :

=== 1.0 ===

1. The dialogue has been improved by using screens made with the linux program '''dialog'''. It means a menu style similar to that of the alternate installer and the mini.iso. See the attached pictures.

2. The compression of the dd-image files and the tarballs is improved. The original compression was using '''gzip'''. It is still available, but now '''xz''' compression is also available, and '''xz compression is more than 20% more efficient''', often 30% (meaning that the size of the compressed file is 20-30% smaller than a gzipped file). xz is slower and needs more memory, but not too much. During a test with low RAM, 128 MB, extracting the tarball with xz used 62 MB while extracting with gzip used 49 GB. Downloading is usually the bottleneck, so small files are preferred.

The default compression for making an own tarball is using gzip. In the present version 1.0, you must run '''mktbl''' from the bash shell to create an xz tarball.

=== 1.1 ===

1. Own directory for tarballs (plus symlink)

Put and find the tarballs in
<pre>
/tarballs
~/tarballs -> /tarballs
</pre>

2. There is a new download system with a dialog menu, that you run from the main menu with
<pre>
d   Download tarball
</pre>

3. From version 1.1 '''xz''' is the default compression in '''mktbl'''. You can also enter a tarball name as parameter #3 when you run '''mktbl''' from the bash shell.

=== 1.2 ===

{| class="wikitable"
|-
| <#CCFF99> advanced OBI level
|}

'''Basic and advanced OBI level'''

Most users are recommended to use the '''basic''' OBI level. This means that the OBI will '''install a
system from a tarball into a whole device''', typically an internal hard disk drive or a USB 3
pendrive. It is easy and takes only a few minutes to install a system at the basic OBI level.

The advanced level opens the door to dual boot (mainly for internal disks) and a first FAT32
partition for access from Windows (for USB pendrives). In the advanced level the OBI will let
you '''select the partitions'''. It means that you can install a system from a tarball into two
partitions, one root file system partition and one swap partition. This way it is possible to create
a '''dual boot''' device with an existing (already installed) operating system. It is also possible to
create a separate '''data partition''' with an NTFS or FAT32 file system, that can be used by linux
as well as Windows.

The intention with the advanced level is to edit and create partitions with '''Gparted''' (booted from
a 'regular' boot CD/DVD/USB device). One partition is labelled 'obi-root' and one (smaller)
partition is labelled 'obi-swap'. Such partitions can be identified and selected automatically in the
advanced level, but manual selection is also possible.

Editing partitions is risky (so you need a good backup) and it takes long time (hours) to shrink
an existing partition with a lot of data (Windows), so that there will be space for new partitions.

=== 2.2 ===

<nowiki>[[File:/screenshots/37_Desktop-v2.1.png]]</nowiki>

{| class="wikitable"
|-
| <#CCFF99> graphical desktop environment and text flavours
|}

In order to make it more convenient to use the advanced OBI level (introduced in version 1.2), there is now version 2.2.

A. Version 2.0: The underlying operating system is upgraded to Ubuntu version 13.10

B. Version 2.1: Lubuntu-desktop is installed and tweaked to create a graphical desktop environment with desktop icons for the main tasks during installation with the One Button Installer. See the attached picture file, #37!

0. Toggle the touchpad (to prevent accidents with laptops and notebooks because the palm is touching the touchpad and causing unwanted commands).

1. Run Gparted to edit the partitions (preparing for the advanced OBI level).

2. Run the OBI in a normal lxterminal window

3. Run the OBI in a maximized xterm window with high resolution, in other words with more lines and columns

C. Version 2.2 is released. It has the same features as 2.1 plus a few bug-fixes. The pdf documents of the version 1.2 are also updated for the usage of version 2.2.

A USB 3 pendrive with at least 8 GB is recommended for the graphical desktop environment. But there is also a flavour of version 2.2 with a text desktop environment, which is suitable for very old computers. A 4 GB pendrive is big enough for the text version.

You can find some USB pendrives that are good booters in this link <nowiki>[[http://ubuntuforums.org/showthread.php?t=2196858|Howto help USB boot drives]]</nowiki>

=== 2.3 ===

This version is mainly a bug-fix update from 2.2 including updated pdf documents. The operating system (13.10) is also updated/upgraded.

New feature: the OBI will share an existing swap partition, when selected at the advanced OBI level.

=== 2.4 ===

{{https://help.ubuntu.com/community/9w/ScreenShots?action=AttachFile&do=get&target=obi-graphics-mode.jpg}}

{| class="wikitable"
|-
| <#CCFF99> OBI-9w
|}

There is a new and special version of the 9w installer, <nowiki>[[https://help.ubuntu.com/community/9w#A9w_iso_files]]</nowiki>

This version is made for very old computers without PAE capability. The One Button Installer in run from the 9w installer's debian system. Now there is a super light-weight installer, that can

* install from CD, DVD and USB
* create not only single boot but also dual boot systems.

Prepare partitions with Gparted and run the One Button Installer at the advanced level to create dual boot or multi boot system.

There are special tarballs for the 9w installer, and these tarballs come with the iso file.

=== 2.5 ===

This version is a bug-fix update from 2.3 and 2.4 including updated pdf documents. The operating system (14.04 LTS) is also updated/upgraded.

New feature: the starter menu will set the default item (command line) in a logical way prompting to download and select tarball, select OBI level and then install a system. Two-digit partition numbers (/dev/sda10 ...) are recognized at the advanced OBI level.

=== 2.6 ===

This version is a major improvement, implemented for ToriOS but not published here.

* dynamic focus in the starter menu
* improved recognition of devices (using the function list_drives)
* final warning screen with red background
* improved help function

=== 2.7 ===

<nowiki>[[File:/screenshots/38_OBI_27_LubuntuTrusty.png]]</nowiki>

This version is a bug-fix and polishing update of the '''starter''' script. Current mkusb and mkusb-nox are installed and there are updated pdf documents. The operating system (14.04.1 LTS) is also updated/upgraded to the current date (2014-12-28).

=== 2.8 ===

This version number is reserved for ToriOS.

=== 2.9 ===

{| class="wikitable"
|-
| <#CCFF99> version 2.9: selects tarballs depending on the version (12.04 LTS or 14.04 LTS)
|}

* improved 'dltbl' - to download tarballs
** selecting repository for tarballs depending on the version of the system underneath the OBI (12.04 LTS or 14.04 LTS)
** some bug-fixes: modified for-loops and md5check
* improved 'confirm-partition' - pre-selected root and swap partitions should *not* be mounted
* a text based One Button Installer based on Ubuntu mini.iso 12.04 LTS is released

=== 3.0 ===
<nowiki>[[File:zmktbl.png]]</nowiki>

{| class="wikitable"
|-
| <#CCFF99> version 3.0: graphical tool to make tarballs; Lubuntu system updated
|}
* '''zmktbl''', a graphical tool to make tarballs, is added to the OBI system
* The host Lubuntu system is updated (2015-07-29)

=== 3.1 ===

Bug-fix version

* zmktbl, select-part2: fix for buggy(?) zenity --list in trusty: ans=${ans%|*} ...

=== 3.2 ===

* select-part2: fix to identify partitions to unmount: double-quotes (") removed from target in
** umount ${line:0:10} 2>/dev/null
** df|grep ${line:0:10}>/dev/null

=== 3.3 ===

* more robust syntax in the file '$partitions'
** modifications in the functions confirm-partition, select-part2, autoselect

== Trusty-mini-txt ==

Portable mini text based 32-bit system with a menu to select installing various light desktop environments:

See more details at <nowiki>[[Trusty-mini-txt]]</nowiki>

== Xenial-32-txt ==

Portable mini text based 32-bit system with a menu to select installing various light desktop environments:

See more details at <nowiki>[[Xenial-32-txt]]</nowiki>

== View the pictures as a slide-show ==

The pictures are screen-dumps and illustrate how to use the OBI. <nowiki>[[screenshots|View them with 100% resolution here]]</nowiki>!

-----

== Follow the instructions in the OBI quick start manual step by step ==

Finally a reminder of <nowiki>[[attachment:OBI-quick-start-manual-6.pdf|the OBI quick start manual file]]</nowiki> ...

== OBI in Launchpad ==

OBI is now available as a Debian package for use in custom ISO making scripts.
This is the main forcus of development for projects like <nowiki>[[http://torios.top|Tori OS]]</nowiki>
<nowiki>[[https://launchpad.net/one-button-installer|OBI]]</nowiki>

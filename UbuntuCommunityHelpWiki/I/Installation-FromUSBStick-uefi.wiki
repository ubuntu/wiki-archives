{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


<nowiki>[[..-|Return to the main FromUSBStick page]]</nowiki>
-----

== UEFI ==

There is a good wiki page about <nowiki>[[https://help.ubuntu.com/community/UEFI|booting with UEFI]]</nowiki>, and a good tutorial thread, <nowiki>[[http://ubuntuforums.org/showthread.php?t=2147295|UEFI Installing - Tips]]</nowiki>.

=== Boot and install ===

If you want to boot in UEFI mode and install your Ubuntu flavour alongside Windows, you should use a 64-bit ISO file, for example

'''ubuntu-18.04.x-desktop-amd64.iso'''

Make the boot drive with for example mkusb, Disks, the new Ubuntu Startup Disk Creator (version 0.3.2) or the Win32 Disk Imager. These tools '''clone the iso file''' and are likely to succeed. Some 'grub and ISO' systems work in UEFI mode, others work only in BIOS mode. Syslinux does '''not''' work in UEFI mode.

If you have problems, try another tool to create the USB boot drive. You can also try the '''simple extraction''' described in <nowiki>[[http://ubuntuforums.org/showthread.php?t=2299040|this link]]</nowiki>. It works [only] in UEFI mode.

=== Test if running in UEFI mode ===

You may want to test if your Ubuntu flavour is running in [U]EFI mode. An installed system and a live system too is using the directory '''/sys/firmware/efi''', so you can run the following command line,
<pre>
test -d /sys/firmware/efi && echo efi || echo bios
</pre>

The following command line is more robust and also easier to understand, so you may prefer it (if you copy & paste and are not bothered by typing a long command line),
<pre>
if test -d /sys/firmware/efi; then echo efi; else echo bios; fi
</pre>

=== Stable portable systems - good for USB sticks ===

==== Persistent USB drive that works with UEFI and BIOS ====

A persistent USB install of *buntu, usable with both Legacy and UEFI systems is described in the following <nowiki>[[http://ubuntuforums.org/showthread.php?t=2108487&page=2&p=12656460#post12656460|post at the Ubuntu Forums]]</nowiki>

==== One pendrive for all PC (Intel/AMD) computers ====

You may want a 'Swiss Army Knife' pendrive, that works in most computers, from old 32-bit computers via 64-bit computers in BIOS mode to computers running in UEFI mode. It is useful for travelling and borrowing computers or for installing. There is a compressed image file and also a recipe how to make it, so that you can extend it or change it for what you need. See this <nowiki>[[http://ubuntuforums.org/showthread.php?t=2259682|tutorial about One pendrive for all (Intel/AMD) PC computers]]</nowiki>.

==== A new and so far successful attempt to create a stable portable system, that works in UEFI and BIOS mode ====

If you want a pendrive with a live '''and''' an installed system, that works in UEFI and BIOS mode, you can try 

* <nowiki>[[http://ubuntuforums.org/showthread.php?t=2213631&p=13262506#post13262506|A new and so far successful attempt to create a stable portable system, that works in UEFI and BIOS mode]]</nowiki>,
* <nowiki>[[http://ubuntuforums.org/showthread.php?t=2213631&page=4&p=13426191#post13426191|Compressed image file with a live Ubuntu 14.04.2 and an installed Ubuntu 15.10]]</nowiki> and
* <nowiki>[[http://ubuntuforums.org/showthread.php?t=2213631&page=4&p=13468260#post13468260|Another new, simpler and so far successful attempt to create a stable portable system, that works in UEFI and BIOS mode]]</nowiki>

==== Installed system: add an ESP to an existing installation with MBR ====

Adding required partitions for different platforms

Platforms: Legacy PC, UEFI-based Windows computer, Apple computer

<nowiki>[[https://askubuntu.com/questions/559007/is-it-still-possible-to-install-ubuntu-to-an-external-harddrive-with-uefi|AskUbuntu: Is it still possible to install Ubuntu to an external harddrive with UEFI?]]</nowiki>

-----

=== Creating an EFI-only image ===

If you need to install Ubuntu in EFI-only mode, you might want to create an EFI only image. Askubuntu <nowiki>[[http://askubuntu.com/questions/395879/how-to-create-uefi-only-bootable-usb-live-media/|describes]]</nowiki> how to do this.

=== Ubuntu single boot in UEFI mode ===

Single boot Ubuntu systems are still often installed in BIOS/CSM mode. Normally you install in UEFI mode because Windows is installed in UEFI mode and you want to dual boot. But it is possible to install Ubuntu (and the flavours Kubuntu Lubuntu, Xubuntu) as a single boot system in UEFI mode too, which can be useful for two purposes

* to keep the systems '''separated''', Ubuntu in one drive and Windows in another drive (so it will actually be a dual boot system, but not during the installation). Probably stable when installed in an internal drive.
* to make a '''portable''' installed Ubuntu USB pendrive for UEFI mode (portable alias works in many computers). Not stable when installed in an external drive (USB stick) because Windows can tamper with it, particularly during major updates [of Windows].

It is straight-forward to install Ubuntu 16.04.1 LTS (64-bit), '''ubuntu-16.04.1-desktop-amd64.iso''' in UEFI mode to the whole drive, '''when no other drive is connected''' in the computer.

This installation works without any tweaks. You need not run Boot Repair to make it work in UEFI mode, so version 16.04.1 LTS and newer versions work well with UEFI.

See <nowiki>[[https://askubuntu.com/questions/16988/how-do-i-install-ubuntu-to-a-usb-key-without-using-startup-disk-creator/942312#942312|this link]]</nowiki> with detailed instructions.

-----
<nowiki>[[..-|Return to the main FromUSBStick page]]</nowiki>

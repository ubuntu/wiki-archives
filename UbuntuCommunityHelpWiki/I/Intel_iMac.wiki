{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== Introduction ==

This is intended to be an installation guide for Intel iMac users, as well as a reference for getting various hardware working. At this time, there are 4 major variations of the Intel iMac.
# White iMac with Intel Graphics
# White iMac with ATI Graphics (X1600)
# White iMac with nVidia Graphics (7300 GT)
# Aluminum iMacs (ATI Graphics - HD2600)

Older information is available in these pages:
<nowiki>[[https://wiki.ubuntu.com/iMacIntel]]</nowiki>
<nowiki>[[https://help.ubuntu.com/community/iMacCoreDuo]]</nowiki>

== Note about Uninstalling ==
If you decide to partition your hard drive and install Ubuntu, please note that resizing your OS X partition to reuse the empty space is not easily done. If you would like to just test out Ubuntu, try using a Virtual Machine such as <nowiki>[[http://www.virtualbox.org/|VirtualBox]]</nowiki>.

== How to install Ubuntu on an Intel iMac ==
This guide will help you through all the steps necessary for installing Ubuntu on an iMac. This guide was written while Gutsy Gibbon (7.10) was current, with Hardy Heron on the way. However, there should not be too much derivation for any current version of Ubuntu. For any Mac, I would always recommend using the most recent version of Ubuntu that is available since as time passes, more fixes for Mac nuisances are incorporated into the releases.
=== Triple Booting ===
This guide will assume that you want to dual-boot OS X with Ubuntu. It is recommended that you keep an install of OS X, even if you do not plan to use it in order to install firmware updates in the future that may be required for your Mac to operate properly. There are many other guides available for Triple (and more) booting with various operating systems. Whether they are for a Macbook, Macbook Pro, or whatever, the partitioning and initial installation process of Ubuntu in the same. <nowiki>[[https://wiki.ubuntu.com/MacBookPro#head-c64f2ce75183253707942f2dda8135f72fef9e03|The Macbook Pro Wiki Page]]</nowiki> has an excellent how to for triple-booting. Note that although it mentions Vista, the process should be the same to install Windows XP.
=== Basic instructions ===
Here I present my preferred method of installation
# If you have an iMac from before Bootcamp existed, make sure that you have the needed firmware updates to dual boot. Update the <nowiki>[[http://www.apple.com/support/downloads/|firmware]]</nowiki> to the latest version. If you prefer, you may use the standard "Software Update".
# Get your Ubuntu <nowiki>[[http://www.ubuntu.com/getubuntu/download|Live CD]]</nowiki> ready. The Live CD should work, but if you have trouble, try the Alternate Install CD. If you have a Core2 Duo Mac (as oppossed to the Core Duo), it is capable of using the AMD64 (64bit) CD otherwise you have to use the standard version. There is a lot of information about the good/bad of a 64bit install. You can find information about which to choose <nowiki>[[http://ubuntuforums.org/showthread.php?t=368607|here]]</nowiki>.
# It is highly recommended that you install <nowiki>[[http://refit.sourceforge.net/|rEFIt]]</nowiki>]. rEFIt is a user friendly interface to the Mac EFI that will cause a boot menu (to select between OS X/Ubuntu) to appear on every boot. You can make Ubuntu boot by default by uncommenting the 'legacyfirst' option and change the menu timeout in the "refit.conf" file (described on the above website).
# At this point you need to make room for Ubuntu by shrinking the OS X partition. This can be done with various tools:
** In OS X Leopard (10.5.x), the Disk Utility is able to 'add' a partition to the durrent disk without completely repartitioning the hard drive. To use this method, start Disk Utility, (Applications > Utilities) Select the Hard drive to partition, and click the '+' button to add a partition. You can then resize the partition to suit the amount of space you would like to use for Ubuntu. Don't worry about the partition format (Mac OSX, UFS, etc), we will be reformatting the partition later.
** gParted can shrink your OS X partition as well, but it is not able to "grow" or increase the size of a partition once it have been resized.
** OS X has a commandline tool for resizing your partitions. See the <nowiki>[[https://help.ubuntu.com/community/Intel_iMac#head-c29d9bed47b6e9aabefa76ecdd4ebbee357e53b5|AdvancedMethods]]</nowiki> Section of this guide to use this tool.

# Hold down "C" to boot from the CD.
# You should get a boot menu to select the type of boot you would like. Choose to start Ubuntu (NOTE: On Hardy, you can start the LiveCD, or you can choose to start the installer, choose to start the live environment).
# Once you get to the desktop, start gParted: System > Administration > Partition Editor
** It should be plainly visible that there is an EFI partition at the beginning of the disk, followed by the HFS+ (OS X) partition, and lastly, the new partition you created. 
** Select the last partition and delete it. Make sure to click the Apply button to actually remove the partition. This will leave you with free space to install to. Exit gParted.
** Once back to the desktop, double-click in the install icon to start the installer. When prompted, choose to install to the "largest, continuous free space". This will allow the installer to create a root and swap partition for you. If you would like to have more control over the partitioning, you can choose to "manually partition". See the <nowiki>[[https://help.ubuntu.com/community/Intel_iMac#head-c543dd12db25dad335df18b9573489c6693a28ff|AdvancedMethods]]</nowiki> section for tips.

==== NOTE ON INSTALLATION BUG ====
Due to a bug in the installer, you will likely not be able to boot into your installed system after the installation has finished. This can be corrected by completing the steps at the following post:
http://ubuntuforums.org/showthread.php?t=767677

'''''WARNING''''': For those that have very complicated multi-boot systems (numerous installs of linux and/or windows). This may leave some of your installs unbootable. Please post in the forum to get specialized help with your setup. PLEASE add your comment to <nowiki>[[http://ubuntuforums.org/showthread.php?t=767677|this bug report]]</nowiki>. This is a serious issue and should be addressed. It will not get attention unless it affects a lot of people.

If you Dual-Boot or Triple-Boot:

# If you haven't already, boot into OSX and install rEFIt. If you do not get the rEFIt menu when starting up your Mac, you may need to run a command in the OSX terminal to get it to work. See the manual install instructions.
# Once you reboot into the rEFIt menu, choose to start the partition tool. It will ask if you want to sync your partitions. Say yes. after rebooting, you should be able to select the Linux icon in rEFIt and it will boot into your Ubuntu install.

== Fix Non-Functioning Hardware ==
=== WiFi / Airport ===
You can use a utility called ndiswrapper and an appropriate Windows XP driver to get the card working in Ubuntu. This Windows XP Driver can be found on your Leopard Install DVD (which would normally be used with bootcamp) and in the older BootCamp driver CDs. Additionally, there are some compatible drivers available from Dell. For older iMacs (which the Dell driver will work on), you can follow the steps in the <nowiki>[[https://help.ubuntu.com/community/MacBook_Santa_Rosa#Wireless%20Setup|Santa Rosa MacBook wiki page]]</nowiki>.

Recently, there have also been issues using ndiswrapper at all. Broadcom released a driver for these cards that will be available in Intrepid 8.10. You can also get it from the backports repository in Hardy Heron 8.04.
http://ubuntuforums.org/showthread.php?t=914697

=== Graphics / Video ===
==== Check 3D acceleration ====
To make sure your graphics are working properly, we need to make sure that 3D acceleration is working. You can check this with the command:<<BR>>
<code>glxinfo |grep direct</code><<BR>>
You should see in the output "direct rendering: yes"
==== Intel Graphics ====
For iMac users with Intel graphics (some early white Intel iMacs), everything should be working out-of-the-box. If you have have any problems, be sure that your xorg.conf is set to use the 'intel' driver rather than the any of the other specialized Intel drivers like 'i810'.
==== nVidia Graphics ====
For nVidia graphics, the 2D open-source driver gives you basic support out-of-the-box. If you want to run 3D applications, select System > Hardware Drivers > nVidia accellerated graphics driver (version 185) as recommended. This provides OpenGL support for Compiz.
==== ATI Graphics ====
For ATI graphics, you will need to install the proprietary graphics drivers. This can be done with the Driver Manger in System > Adminstration > Driver Manager. When installed correctly, reboot, and an additional check is to run<<BR>>
<code>fglrxinfo</code><<BR>>
The output should tell you that the provider is ATI and not MESA.

If you have issues with the driver in the Ubuntu repos, you can alternately try <nowiki>[[http://www.albertomilone.com/nvidia_scripts1.html|Envy]]</nowiki> or even download the driver from <nowiki>[[http://ati.amd.com/|ATI's website]]</nowiki> and <nowiki>[[http://wiki.cchtml.com/index.php/Ubuntu_Hardy_Installation_Guide|install manually]]</nowiki>.

The default 10.04 ISO won't boot with a compatible driver for 2010 iMacs, so use one of the following solutions:
* Boot and install 9.10, install the proprietary ATI driver then upgrade to 10.04
* Download <nowiki>[[http://www.ubuntu.com/desktop/get-ubuntu/alternative-download|Ubuntu Alternate installer]]</nowiki>, which runs in text mode. Once Ubuntu is installed:
## Reboot and in GRUB menu highlight Recovery Mode
## Edit kernel parameters and add ''radeon.modeset=0 nomodeset''
## Boot and choose 'Low Graphics Mode' when problems reported
## Install the proprietary driver using ''System > Administration > Hardware Drivers''
* Use an external monitor connected to the HDMI output.

=== Sound ===
If you have an aluminum iMac and you do not have sound :<<BR>>
open /etc/modprobe.d/options :<<BR>>
<code>sudo nano /etc/modprobe.d/options</code><<BR>>
and add "options snd-hda-intel model=imac24" to the file and save ( ctrl+o and ctrl+x to exit )<<BR>>
then reboot.<<BR>>
<<BR>>
'''NOTE:''' The file /etc/modprobe.d/options no longer exists in newer versions of Ubuntu. It is still supported by the kernel, however the filename needs the .conf extension, i.e. /etc/modprobe.d/options.conf would be the file you create to save your options. Actually the filename doesn't matter as long as the .conf extension is used.

Will Tinsdeall (Ubuntu 10.10 - Clean install, 27" iMac Intel i7): Just open a terminal to run 'alsamixer' from the command-line. Ensure "Front speaker" is turned up and unmuted, using arrow keys and 'M' for mute toggle. (Best to open up Rhythmbox and play some music while doing this, changes are instant)

El√§imen.Varmuus: With Ubuntu 8.10 (amd 64) and iMac rev. early 2008 the first step was enough. I edited only /etc/modprobe.d/options.

Some of the Aluminum iMacs need a patch to get functioning sound. An ubuntuforums user, 'nicfagn' has created many patches and posted them in the forums. Many of the fixes have made it into the latest ALSA driver, so downloading and compiling the latest ALSA source code may work as well. <nowiki>[[http://ubuntuforums.org/showpost.php?p=3697702&postcount=5|Here]]</nowiki> is a link to a patch that many have found useful.

Tiziano Faion: If you have an Aluminium Imac setting in /etc/modprobe.d/alsa-base the option model=mbp3 make sound work without patching anything. 

Klaus Doblmann: If your microphone doesn't work (no mic-boost switch), set the model to "mbp3" instead of "imac24".

Jonas Westerlund: If you only get sound from the internal speakers, "options snd-hda-intel model=mbp3" fixes that at least on the 2008 24" aluminum model. 

Matthew Fernandez: For a 2010 iMac you shouldn't need to patch anything. Append "options snd-hda-intel model=mbp55" to /etc/modprobe.d/alsa-base.conf. Restart. Then enter alsamixer in a terminal window and unmute the Front Speaker channel (left and right arrows to switch channels, up and down to change volume, M to mute and unmute).

Gary Watts: For my 2009 24" iMac, adding "options snd-hda-intel model=lenovo-sky" to /etc/modprobe.d/imac.conf (or indeed anything.conf) got sound working. Special thanks to zacbarton for his advice at http://ubuntuforums.org/showthread.php?t=1443020

Warren Harrison: For those unhappy with the audio quality (compared to OS X), install the Pulse Audio Equalizer (http://exploreubuntu.wordpress.com/2010/04/18/equalizer-for-pulse-audio/) and choose the "laptop" EQ preset. This significantly reduces the mid-range frequencies and brings the audio into closer parity with OS X-native quality.

==== iMac 27" & ubuntu 11.04 ====
Since kernel 2.6.38, the HD audio model '''imac27''' is available.

The following line must be inserted at the end of the file ''/etc/modprobe.d/alsa-base.conf''
 options snd-hda-intel model=imac27
force reload alsa configuration
 sudo alsa force-reload 
then unmute and adjust volume of '''front speaker''' and '''Surround Speaker''' with the help of : 
 alsamixer

Seen at http://ubuntuforums.org/showthread.php?t=1043568 and http://www.mjmwired.net/kernel/Documentation/sound/alsa/HD-Audio-Models.txt

=== iSight ===
https://help.ubuntu.com/community/AppleiSight

=== Aluminium keyboard ===
Users are reporting problems with the aluminium keyboard.  The keyboard is still partially functional so long as the keypad on the right is not used.  If you have problems with the main keyboard try pressing F6 to turn off num-lock.  PLEASE add your comment to <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/linux/+bug/201887|the launchpad bug tracker]]</nowiki>.

=== Magic Mouse ===
https://help.ubuntu.com/community/AppleMagicMouse

== Extras ==
=== Compiz ===
Compiz (Desktop Effects) can be enabled after enabling 3D acceleration by installing the appropriate graphics drivers as shown above.
=== Working with other OSs ===
Here are some link to information that may be helpful for those that are dual booting:
<nowiki>[[http://forum.insanelymac.com/index.php?showtopic=34227#|Mount ext2/3 partitions in OSX]]</nowiki><<BR>>
<nowiki>[[http://ubuntuforums.org/showthread.php?t=327386|Windows hal.dll error]]</nowiki><<BR>>
<nowiki>[[http://gentoo-wiki.com/HOWTO_hfsplus|Accessing your OS X partition in Ubuntu]]</nowiki><<BR>>

== Advanced Methods ==
=== Partitioning with the commandline ===
Let's say you want to resize your OS X partition to 200GB and create a new 200GB Linux partition. Open a terminal and type: <pre>
sudo diskutil resizeVolume disk0s2 200G Linux Linux 200G
</pre> This is the actual tool that Boot Camp would use to resize the partition as well.
=== Manual Partitioning Tips ===
The emulated MBR/BIOS compatibility is limited to 4 partitions. This really just means that legacy bootloaders need to reside in those first four partitions (and in the case of windows, everything it needs to access has to be in the first four partitions), but you can <nowiki>[[http://ubuntuforums.org/showthread.php?p=4896559#post4896559|customize the MBR partition table]]</nowiki> to point it to other partitions on your disk.

== Other Links and Info ==

<nowiki>[[http://ubuntuforums.org/showthread.php?p=7058712#post7058712|Triple Boot Guide for 24" iMac]]</nowiki>
----

CategoryMac

----

<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel docummentation going on.
|}
----
CategoryAudio CategoryMac

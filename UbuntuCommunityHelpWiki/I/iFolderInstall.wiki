{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



'''Attention: The following is a work in progress.
The following is EXPERIMENTAL and should be used by experienced users only.'''

Problems? Suggestions? Able to help with packaging? Please join the following group:
http://groups.google.com/group/ifolder-ubuntu-debian-dev

This guide covers installing the iFolder Client and installing the iFolder server.  Both of these require that Simias be installed first.  Thus, this guide is divided into three sections: Installing Simias, Installing iFolder Client 3.8, and iFolder Server 3.8.

== Installing Simias ==

64-bit platforms:
Known to work using gcc-4.3.  May also work with gcc-4.4 (please edit if true.)
Based on <nowiki>[[http://forums.novell.com/novell/novell-product-discussion-forums/ifolder/439439-ifolder-ubuntu-11-04-server-crashes-simias10-webservice.html|this thread]]</nowiki> it appears that when simias is compiled with gcc-4.5 (which is the default gcc on Natty) simias fails to run on x64 platforms.  Installing debs which were compiled with gcc-4.4 (i.e., those compiled on Ubuntu 10.04 (Lucid) or Ubuntu 10.10 (Maverick)) onto more recent versions of Ubuntu seemed to work for at least one user.

32-bit platforms:
gcc-4.6 (Oneiric) seems to work. gcc-4.5 (Natty) might also work (please edit if true).

Ubuntu 10.10 (Maverick) main and universe repositories contain all packages needed to install iFolder.

Ubuntu 10.04 LTS (Lucid) requires you to add an extra repository:
<pre>
sudo bash -c "echo '# Badgerports repository. Contains cli-common-dev required by iFolder.' > /etc/apt/sources.list.d/badgerports-lucid.list"
sudo bash -c "echo 'deb http://badgerports.org/ lucid main' >> /etc/apt/sources.list.d/badgerports-lucid.list"
wget http://badgerports.org/directhex.ppa.asc -O - | sudo apt-key add -
sudo apt-get update
</pre>

~-(Debian Squeeze contains all packages needed except libflaim*. Experienced users
should add the Ubuntu Maverick universe repository to pull in the libflaim* dependency.  Debian Wheezy (testing) 32-bit compiles successfully using gcc-4.6, but 64-bit does not.)-~

Install packages required for building.
<pre>
sudo apt-get install bzr bzr-builddeb equivs
</pre>

Get the source code and install build dependencies.
<pre>
cd /tmp
bzr branch http://bazaar.launchpad.net/~csights/+junk/simias/
cd simias
mk-build-deps
sudo dpkg -i simias-build-deps_1.0_all.deb
</pre>

You will likely see errors.  They indicate that dpkg doesn't install dependencies automatically.
Use your favourite package manager to install any missing build dependencies. (e.g.: sudo apt-get -f install)

Compile.
<pre>
bzr-buildpackage
</pre>
During execution of ''bzr-buildpackage '' you will receive the following error message, which you can safely ignore. It's related to package signing which can only be done by the maintainer.
<pre>
running debsign failed bzr: ERROR: The build failed.
</pre>
If you run into other problems, try installing these dependencies:
<pre>
sudo apt-get install build-essential automake autoconf mono-complete liblog4net1.2-cil uuid-dev libxml2-dev mono-apache-server mono-apache-server2 gsoap libapache2-mod-mono libncurses-dev libtool g++ gcc
</pre>
The last step is to install the generated packages.
<pre>
cd ../build-area
sudo dpkg -i libsimias*deb simias-client*deb
</pre>
Make sure there are no broken dependencies using your favourite package manager. (e.g.: sudo apt-get -f install)

== Installing iFolder Client 3.8 ==
1. '''Follow the instructions to compile and install Simias above'''.

2. Get the source code and install build dependencies.
<pre>
cd /tmp
bzr branch http://bazaar.launchpad.net/~csights/+junk/ifolder-client/
cd ifolder-client
mk-build-deps
sudo dpkg -i ifolder3-build-deps_1.0_all.deb
</pre>
3. Use your favourite package manager to install any missing build dependencies. (e.g.: sudo apt-get -f install)

4. Compile.
<pre>
bzr-buildpackage
</pre>

5. Install the generated packages.
<pre>
cd ../build-area
sudo dpkg -i ifolder3-client*deb
</pre>

6. '''Workaround if ~/.local/share/simias is on (some types of)  encrypted directories.'''  If not using encryption, skip the next steps.  The example user is named user1.
Create a directory in a non-encrypted directory:
<pre>
sudo mkdir /tmpsimias
sudo chown user1:user1 /tmpsimias
ln -s /tmpsimias ~/.local/share/simias
</pre>

Run iFolder for the first time and exit.  This initializes iFolder's database.
Then move the unencrypted directory into the encrypted directory.
<pre>
rm ~/.local/share/simias
mv /tmpsimias ~/.local/share/simias
</pre>

'''End Workaround for encrypted directory. iFolder is now happy.'''

7. Start the program. (Should also be in desktop GUI menus.)
<pre>
ifolder &
</pre>

'''Notice : Do not run as superuser (root)!''' Otherwise you will receive the following error : Authentification error : Timeout.

Clients for Macintosh and Windows can be found here: http://sourceforge.net/projects/ifolder/files/

== iFolder Server 3.8 ==
=== Installing ===
1. '''Follow the instructions to compile and install Simias above'''
Follow the instructions to compile and install Simias above. This is already done if you followed the instructions to compile iFolder Client.

2. Then install these packages:
<pre>
cd ../build-area
sudo dpkg -i simias-server*deb libsimias0*deb
</pre>

3. Again, make sure there are no broken dependencies using your favourite package manager. (e.g.: sudo apt-get -f install)

=== Configuring Simias ===

A number of configuration questions will appear on screen.  This tool is creating configuration files for Apache and Simias.  If you find out later that you made a mistake you can reconfigure Simias using the command `dpkg-reconfigure simias-server`.

When the configuration prompts finish, again make sure there are no broken dependencies using aptitude or your favourite package manager.

=== Configure Apache ===
The following section describe how to enable SSL on Apache2. As it's not a documentation about Apache or Security, it's just describe the easiest way to get it work. 
Generate a SSL certificate with the following command.
<pre>
sudo make-ssl-cert generate-default-snakeoil
</pre>
Enable SSL module and rewrite module for apache.
<pre>
sudo a2enmod ssl
sudo a2enmod rewrite
</pre>
Add the following content at the top of ''/etc/apache2/sites-available/default''.
<pre>
<VirtualHost _default_:443>
        SSLEngine on

        SSLOptions +StrictRequire

        SSLCertificateFile /etc/ssl/certs/ssl-cert-snakeoil.pem
        SSLCertificateKeyFile /etc/ssl/private/ssl-cert-snakeoil.key
</VirtualHost>
</pre>
Make sure mod_mono is enabled
<pre>
sudo a2enmod mod_mono
</pre>
Restart apache.
<pre>
sudo /etc/init.d/apache2 restart
</pre>

=== Configure iFolder Server ===

iFolder is configured through http://yourserver/admin . Add at least one user, then connect using iFolder Client.

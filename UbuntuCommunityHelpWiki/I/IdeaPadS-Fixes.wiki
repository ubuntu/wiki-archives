{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



This page contains suggested fixes and/or hacks to get hardware working properly with Ubuntu on the IdeaPadS-series.

NOTE:  this page was copied from the AA1 page, and not updated fully yet.  It is just a place-holder. Please add notes as much as possible!

== Kernel issues ==
=== Kernel on ION platform with 10.10 Maverick ===
Maverick's kernel has some issues with the timer which causes sudden freezing and long boot times. to fix this edit your /etc/default/grub so the line below looks like shown:
* GRUB_CMDLINE_LINUX_DEFAULT="quiet splash nolapic_timer"
after editing use "sudo update-grub" to apply the changes and reboot

== Wireless ==
=== Wireless on ION platform with 10.10 Maverick ===
* Driver installation: Just use jockey and let it install both Broadcom modules, you're done

However there is a problem with wireless in Maverick: When you boot the machine, NetworkManager tells you that Wireless has been disabled. This is due to the "acer_wmi" kernel module interfering.

to fix this, add the following line to your /etc/modprobe.d/blacklist.conf
* blacklist acer_wmi

After that add the line below into your /etc/modules (check the comments to see which of the two lines you need!)
(Recommended as it specifically supports the ideapads, but not needed to fix the wireless problem)
* ideapad_acpi (ONLY on kernel 2.6.36 where it has been introduced)
* ideapad_laptop (On kernels starting with 2.6.37 as the module has been renamed)

reboot and wireless should work without manually having to enable it. The ideapad_acpi also fixes other issues like not-so-well-working hotkeys (i.e. brightness). Note that this fix only applies to Maverick and (as of 31st of October 2010) Natty pre-alpha.

=== Wireless on S12 VIA platform ===

{add for S12 on 11.10:
proprietary driver is OK, but I had to blacklist acer_wmi.
To make this change permanent use
sudo su
echo "blacklist acer_wmi" >> /etc/modprobe.d/blacklist.conf
exit
}

The wireless card contains an BCM4312 802.11b/g (rev 01) chipset.

There are two drivers:

* proprietary <nowiki>[[http://www.broadcom.com/support/802.11/linux_sta.php|Broadcom STA driver]]</nowiki>. It can be installed with default hardware driver manager. Supports only channels from 1 to 11.
* b43 driver from compat-wireless-2.6 (in Ubuntu it included in linux-backports-modules-karmic package) with firmware from proprietary driver. In kernels 2.6.32 this version of driver will be in mainstream.

There is also an alternative driver called ndiswrapper, which uses the Windows-native drivers for the card.

Before trying any of these drivers, '''ensure that only the wireless driver you wish to use is allowed to load''' by blacklisting the others. This is important, since drivers may load and compete for access to the hardware, leaving the end user confused.

Here is an example of a blacklist file named ''/etc/modprobe.d/blacklist-wifi'' that only allows the use of proprietary wl driver:
<pre>
blacklist b43
blacklist ssb
blacklist ndiswrapper
</pre>

=== Installation of b43 driver in Ubuntu 9.10 ===
Use the current Git version of b43-fwcutter. Download, extract the b43-fwcutter tarball and build it:

<pre>
git clone http://git.bu3sch.de/git/b43-tools.git
cd b43-tools/fwcutter
make
cd ..
</pre>

Use version 4.174.64.19 of Broadcom's proprietary driver. (The tarball is mislabeled as "4.178.10.4", but it is actually 4.174.64.19.). Download and extract the firmware from this driver tarball:

<pre>
export FIRMWARE_INSTALL_DIR="/lib/firmware"
wget http://downloads.openwrt.org/sources/broadcom-wl-4.178.10.4.tar.bz2
tar xjf broadcom-wl-4.178.10.4.tar.bz2
cd broadcom-wl-4.178.10.4/linux
sudo ../../fwcutter/b43-fwcutter -w "$FIRMWARE_INSTALL_DIR" wl_apsta.o
</pre>

Unload all current modules for wireless card, then install compat-wireless-2.6 and load b43 driver:
<pre>
sudo rmmod wl b43 mac80211 cfg80211 led_class ssb
sudo aptitude install linux-backports-modules-karmic
sudo modprobe b43
</pre>

----
CategoryHardware CategoryWireless

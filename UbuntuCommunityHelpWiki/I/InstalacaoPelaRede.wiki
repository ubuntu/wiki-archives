{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


Texto em Inglês - <nowiki>[[Installation-Netboot]]</nowiki>

=== Netboot Install ===
Este Tutorial descreve uma instalação do sistema Ubuntu numa máquina antiga com um leitor de CDs SCSI que não consegue fazer boot pelo CD. Voçê deve modificar o hostname e os endereços IP para os da sua própria configuração. Os principios descritos aqui são aplicáveis a outros servidores de DHCP e TFTP para além dos aqui descritos; usando servidores diferentes dos aqui explicados é deixado como um exercicio para o leitor.

==== Cenário ====

Um antigo Celeron 400Mhz sem Boot pela Drive de CDROM SCSI, (kanga, 172.31.0.242). Esta é a máquina onde se vai instalar o Sistema. A máquina tem uma drive de Disquetes onde é possivel fazer boot.

Um Servidor de DHCP (roo, 172.31.0.252), usando dnsmasq como servidor de DHCP. roo (nome da máquina - hostname) é um sistema linux básico. Foi adicionado o pacote tftp-hpa ao sistema, compilado através do seu código fonte.

Atenção: Assume-se que voçê está por detrás de uma Firewall e que não vai expor estes serviços para além da firewall. Assume-se que voçê também tenha uma ligação rápida (ADSL).

==== Configurando DHCP-BOOT ====

Na máquina roo (Servidor DHCP):

* no ficheiro /etc/dnsmasq.conf, adicione a seguinte linha:
<pre>
  dhcp-boot=pxelinux.0,roo,172.31.0.252 (Atenção substitua pelo seu ip)
</pre>

Esta máquina já atribui endereços IP à maquina kanga através de DHCP.

* Reinicie dnsmasq.

* Faça o Download do Ubuntu netboot tar a partir de  <nowiki>[[http://archive.ubuntu.com/ubuntu/dists/warty/main/installer-i386/current/images/netboot/pxeboot.tar.gz|Ubuntu netboot archive]]</nowiki>.

* Descompacte o seu contéudo para um directório, ex. /var/lib/tftpboot
<pre>
  tar -xzf pxeboot.tar.gz -C /var/lib/tftpboot/
  chown -R nobody:nobody /var/lib/tftpboot
</pre>
* Inicie o servidor de tftpd . Adicione as seguintes linhas em /etc/xinet.d/tftp.
<pre>
  service tftp
  {
        disable                 = no
        socket_type             = dgram
        wait                    = yes
        user                    = root
        server                  = /usr/sbin/in.tftpd
        server_args             = -v -s /var/lib/tftpboot
        only_from   = 172.31.0.240/28
        interface   = 172.31.0.252
  }
</pre>

* Reinicie xinetd 
<pre> 
 killall -HUP xinetd
</pre>

===== Agora em algumas máquinas da sua rede: =====

* Crie uma Disquete de Arranque Etherboot tendo em conta a placa de rede que tem. kanga (a máquina onde se vai instalar o sistema) tem uma placa de rede 3Com 3c905 NIC

* Faça o Download e descompacte o Etherboot (etherboot-5.3.9.tar.bz2 a partir do SourceForge).

* Leia a documentação do  <nowiki>[[http://etherboot.sourceforge.net/doc/html/documentation.html|Etherboot]]</nowiki>.

* Crie a disquete (insira a disquete na drive :).
<pre>
  make bin/3c90x.zfd0
</pre>
  (Substitua o seur NIC em vez do 3c90x que é específico da placa de rede 3com)

==== Comece a Instalação ====

* Arranque a máquina onde vai instalar o sistema (kanga) a partir da disquete que criou

* Maravilhe-se a ver o Ubuntu a ser instalado pela rede.

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


'''This explains how to get Ubuntu 5.10 (Breezy Badger) installed onto a computer without the use of a CD drive or Network connection.'''

== Requirements ==
# floppy drive in the new computer and 3 (possibly 2) 3.5 inch floppy disks<<BR>>
# a way to transfer the Ubuntu iso to the new harddrive (such as a flash drive or USB hard drive) - note: if you have a good network connection, consider <nowiki>[[https://help.ubuntu.com/community/Installation/MinimalCD|using a mini-ISO]]</nowiki> which takes under 10MB instead of ~700MB.<<BR>>
# another computer with a network connection, a floppy drive, and usb.
== Obtain the Software ==
On your networked computer:
* you'll need a floppy-based bootable linux disribution.  <nowiki>[[http://www.toms.net/rb|TomsRtBt]]</nowiki> will be used in this example.
* You will also need to download an ubuntu iso for your architecture.  See <nowiki>[[GettingUbuntu]]</nowiki> for more help.
* Grub must be installed on a computer with a floppy drive. See <nowiki>[[phbc50-howtos-how-to reinstall grub]]</nowiki> for one possible way to obtain Grub.

== Setting up for Pre-Installation ==
At least two floppies will need to be created for this installation
# In the <nowiki>[[http://www.toms.net/rb/tomsrtbt.FAQ|TomsRtBt FAQ]]</nowiki>, sections 4 and 5 explain how to install to a floppy from either *nix or Windows compatible environments, respectively.
# If you intend to use TomsRtBt with a USB device to transfer the iso, you will need to copy the <nowiki>[[http://www.tux.org/pub/distributions/tinylinux/tomsrtbt/add-ons/kernel/usb/usb-uhci.o.bz2|usb-uhci]]</nowiki>, <nowiki>[[http://www.tux.org/pub/distributions/tinylinux/tomsrtbt/add-ons/kernel/usb/usb-storage.o.bz2|usb-storage]]</nowiki> and <nowiki>[[http://www.tux.org/pub/distributions/tinylinux/tomsrtbt/add-ons/kernel/usb/usbcore.o.bz2|usbcore]]</nowiki> modules to the second floppy (<nowiki>[[http://public.www.planetmirror.com/pub/tomsrtbt/add-ons/kernel/usb|alternate download]]</nowiki>)
# from the computer with Grub installed, you need to create a Grub boot floppy.  See <nowiki>[[GrubHowto-BootFloppy]]</nowiki> for instructions

== Pre-Installation ==
=== Transfering the iso ===
The goal of this step is to move a ~650MB iso from one computer to another without the use of a CD or Network.  Using a USB Hard Drive or large flash drive, this is accomplished rather easily by simply '''plugging it in''' and mounting it if necessary, '''and copying the image to the temporary media'''.  Other options may include:
* Splitting the iso into smaller chunks that can be transferred over individually via a smaller usb flash drive
* Removing the destination hard drive, placing it another computer to copy the image over directly.

=== Setting up the Destination Drive ===
'''''CAUTION!  This will erase all the information currently stored on your harddrive'''''<<BR>>
If you are unfamiliar with partitioning a harddrive using fdisk or cfdisk, see <nowiki>[[http://64.233.179.104/search?q=cache:9B6ZqPdf4z4J:www.tldp.org/HOWTO/Partition/partition-5.html+%22partitioning+with+fdisk%22&hl=en&gl=us&ct=clnk&cd=1|Partitioning with Fdisk]]</nowiki> from google cache.
# Boot from TomsRtBt in the destination computer
# use fdisk or cfdisk (tomsrtbt doesn't seem to have cfdisk...) to partition the harddrive however you wish, making sure to have, at the very least, one '''700MB''' dummy partition (can be reused later) and a root partition to install ubuntu on. Must also format the new root partition, use mke2fs from TomsRtBT, choose type 83.
# Load the usb modules from the secondary floppy, usbcore first, using the command "insmod"
# Plug in the usb drive.  make a new folder to hold the mounted volume and mount your usb device there
<pre>
mkdir /mnt/usb
mount /dev/sdaX /mnt/usb
</pre>
~-''where /dev/sdaX is the device name assigned to the USB drive you plugged in''-~
1.#5 Create an exact copy of the iso to the dummy partiton setup in step 2 (Note that this is not the file ubuntu.iso sitting in a formated dummy partition, the iso _is_ the partition. When you get to the last step of this howto, "In the device prompt, provide the device name for the dummy partition, such as /dev/hdaX." you _can't_ enter /dev/hdaX/ubuntu.iso. Can you even acheive this particular dd functionality on a Windows box?)
<pre>
dd if=/mnt/usb/ubuntu.iso of=/dev/hdaX
</pre>
~-''where /dev/hdaX is the 700MB dummy partition''-~
2.#6 mount the iso and the root partition and copy two boot files from the iso to the root partition
<pre>
cd /mnt
mkdir hda1 iso
mount /dev/hda1 hda1
mount -t iso9660 -o loop /dev/hdaX iso
cd /mnt/iso/install
cp vmlinuz initrd.gz /mnt/hda1
</pre>
~-''where /dev/hda1 is the root partition''-~

=== Booting into the Installation ===
1. Insert the Grub boot disk and reboot / turn on the computer
2. at the grub boot menu, there are 4 commands you must use to boot: root, kernel, initrd, and boot
* use the root command to set the device to boot from, which is in this case, the root partition of your harddrive.  This example uses /dev/hda1, which equates to (hd0,0)
* kernel is used to choose the kernel and pass preferences.  You can look at the "isolinux/isolinux.cfg" file on the cd or iso to look at boot commands and their "ubuntu boot label" equivalents.  This command is typed in on a single line and ends with "--".  This example chooses a default ubuntu installation. (Note that this line may wrap on the screen, on a printout, and when typed.)
* initrd: ???
* boot: launches into the boot process
<pre>
root (hd0,0)
kernel /vmlinuz append vga=normal initrd=/initrd.gz ramdisk_size=16384 root=/dev/rd/0 rw --
initrd /initrd.gz
boot
</pre>

Optionally use '''DEBCONF_PRIORITY=low''' to make the install process the equivalent of "expert" mode install. The resulting kernel line would be:
<pre>
kernel /vmlinuz append vga=normal DEBCONF_PRIORITY=low initrd=/initrd.gz ramdisk_size=16384 root=/dev/rd/0 rw --
</pre>

=== Installation ===
Follow the installation steps as you would any other install, until it comes to choosing a CD to install from.  In the case where you have no CDrom drive:
* you will be prompted with an option to load modules from a disk.  '''Say NO''' to this option.
* You will be presented with a second screen to select another device.  '''Say YES'''
* Choose '''none''' for the driver
* In the device prompt, provide the device name for the dummy partition, such as '''/dev/hdaX'''.<<BR>>
The installation should continue on as usual.

=== Notes ===
cloakable - this needs updating for using with 6.06 and later. Method fails with Ubuntu 6.06. (And, for some reason, on 5.10 too. Bad grub options?)

I found that this doesn't work quite right (installing Gutsy Server) and that if I did:
<pre>
mv /dev/scd0 /dev/scd1
ln /dev/sda2 /dev/scd0
</pre>
then automatically detecting the CD works perfectly.  /dev/scd0 is my CD drive (which can't read rewritable CDs) and /dev/sda2 is the partition that we dd'ed the iso image to in step 5. Note that your drives may be hda0, hda1, hda2, hdc, etc.  Also, I found that in booting into the installation, just
<pre>
root (hd0,1)
kernel /vmlinuz
initrd /initrd.gz
boot
</pre>
worked fine.
----
CategoryHardware

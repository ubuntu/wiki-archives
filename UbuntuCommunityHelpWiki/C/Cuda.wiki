{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

'''THIS PAGE ISN'T FINALIZED !'''

CUDA ('''C'''ompute '''U'''nified '''D'''evice '''A'''rchitecture) is a parallel computing architecture developed by Nvidia for graphics processing.

This document provides instructions to install/remove Cuda 4.2 on Ubuntu 12.04.

== Installation ==
=== Prerequisites ===
It is necessary to have a Nvidia proprietary driver up to 295.xx (which can be installed <nowiki>[[BinaryDriverHowto-Nvidia|automatically]]</nowiki> or <nowiki>[[NvidiaManual|manually]]</nowiki>). For Ubuntu versions under 12.04, you will have to install Nvidia driver <nowiki>[[NvidiaManual|manually]]</nowiki>.

Be sure your GPU is compatible with Cuda. Refer to <nowiki>[[http://developer.nvidia.com/cuda-gpus|this page]]</nowiki>. Then, install required packages:
<pre>
sudo apt-get install libxi-dev libxmu-dev freeglut3-dev build-essential binutils-gold
</pre>

=== Downloads ===
You will have to download two programs: "CUDA Toolkit" and "GPU Computing SDK".

Let's download and save them on the Desktop.

32bits:
<pre>
cd ~/Desktop
wget http://developer.download.nvidia.com/compute/cuda/4_2/rel/toolkit/cudatoolkit_4.2.9_linux_32_ubuntu11.04.run
wget http://developer.download.nvidia.com/compute/cuda/4_2/rel/sdk/gpucomputingsdk_4.2.9_linux.run
</pre>
64bits:
<pre>
cd ~/Desktop
wget http://developer.download.nvidia.com/compute/cuda/4_2/rel/toolkit/cudatoolkit_4.2.9_linux_64_ubuntu11.04.run
wget http://developer.download.nvidia.com/compute/cuda/4_2/rel/sdk/gpucomputingsdk_4.2.9_linux.run
</pre>

=== Installation of CUDA Toolkit ===
Go to "Desktop", add execution permissions of the cudatoolkit downloaded file, and execute it with root permissions:
<pre>
cd ~/Desktop
chmod +x cudatoolkit_4.2.9_linux_*
sudo ./cudatoolkit_4.2.9_linux_*
</pre>
When it will ask you:
<pre>
Enter install path (default /usr/local/cuda, '/cuda' will be appended):
</pre>
type '''/opt'''. 

=== Installation of GPU Computing SDK ===
As before, go to "Desktop", add execution permissions of the gpucomputingsdk downloaded file, and execute it without root permissions:
<pre>
cd ~/Desktop
chmod +x gpucomputingsdk_4.2.9_linux.run
./gpucomputingsdk_4.2.9_linux.run
</pre>
When it will ask you:
<pre>
Enter install path (default ~/NVIDIA_GPU_Computing_SDK):
</pre>
press '''[enter]''' (to use default path), and type '''/opt''' when it will ask you:
<pre>
Enter CUDA install path (default /usr/local/cuda):
</pre>

=== Preparation ===
Update variables, and this on every boot:
<pre>
export PATH=$PATH:/opt/cuda/bin
export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/cuda/lib:/opt/cuda/lib64
echo 'export PATH=$PATH:/opt/cuda/bin' >> ~/.bash_profile
echo 'export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/cuda/lib:/opt/cuda/lib64' >> ~/.bash_profile
</pre>

=== Compilation of SDK ===
'''Need to be tested !'''

We finally compile:
<pre>
cd ~/NVIDIA_GPU_Computing_SDK/C
LINKFLAGS=-L/usr/lib/nvidia-current/ make cuda-install=/opt/cuda
</pre>

'''NOTE:'''
In case you are using the latest (post-release updates; version current-updates) instead of the recommended (version current) Nvidia drivers, then change the LINKFLAGS to read:
<pre>
cd ~/NVIDIA_GPU_Computing_SDK/C
LINKFLAGS=-L/usr/lib/nvidia-current-updates/ make cuda-install=/opt/cuda
</pre>
You can check for which version you are using by running the "Additional Drivers" program (System Settings->Hardware->Additional Drivers) and check which version is toggled ON.

=== Test ===
Now, let's test if Cuda is working great. Type:
<pre>
~/NVIDIA_GPU_Computing_SDK/C/bin/linux/release/./fluidsGL
</pre>
As you can see on the following picture, it works ! 

If you are using optimus with bumblebee, run the above with optirun as below:
<pre>
optirun ~/NVIDIA_GPU_Computing_SDK/C/bin/linux/release/./fluidsGL
</pre>
Will come soon...

=== Cleanup ===
Now Cuda is installed, the installers files are useless, you can remove them:
<pre>
cd ~/Desktop
rm cudatoolkit_4.2.9_linux_*
rm gpucomputingsdk_4.2.9_linux.run
</pre>

== Uninstallation ==
If you want to totally remove Cuda, juste delete the '''/opt/cuda''' and '''~/NVIDIA_GPU_Computing_SDK''' folders:
<pre>
rm -r ~/NVIDIA_GPU_Computing_SDK
sudo rm -r /opt/cuda
</pre>
and remove the '''export PATH=$PATH:/opt/cuda/bin''' and '''export LD_LIBRARY_PATH=$LD_LIBRARY_PATH:/opt/cuda/lib:/opt/cuda/lib64''' lines of the '''~/.bash_profile''' file. 

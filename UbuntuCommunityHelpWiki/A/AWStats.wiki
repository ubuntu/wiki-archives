{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:25%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

== Introduction ==

From http://awstats.sourceforge.net/ :

AWStats is a free powerful and featureful tool that generates advanced web, streaming, ftp or mail server statistics, graphically. This log analyzer works as a CGI or from command line and shows you all possible information your log contains, in few graphical web pages. It uses a partial information file to be able to process large log files, often and quickly. It can analyze log files from all major server tools like Apache log files (NCSA combined/XLF/ELF log format or common/CLF log format), WebStar, IIS (W3C log format) and a lot of other web, proxy, wap, streaming servers, mail servers and some ftp servers.

The following documentation contains specific information on installing and configuring Awstats with Ubuntu and Apache2.  It assumes you already have an Apache2 web server up and running.  For more help, get XChat and subscribe to channel "#awstats" on the Ubuntu Server.

== Installation ==
Install AWStats with Synaptic or
<pre>
sudo apt-get install awstats
</pre>

== Configuration ==

Awstats configuration files in Ubuntu are located in /etc/awstats.  The template is called "awstats.conf".

1. Create a copy of awstats.conf for each domain:
<pre>
 cp /etc/awstats/awstats.conf /etc/awstats/awstats.yourdomain.ext.conf
 </pre>
1. modify the file:
  a. Open file with vi or nano:
  <pre>
  vi /etc/awstats/awstats.yourdomain.ext.conf
  </pre>
  or
  <pre>
  nano /etc/awstats/awstats.yourdomain.ext.conf
  </pre>
  a. make the following changes:
  <pre>
  LogFile="/var/log/apache2/access.log" 
  </pre>
  <pre> 
  SiteDomain="yourdomain.ext"
  </pre>
  <pre> 
  HostAliases="localhost 127.0.0.1 yourdomain.ext"
  </pre>
1. generate the initial stats for AWStats based on existing var/log/apache2/access.log:
 <pre>
 /usr/lib/cgi-bin/awstats.pl -config=yourdomain.ext -update
 </pre>

== Apache2 Configuration ==

First tell your apache to use mod_cgi if you haven't enabled it yet
<pre>
a2enmod cgi
</pre>

In order to access Awstats, we have to tell Apache2 where it is.

1. tell Apache where the stats are:
  a. Navigate to /etc/apache2/sites-available/
<pre>
  cd /etc/apache2/sites-available/
  </pre>
  a. If you have no VirtualHosts set up, place the following code in '/etc/apache2/sites-available/default'. Otherwise, add this code inside the VirtualHost tag for each domain you want to monitor:
  <pre>
  Alias /awstatsclasses "/usr/share/awstats/lib/"
  Alias /awstats-icon "/usr/share/awstats/icon/"
  Alias /awstatscss "/usr/share/doc/awstats/examples/css"
  ScriptAlias /awstats/ /usr/lib/cgi-bin/
  Options +ExecCGI -MultiViews +SymLinksIfOwnerMatch
  </pre>
1. Reload apache2:
 <pre>
 /etc/init.d/apache2 reload
 </pre>

Statistics for yourdomain.ext should now be available at:

http://yourdomain.ext/awstats/awstats.pl

and:

http://yourdomain.ext/awstats/awstats.pl?config=yourdomain.ext

for if you have multiple config files.  Note that these statistics are public unless you secure them.

== Crontab Configuration ==

Add the following code to /etc/crontab for each domain:

<pre>
0 */3 * * * /usr/lib/cgi-bin/awstats.pl -config=yourdomain.ext -update > /dev/null
</pre>

== Links ==
* http://awstats.sourceforge.net/ Official AWStats website 
** http://awstats.sourceforge.net/docs/index.html Documentation
** http://awstats.sourceforge.net/docs/awstats_setup.html
* http://www.awstats.org/ Official AWStats website
* http://kastang.com/blog/2010/07/awstats-on-ubuntu-10-04-server/ used to create this page
----

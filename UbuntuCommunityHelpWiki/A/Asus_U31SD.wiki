{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

== Asus U31SD ==

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

This wiki is intended to help to fix problems related to Ubuntu and the Asus U31SD laptop.  Apart from the following fixes, the Asus U31SD laptop works well with Ubuntu 12.04.

<nowiki>[[File:IconsPage/note.png|Note|align="middle"]]</nowiki> These minor fixes have been tested the models below but they should work under other models as well.

* '''Ubuntu 12.04 Beta 2 (Precise Pangolin)''' on an Asus U31SD-RX260V
* '''Ubuntu 12.04 (Precise Pangolin)''' on an Asus U31SD-XA1
* '''Ubuntu 12.04.2 (Precise Pangolin)''' on an Asus U31SD-XH51

=== Disclaimer ===
<nowiki>[[File:IconsPage/warning.png|Warning|align="middle"]]</nowiki> I make no guarantees, nor take any responsibility for any consequences following the use of this wiki page. Use at your own risk.

== Fixing or enabling notebook functionalities ==
This section will guide you through fixing bug or enable functionalities which don't work out of the box.

=== Suspend and Hibernate ===

'''Warning:'''  The script below simply disables Suspend and Hibernation on U-series models.  As of Ubuntu 12.04.2 LTS, suspension is fixed.  If the problem still persists, then use the script below.
 
To fix the suspension and hibernation bug you can use the '''20_suspend-ehci-hcd''' script:
<pre>

TMPLIST_E=/tmp/ehci-dev-list
TMPLIST_X=/tmp/xhci-dev-list
E_DIR=/sys/bus/pci/drivers/ehci_hcd
X_DIR=/sys/bus/pci/drivers/xhci_hcd
E_BIND=$E_DIR""/bind
E_UNBIND=$E_DIR""/unbind
X_BIND=$X_DIR""/bind
X_UNBIND=$X_DIR""/unbind

unbindDev() {
  echo -n '' > $1
  for i in `ls $2 | egrep '[0-9a-z]+\:[0-9a-z]+\:.*$'`; do
    echo -n "$i" | tee $3
    echo "$i" >> $1
  done
}

bindDev() {
  [ -f $1 ] || return

  for i in `cat $1`; do
    echo -n "$i" | tee $2
  done

  rm $1
}

case "${1}" in
  hibernate|suspend)
    unbindDev $TMPLIST_E $E_DIR $E_UNBIND
    unbindDev $TMPLIST_X $X_DIR $X_UNBIND
    ;;
  resume|thaw)
    bindDev $TMPLIST_E $E_BIND
    bindDev $TMPLIST_X $X_BIND
    ;;
esac

</pre>

Paste the script in '''/etc/pm/sleep.d/20_suspend-ehci-hcd''' and save it

<pre>
sudo nano /etc/pm/sleep.d/20_suspend-ehci-hcd
</pre>
The script can have any name, but to ensure the load order, use the prefix '''20_'''

add the execution permission:
<pre>
sudo chmod 755 /etc/pm/sleep.d/20_suspend-ehci-hcd
</pre>
To remove the script in case it does not work:
<pre>
sudo rm /etc/pm/sleep.d/20_suspend-ehci-hcd
</pre>
<nowiki>[[#repository|<nowiki>[[File:IconsPage-apt.png|Package available|align="middle"]]</nowiki></nowiki>]] '''suspend-ehci-hcd'''

=== Power consumption ===

I followed the <nowiki>[[https://wiki.ubuntu.com/Bumblebee|instructions on installing Bumblebee]]</nowiki>, and after rebooting the computer, the power consumption went down from ~14W to ~8W due to the nVidia 520M discrete GPU is now disabled.

To do this, it was sufficient to add the Bumblebee PPA repository and update it via:
<pre>
sudo add-apt-repository ppa:bumblebee/stable
</pre>
<pre>
sudo apt-get update
</pre>

Install Bumblebee using the proprietary nvidia driver:

<pre>
sudo apt-get install bumblebee bumblebee-nvidia linux-headers-generic
</pre>

Install simple Bumblebee (with only power-saving functionality):

<pre>
sudo apt-get install --no-install-recommends bumblebee linux-headers-generic
</pre>

Reboot the computer.

To run certain apps such as heavy 3D programs or games with discrete nVidia GPU (using the proprietary nvidia driver), simply run:

<pre>
optirun application-name
</pre>
----

Reference links:

* https://help.ubuntu.com/community/Asus_N53
* http://ubuntuforums.org/showthread.php?t=1763742&page=2

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


The AspireOne 753h has a 1366x768 pixel 11.6" screen.

There are probably more than one versions of this type. I have an Acer Aspire One 753h-342kG25

== Introduction ==

This document handles Ubuntu 10.10 (Maverick Meerkat).

The live CD works, and it is possible to install Ubuntu. When installed, it seems that X can not find the correct driver: start in the fail save mode, and you can login with X.

On the day of writing, 7 November 2010, there are some problems, of which some can be fixed.

=== Wifi does not work ===
Out of the box, the wifi connection does not work. When the additional driver "Broadcom STA wireless driver" is installed ( System > Administration > Additional Drivers ) Wifi seems to work (although there are some other problems).

=== X does not work correctly ===
After an initial installation, the X driver seems not to be loaded. Two issues are causing this:
* The module intel_ips is not loaded.
* The kernel mode setting conflicts with the i915 driver.
See a section below for more details.

=== The sound does not work ===
When the intel_ips was blacklisted, see the text above, the sound seems to be (almost) ok. The only problem I see is that the internal microphone is not working. Probably this is due to not supported hardware (Realtek ALC271X) in the current Linux version (Linux  2.6.35-23-generic). In http://kernelnewbies.org/Linux_2_6_36-DriversArch I see that in a new kernel version, there will be support for the "Acer ZGA ALC271", so I will wait for that.

=== Verified Working Post Install Changes ===
* 1366x768 resolution
* Wireless & Wired NIC
* Sound Output Speakers, and Head Phone Switching
* WebCam
* Dual Head display
* Hibernation
* MultiCard Reader

=== Known Issues ===
* The wifi driver is not enabled by default.
* After hibernation, the wifi driver is disabled, and can not be started again (without a reboot).
* The wifi connection is slow (1 Mb/s), see http://forums.opensuse.org/english/get-help-here/hardware/447485-bcm43224-bcm43225-bcm4313-installation-guide.html the AO753h has the ''BCM43225 802.11b/g/n (rev 01)'' chipset.
* Although the touchpad works as a mouse, other touchpad functionality is not working.
* Internal mic is not working.

== Applied fixes ==

=== Module intel_ips does not load ===
With the command ''dmesg'' I see the following:
<pre>
[    5.791208] intel ips 0000:00:1f.6: No CPUID match found.
[    5.791223] BUG: unable to handle kernel NULL pointer dereference at 00000008
[    5.791347] IP: [<f8241452>] ips_detect_cpu+0x62/0x180 [intel_ips]
[    5.791441] *pde = 6d8e9067 
[    5.791516] Oops: 0000 [#1] SMP 
</pre>  
It seems that loading the ''intel_ips'' module given an error and prevent other modules to load.
To fix this, create a file /etc/modprobe.d/blacklist-intel_ips:
<pre>
$ sudo echo "blacklist intel_ips" > /etc/modprobe.d/blacklist-intel_ips
</pre>
There are several posts about this issue, e.g. https://bugs.launchpad.net/linux/+bug/648631

=== The kernel mode setting does not work for i915 video ===
In the X log e.g. ''/var/log/Xorg.0.log'' I see the following:
<pre>
[    13.720] (II) Loading extension DRI2
[    13.720] (II) LoadModule: "intel"
[    13.721] (II) Loading /usr/lib/xorg/modules/drivers/intel_drv.so
[    13.721] (II) Module intel: vendor="X.Org Foundation"
[    13.721] 	compiled for 1.9.0, module version = 2.12.0
[    13.721] 	Module class: X.Org Video Driver
[    13.721] 	ABI class: X.Org Video Driver, version 8.0
[    13.721] (II) intel: Driver for Intel Integrated Graphics Chipsets: i810,
	i810-dc100, i810e, i815, i830M, 845G, 852GM/855GM, 865G, 915G,
	E7221 (i915), 915GM, 945G, 945GM, 945GME, Pineview GM, Pineview G,
	965G, G35, 965Q, 946GZ, 965GM, 965GME/GLE, G33, Q35, Q33, GM45,
	4 Series, G45/G43, Q45/Q43, G41, B43, B43, Clarkdale, Arrandale,
	Sandybridge, Sandybridge, Sandybridge, Sandybridge, Sandybridge,
	Sandybridge, Sandybridge
[    13.722] (--) using VT number 8

[    13.735] (EE) intel(0): No kernel modesetting driver detected.
[    13.735] (II) UnloadModule: "intel"
</pre>  
The intel video driver does not seem to load correctly, due to a kernel mode setting problem.
To fix this, add the option i915.modeset=1 when starting the kernel. In the file ''/etc/default/grub'', change
<pre>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
</pre>
by
<pre>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash i915.modeset=1"
</pre>
and  update grub by executing:
<pre>
$ sudo update-grub
</pre>
There are several posts about this issue, e.g. http://ubuntuforums.org/showthread.php?t=1601087&highlight=i915+memory

=== Did not get a xorg.conf ===
I did not get an xorg.conf file, so I found one on the internet. http://forum.ubuntu-nl.org/hardware-en-drivers/resolutie-te-laag-en-geen-xorg-conf
I don't know if it is the right one, but everything seems to work. Here is my ''/etc/X11/xorg.conf''
<pre>
Section "ServerLayout"
	Identifier     "X.org Configured"
	Screen      0  "Screen0" 0 0
	InputDevice    "Mouse0" "CorePointer"
	InputDevice    "Keyboard0" "CoreKeyboard"
EndSection

Section "Files"
	ModulePath   "/usr/lib/xorg/modules"
	FontPath     "/usr/share/fonts/X11/misc"
	FontPath     "/usr/share/fonts/X11/cyrillic"
	FontPath     "/usr/share/fonts/X11/100dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/75dpi/:unscaled"
	FontPath     "/usr/share/fonts/X11/Type1"
	FontPath     "/usr/share/fonts/X11/100dpi"
	FontPath     "/usr/share/fonts/X11/75dpi"
	FontPath     "/var/lib/defoma/x-ttcidfont-conf.d/dirs/TrueType"
	FontPath     "built-ins"
EndSection

Section "Module"
	Load  "extmod"
	Load  "dbe"
	Load  "dri"
	Load  "glx"
	Load  "record"
	Load  "dri2"
EndSection

Section "InputDevice"
	Identifier  "Keyboard0"
	Driver      "kbd"
EndSection

Section "InputDevice"
	Identifier  "Mouse0"
	Driver      "mouse"
	Option	    "Protocol" "auto"
	Option	    "Device" "/dev/input/mice"
	Option	    "ZAxisMapping" "4 5 6 7"
EndSection

Section "Monitor"
	Identifier   "Monitor0"
	VendorName   "Monitor Vendor"
	ModelName    "Monitor Model"
EndSection

Section "Device"
##### ## Available Driver options are:-
##### ## Values: <i>: integer, <f>: float, <bool>: "True"/"False",
##### ## <string>: "String", <freq>: "<f> Hz/kHz/MHz",
##### ## <percent>: "<f>%"
##### ## [arg]: arg optional
##### Option     "NoAccel"            	# [<bool>]
##### Option     "SWcursor"           	# [<bool>]
##### Option     "ColorKey"           	# <i>
##### Option     "CacheLines"         	# <i>
##### Option     "Dac6Bit"            	# [<bool>]
##### Option     "DRI"                	# [<bool>]
##### Option     "NoDDC"              	# [<bool>]
##### Option     "ShowCache"          	# [<bool>]
##### Option     "XvMCSurfaces"       	# <i>
##### Option     "PageFlip"           	# [<bool>]
	Identifier  "Card0"
	Driver      "intel"
	BusID       "PCI:0:2:0"
EndSection

Section "Screen"
	Identifier "Screen0"
	Device     "Card0"
	Monitor    "Monitor0"
	SubSection "Display"
		Viewport   0 0
		Depth     1
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     4
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     8
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     15
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     16
	EndSubSection
	SubSection "Display"
		Viewport   0 0
		Depth     24
	EndSubSection
EndSection
</pre>

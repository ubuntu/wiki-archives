{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Introduction ==

The SADMS package allows for automated joining to Active Directory through a GUI interface.  This page will describe how to install/troubleshoot using SADMS to join a Ubuntu machine to Active Directory. <nowiki>[[http://sadms.sourceforge.net/]]</nowiki>

==== Acquire the SADMS Ubuntu package ====

Download the SADMS package from <nowiki>[[http://sourceforge.net/project/showfiles.php?group_id=93499|sourceforge]]</nowiki>

Current Ubuntu package as of this writing: <nowiki>[[http://downloads.sourceforge.net/sadms/sadms-install-ubu-2.0.11.tar.gz?modtime=1182683519&big_mirror=0|sadms-install-ubu-2.0.11.tar.gz]]</nowiki>

== Installation ==

* Read the tutorials from the SADMS site '''first''', under the External Docs section.

* Extract Package

* check that nsswitch is correct.  Shadow should not reference winbind.  Shadow passwords will be retrieved through the pam implementation of winbind.

  file: /etc/nsswitch.conf

<pre>
passwd:         compat winbind
group:          compat winbind
shadow:         compat
</pre>

* Install Winbind dependency, then run the START script from the directory you extracted the SADMS archive to:

<pre>
sudo apt-get install winbind
sudo ./START
</pre>

* Detect your Domain settings, fill in the missing information and Install.

* When you install samba's winbind to Pam, unselect the Pam_mount module as it doesn't seem to install properly through sadms in version 2.0.11, it causes graphical sudo authentications to fail.

==== Troubleshooting ====

'''kdesudo and gksudo failing'''

The pam module pam_mount.so refers to a config file located in /etc/security - pam_mount.conf.
pam_mount.conf appears to be configured incorrectly and causing kdesudo and gksudo to break.
One must either decipher pam_mount.conf or disable pam from mounting shares at login.

/etc/pam.d/common-auth:

comment out this line
<pre>
auth required pam_mount.so
</pre>

(http://ubuntuforums.org/archive/index.php/t-215791.html)

'''No Logon Servers'''
This is caused by a problem with name resolution of the logon server.

The name service cache daemon (nscd) can interfere with winbind, as winbind maintains its own cache.
Remove it.

<pre>
sudo apt-get remove nscd
</pre>

== External Docs ==
<nowiki>[[http://sadms.sourceforge.net/tut-sadms.html|install tutorial from SADMS site]]</nowiki>

<nowiki>[[http://sadms.sourceforge.net/tut-pam.html|install-PAM tutorial from SADMS site]]</nowiki>

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Introduction ==
This page is about mounting SD cards after suspend on an Aspire One (8gb SSD) running Ubuntu Intrepid Ibex (8.10). The issue may affect other machines/versions.

Instructions for installing 8.10 on the Aspire One are here: <nowiki>[[AspireOne110L]]</nowiki>.

== SD card doesn't mount after suspend ==

On resuming after suspend I found my SD card (in the Aspire One's lh slot) wouldn't remount - generated a warning message about not having the necessary permissions to mount the card. 

The default fstb setting sets permissions for the card to 'root' - it appears that after suspend the system is trying to mount the card as 'user'.

This is what the card's line in fstab looked like before I edited it:

<pre>

UUID=DB59-1105	/media/AXIOM2	vfat	defaults,utf8,umask=0	0	2

</pre>

Setting ownership to 'user' in fstab means the drive will mount after suspend. (You'll see the term 'defaults' in the SD card's line in fstab; change this to 'user'.)

You can read/edit the fstab file like this:

<pre>

sudo gedit /etc/fstab

</pre>

(Keep a commented-out copy of the line you are playing with...)

== Multiple copies of an SD card mount ==

The drive will now mount after suspend, but a new copy of the drive mounts each time you resume from suspend; resulting in a long list of duplicated SD cards in the file browser.

There is a bug report re behaviour similar to this.

https://bugs.launchpad.net/ubuntu/+bug/258969

I tried to fix that with an unmount script in /etc/acpi/suspend.d, but I'm not convinced that runs; it didn't fix the problem. 

Setting fstab to reference the drive by /dev/mmcblk3p1 (rather than UUID) appears to fix things - a single copy of the drive now mounts after suspend.

My line for the SD card in fstab now looks like this:

<pre>

/dev/mmcblk3p1	/media/AXIOM2	vfat	user,uid=1000,gid=100,utf8,umask=0	0	2

</pre>

(Drive Manager alerts to 'new partitions detected' on start-up and offers to manage it, which I assume will rewrite the UUID into fstab, resulting in multiple mounts again).

== See Also ==

* <nowiki>[[Fstab]]</nowiki>

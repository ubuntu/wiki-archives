{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


=== Introduction ===
<nowiki>[[http://astronautvista.com/|Astronaut VistA]]</nowiki> is an installer for two Linux-based derivatives of the <nowiki>[[http://en.wikipedia.org/wiki/VistA|VistA]]</nowiki> EHR (Electronic Health Record), the largest EHR in the US (the Veterans Administration's health information system). They are CCHIT-approved for clinical usage and available with open source licenses. Both derivatives are available with an open-source database (GT.M, an open-source MUMPS database derivative).

* <nowiki>[[http://worldvista.org/|WorldVistA]]</nowiki> -- a single community edition is available (with enterprise installation services available separately)
* <nowiki>[[http://www.medsphere.org|OpenVistA]]</nowiki> -- separate enterprise and community editions are available

The servers and clients are packaged separately (for both derivatives). While servers are Linux-based, the WorldVistA clients are Windows-based only. The OpenVistA clients are available for both Windows and Linux.

AstronautVistA provides an <nowiki>[[http://astronautvista.com/astronaut-help/how-to/how-to-install-astronaut-vista-server-and-client|installer]]</nowiki> for the servers of both derivatives, and for configuration utilities and the <nowiki>[[http://sourceforge.net/projects/astronaut/files/|client packages of WorldVistA]]</nowiki> as well.

=== Preparing your server ===
* The Astronaut installer uses an emerging standardized installation framework for VistA derivatives (WorldVistA and OpenVistA currently). These instruction reflect this framework, with modifications I have used in setting up my system on Ubuntu.

* A secure SSH tunnel (using port 22 by default) is used to connect VistA clients with the VistA server. The server should have a static IP address on the LAN, and the LAN (router) should forward port 22 traffic to the VistA server's IP address. (Make sure the client and server firewalls, if any, allow SSH traffic on port 22.) (Within the SSH tunnel, port 9260 traffic between the VistA server and clients will be tunneled. This is set up automatically during the Astronaut installation process.)

It is easiest to set this up before using the Astronaut installer, since the Astronaut installer autodetects IP address settings.

==== Install the VistA server ====
* Apache2 is required. It can be installed individually
<pre> 
 sudo apt-get install apache2
</pre>
 or as part of a LAMP (Linux, Apache2, MySQL, PHP) installation:
<pre>
 sudo tasksel install lamp-server
</pre>

* The OpenSSH server is required:
<pre>
 sudo apt-get install openssh-server
</pre>

* Install prerequisites:
<pre>
 sudo apt-get install xinetd whois apache2-suexec
</pre>

* Astronaut VistA is made for a 32-bit operating system. If you are using a 64-bit system, then also install ia32-libs:
<pre>
 sudo apt-get ia32-libs
</pre>

* Add the AstronautVistA repositories:
<pre>
 sudo echo "deb http://software.astronautvista.com/deb lucid main" >> /etc/apt/sources.list.d/lucid-partner.list
 sudo apt-get update
</pre>

* Install either the Astronaut WorldVistA server:
<pre>
 sudo apt-get install astronaut-wv-server-beta
</pre>

 or the Astronaut OpenVistA server:
<pre>
 sudo apt-get install astronaut-ov-server-beta
</pre>

When the VistA client(s) and a VistA server are on the same computer, a self-contained EHR can be created on a single computer. (A VistA server can also be run within a virtual machine, allowing it to be completely run within Windows, as well.) See <nowiki>[[http://ubuntudoctorsguild.kubuntuguide.net/public/index.php/WorldVistA_on_Ubuntu|Ubuntu Doctors Guild: WorldVistA and Virtual Servers]]</nowiki>.

==== Installing from Medsphere repositories ====
* OpenVistA can also be installed using the <nowiki>[[https://medsphere.org/docs/DOC-1722|Medsphere repositories]]</nowiki>. (Use ''karmic'' or ''jaunty'' repositories instead of ''lucid'' if using one of those versions.)
<pre>
 wget -q -O - <nowiki>http://mirrors.medsphere.org/pub/msc-repo-key@medsphere.com</nowiki> | sudo apt-key add -
 echo "deb <nowiki>http://mirrors.medsphere.org/pub/apt/ubuntu</nowiki> ''lucid'' main" | sudo tee /etc/apt/sources.list.d/openvistaehr.list
 sudo apt-get update
 sudo apt-get install openvista-utils
</pre>

=== Server functions ===
The VistA server functions are generally configured from a text interface. The VistA server is very flexible and powerful, and therefore can seem complex to customize and daunting for new users. 

Accessing the interface is possible in several ways:

* While logged on the server (using any login ID) by starting VistA Commander from a command-line interface Terminal:
<pre>
 /opt/openvista/EHR/bin/vista_com.sh
</pre>
* Logging in directly to the server using the provided Linux login (''openvistaEHR'' or ''worldvistaEHR'') and opening a (Konsole) Terminal. This loads the VistA Commander interface. (On Astronaut systems, the default initial password is ''vista!123''.)
* Using the ''Text Client'' and ''VistA Config'' menu items/shortcuts in the <nowiki>[[http://ubuntudoctorsguild.kubuntuguide.net/public/index.php/Astronaut_CPRS_client_package|Astronaut Client]]</nowiki> menu (Windows systems only).
* Using the built-in ''VistA Server Text Client'' menu items/shortcuts in the <nowiki>[[http://ubuntuguide.org/wiki/Ubuntu-Med_FAQ|Ubuntu-Med]]</nowiki> system.

Then see
* <nowiki>[[http://medsphere.org/docs/DOC-1010|OpenVistA FAQs]]</nowiki>
* <nowiki>[[http://vistapedia.net/index.php?title=Begin_Configuration_of_Vista Beginning|VistA configuration]]</nowiki>
* <nowiki>[[http://vistapedia.net/index.php?title=Where_do_I_Start|Vistapedia: Where Do I Start?]]</nowiki> and <nowiki>[[http://vistapedia.net/index.php?title=Usage|Vistapedia:Usage]]</nowiki>

=== Obtain and install VistA clients ===
* VistA clients to connect to the VistA server are available separately. See <nowiki>[[http://ubuntudoctorsguild.kubuntuguide.net/public/index.php/Astronaut_VistA#Installation_Instructions|Ubuntu Doctors Guild]]</nowiki> for download, installation, and configuration instructions.

=== Installation Notes ===
* The MUMPS database (GT.M) is installed into /opt/lsb-gtm/V5.3-004A_i686.
* The WorldVistA EHR p[rogram is installed into /opt/worldvista/EHR.
* m2web is installed into /opt/worldvista/EHR/web/m2web.
* A startup file is installed as /etc/init.d/vista-EHR.
* The listener port for clients like CPRS is 9260.
* The listener port for m2web is 80.

The following default actions were done:

* gtm Mumps interpreter installed in: /opt/lsb-gtm/gtm
* Default user id created: worldvistaEHR in /home/worldvistaEHR
* textEHR user id created.
* VistA software installed in: /opt/worldvista/EHR
* Started port listener on port: 9260
* Open port: 9260

NEXT STEPS:
* Log in as user worldvistaEHR with default password: vista!123
* You will be prompted to immediately change the password. Use a strong password.
* Full disk encryption of your Linux is strongly recommended.

* Write down the IP address of this machine and port:
<pre>
 IP address of this machine:
 "192.168.0.24"
 Instance name: EHR
 Port: 9260
</pre>

(Obviously, use the IP address of your own server). These details will be needed for installing the <nowiki>[[http://ubuntudoctorsguild.kubuntuguide.net/public/index.php/Astronaut_VistA#Astronaut_VistA_client_installers|Astronaut VistA client]]</nowiki> package.

=== Other resources ===
This article was originally adapted from the originals at
* <nowiki>[[http://ubuntuguide.org/wiki/Ubuntu_Precise_Science_and_Technology#VistA_.28Enterprise_Electronic_Health_Record.29|Ubuntuguide -- VistA]]</nowiki>
* <nowiki>[[http://ubuntuguide.org/wiki/Kubuntu_Precise_Science_and_Technology#VistA_.28Enterprise_Electronic_Health_Record.29|Kubuntuguide -- VistA]]</nowiki>
* <nowiki>[[http://ubuntudoctorsguild.kubuntuguide.net/public/index.php/Main_Page#Electronic_Medical_Records_.28EMRs.2FEHRs.29|Ubuntu Doctors Guild: Electronic Medical Records]]</nowiki>
* <nowiki>[[http://vistapedia.net|Vistapedia]]</nowiki>

* Also see the <nowiki>[[http://www.youtube.com/watch?v=4So0ulz0XVk|Astronaut installation YouTube video]]</nowiki> and the <nowiki>[[http://www.youtube.com/watch?v=xzTJw8axJds|Astronaut Client Server Manager YouTube video]]</nowiki>.

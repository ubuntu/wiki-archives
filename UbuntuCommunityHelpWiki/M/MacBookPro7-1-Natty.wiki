{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


=== MacBook Pro 7,1 and Ubuntu 11.04 (Natty Narwhal) ===

This page aims to describe the steps needed, to fully enable all features of the MacBookPro 7,1 (release date: mid 2010) when using Ubuntu 11.04, codename 'Natty Narwhal'.

{| class="wikitable"
|-
| <tablestyle="float:left; margin: 0em 0em 0em 0em;" border="0" style="padding:0.5em; border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px"><nowiki>[[File:IconsPage/terminal.png]]</nowiki>
|}
<<BR>>
In Ubuntu you can find out, what model you have by typing at the terminal:

<pre>
sudo dmidecode -s system-product-name
</pre>

If you have a different model, please go <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki> and find the right wiki.

=== Overview ===

Anything not mentioned here probably already works out of the box. If not, please refer to the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=328|Ubuntu Apple Users forum]]</nowiki>. 

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;">Feature
| <style="background-color: #f9eaaf;"> Support <<BR>>status
|-
| Sound
| <nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/DocTemplate#Wireless%20(AirPort)|<nowiki>[[File:IconsPage/ok.png]]</nowiki></nowiki>]]
|-
| Suspend & Hibernate
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Wireless (Air``Port)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|}

<nowiki>[[File:IconsPage/ok.png]]</nowiki> works out-of-the-box <<BR>>
<nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki> works, with remarks <<BR>>
<nowiki>[[File:IconsPage/warning.png]]</nowiki> needs manual install <<BR>>
<nowiki>[[File:IconsPage/dont.png]]</nowiki> won't work<<BR>>
<nowiki>[[File:IconsPage/question.png]]</nowiki> not yet documented<<BR>>

=== Basic Installation Instructions ===
Common things about installing and maintaining Ubuntu on Intel-based Macs:
<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|Intel CPU-based Macintosh Generic Installation Instructions]]</nowiki>

Most 7,1 models come with 4GB of RAM, which the default kernel on the 32-bit edition of Ubuntu cannot fully utilize. Both the CD and DVD installers of Ubuntu will automatically download and install the PAE enabled kernel if they detect more than 3 Gb of available memory, however the PAE kernel packages are not present on the CD. If you do not have an Ethernet cable connected when installing, Ubuntu will recognize less than 3GB of RAM. However, you can use the following command to install the PAE kernel afterwards:

<pre>
sudo apt-get install linux-generic-pae linux-headers-generic-pae
</pre>

=== Package Support for Intel Macs ===
You need some modules from the <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA|MactelSupportTeam/PPA]]</nowiki>:
<pre>
sudo add-apt-repository ppa:mactel-support && sudo apt-get update
</pre>

The mactel PPA modules needed on Ubuntu on this MBP nvidia-bl-dkms (driver for the LCD panel backlight) and pommed (daemon to control them all).

=== Reboot ===

Run

<pre>
gksudo gedit /etc/default/grub
</pre>

and change the line

<pre>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash"
</pre>

to

<pre>
GRUB_CMDLINE_LINUX_DEFAULT="quiet splash reboot=pci"
</pre>

Now, on the terminal run

<pre>
sudo update-grub
</pre>

Finally, ask the computer to shutdown, then complete the shutdown by pressing the power button during five seconds '''when the shutdown process is stuck''', wait few more seconds until the hard drive stop spinning and power it on again. Now it should work normally.

=== Suspend & Hibernate ===
{| class="wikitable"
|-
| <tablestyle="float:left; margin: 0em 1em 0em 0em;" border="0" style="padding:0.5em; border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px"><nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
| <style="border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px">Suspend: works<<BR>>Hibernate: error on ata2, but works.
|}
<<BR>>
<<BR>>

=== Wireless (AirPort) ===
{| class="wikitable"
|-
| <tablestyle="float:left; margin: 0em 1em 0em 0em;" border="0" style="padding:0.5em; border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px"><nowiki>[[File:IconsPage/warning.png]]</nowiki>
| <style="border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px">Install via System Settings > Additional Drivers (You will need an active internet connection to get the drivers).<<BR>>After restart your laptop and Airport should be working.
|}
<<BR>>
<<BR>>

=== Screen ===

'''Set brightness using F1 and F2'''

Installing nvidia-bl-dkms enables the control of the screen back-light with the keyboard keys F1 and F2. With current latest nvidia drivers (270.41.06-0ubuntu1) you need you need to edit the xorg.conf file:

<pre>
sudo gedit /etc/X11/xorg.conf
</pre>

Find the Device Section for the Nvidia driver and add this line to the end of the section:
<pre>
        Option          "RegistryDwords" "EnableBrightnessControl=1"
</pre>

The block should now look like this:
<pre>
Section "Device"
        Identifier      "Default Device"
        Driver  "nvidia"
        Option  "NoLogo"        "True"
        Option          "RegistryDwords" "EnableBrightnessControl=1"
EndSection
</pre>

Reboot and enjoy!

=== External Monitor ===

Nouveau drivers (which ship with Ubuntu by default) do not support external monitor <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/xserver-xorg-video-nouveau/+bug/681555|Bug #681555]]</nowiki>. For external monitor to work, the nVidia binary driver needs to be installed (System > Administration > Additional Drivers).

With the latest nVidia drivers installed, the Mini Display Port and adapters work out of the box.

Works out of the box.

=== Touchpad (appletouch) ===
Works out of the box.

=== Bluetooth ===

Works out of the box.

If you would save battery life by disabling blue-tooth on start-up edit /etc/rc.local
<pre>
sudo gedit /etc/rc.local
</pre>

and add
<pre>
rfkill block bluetooth
</pre>
before the line
<pre>
exit 0
</pre>

Then reboot. You can still enable blue-tooth from the applet.
<<BR>>
<<BR>>

=== Webcam ===
{| class="wikitable"
|-
| <tablestyle="float:left; margin: 0em 0em 0em 0em;" border="0" style="padding:0.5em; border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px"><nowiki>[[File:IconsPage/webcam.png]]</nowiki>
| <style="border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px">The Webcam, which is called iSight, works out of the box. You can test it using cheese or any other of your choice.
|}

<<BR>>
<<BR>>

=== Sound ===

Works out of the box, but a bit low volume.
Use:
{{{ 
alsamixer
}}}
And set "front speaker" to 100%, now volume should be fine.

=== Microphone ===

The microphone works out of the box, but is a bit low. Go to System-->Preferences-->Sound-->Input to move the slider to 100%. You can snap your finger or speak in front of your laptop to see the capture bar moving and adjust it if needed.

=== Function Keys ===

----
<nowiki>[[https://help.ubuntu.com/community/CategoryMac|CategoryMac]]</nowiki> 
----

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki>
| Please update this page, if you have figured out anything, that is not mentioned here!
|-
| <style="border-left: 0px; border-right: 0px; border-top: 0px; border-bottom: 0px">
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki>
| The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel docummentation going on.
|}

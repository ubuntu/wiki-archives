{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[https://sourceforge.net/projects/minidlna| MiniDLNA]]</nowiki> is server software with the aim of being fully compliant with <nowiki>[[http://en.wikipedia.org/wiki/Digital_Living_Network_Alliance|DLNA]]</nowiki>/<nowiki>[[http://en.wikipedia.org/wiki/Universal_Plug_and_Play|UPnP]]</nowiki> clients.  The MiniDNLA daemon serves media files (music, pictures, and video) to clients on a network.  Example clients include applications such as totem and xbmc, and devices such as portable media players, smartphones, and televisions.

MiniDLNA is a simple, lightweight alternative to MediaTomb, but has fewer features. It does not have a web interface for administration and must be configured by editing a text file.

== Installation ==

<pre>
sudo apt-get install minidlna
</pre>

== Configuration Globally (for all users) ==

The configuration file is `/etc/minidlna.conf` and these are the necessary descriptors:

<pre>
media_dir=A,/home/user/Music    # Use A, P, and V to restrict media 'type' in directory
media_dir=P,/home/user/Pictures
media_dir=V,/home/user/Videos
friendly_name=Laptop            # Optional
db_dir=/var/cache/minidlna      # Needs to be un-commented
log_dir=/var/log                # Needs to be un-commented
inotify=yes                     # 'no' for less resources, restart required for new media
</pre>

Restart the daemon for changes to take effect:

<pre>
sudo service minidlna restart
</pre>

To rebuild the database use:

<pre>
sudo service minidlna force-reload
</pre>

== Configuration Locally (per user) ==

Disable the global daemon:

<pre>
sudo service minidlna stop
sudo update-rc.d minidlna disable
</pre>

Create the necessary local files and directories as regular user and edit the configuration:

<pre>
mkdir -p ~/.minidlna/cache
cd ~/.minidlna
cp /etc/minidlna.conf .
$EDITOR minidlna.conf
</pre>

Configure as you would globally above but these definitions need to be defined locally:

<pre>
db_dir=/home/$USER/.minidlna/cache
log_dir=/home/$USER/.minidlna                                                    
</pre>

To start the daemon locally:

<pre>
minidlna -f /home/$USER/.minidlna/minidlna.conf -P /home/$USER/.minidlna/minidlna.pid
</pre>

In recent ubuntu versions, please replace minidlna with minidlnad.

<pre>
minidlnad -f /home/$USER/.minidlna/minidlna.conf -P /home/$USER/.minidlna/minidlna.pid
</pre>

To stop the local daemon:

<pre>
xargs kill </home/$USER/.minidlna/minidlna.pid
</pre>

To rebuild the database:

<pre>
minidlna -f /home/$USER/.minidlna/minidlna.conf -R
</pre>

In recent ubuntu versions, please replace minidlna with minidlnad.

<pre>
minidlnad -f /home/$USER/.minidlna/minidlna.conf -R
</pre>

To have minidlna load at startup, create the file `~/.config/autostart/minidlna.desktop`:

<pre>
[Desktop Entry]
Encoding=UTF-8
Type=Application
Name=MiniDLNA
Comment=Server to stream media over network
Exec=minidlna -f /home/$USER/.minidlna/minidlna.conf -P /home/$USER/.minidlna/minidlna.pid
StartupNotify=false
Terminal=false
Hidden=false
</pre>

== Troubleshooting ==

MiniDLNA problems that have been solved.

=== Flawed Official Version (Oneiric) ===

The official version of MiniDLNA in the Oneiric repositories (1.0.21+dfsg-1) is flawed (possibly because it hasn't been compiled with 'libavcodec' support).  With this version you will not be able to play mp4 video files, display pngs, and possibly other things.  This version too has a problem with permission problems in `/var/cache/minidlna` - it kept saving some files in the album art directory as root (possibly others) but requires user 'minidlna' to access them. I also seem to remember a write access problem to the `files.db` file.

==== Fix with Stedy Version ====

A rebuilt Stedy's minidlna for Oneiric can be found <nowiki>[[http://dl.dropbox.com/u/46407214/minidlna_1.0.21.2ubuntu1_i386.deb|here]]</nowiki>.

=== Firewall Rules ===

If using a firewall the the ssdp (1900/udp) and trivnet1 (8200/tcp) ports will need to <nowiki>[[http://netpatia.blogspot.com/2011/03/setup-your-own-dlna-server.html|be opened]]</nowiki>.  For example this can be done with arno's iptables firewall by editing `firewall.conf` to:

<pre>
  OPEN_TCP="8200"
  OPEN_UDP="1900"
</pre>
----
CategoryNetworking

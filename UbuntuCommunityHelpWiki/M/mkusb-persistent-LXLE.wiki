{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


<nowiki>[[..-|Return to the mkusb-persistent page]]</nowiki>
-----

== Very flexible LXLE 16.04.2 persistent live system ==

Download the compressed image file from the following link

<nowiki>[[http://phillw.net/isos/linux-tools/uefi-n-bios/dd_LXLE_16.04.2_i386_persist-live_mkusb-12.1.5_7.8GB_msdos-pt.img.xz|dd_LXLE_16.04.2_i386_persist-live_mkusb-12.1.5_7.8GB_msdos-pt.img.xz]]</nowiki>

and check the md5sum
<pre>
2576227d0fed29d57acc94f9f2c5a11d  dd_LXLE_16.04.2_i386_persist-live_mkusb-12.1.5_7.8GB_msdos-pt.img.xz
</pre>

=== LXLE 16.04.2 system (32 bit) with mkusb version 12.1.5 ===

* This persistent live LXLE system contains '''lxle_16_04_2_32.iso''' and mkusb version 12.1.5.

* The system is very flexible. It works in 32 & 64 bit computers in BIOS & UEFI mode, also in secure boot. There is an msdos partition table, suitable when not installing with mkusb, for example in Windows.

* There is a backup file of the original system. The system as stored in the '''casper-rw''' partition can be restored to the original state from the tarball '''1-casper-rw.tar.gz''', but the content of the '''usb-data''' partition is still there, and other (more current states) can be backed up and restored from other tarballs. It is a good idea to store copies of the backup files (tarballs) in a separate drive.

* There are screenshots from running in old, middle aged and [rather] new computers (2004-2016).

=== How it was made ===

* '''mkusb''' was installed into '''Ubuntu 12.04.5 LTS''' and used to create a persistent live drive from the iso file '''lxle_16_04_2_32.iso'''. The reason for this old version of Ubuntu is that its version of grub can be booted by some old computers, for example Dell Dimension 4600 from 2004. And it can be booted by new computers too, for example Intel NUC6i3SYH from 2016.

* A computer was booted persistent live from the USB pendrive that was created
* mkusb was installed and a link to its desktop file was created
* clean-myself.bash and truncate-log were copied to the home directory and used to make the system as clean as possible to reduce the size of the compressed image file
* grub.cfg in the usbboot partition was tweaked for this particular system
* The computer was booted live-only and the backup file '''1-casper-rw.tar.gz''' was created in the '''usbdata''' partition.

=== Size ===

* The compressed image file is rather big, ~ 2 GB (while the iso file is ~ 1.5 GB). There are two reasons,
** The backup file '''1-casper-rw.tar.gz'''
** Several wallpapers and configuration files, that were automatically installed when running LXLE.

* the system '''expands to 7.8 GB on the pendrive''', so the size of the USB pendrive or memory card or SSD drive must be at least 8 GB.
  <pre>
qwerty@qwerty:~$ sudo lsblk -f /dev/sda
NAME   FSTYPE  LABEL      UUID                                 MOUNTPOINT
sda                                                            
├─sda1 ntfs    usbdata    0D5FDC3D6DC403B7                     /media/qwerty/usbdata
├─sda2                                                         
├─sda3 vfat    usbboot    0825-C5CD                            /media/qwerty/usbboot
├─sda4 iso9660 LXLE Linux 2017-04-14-23-34-31-00               /cdrom
└─sda5 ext4    casper-rw  8afef4a2-84a8-457c-be98-508e19b3ac2f /media/qwerty/casper-rw
qwerty@qwerty:~$ sudo parted /dev/sda print
Model: SanDisk Extreme (scsi)
Disk /dev/sda: 32.0GB
Sector size (logical/physical): 512B/512B
Partition Table: msdos
Disk Flags: 

Number  Start   End     Size    Type      File system  Flags
 3      2097kB  130MB   128MB   primary   fat32        boot
 4      130MB   1710MB  1580MB  primary
 2      1710MB  6235MB  4525MB  extended               lba
 5      1711MB  6235MB  4524MB  logical   ext2
 1      6235MB  7744MB  1509MB  primary   ntfs
  </pre>
* It is an advantage to use a '''fast''' USB 3 pendrive, and the sizes of such drives are almost always 16 GB or more. See this link and links from it, <nowiki>[[https://help.ubuntu.com/community/Installation/FromUSBStick#Notes_about_speed]]</nowiki>.

* You can '''grow''' the system (change the size and move the partitions '''casper-rw''' and '''usbdata''') according to this link, '''<nowiki>[[http://phillw.net/isos/linux-tools/uefi-n-bios/GrowIt.pdf|GrowIt.pdf]]</nowiki>''', so that you use the whole pendrive. After changing the size of '''usbdata''', Windows may complain, but you can repair it with the repair tool in Windows.

== Tested in the following computers ==

=== Oldest computer tested - Dell-Dimension-4600i (2004) ===

=== Newest computer tested - Intel NUC6i3SYH-2016 (2016) ===

=== List ===

* Dell-Dimension-4600i
* GGS-data-with-ASUS-M2N-VM-DVI-mobo
* HP-Elitebook8560p
* IBM-Thinkpad-T42
* Lenovo-Thinkpad-X131e
* NUC6i3SYH (by Intel)
* Toshiba-Satellite-Pro-C850-19W

=== Screenshots ===

<nowiki>[[File:../../pictures/persist-26-LXLE_16_04_02_32_persistent_live_grub-menu.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-Dell-Dimension-4600i.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-GGS-data-with-ASUS-M2N-VM-DVI-mobo.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-HP-Elitebook8560p.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-IBM-Thinkpad-T42.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-Lenovo-Thinkpad-X131e.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-NUC6i3SYH-2016.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE-in-Toshiba-Satellite-Pro-C850-19W.png]]</nowiki>

== Backup and Restore ==

There is a backup file of the original system. The system as stored in the '''casper-rw''' partition can be restored to the original state from the tarball '''1-casper-rw.tar.gz''', but the content of the '''usb-data''' partition is still there, and other (more current states can be backed up and restored from other tarballs. It is a good idea to store copies of the backup files (tarballs) in a separate drive.

See this link for more details, <nowiki>[[..-#Backup_and_restore_of_persistent_overlay_data]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE_16_04_02_32_persistent_live_backup-and-restore_after-backup.png]]</nowiki>

<nowiki>[[File:../../pictures/persist-26-LXLE_16_04_02_32_persistent_live_backup-and-restore_after-restore.png]]</nowiki>

-----
<nowiki>[[..-|Return to the main mkusb-persistent page]]</nowiki>

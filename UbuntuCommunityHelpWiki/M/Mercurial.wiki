{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


'''This wiki document explains how to setup Mercurial on Ubuntu. The intended audience is experienced Linux users and system administrators.'''

=== Introduction ===

If you are new to Mercurial this section provides a quick introduction.

Mercurial is a fast, lightweight Source Control Management system designed for the efficient handling of very large distributed projects.

=== Assumptions ===

It is assumed that you are aware of how to run Linux commands,
edit files, start/stop services in an Ubuntu
system. It is also assumed that Ubuntu is running, you
have <nowiki>[[RootSudo|sudo access]]</nowiki> and you
want to use Mercurial software.

It is also assumed you have an internet connection.

=== Scope of this document ===

To install and configure Mercurial, as well as to install some useful extensions

=== Installation ===

Mercurial is included in the Universe repository - activate this repo first (if you haven't already).  Once you've finished simply execute.  We will also install meld, which is a graphical merge tool useful for resolving conflicting changes.

<pre>
    $ sudo apt-get install mercurial meld
</pre>

If it fails reporting dependencies, please locate the
packages and install them. If it reports any other issues,
please resolve them. If you cannot resolve the issue,
please refer the mailing list archive of those packages.

==== Installation from source ====

If you already have a version installed, remove it.
<pre>
sudo apt-get remove mercurial
</pre>

''You may need to `sudo apt-get purge mercurial` instead of `remove`.  `Purge` will delete configuration files, which `remove` keeps.''

Get the latest tarball from http://mercurial.selenic.com/release/.  We will call the file `mercurial-ver.tar.gz`, e.g. `mercurial-1.4.1.tar.gz`.   Extract it to a directory:
<pre>
tar xf mercurial-ver.tar.gz
cd mercurial-ver/
</pre>

Install to the local directory to make sure everything works:
<pre>
make local
./hg debuginstall
./hg version
</pre>

If that's OK, use `checkinstall` (see CheckInstall) to make a .deb package.  For the summary, put something descriptive like "Mercurial distributed revision control".  Accepting all of the defaults is usually sufficient.
<pre>
sudo checkinstall
</pre>
N.B. the version must have numbers in it.  If you're using a snapshot, you will probably want to put the date in there (e.g. 20091208).
<pre>
0 -  Maintainer: [ root@host ]
1 -  Summary: [ Mercurial distributed revision control ]
2 -  Name:    [ mercurial ]
3 -  Version: [ 1.4.1 ]
4 -  Release: [ 1 ]
5 -  License: [ GPL ]
6 -  Group:   [ checkinstall ]
7 -  Architecture: [ amd64 ]
8 -  Source location: [ mercurial-1.4.1 ]
9 -  Alternate source location: [  ]
10 - Requires: [  ]
11 - Provides: [ mercurial ]
</pre>

If all goes well, you should have a new mercurial installed.
<pre>
cd ~ # there was an hg in mercurial-ver/, remember?
hg version
</pre>

=== Configuration ===

Mercurial keeps system wide configuration options in the file /etc/mercurial/hgrc and user configuration options in ~/.hgrc (in your home directory). We will write some user configuration options to ~/.hgrc to tweak how Mercurial works.

Open an editor and Copy and Paste the following into ~/.hgrc:

<pre>

[ui]
username= Your Name <your.email@yourdomain.com>
editor=nano
merge=meld

[extensions]
hgext.gpg=
hgext.convert=

[gpg]
key=<your private gpg key>
</pre>

This sets the default username so that your name will show up on changesets you issue, changes the text editor to nano (default is vi) and sets meld as the merge program.  This also enables some useful extensions: GPG allows changesets to be cryptographically signed, while Convert allows Mercurial repositories to be created from existing CVS, SVN, or git repositories.

=== References ===
** <nowiki>[[http://www.selenic.com/mercurial/wiki/index.cgi/Mercurial|Mercurial Homepage]]</nowiki>
** <nowiki>[[http://www.selenic.com/mercurial/wiki/index.cgi/UsingExtensions|Using Extensions]]</nowiki>
** <nowiki>[[http://www.selenic.com/mercurial/wiki/index.cgi/GpgExtension|GPG Extension]]</nowiki>
** <nowiki>[[http://www.selenic.com/mercurial/wiki/index.cgi/ConvertExtension|Convert Extension]]</nowiki>
----

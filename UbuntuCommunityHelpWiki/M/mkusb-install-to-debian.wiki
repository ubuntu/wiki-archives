{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


<nowiki>[[..-|Return to the main mkusb page]]</nowiki>
-----

== How to install mkusb in Debian ==

=== Introduction ===

These methods are tested in Debian Wheezy, Jessie, Stretch & Bullseye. Debian Stretch works with mkusb-dus '''12.2.3''' and newer versions ('''12.7.1''' was tested on Bullseye).

There are instructions to install the ppa 'manually'. There is also an alternative to download the file(s) and check the download manually.

=== Warning ===

'''mkusb''' was developed for Ubuntu and Ubuntu community flavours. It works with Debian too, but it is more difficult to install in Debian compared to installing in Ubuntu.

'''If command line instructions feel awkward, or you feel uncertain about installing non-standard tools, you should read these instructions carefully more than once before actually using them.''' They work for me, who developed mkusb and made the instructions, but they may cause conflicts with other non-standard tools that may be installed in your Debian system. If you want peace of mind, you should follow the instructions at <nowiki>[[https://wiki.debian.org/DontBreakDebian#Don.27t_make_a_FrankenDebian|Don't make a FrankenDebian]]</nowiki>.

If you have a Debian based system, which is not pure Debian, there may also be problems. It is a good idea to check at <nowiki>[[https://help.ubuntu.com/community/mkusb/gui#Linux_distros_where_mkusb_works|Linux distros where mkusb works]]</nowiki>, if mkusb is tested with your particular operating system.

==== mkusb-min if you want it simple ====

'''Cloning:''' If you want it simple or do not want to install anything unknown, yet want to 'wrap a safety belt around dd', you can use '''mkusb-min'''. It is a small shellscript, that is easy to read and understand. It needs no installation, you can run the shellscript locally (in the current directory).

See the detailed description at '''<nowiki>[[..-min]]</nowiki>'''.

==== mkusb-minp if you want a little more ====

'''Cloning plus making persistent live:''' A new version of mkusb-min, '''mkusb-minp''', can do what mkusb-min does and also create persistent live drives from iso files of Debian 10 (and Ubuntu 19.10) and newer versions.

It is also a small shellscript (twice the size of mkusb-min, but still much smaller than mainstream mkusb). It is rather easy to read and understand and needs no installation. You can run the shellscript locally (in the current directory).

See the detailed description at '''<nowiki>[[..-minp]]</nowiki>'''.

=== Add the PPA manually to the file '/etc/apt/sources.list' ===

{| class="wikitable"
|-
| <#CCFF99> Edit 2021-11-29: This approach now produces deprecation warnings (apt-key was deprecated over a year ago), and there is a workaround, that may be necessary in the future: See <nowiki>[[https://unix.stackexchange.com/questions/679495/now-that-apt-key-is-deprecated-how-do-you-add-an-ubuntu-ppa-as-a-debian-apt-sou|Now that apt-key is deprecated, how do you add an Ubuntu PPA as a Debian APT source?]]</nowiki>
|}

In a terminal window or text screen, run your favourite editor for example
<pre>
sudo -H gedit /etc/apt/sources.list
</pre>
or a simple editor
<pre>
sudo nano /etc/apt/sources.list
</pre>
or in Debian 9 you may find the following file to edit
<pre>
sudo nano /etc/apt/sources.list.d/base.list 
</pre>

and add the line

<pre>
deb http://ppa.launchpad.net/mkusb/ppa/ubuntu focal main  # stable version, tested and reliable
</pre>
or add the line
<pre>
deb http://ppa.launchpad.net/mkusb/unstable/ubuntu focal main  # unstable version, newest features
</pre>

Save the file.

You could also add the PPA version for another version of Ubuntu instead of focal. They are the same, because mkusb is only a script with some help files, and they are independent of the version and flavour of the gnu-linux operating system. '''mkusb''' works as long as it has bash (the bash shell interpreter) and the standard programs.

You should also import a gpg key, which is used to verify the packages, that you intend to install,

<pre>
sudo apt-key adv --keyserver keyserver.ubuntu.com --recv 54B8C8AC
</pre>

'''dirmngr''' maybe needs to be installed for the key to be managed. This is the case with debian testing alias 'buster' 2017-07-28.

<pre>
sudo apt-get install dirmngr
</pre>

Then make the system aware of the PPA and its content with this command line
<pre>
sudo apt-get update
</pre>
and install mkusb, mkusb-nox and/or usb-pack-efi, so run this command line
<pre>
sudo apt-get install mkusb         # GUI version
</pre>
and/or the following command lines
<pre>
sudo apt-get install mkusb-plug    # with the plug-in method to identify the target device
sudo apt-get install usb-pack-efi  # only to install persistent live drives

sudo apt-get install dus           # general version provided with dialog menus for text mode
sudo apt-get install guidus        # dus with a GUI interface and zenity menus
</pre>

Now mkusb should be available from the menu (as well as from the command line).

'''Menu -- System Tools -- mkusb'''

If you do not import the key, there are warnings (or maybe even a failure),
<pre>
W: GPG error: http://ppa.launchpad.net focal Release: The following signatures couldn't be verified because the public key is not available: NO_PUBKEY 3729827454B8C8AC
</pre>
and
<pre>
WARNING: The following packages cannot be authenticated!
  mkusb
Install these packages without verification [y/N]?
</pre>

=== Install dus alias mkusb version 12 from a tarball ===

You find a tarball and instructions how to use it to install '''dus''' alias '''mkusb version 12''' via the following link, '''<nowiki>[[..-gui-tarball]]</nowiki>'''

=== Install mkusb-plug from a tarball ===

You find a tarball and instructions how to use it to install '''mkusb-plug''' via the following link, '''<nowiki>[[..-plug]]</nowiki>'''

=== Use mkusb ===

Check versions:
<pre>
$ sudo mkusb -v
mkusb-dus:  dus 12.5.4
mkusb-plug: mkusb-plug 2.7.1
mkusb-nox:  mkusb-nox 11.1.9
mkusb-bas:  mkusb version 7.4.3
mkusb-11:   mkusb 11.2.2
</pre>
Examples:
<pre>
mkusb [optional-input-file.iso]
dus    # mkusb version 12 alias dus
dus debian-xxx.iso
dus debian-yyy.img.xz
mkusb-plug debian-zzz.iso
</pre>

== Clonezilla and Knoppix are built on Debian ==

Clonezilla and Knoppix are special cases of Debian. They boot in a slightly different way, but after some tweaks, mkusb-dus version 12.2.0 and newer versions can be installed and used in live drives of these distros (also version 12.1.9 works with Clonezilla).

=== Clonezilla ===

'''mkusb''' is available via a '''<nowiki>[[..-persistent-clonezilla|compressed image file of a persistent live drive]]</nowiki>''' with Clonezilla, but does not create such a systems without special tweaks.

=== Knoppix ===

It is easy to create a live drive or persistent live drive with Knoppix 8.2 , and to install '''mkusb''' into it.

It is also easy to use the method of this wiki page to install mkusb version 12.2.0 and newer versions into Knoppix.

==== Create a [persistent] live drive from the Knoppix iso file ====

Burn a DVD or clone a USB drive from the Knoppix iso file.

* Use the 'burn an iso file' method. Several DVD burning tools will offer this method. (Do not create a data-DVD.)
* Knoppix 8.2 comes as a hybrid iso file. It can be cloned to a USB boot drive with a cloning tool for example 'Disks' alias 'gnome-disks' or 'mkusb' in linux and <nowiki>[[https://wiki.ubuntu.com/Win32DiskImager/iso2usb|'Win32 Disk Imager']]</nowiki> in Windows.

==== Run Knoppix persistent live ====

After cloning Knoppix uses the remaining space of the USB pendrive for a partition 'KNOPPIX-DATA' with the reiserfs file system. It manages to create a persistent live system automatically (after cloning)! This is a new feature in Knoppix version 8.2.

-----

<nowiki>[[..-|Return to the main mkusb page]]</nowiki>

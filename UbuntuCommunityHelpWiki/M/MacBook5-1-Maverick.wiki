{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__



== MacBook 5,1 and Ubuntu 10.10 (Maverick) ==
<nowiki>[[File:MacBooksmall.png]]</nowiki><<BR>><<BR>>
'''Under Development (Copied from MacBook5-1/Lucid)'''

This page aims to describe the steps needed, to fully enable all features of the '''1st Generation MacBook Unibody''' (release date: late 2008) when using '''Ubuntu 10.10, Maverick'''.<<BR>>

<nowiki>[[File:IconsPage/terminal.png]]</nowiki> You can find out, what model you have by typing at the terminal:<<BR>>
<pre>
sudo dmidecode -s system-product-name
</pre>

 If you have a different model, please go <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki> and find the right wiki.

=== Overview ===

Anything not mentioned here probably already works out of the box. If not, please refer to the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=328|Ubuntu Apple Users forum]]</nowiki>. 

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;">Feature
| <style="background-color: #f9eaaf;"> Support status
|-
| Wireless (Air``Port)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Desktop Effects (Compiz)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Touchpad (appletouch)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Keyboard functions (Brightness,volume,...)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Fans
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Sound
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Suspend & Hibernate
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| CD/DVD Writing
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| Bluetooth
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| External Monitor
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| iSight
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Apple USB 56K Modem
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| Apple Remote Control
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|}
<nowiki>[[File:IconsPage/ok.png]]</nowiki> (works out-of-the-box) <<BR>>
<nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki> (works, with remarks) <<BR>>
<nowiki>[[File:IconsPage/warning.png]]</nowiki> (needs manual install) <<BR>>
<nowiki>[[File:IconsPage/dont.png]]</nowiki> (won't work)<<BR>>
<nowiki>[[File:IconsPage/question.png]]</nowiki> (not yet documented)<<BR>>

=== Basic Installation Instructions ===
Common things about installing and maintaining Ubuntu on Intel-based Macs:
<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|Intel CPU-based Macintosh Generic Installation Instructions]]</nowiki>, but remember that rEFIT supports this Mac``Book only from 0.12.
If you don't get the option to install grub to /dev/sda3 during the installation as suggested in the installation instructions see this thread: <nowiki>[[http://ubuntuforums.org/showthread.php?t=1576028]]</nowiki> If the system does not boot via the refit menu, try using the built-in bootcamp chooser (reboot while holding the alt-key down).

=== Wireless (AirPort) ===
To enable wireless you need to install the restricted Broadcom STA driver.

Open and choose Broadcom STA in:

* '''System''' -> '''Administration''' -> '''Additional Drivers'''

if you already chose to install restricted software during Ubuntu's installation, the wireless card is automatically working.

=== Desktop Effects (Compiz) ===
You probably want to enable the proprietary graphics driver.

Open and choose the NVIDIA accelerated graphics driver (version Current) in:

* '''System''' -> '''Administration''' -> '''Additional Drivers'''

If you find that the screen never comes back awake after suspending, you should try other versions of the drivers.

=== Trackpad ===
Left-click, right-click (two finger)use and basic trackpad work out of the box.

2 Finger drag-clicking, i.e. click with thumb, drag with finger as in OSX, doesn't work. This is a limitation with the driver as far as I know. 

To enable two finger scrolling and tap to click:

* '''System''' -> '''Mouse''' -> '''Touchpad''' 

Thanks to http://bugs.debian.org/cgi-bin/bugreport.cgi?msg=10;att=0;bug=576456

You should disable the mouse plugin in gnome-settings-daemon, since gnome-control-center can't handle every possible touchpad setting via gnome-mouse-properties. Open a terminal and type
<pre>
gconftool-2 --type boolean --set /apps/gnome_settings_daemon/plugins/mouse/active false
</pre>
Then, edit your <code> /etc/X11/xorg.conf </code>:
<pre>
Section "InputDevice"
    Identifier     "Mouse0"
    Driver         "synaptics"
    Option         "Protocol" "auto-dev"
    Option         "Device" "/dev/psaux"
    Option         "SendCoreEvents" "true"
    Option         "LeftEdge" "100"
    Option         "RightEdge" "1120"
    Option         "TopEdge" "50"
    Option         "BottomEdge" "310"
    Option         "FingerLow" "5"
    Option         "FingerHigh" "20"
    Option         "MaxTapTime" "100"
    Option         "MaxTapMove" "150"
    Option         "MaxDoubleTapTime" "180"
    Option         "VertScrollDelta" "20"
    Option         "HorizScrollDelta" "50"
    Option         "MinSpeed" "0.49"
    Option         "MaxSpeed" "0.78"
    Option         "AccelFactor" "0.0010"
    Option         "LockedDrags" "false"
    Option         "TapButton1" "1"
    Option         "TapButton2" "3"
    Option         "TapButton3" "2"
    Option         "VertTwoFingerScroll" "true"
    Option         "HorizTwoFingerScroll" "false"
    Option         "FastTaps" "true"
    Option         "VertEdgeScroll" "false"
    Option         "HorizEdgeScroll" "false"
    Option         "SHMConfig" "true"
EndSection
</pre>
If you keyboard stops working, add this lines too:
<pre>
Section "InputDevice"
    Identifier     "Keyboard0"
    Driver         "kbd"
EndSection
</pre>
If you want you can change these settings in order to reach your preferred config. Check man synaptics to find all options and tuning.

=== Keyboard functions ===
Adjusting the screen brightness works out of the box with the default "nv" graphics driver.

Using restricted NVIDIA graphics driver(Current Version) need to install "nvidia-bl-dkms" from the <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA#Installation|Mactel PPA repository]]</nowiki>, to fix brightness adjusting.
<<BR>>
<pre>
sudo apt-get install nvidia-bl-dkms 
</pre>

=== Fans ===
According to this thread <nowiki>[[http://ubuntuforums.org/showthread.php?t=969183/|Macbook (5,1) hotter in linux than in OSX ]]</nowiki> Macbooks running Ubuntu get hotter than in OS X. Swedishwings (<nowiki>[[http://ubuntuforums.org/showthread.php?t=1467062&page=5|Fan control for mactel-support repo ]]</nowiki>) has created the following solution (from the Mactel PPA repository <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA#Installation|Mactel PPA repository]]</nowiki>):

<pre>
sudo apt-get install macfanctld 
</pre>

=== Sound ===
Stereo sound works out of the box.

==== Microphone ====
The internal microphone works out of the box.  You will need to increase the input volume:

* '''System''' -> '''Preferences''' -> '''Sound''' -> '''Input'''

==== Optical Audio Output ====
Optical Audio Oputput is always on (battery consuming??). If you look INTO the headphone jack-hole, you'll see a red light.

To disable it, run 'alsamixer' in a terminal. There should be a switch called S/PDIF that you can turn off. 

To save the profile:
<pre>
$ sudo alsactl store
</pre>

To restore the profile:
<pre>
$ sudo alsactl restore
</pre>

As highlighted on this thread <nowiki>[[http://ubuntuforums.org/showthread.php?t=1290130|Volume problems]]</nowiki> we will need to launch restore command on startup.

Open and choose 'Add' in:

* '''System''' -> '''Preferences''' -> '''Startup Applications'''

Then enter the following details for each field:

Name: <code>alsactl</code>

Command: <code>alsactl restore</code>

Comment: <code>fix for pulse</code>

Click 'Save'.

=== Suspend/Hibernate ===
Suspend works out of the box, lifting the clamshell does auto-wake.

'''Hibernate not tested'''
Hibernate does not work in comination with rEFIt (or at all?), because the resume code doesn't get triggerd and it boots normal. Certain versions of the proprietary video drivers can also prevent the screen from showing anything after waking up, so try downgrading if you find this affects you.

=== Remote Control ===
Works with the small Apple Remote and LIRC (although auto-repeat appears to be broken, and you have to leave a second or so between repeated key presses). Install the lirc package. There are many possible
configurations, here is one that simply injects standard keys into X when pressing the keys on the remote.

Edit the file /etc/lircd.conf to contain the following text:
<pre>
begin remote

  name  AppleRemote
  bits            8
  eps            30
  aeps          100

  one             0 0
  zero            0 0
  pre_data_bits   24
  pre_data        0x87EE81
  gap             211982
  toggle_bit_mask 0x0
  ignore_mask     0x0000ff01

      begin codes
          KEY_VOLUMEUP       0x0B
          KEY_VOLUMEDOWN     0x0D
          KEY_PREVIOUSSONG   0x08
          KEY_NEXTSONG       0x07
          KEY_PLAYPAUSE      0x04
          KEY_MENU           0x02
      end codes

end remote
</pre>

Edit the remote section of the file /etc/lirc/hardware.conf to contain the following text:
<pre>
REMOTE="Apple Mac mini USB IR Receiver"
REMOTE_MODULES="uinput"
REMOTE_DRIVER="macmini"
REMOTE_DEVICE=""
REMOTE_LIRCD_CONF=""
REMOTE_LIRCD_ARGS="--uinput"
</pre>

Restart and enjoy remote controlling the master volume and rhythmbox. :-)

=== Known Issues ===
==== Battery Life ====
The battery under Ubuntu is shorter than in OS X.
Enabling laptop mode has been reported to increase battery life. To enable laptop mode 

<<BR>>
<pre>
sudo apt-get install laptop-mode-tools 
</pre>
<<BR>>

Please note that enabling laptop mode will uninstall "pm-utils" which will prevent Suspend mode from working when the lid is closed. See here for more information <nowiki>[[http://ubuntuforums.org/archive/index.php/t-1606511.html|Macbook 5.5, Maverick, Suspend not working ]]</nowiki>

----
<nowiki>[[https://help.ubuntu.com/community/CategoryMac|CategoryMac]]</nowiki> 
----
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> Please update this page, if you have figured out anything, that is not mentioned here!
|}
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel docummentation going on.
|}
<<BR>><<BR>>

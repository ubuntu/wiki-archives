{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



== MacBook 5,1 and Ubuntu 10.04 (Lucid) ==
<nowiki>[[File:MacBooksmall.png]]</nowiki><<BR>><<BR>>

This page aims to describe the steps needed, to fully enable all features of the '''1st Generation MacBook Unibody''' (release date: late 2008) when using '''Ubuntu 10.04, Lucid'''.<<BR>>
<<BR>>
<nowiki>[[File:IconsPage/terminal.png]]</nowiki> You can find out, what model you have by typing at the terminal:<<BR>>
<pre>
sudo dmidecode -s system-product-name
</pre>
<<BR>>
 If you have a different model, please go <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki> and find the right wiki.

=== Overview ===

Anything not mentioned here probably already works out of the box. If not, please refer to the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=328|Ubuntu Apple Users forum]]</nowiki>. 

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;">Feature
| <style="background-color: #f9eaaf;"> Support status
|-
| Sound
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Suspend & Hibernate
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Desktop Effects (Compiz)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Keyboard functions (Brightness,volume,...)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Fans
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| CD/DVD Writing
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| Bluetooth
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| External Monitor
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| Wireless (Air``Port)
| <nowiki>[[File:IconsPage/warning.png]]</nowiki>
|-
| iSight
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Touchpad (appletouch)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Apple USB 56K Modem
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| Apple Remote Control
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|-
| Firewire
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|}
<nowiki>[[File:IconsPage/ok.png]]</nowiki> (works out-of-the-box) <<BR>>
<nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki> (works, with remarks) <<BR>>
<nowiki>[[File:IconsPage/warning.png]]</nowiki> (needs manual install) <<BR>>
<nowiki>[[File:IconsPage/dont.png]]</nowiki> (won't work)<<BR>>
<nowiki>[[File:IconsPage/question.png]]</nowiki> (not yet documented)<<BR>>

=== Basic Installation Instructions ===
Common things about installing and maintaining Ubuntu on Intel-based Macs:
<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|Intel CPU-based Macintosh Generic Installation Instructions]]</nowiki>, but remember that rEFIT supports this Mac``Book only from 0.12.
If you don't get the option to install grub to /dev/sda3 during the installation as suggested in the installation instructions see this thread: <nowiki>[[http://ubuntuforums.org/showthread.php?t=1576028]]</nowiki> If the system does not boot via the refit menu, try using the built-in bootcamp chooser (reboot while holding the alt-key down).

=== Wireless (AirPort) ===
To enable wireless you need to install the restricted Broadcom STA driver. If you don't have wired internet access, download these packages using another computer:
# <nowiki>[[http://packages.ubuntu.com/lucid/patch]]</nowiki>
# <nowiki>[[http://packages.ubuntu.com/lucid/dkms]]</nowiki>
# <nowiki>[[http://packages.ubuntu.com/lucid/bcmwl-kernel-source]]</nowiki>
Install them in this order (by double clicking them). Then restart the computer.

=== Desktop Effects (Compiz) ===
You probably want to enable the proprietary graphics driver. Go to System -> Administration -> Hardware Drivers and choose the NVIDIA accelerated graphics driver (version 185). If you find that the screen never comes back awake after suspending, you should try other versions of the drivers.

=== Trackpad ===
Left-click, right-click (two finger)use and basic trackpad work out of the box.

2 Finger drag-clicking, i.e. click with thumb, drag with finger as in OSX, doesn't work. This is a limitation with the driver as far as I know. 

To enable two finger scrolling and tap to click:

* '''''System''''' ''>'' '''''Mouse''''' ''>'' '''''Touchpad''''' 

In Karmic you could make the trackpad respond more like it does in OSX with a hal fdi file. Since Hal is deprecated you can use the xinput command

use 
<code>xinput list</code>
to find the id of the trackpad. most like it is named 'bcm5974'
then use
<code>xinput list-props <id></code>
to get a list of al the properties, the ids and the format for the value
then use 
<code>xinput set-prop <id> <property id> <value></code>
to change things

=== Keyboard functions ===

Adjusting the screen brightness works out of the box with the default "nv" graphics driver. But when you install the restricted NVIDIA graphics driver, you will need to install nvidia-bl-dkms from the <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA#Installation|Mactel PPA repository]]</nowiki>.
<<BR>>
<pre>
sudo apt-get install nvidia-bl-dkms 
</pre>
<<BR>>
=== Fans ===
According to this thread <nowiki>[[http://ubuntuforums.org/showthread.php?t=969183/|Macbook (5,1) hotter in linux than in OSX ]]</nowiki> Macbooks running Ubuntu get hotter than in OS X. Swedishwings (<nowiki>[[http://ubuntuforums.org/showthread.php?t=1467062&page=5|Fan control for mactel-support repo ]]</nowiki>) has created the following solution (from the Mactel PPA repository <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA#Installation|Mactel PPA repository]]</nowiki>):
<<BR>>
<pre>
sudo apt-get install macfanctld 
</pre>
<<BR>>

=== External Monitor ===

=== Headphones ===
Stereo sound works out of the box, although is set to mute by default.

Headphones are labeled "HP" in alsamixer, and are muted by default.

The outstanding sound issues with MacBook 5,1 are described here:
  https://bugs.launchpad.net/ubuntu/+source/alsa-driver/+bug/488103

==== Microphone ====

The internal microphone works out of the box.  You will need to increase the input volume:

* '''''System''''' ''>'' '''''Preferences''''' ''>'' '''''Sound''''' ''>'' '''''Input'''''

=== Suspend/Hibernate ===
Suspend works out of the box, the power button needs to be pressed though, lifting the clamshell doesn't auto-wake. Hibernate does not work in comination with rEFIt (or at all?), because the resume code doesn't get triggerd and it boots normal. Certain versions of the proprietary video drivers can also prevent the screen from showing anything after waking up, so try downgrading if you find this affects you.

=== Remote Control ===
Works with the small Apple Remote and LIRC (although auto-repeat appears to be broken, and you have to leave a second or so between repeated key presses). Install the lirc package. There are many possible
configurations, here is one that simply injects standard keys into X when pressing the keys on the remote.

Edit the file /etc/lircd.conf to contain the following text:
<pre>
begin remote

  name  AppleRemote
  bits            8
  eps            30
  aeps          100

  one             0 0
  zero            0 0
  pre_data_bits   24
  pre_data        0x87EE81
  gap             211982
  toggle_bit_mask 0x0
  ignore_mask     0x0000ff01

      begin codes
          KEY_VOLUMEUP       0x0B
          KEY_VOLUMEDOWN     0x0D
          KEY_PREVIOUSSONG   0x08
          KEY_NEXTSONG       0x07
          KEY_PLAYPAUSE      0x04
          KEY_MENU           0x02
      end codes

end remote
</pre>

Edit the remote section of the file /etc/lirc/hardware.conf to contain the following text:
<pre>
REMOTE="Apple Mac mini USB IR Receiver"
REMOTE_MODULES="uinput"
REMOTE_DRIVER="macmini"
REMOTE_DEVICE=""
REMOTE_LIRCD_CONF=""
REMOTE_LIRCD_ARGS="--uinput"
</pre>

Restart and enjoy remote controlling the master volume and rhythmbox. :-)

=== Known Issues ===
==== Battery Life ====
The battery under Ubuntu is shorter than in OS X.
Enabling laptop mode has been reported to increase battery life. To enable laptop mode 

<<BR>>
<pre>
sudo apt-get install laptop-mode-tools 
</pre>
<<BR>>

----
<nowiki>[[https://help.ubuntu.com/community/CategoryMac|CategoryMac]]</nowiki> 
----
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> Please update this page, if you have figured out anything, that is not mentioned here!
|}
<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel docummentation going on.
|}
<<BR>><<BR>>

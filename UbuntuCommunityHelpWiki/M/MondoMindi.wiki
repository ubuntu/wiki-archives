{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

=== What is Mondo Rescue? ===
From the website (http://www.mondorescue.org) How To:

Mondo Rescue is a Disaster Recovery Solution which allows you to effortlessly backup and interactively restore Linux, Windows and other supported filesystem partitions to/from CD-R/RW media, tape, NFS, ... and Mindi Linux provides the bootable emergency restore CD/floppy set which Mondo uses at boot-time.

=== For Trusty (Ubuntu 14.04 LTS) ===

Please open a Terminal and copy-paste the following commands one by one into the Terminal to install mondo (press <ENTER> after each line):

<pre>
cd /tmp
</pre>

<pre>
rm *.list
</pre>

<pre>
wget ftp://ftp.mondorescue.org/ubuntu/`lsb_release -r|awk '{print $2}'`/mondorescue.sources.list
</pre>

<pre>
sudo cp mondorescue.sources.list /etc/apt/sources.list.d/mondorescue.sources.list
</pre>

<pre>
sudo apt-get update
</pre>

<pre>
sudo apt-get install mondo afio buffer lzop mindi mindi-busybox
</pre>

<pre>
sudo ln -s /sbin/parted2fdisk /usr/sbin/parted2fdisk
</pre>

<pre>
sudo ln -s /sbin/mke2fs /usr/sbin/mke2fs
</pre>

Now Mondo Archive v3.2.120150305095420-0 is installed, including the required dependencies (afio buffer lzop mindi mindi-busybox)

Then you can run mondo using the following commands:

<pre>
sudo mondoarchive
</pre>

or

<pre>
sudo mondorestore
</pre>

=== For Precise Pangolin (Ubuntu 12.04 LTS) ===

Please open a Terminal and copy-paste the following commands one by one into the Terminal to install mondo (press <ENTER> after each line):

<pre>
wget ftp://ftp.mondorescue.org/ubuntu/`lsb_release -r|awk '{print $2}'`/mondorescue.sources.list
</pre>

<pre>
sudo sh -c "cat mondorescue.sources.list >> /etc/apt/sources.list"
</pre>

<pre>
sudo apt-get update
</pre>

<pre>
sudo apt-get install mondo mindi
</pre>

Now Mondo Archive v3.0.1-r2957 is installed, including the required dependencies(afio buffer lzop mindi mindi-busybox ntfsprogs)

Then you can run mondo using the following commands:

<pre>
sudo mondoarchive
</pre>

or

<pre>
sudo mondorestore
</pre>

=== Procedure for Breezy Badger (unsupported Ubuntu 5.10 ) - needs update for Ubuntu 14.04 LTS ===

The procedure below contains a step-by-step procedure and a script for setting up mondo/mindi backup and recovery on an Ubuntu Breezy box.

==== Description of this solution ====
The mondo/mindi configuration described herein comes courtesy of Nick Wheeler, who uses a similar procedure to backup
servers at work.  I'm going to first describe the ''roll your own'' solution, building everything from source, and
then hopefully Nick will help me refine and simplify the process so that x86 Ubuntu Breezy boxes can be setup with a
single install script (see below:).

==== The "Roll Your Own" Solution ====
===== Prerequisites =====
Make sure you have the following packages installed:

# gcc
# make
# libnewt-dev
# buffer
# gawk
# syslinuxThe Microsoft command "sys.exe"
# afio
# cdrecord
# mkisofs

If you intend to back up unconventional partition types additional tools will be needed.
In the script below these optional tools are ignored.
However, These include:

# mtools
# ms-sys
# Other closed file system emulator/drivers

===== Limitations =====
# This method (and script) has been tested and will operate in a Dapper or a Breezy environment.
# This method (and script) has not been tested in a Hoary environment
# This method (and script) will not function in a Warty environment
''     testing performed March 2006 in the flint linux candy lab, Montpelier, Vermont''

===== Installation Procedure =====
# sudo su -
# mkdir /usr/local/mondoiso
# cd /usr/local/src
# download each of the following (note: there may be newer versions of each of these by the time you read this, but I plan only to test this procedure every 6 months - with each Ubuntu release - and to put a version know to work in a safe place):
** http://ibiblio.org/jelkner/mondo_mindi/mondo-2.06-r266.tar.bz2
** http://ibiblio.org/jelkner/mondo_mindi/mindi-1.06-r266.tar.bz2
** http://ibiblio.org/jelkner/mondo_mindi/mindi-kernel-1.0.tgz
0. Now uncompress the archives:
** tar -xvjf mondo-2.06-r266.tar.bz2
** tar -xvjf mindi-1.06-r266.tar.bz2
** tar -xvzf mindi-kernel-1.0.tgz
0. Build and install the pieces:
** cd mondo-2.06
** ./configure
** make
** make install
** cd ../mindi-1.06 (note: CHANGES and chown warnings may be safely ignored)
** ./install.sh
** cd ../mindi-kernel-1.0
** ./install.sh
** mv /usr/local/share/mindi/* /usr/local/lib/mindi
0. Create the mondobackup script:
** cd /usr/local/bin/
** put the following in a file named <code>mondobackup</code>: <pre>
     mondoarchive -Oi -d /usr/local/mondoiso -9 -F -E "/usr/local/mondoiso /usr/local/mondo" -k FAILSAFE
### 
### -Oi tells mondo to back up the system, and to back it up to ISO files.
### -d is the destination for the ISO files to be put
### -9 is the compression level
### -F tells mondo not to offer to write boot+data floppy disk images.
### -E is the exclusion directory, anything listed in that is excluded.
### -k FAILSAFE tells mondo to use the FAILSAFE kernel, because your kernel has cramfs in it.</pre>
0. chmod +x mondobackup

==== Using Mondo/Mindi ====
You now have mondo/mindi installed on your system.  To make cdimages which can be used to backup and restore your
system on the same or another machine do the following:

0. as root run <code>mondobackup</code>.

That's it!  <code>mondobackup</code> will call mondo and mindi to make iso images of your system in <code>/usr/local/mondoiso</code>.
Burn each image onto a cd, then boot the target machine from the first cd to begin the restoration process.

Note: If you happen to use SCSI, and the failsafe kernel doesn't work for you, download and install kernel-image-2.6.14.2-baseline-4.2_10.00.Custom_i386.deb, but make sure to edit your grub/lilo so it doesn't use this kernel as your default kernel (unless you want to). Then you have to reboot into the kernel and then you can perform your backup, but remove the -k FAILSAFE switch from /usr/local/bin/mondobackup. This is messy and silly, there will be a better/universal way in the very near future.

** http://ibiblio.org/jelkner/mondo_mindi/kernel-image-2.6.14.2-baseline-4.2_10.00.Custom_i386.deb
** dpkg -i kernel-image-2.6.14.2-baseline-4.2_10.00.Custom_i386.deb

==== Mondo Mindi Wheeler Script ====
by Paul Flint

This script actually works. Download the script from https://docbox.flint.com/bazaar/MondoMindi/mm.sh, next chmod +X it, become root, and tourch it off. It appears that Version 0.5 is worth testing with.

----
CategoryBackupRecovery

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[https://help.ubuntu.com/community/MacBook5-1?action=show|<nowiki>[[File:IconsPage/index.png|up]]</nowiki></nowiki>]]

== MacBook Pro(5,1) and (5,2) on Ubuntu 10.10(Maverick Meerkat) ==
This page aims to describe the steps needed, to fully enable all features of the '''5th Generation <nowiki>[[MacBookPro|MacBook Pro]]</nowiki>''' (release date: late 2008, early 2009) when using '''Ubuntu 10.1, Maverick Meerkat'''.<<BR>>
<<BR>>
<nowiki>[[File:IconsPage/terminal.png]]</nowiki> You can find out what model you have by typing at the terminal:<<BR>>
<pre>
sudo dmidecode -s system-product-name
</pre>
<<BR>>
This should either return '''<nowiki>[[MacBookPro5,1|MacBookPro5,1]]</nowiki>''' or '''<nowiki>[[MacBookPro5,2|MacBookPro5,2]]</nowiki>'''. If not, this page is not really so well suited for your situation. If you have a <nowiki>[[MacBookPro|MacBook Pro]]</nowiki>, but a different hardware revision, please go to the <nowiki>[[https://help.ubuntu.com/community/MacBookPro|MacBook Pro start page]]</nowiki>. If you have a different Intel CPU-based Macintosh product, go to the <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|Mactel Community Help Pages]]</nowiki> to find the right wiki.

=== Overview ===

Anything not mentioned here probably already works out of the box. If not, please refer to the <nowiki>[[http://ubuntuforums.org/forumdisplay.php?f=328|Ubuntu Apple Users forum]]</nowiki>.

{| class="wikitable"
|-
| <style="background-color: #f9eaaf;">Feature
| <style="background-color: #f9eaaf;"> Support status
|-
| Sensors (temps & fans)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Suspend & Hibernate
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Reboot
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Desktop Effects (Compiz)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| HFS+ (only read)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| CD/DVD Writing
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Bluetooth
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Screen brightness adjustment
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Keyboard functions (Brightness, volume, etc)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki>
|-
| Sound
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Microphone
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| External Monitor
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Wireless (Air``Port)
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Trackpad
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Webcam/iSight
| <nowiki>[[File:IconsPage/ok.png]]</nowiki>
|-
| Apple Remote Control
| <nowiki>[[File:IconsPage/question.png]]</nowiki>
|}
<nowiki>[[File:IconsPage/ok.png]]</nowiki> (works out-of-the-box) <<BR>>
<nowiki>[[File:IconsPage/ok.png]]</nowiki> <nowiki>[[File:IconsPage/info.png]]</nowiki> (works, with remarks) <<BR>>
<nowiki>[[File:IconsPage/warning.png]]</nowiki> (needs manual install) <<BR>>
<nowiki>[[File:IconsPage/dont.png]]</nowiki> (won't work)<<BR>>
<nowiki>[[File:IconsPage/question.png]]</nowiki> (not yet documented)<<BR>>

=== Basic Installation Instructions ===

Common things about installing and maintaining Ubuntu on Intel-based Macs:
<nowiki>[[https://help.ubuntu.com/community/MactelSupportTeam/AppleIntelInstallation|Intel CPU-based Macintosh Generic Installation Instructions]]</nowiki>, but remember that rEFIT supports this Mac``Book only from 0.12. For 64Bit Ubuntu use rEFITt 0.14 or higher. Info
rmation about rEFIt can be found at http://refit.sourceforge.net/

=== Package Support for Intel Macs ===
Install the modules from the <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/PPA|MactelSupportTeam/PPA]]</nowiki>.
Lucid Lynx kernel 2.6.32 has all that you need to make your <nowiki>[[MacBookPro5-1_5-2|MacBook Pro 5,1]]</nowiki> work, but to make the buttons for keyboard backlight work you need to add this PPA:
<pre>
sudo add-apt-repository ppa:alexmurray/ppa
sudo apt-get update && sudo apt-get upgrade
</pre>
<<BR>>
Then upgrade upower and gnome-power-manager and on reboot your keyboard backlight should work.

=== Boot/GRUB/Plymouth ===
Boot was nice the first boot for me, but i dist-upgraded from Lucid.
x900)

=== Reboot ===
Not tested yet.

=== Suspend & Hibernate ===
Suspend is working out of the box felt pretty fast.

Hibernate  not tested.

=== Wireless ===
STA drivers in the non-free Hardware drivers can be installed.  You will need a wired Internet connection to do this.  Go to System->Administration->Hardware Drivers.  Select the Broadcom STA options and click enable.

Is the connectivity more stable than it was in Lucid?

=== Sensors ===
To enable all these sensors:

* One motion sensor <<BR>>
* Ambient light sensor<<BR>>
* One fan sensor<<BR>>
* 16 temperature sensors<<BR>>

You have to edit ''/etc/modules'':
<pre>
gksudo gedit /etc/modules
</pre>
And add at the end:
<pre>
coretemp
applesmc
</pre>

After a reboot (or modprobing the modules), they will be recognized. You can verify this by using
<pre>
dmesg | grep apple
</pre>
Output should be something like:
<pre>
[  975.586518] applesmc: Apple MacBook Pro 5 detected:
[  975.586522] applesmc:  - Model with accelerometer
[  975.586524] applesmc:  - Model with light sensors and backlight
[  975.586526] applesmc:  - Model with 20 temperature sensors
[  975.587187] applesmc: device has already been initialized (0xe0, 0x00).
[  975.587189] applesmc: device successfully initialized.
[  975.588120] applesmc: 2 fans found.
[  975.590446] input: applesmc as /devices/platform/applesmc.768/input/input10
[  975.594503] applesmc: driver successfully loaded.
</pre>

Unfortunately, none of the sensors have correct names.  There is a legacy description suitable for other MacBook's at <nowiki>[[http://mactel-linux.sourceforge.net/wiki/AppleSMC|the old mactel-linux site]]</nowiki> with an (incorrect) sample sensors.conf at <nowiki>[[http://www.mail-archive.com/mactel-linux-devel@lists.sourceforge.net/msg00516.html|this mactel 2007 mail thread]]</nowiki>.

Add this to your sensors.conf or sensors3.conf file to provide context for some of the temperature sensors (this was generated on a MBP 5,2):
<pre>
chip "applesmc-isa-0300"
    label "temp1" "TB0T Enclosure Bottom 0"
    label "temp2" "TB1T Enclosure Bottom 1"
    label "temp3" "TB2T Enclosure Bottom 2"
    label "temp4" "TB3T Enclosure Bottom 3"
    label "temp5" "TC0D CPU Diode"
    label "temp6" "TC0F CPU ???"
    label "temp7" "TC0P CPU Pin"
    label "temp8" "TG0D GPU Diode"
    label "temp9" "TG0F GPU ???"
    label "temp10" "TG0H GPU Heatsink"
    label "temp11" "TG0P GPU Pin"
    label "temp12" "TG0T GPU Transistor"
    label "temp13" "TG1H GPU 2 Heatsink"
    label "temp14" "TN0D Northbridge Diode"
    label "temp15" "TN0P Northbridge Pin"
    label "temp16" "TTF0 Unknown"
    label "temp17" "Th2H Heatsink 2"
    label "temp18" "Tm0P Memory Controller"
    label "temp19" "Ts0P PCI Express Slot Pin"
    label "temp20" "Ts0S PCI Express Slot (unk)"
    label "fan1" "Left Fan"
    label "fan2" "Right Fan"

chip "coretemp-isa-0000"
   label temp1 "Core0"

chip "coretemp-isa-0001"
   label temp1 "Core1"
</pre>

=== Keyboard functions ===

Almost all keyboard functions work out of the box. The only exceptions I could find are the LED Backlighting controls and the Expose and Dashboard keys.

In order to have Ubuntu correctly recognize the keyboard backlight function, you have to add alexmurray's ppa and upgrade upower and gnome-power-manager:

<pre>
sudo add-apt-repository ppa:alexmurray/ppa
sudo apt-get update && sudo apt-get upgrade
</pre>

=== Bluetooth ===
Pairing works out of the box.  Beyond that, not tested.

If you have issues with Bluetooth, try to reset it with:

<pre>
sudo hciconfig hci0 reset
</pre>

If you want:
* send file: launch '''''Applications''''' ''>'' '''''Accessories''''' ''>'' '''''Bluetooth''''' (''bluetooth-applet'')
* receive file: set name and visibility with '''''System''''' ''>'' '''''Preferences''''' ''>'' '''''Bluetooth''''' (''bluetooth-property'') and launch '''''Applications''''' ''>'' '''''Accessories''''' ''>'' '''''Bluetooth File Sharing''''' (''gnome-obex-server'')

Remember that the system service ''Bluetooth device manager'' (''bluetoothd'') must be running in the background.

'''Note''': Did not succeed to connect two computers or to browse a device yet!

=== Trackpad ===

Left-click, right-click (two finger)use and basic trackpad work out of the box. To enable two finger scrolling and tap to click:

* '''''System''''' ''>'' '''''Preferences''''' ''>'' '''''Mouse''''' ''>'' '''''Touchpad'''''

=== Desktop Effects (Compiz) ===
You must enable the a non-free graphics driver to use Compiz. Go to System -> Administration -> Hardware Drivers and choose the NVIDIA accelerated graphics driver (version 190). It works on <nowiki>[[MacBookPro|MacBook Pro]]</nowiki>, you will have to reboot after install.

=== External Monitor ===
Works.
=== Sound ===

Works out the box

=== Microphone ===

Works out the box

Make sure the microphone is not muted and has enough volume in:

* '''''System''''' ''>'' '''''Preferences''''' ''>'' '''''Sound''''' ''>'' '''''Input'''''

=== Remote Control ===
No tested

=== Screen brightness adjustment ===

Works out of the box. See keyboard for changing the default operation of the function keys.

=== Known issues ===

Ubuntu gives you less than half of the battery time of macosX  if you're lucky. No matter how much time put into tweaking power management.
Some people claim efi booting can lower the requirements (since this exposes the 9400GT card for usage instead of the 9600) This is not my experience. The problem is it doesn't disable the 9600GT card when EFI booting. So even if you use the less power hungry card. Your 9600GT is still enabled and sucking your battery dry. You efi booting also makes you loose the capability to increase / decrease screen brightness in Ubuntu (see https://bugs.launchpad.net/ubuntu/+source/linux/+bug/153587) this is also true in  11.04 ye. Also EFI booting does not working on some 64-bit machines.(need bug report number)

However there is a way nowdays to disable the 9600 card with a tool called gpupwr when booted through efi mode.  Check the ubuntu forums for it.

You can also modify the xserever configuration file.

If you would like to constantly enable powersave mode add :
<pre>
Option     "RegistryDwords" "PowerMizerEnable=0x1; PerfLevelSrc=0x2222; PowerMizerDefault=0x3"
</pre>

If you would like powersave only when using the battery, use this instead.
<pre>
Option     "RegistryDwords" "PowerMizerEnable=0x1; PerfLevelSrc=0x2233; PowerMizerDefault=0x3"
</pre>

Note that, although users have experienced drops of several degrees C, using this option will lower performance for graphics-intensive applications.

==== Enable laptop-mode ====

'''WARNING''' laptop-mode-tools in maverick breaks suspend completely. See <nowiki>[[https://bugs.launchpad.net/ubuntu/+source/laptop-mode-tools/+bug/638307]]</nowiki> for more information on this bug. Until that is resolved, installing laptop-mode-tools WILL disable suspend on your system. If you have installed it already and broken suspend, you can resolve the issue by doing

<pre>
sudo aptitude install pm-utils
</pre>

Which will remove laptop-mode-tools.

Some users have reported power savings from enabling laptop mode. To do so, make sure  laptop-mode-tools is enabled
<pre>
sudo aptitude install laptop-mode-tools
</pre>

----

CategoryMac

----

<<BR>><<BR>>
{| class="wikitable"
|-
| <style="background-color: #f9eaaf;" tablewidth="100%"><nowiki>[[File:IconsPage/users.png]]</nowiki><<BR>> The <nowiki>[[http://ubuntuforums.org/group.php?groupid=352|MactelSupportTeam]]</nowiki> is about to restructure and reorganize the documentation for Intel-based Macs. If you are interested in helping, please visit our <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam|team page]]</nowiki> for information. For all Mactel wikis, there is a starting place <nowiki>[[https://wiki.ubuntu.com/MactelSupportTeam/CommunityHelpPages|here]]</nowiki>. There is also a <nowiki>[[http://ubuntuforums.org/showthread.php?t=969360|thread]]</nowiki> about planning the Mactel documentation going on.
|}
----
CategoryMac

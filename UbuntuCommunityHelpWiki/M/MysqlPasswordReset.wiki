{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


'''Please do not make any edits to this article.  Its contents are currently under review and being merged with the ''Ubuntu Server Guide''.  To find the Ubuntu Server Guide related to your specific version, please go to:'''

 '''https://help.ubuntu.com/ and click on ''Ubuntu Server Guide'''''

=== Why are you looking at this wiki page? ===

Are you looking at this page because you cannot access the mysql server installed on your pc/server when you were trying to see if it works well? Or do you receive error messages like the following? :

<pre>
ERROR 1045: Access denied for user: 'root@localhost' (Using 
password: NO)
</pre>

or

<pre>
ERROR 1045: Access denied for user: 'root@localhost' (Using 
password: YES)
</pre>

To resolve this problem ,a fast and always working way is the "Password Resetting" .

=== How can I reset my MySQL password? ===

<nowiki>[[File:IconsPage/warning.png]]</nowiki> Following this procedure, you will disable access control on the MySQL server. All connexions will have a root access. It is a good thing to unplug your server from the network or at least disable remote access.

To reset your mysqld password just follow these instructions :

* Stop the mysql demon process using this command :
   <pre>
   sudo /etc/init.d/mysql stop
   }}}
* Start the mysqld demon process using the --skip-grant-tables option with this command 
   {{{
   sudo /usr/sbin/mysqld --skip-grant-tables --skip-networking &
   }}}
'''Because you are not checking user privs at this point, it's safest to disable networking.'''
'''In Dapper, /usr/bin/mysqld... did not work. However, <code>mysqld --skip-grant-tables</code>  did.'''
* start the mysql client process using this command 
   {{{
   mysql -u root
   }}}
* from the mysql prompt execute this command to be able to change any password
   {{{
   FLUSH PRIVILEGES;
   }}}
* Then reset/update your password 
   {{{
   SET PASSWORD FOR root@'localhost' = PASSWORD('password');
   }}}
* If you have a mysql root account that can connect from everywhere, you should also do:
   {{{
   UPDATE mysql.user SET Password=PASSWORD('newpwd') WHERE User='root';
   }}}

* Alternate Method:
   {{{
   USE mysql
   UPDATE user SET Password = PASSWORD('newpwd')
   WHERE Host = 'localhost' AND User = 'root';
   }}}
* And if you have a root account that can access from everywhere:
   {{{
   USE mysql
   UPDATE user SET Password = PASSWORD('newpwd')
   WHERE Host = '%' AND User = 'root';
   }}}

For either method, once have received a message indicating a successful query (one or more rows affected), flush privileges:
{{{
FLUSH PRIVILEGES;
</pre>

Then stop the <code>mysqld</code> process and relaunch it with the classical way:
<pre>
sudo /etc/init.d/mysql stop
sudo /etc/init.d/mysql start
</pre>

When you have completed all this steps ,you can easily access to your mysql server with the password you have set in the step before.
An easy way to have a full control of your mysql server is phpmyadmin (www.phpmyadmin.net), software made in php that can give you a  web interface that can be very usefull to people that havent got a lot of confidence with bash .To install phpmyadmin on you server you will need to have 4 things:

* web server apache
* php 
* mysql server/mysql client installed
* php_mysql support for apache 

All packages can be found browsing synaptic.
----

=== Another way, purge ===

I also had some problems with mysql just not accepting my password. I tried the other way as well and it just ended up being difficult. I had not been able to use mysql so it was empty anyway. If this is also your case you may opt for the PURGE way. This removes every file related to mysql. Depending on your installation the packages might be diffrent, mysql-server in 6.10 is called mysql-server-5.0 as an example.

<nowiki>[[File:IconsPage/warning.png]]</nowiki> USE THIS AS A LAST RESORT METHOD, YOU WILL LOSE ALL YOUR MYSQL DATA

<pre>
sudo apt-get --purge remove mysql-server mysql-common mysql-client
</pre>

<pre>
sudo apt-get install mysql-server mysql-common mysql-client
</pre>

In the next step be sure to chance the your-new-password with the password you want!

<pre>
mysqladmin -u root password your-new-password
sudo /etc/init.d/mysql restart
</pre>

<pre>
mysql -u root -p
</pre>

You should now be logged in as root. Make sure to notedown your password!
Thanks to Illuvator for posting this method in the ubuntu forum.

=== The Easiest Method ===

<pre>
sudo dpkg-reconfigure mysql-server-N.N
</pre> (where N.N is the MySql Server version)

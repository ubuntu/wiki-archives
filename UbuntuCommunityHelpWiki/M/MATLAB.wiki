{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


Parent page: <nowiki>[[Programming|Programming Applications]]</nowiki>

== Introduction ==
MATLAB® is a high-level language and interactive environment that enables you to perform computationally intensive tasks faster than with traditional programming languages such as C, C++, and Fortran.

You can use MATLAB in a wide range of applications, including signal and image processing, communications, control design, test and measurement, financial modeling and analysis, and computational biology. Add-on toolboxes (collections of special-purpose MATLAB functions, available separately) extend the MATLAB environment to solve particular classes of problems in these application areas.

MATLAB provides a number of features for documenting and sharing your work. You can integrate your MATLAB code with other languages and applications, and distribute your MATLAB algorithms and applications.

== MATLAB R2014b on Ubuntu 14.04 ==

=== From ISO ===

* First, mount the .iso file of the image with right-click, Open with and select Disk image mounter (if required).
* Open a terminal and change to the mounted image file. For example:
    cd /media/username/MATHWORKS_R2014A

=== From Download ===

* Download the install file from http://www.mathworks.com/downloads/
* Unzip and open downloaded directoy

=== Install ===

* Run the installer as a super user
    sudo ./install
* Follow the instructions of the installer and install in /usr/local/MATLAB/R2014a
* To add an entry to the launcher and some other features, install the matlab-support package:
    sudo apt-get install matlab-support
* During the installation you have to confirm the installation path of matlab and could restrict the installation only to certain users (which I did not require). In addition you could rename the GCC libraries, but I had no problems so far so I didn't deactivate those.
* After completion, you have to change the ownership of the .matlab folder in the home folder to your own user account if you do not want to run Matlab as a super user.
    sudo chown username -R ~/.matlab

Now Matlab should also be launchable through unity and should work as intended.

== MATLAB R2012a ==
=== Important Note Regarding Ubuntu 12.04 ===
MATLAB R2012a was released on March 1, 2012. Please note that this is prior to the release of Ubuntu 12.04. Consequently Ubuntu 12.04 is not a supported operating system for MATLAB R2012a as it can be seen in the <nowiki>[[http://www.mathworks.nl/support/sysreq/roadmap.html|MATLAB Roadmap]]</nowiki>.

MATLAB R2012a users are strongly encouraged to install R2012a on <nowiki>[[https://wiki.ubuntu.com/LucidLynx|Ubuntu 10.04 LTS]]</nowiki> or <nowiki>[[https://wiki.ubuntu.com/MaverickMeerkat|Ubuntu 10.10]]</nowiki> for best results. Help for the installation of MATLAB R2012a on Ubuntu 12.04 will however be given through this tutorial.

=== Important Note Regarding Student version (32-bit) ===

Unfortunately, 32-bit is the only version available to students.

If you have a 64-bit system, you will have some trouble but it is normally possible to go through each of them and the details are in the '''Troubleshooting''' section.

The following helps you be a length ahead of these problem.
If you have a 64-bit system, you can still install 32-bit version of MATLAB.
However, you will need to <nowiki>[[apt:ia32-libs|install the "ia32-libs" package]]</nowiki> before the installation. If you have Ubuntu 13.10 or later, check out <nowiki>[[http://askubuntu.com/q/363878/198090|this thread]]</nowiki> for more information.

Once it is installed, run the installer with the `-glnx86` argument to force it to use 32-bit
<pre>
sudo /media/MATHWORKS_R2012A/install -glnx86 -v
</pre>
Though for R2012a it is not necessary anymore.
If you don't run it with the `-glnx86` argument, MATLAB will just say
<pre>
Could not find JRE for glnxa64.  Trying glnx86.
</pre>
at the start of the installation.
And it will use 32-bit.

Then, just follow the instructions of the '''Installation Instructions''' section.

After the installation, you will need to run MATLAB with the `-glnx86` argument to force it to use 32-bit
<pre>
matlab -glnx86
</pre>
See the '''Troubleshooting''' section for more details on this.

== Installation Instructions ==

=== Basic ===
 You will need superuser privileges. The assumption is that MATLAB install files are located at `/media/MATHWORKS_R2012a` in your filesystem.

See the '''Troubleshooting''' section if you get into trouble during the installation.

1. Run the MATLAB installer with the following Terminal command (The `-v` argument is for the `install` script to be verbose which means, it is more likely to warn you if something weird happens):
<pre>
sudo /media/MATHWORKS_R2012A/install -v
</pre>
If it complains about java, try installing <nowiki>[[apt:openjdk-6-jre|install ''OpenJDK Java 6'' package]]</nowiki> because MATLAB is not compliant with Java 7.

2. When prompted to ''''Choose installation type'''' you should select custom. This will allow you to create symbolic links to MATLAB  in `/usr/local/bin`.

<nowiki>[[File:r2011a-installation-type.png|Choose installation type]]</nowiki>

3. When prompted to ''''Specify installation folder'''' it is recommended that you use the default folder `/usr/local/MATLAB/R2012a` (or the default `/usr/local/MATLAB/R2012a_student` if you have a student version).

<nowiki>[[File:r2011a-folder-selection.png|Specify installation folder]]</nowiki>

If you have a student version, the default folder will be `/usr/local/MATLAB/R2012a_Student`.

4. When given the option to ''''Create symbolick links to MATLAB scripts in:'''' it is recommended that you check the box and use the supplied path `/usr/local/bin`.

<nowiki>[[File:r2011a-installation-options.png|Create symbolick links to MATLAB scripts in:]]</nowiki>

5. You can check that your installation work by executing the following command
<pre>
matlab
</pre>
See the '''Troubleshooting''' section if you get errors.

=== Create A MATLAB Launcher/shortcut ===

Automatic option: install package "matlab-support", `sudo apt-get install matlab-support` or via the Software Center on the dashboard.

Manual option as follows.

1. Get an icon:
<pre>
sudo wget http://upload.wikimedia.org/wikipedia/commons/2/21/Matlab_Logo.png -O /usr/share/icons/matlab.png
</pre>

2. Get the launcher file:
<pre>
sudo wget 'https://help.ubuntu.com/community/MATLAB?action=AttachFile&do=get&target=matlab-r2012a.desktop' -O /usr/share/applications/matlab.desktop
</pre>
If you have the student version of MATLAB (or simply the 32 bit version) on a 64 bit system, you will need to modify this file. Run
<pre>
gksudo gedit /usr/share/applications/matlab.desktop
</pre>
Then uncomment `#Exec=matlab -arch=glnx86 -desktop` and comment `Exec=matlab -desktop` (by adding or removing the `#` character).

If you get two MATLAB launcher icons in your Unity laucher, try uncommenting the following line in `/usr/share/applications/matlab.desktop`:
<pre>
StartupWMClass=com-mathworks-util-PostVMInit
</pre>

If your launcher does not work, see the '''Troubleshooting''' section.

=== MEX functions ===
----
===== Warning =====
The content of this section has been written for R2011a with Ubuntu 10.04 and 10.10.
It may vary a lot if you are using the R2012a with Ubuntu 12.04.
----
If you try to compile MEX functions you may see a message like the following:
<pre>

Warning: You are using gcc version "4.4.4-14ubuntu5)".  The version
         currently supported with MEX is "4.3.4".
         For a list of currently supported compilers see:
         http://www.mathworks.com/support/compilers/current_release/

</pre>
'''Note''' this is a warning - the MEX function will still compile.

The following instructions will setup gcc 4.3 and make it the default compiler for MATLAB:

1. Install The <nowiki>[[apt:gcc-4.3-multilib|GNU Compiler Collection 4.3]]</nowiki> and The <nowiki>[[apt:libstdc++6-4.3-dev|GNU Standard C++ Library]]</nowiki>

2. Make a MATLAB specific `bin` directory for gcc symlink.
<pre>
mkdir ~/.matlab/bin
</pre>
3. Symlink gcc to `gcc-4.3` via user MATLAB specific `bin` directory.
<pre>
ln -s /usr/bin/gcc-4.3 ~/.matlab/bin/gcc
</pre>
4. Add MATLAB specific `bin` directory to the front of your system $PATH within your local startup.m file.
<pre>
printf "setenv('PATH',sprintf('/home/%%s/.matlab/bin:%%s',getenv('USER'),getenv('PATH')));\n" >> ~/Documents/MATLAB/startup.m
</pre>

Steps 3 and 4 above may not work for at least one instance of a user trying to compile using MEX in MATLAB R2011a running on Ubuntu 10.10. An alternative is to do the following:

 3a. At the MATLAB Command Window prompt, type:
<pre>
mex -setup
</pre>
and choose option 2 which says:
<pre>
 2: /usr/local/MATLAB/R2011a/bin/mexopts.sh :
      Template Options file for building MEX-files via the system ANSI compiler
</pre>
This will copy to your home directory a local copy of the file `mexopts.sh`.

 4a. Then edit this local file:
<pre>
sudo gedit ~/.matlab/R2011a/mexopts.sh
</pre>
and replace all instances of `CC='gcc'` to `CC='gcc-4.3'`, `CXX='g++'` to `CXX='g++-4.3'`, and `FC='gfortran'` to `FC='gfortran-4.3'`. Save and exit. The next time you run MEX in MATLAB to compile it will work properly.

For more ideas, try <nowiki>[[http://ubuntuforums.org/showthread.php?t=623399|this thread]]</nowiki> or <nowiki>[[http://www.mathworks.com/matlabcentral/newsreader/view_thread/234894|this one]]</nowiki>.

=== Troubleshooting ===

==== No MATLAB bin directory for glnxa64 ====
If MATLAB tells you
<pre>
    ---------------------------------------------------------------------------
    Warning: Cannot locate Java Runtime Environment (JRE) . . .

1. Either a correct JRE was not available for redistribution when
                this release was shipped, in which case you should refer to the
                Release Notes for additional information about how to get it.

2. Or you have tried to use the MATLAB_JAVA environment variable
                to specify an alternate JRE, but MATLAB cannot find it.  Please
                run 'matlab -n' to determine what value you are using for
                MATLAB_JAVA and fix accordingly.
    ---------------------------------------------------------------------------

    matlab: No MATLAB bin directory for this machine architecture.

           ARCH = glnxa64
</pre>
when you launch it, you will need to force it to use `glnx86`.
----
===== Solution for the command line (CLI) launch =====
To do so, run
<pre>
matlab -glnx86
</pre>
If you like launching MATLAB from the command line, you will maybe find it inconvenient to write
`-glnx86` each time you need to launch it.
You can then add it in your `~/.bashrc` (at the end if you hesitate where to put it)
<pre>
alias matlab='matlab -glnx86'
</pre>
----
===== Solution for the graphical (GUI) launch =====
You will need to add the `-glnx86` argument to `matlab` in the exec line of your file `/usr/share/applications/matlab.desktop`
If you have followed the 'Create a MATLAB Launcher' section, you can just comment the line with the argument `-glnx86` and uncomment the next line as explained in the file.
----

==== libc.so.6 not found ====
If you have Ubuntu 12.04 you like get the following error when running Matlab graphically:
<pre>
/usr/local/bin/matlab: 1: /usr/local/MATLAB/R2012a/bin/util/oscheck.sh: /lib64/libc.so.6: not found
</pre>
or
<pre>
/usr/local/bin/matlab: 1: /usr/local/MATLAB/R2012a/bin/util/oscheck.sh: /lib/libc.so.6: not found
</pre>
Matlab R2012a targeted Ubuntu 10.04 and so it's looking for `libc.so.6` in a different location then where is found under Ubuntu 12.04 LTS. This can be fixed by making two small changes to matlab's oscheck.sh script.
<pre>
sudo cp /usr/local/MATLAB/R2012a/bin/util/oscheck.sh{,.original}
sudo chmod 755 /usr/local/MATLAB/R2012a/bin/util/oscheck.sh
sudo nano /usr/local/MATLAB/R2012a/bin/util/oscheck.sh
</pre>
Make these two edits: 
{| class="wikitable"
|-
| Line #177
| /lib/libc.so.6
| becomes
| /lib/i386-linux-gnu/libc.so.6
|-
| Line #184
| /lib64/libc.so.6
| becomes
| /lib/x86_64-linux-gnu/libc.so.6
|}

==== libXmu.so.6 not found ====
If you get
<pre>
/usr/local/MATLAB/R2012a_Student/bin/glnx86/MATLAB: error while loading shared libraries: libXmu.so.6: cannot open shared object file: No such file or directory
</pre>
just <nowiki>[[apt:ia32-libs|install the "ia32-libs" package]]</nowiki>.

==== Java problems ====
If you get
<pre>
exec: 2433: /tmp/install.dir.880/Linux/resource/jre/bin/java: not found
</pre>
or
<pre>
Exception in thread "main" java.lang.NoClassDefFoundError: Could not initialize class java.awt.Component
	at java.lang.Class.forName0(Native Method)
	...
Finished
</pre>
during the installation or MATLAB fails at startup after the installation is complete,
maybe you are trying to install a 32-bit version of MATLAB on a 64-bit system because you have the student version or for whatever reason (see '''Important Note Regarding Student version''' and '''How To Install 32-bit MATLAB on 64-bit system''').

In order to do that, you '''need''' to <nowiki>[[apt:ia32-libs|install the "ia32-libs" package]]</nowiki>.
===== Source =====
http://www.mathworks.nl/support/solutions/en/data/1-C7174M/index.html?product=PB&solution=1-C7174M

==== Matlab executable not in path ====
If the matlab executable is not in your PATH, the matlab.desktop file needs to be edited.
Replace
<pre>
matlab -desktop
</pre>
with the full executable path (default: /usr/local/MATLAB/R2012a/bin/matlab)
<pre>
/usr/local/MATLAB/R2012a/bin/matlab -desktop
</pre>

or you can add the Matlab bin folder in your path at login adding this line in your ~/.profile
<pre>
PATH=$PATH:/usr/local/MATLAB/R2012a/bin
</pre>

==== Failure loading desktop class ====
<pre>
Fatal Error on startup: Internal Error: Failure occurs during desktop startup. Details: Failure loading desktop class.
</pre>
That means Matlab has trooble loading the Java Virtual Machine. I solved it by asking him to use the jvm installed on Ubuntu and not the version shipped with MATLAB.
So do
<pre>
export MATLAB_JAVA=/usr/lib/jvm/java-7-openjdk-amd64/jre matlab
</pre>
for 64 bit MATLAB (install <nowiki>[[apt:openjdk-7-jre|install the "openjdk-7-jre" package first]]</nowiki>)
and
<pre>
export MATLAB_JAVA=/usr/lib/jvm/java-7-openjdk-i386/jre matlab -arch=glnx86
</pre>
for the student version (install <nowiki>[[apt:openjdk-7-jre:i386|install the "openjdk-7-jre:i386" package first]]</nowiki>).

If it works, update the file `/usr/share/applications/matlab.desktop` accordingly, changing
<pre>
Exec=matlab -arch=glnx86 -desktop
</pre>
to
<pre>
Exec=MATLAB_JAVA=/usr/lib/jvm/java-7-openjdk-i386/jre matlab -arch=glnx86 -desktop
</pre>
for example (for the student version).

== Previous Versions ==
* <nowiki>[[MATLAB-R2011a|R2011a]]</nowiki>
* <nowiki>[[MATLAB-R2010b|R2010b]]</nowiki>
* <nowiki>[[MATLAB-R2010a|R2010a]]</nowiki>
* <nowiki>[[MATLAB-R2009b|R2009b]]</nowiki>

== External Links ==
Compatibility information:
* < http://www.mathworks.nl/support/sysreq/sv-r2012a/linux.html > - System Requirements - Release 2012a
* < http://www.mathworks.com/support/compilers/R2012a/glnxa64.html > - Supported and Compatible Compilers – Release 2012a - Linux

For more information about MATLAB see the following links

* < http://www.mathworks.com/ > - MathWorks - MATLAB and Simulink for Technical Computing.
* < http://www.mathworks.com/products/matlab/ > - MATLAB - The Language Of Technical Computing
* < http://www.mathworks.com/access/helpdesk/help/techdoc/matlab.html > - MATLAB Documentation.
* < http://www.mathworks.com/support/ > - The MathWorks Support.
* < http://www.mathworks.com/matlabcentral/ > - MATLAB Central.
* < http://www.mathworks.com/matlabcentral/fileexchange/ > - MATLAB Central File Exchange.

----
CategoryScience

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Omschrijving ==

Soms komt het voor, dat u programma's of pakketten wilt installeren, die niet in de Ubuntu repositories voorkomen.<<BR>>
Wanneer ze ook nog afhankelijk zijn van andere pakketten, dan kan het gebruik van '''dpkg''' tot onoverkomelijke problemen leiden, '''apt''' gebruikem om deze problemen op te lossen zal niet echt helpen.<<BR>>
Er zijn grote en volledige manieren om uw eigen repositories te maken, zoals <nowiki>[[Debarchiver]]</nowiki> of <nowiki>[[Dak]]</nowiki>.<<BR>>
Deze zijn echter te groot en te gecompliceerd, wanneer maar van een paar pakketten, die u heeft gedownload, de afhankelijkheden wilt oplossen.<<BR>>
Een eenvoudiger oplossing is het gebruik van '''dpkg-scanpackages''', dat een repositorie maakt, die u kunt toevoegen aan uw sources.list file.<<BR>>

== Een Persoonlijke Repositorie maken ==

Er zijn 3 stappen nodig, om een eenvoudige repositorie te maken:
* Kopieer de pakketten naar een directorie
* Maak een script, dat de pakketten scant en dat een file maakt, die '''apt-get update''' kan lezen
* Voeg een regel toe aan uw sources.list, die naar uw repositorie wijst

=== De Directorie ===
Maak een directorie, waar u de pakketten wilt opslaan, in dit voorbeels doen we dat in /usr/local/mydebs.
<pre>
mkdir /usr/local/mydebs
</pre>
Verplaats nu de pakketten naar de directorie die net is aangemaakt.

=== Het Script ===

Het eigenlijke script is vrij klein en bevat maar 2 commando-regels:
<pre>
cd /usr/local/mydebs
dpkg-scanpackages . /dev/null | gzip -9c > Packages.gz
</pre>

Copyeer het bovenstaande script in gedit en save het als '''update-mydebs''' in de ~/bin. (de tilde '~' betekend uw home directorie.<<BR>>
Wanneer ~/bin niet bestaat, dan moet u het aanmaken: Ubuntu zal die diretorie dan in het path zetten.
Vervolgens moeten we het script uitvoerbaar maken:
<pre>
chmod u+x ~/bin/update-mydebs
</pre>

'''Hoe werkt het script:'''

'''dpkg-scanpackages''' kijkt naar alle pakketten in mydebs, en de output is gecomprimeerd en geschreven naar de file packages.gz welke te lezen is door '''apt-get update'''.<<BR>>
/dev/null is een lege file, die nodig is voor het uitvoeren van de opdracht.

=== Sources.list ===
Voeg de regel
<pre>
deb file:/usr/local/mydebs ./
</pre>
toe aan uw etc/apt/sources.list en klaar is kees.

== Het gebruik Repositorie ==
Wanneer u een nieuwe DEB file in de mydebs directorie plaatst, dan voert u in een terminalscherm in:
<pre>
sudo update-mydebs
sudo apt-get update
</pre>
Uw eigen pakketten kunt u nu bekijken en installeren met '''synaptic''', '''aptitude''' en met de opdrachten '''apt-get''', '''apt-cache''' enz.<<BR>>
Met de opdracht '''apt-get install''' worden de afhankelijkheden netjes voor u uitgezocht en geinstalleerd.<<BR>>
Verkeerd gemaakte pakketten zullen niet geinstalleerd worden, maar het bespaart u erg veel tijd, omdat u anders alle afhankelijkheden met '''dpkg''' moet uitzoeken.<<BR>>

bron: https://help.ubuntu.com/community/Repositories/Personal

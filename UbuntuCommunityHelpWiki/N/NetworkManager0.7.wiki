{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__


{| class="wikitable"
|-
| <tablestyle="float:right; font-size: 0.9em; width:40%; background:#F1F1ED; margin: 0 0 1em 1em;" style="padding:0.5em;"><<BR>>
|}

== Introduction ==

Network Manager aims for Network Connectivity which "Just Works". The computer should use the wired network connection when it's plugged in, but automatically switch to a wireless connection when the user unplugs it and walks away from the desk. Likewise, when the user plugs the computer back in, the computer should switch back to the wired connection. The user should, most times, not even notice that their connection has been managed for them; they should simply see uninterrupted network connectivity.

More information about Network Manager is available <nowiki>[[http://www.gnome.org/projects/NetworkManager/|in Gnome website]]</nowiki> and <nowiki>[[http://live.gnome.org/NetworkManager|wiki]]</nowiki>.

== Installation ==

1. Network-Manager is installed by default.
2. The nm-applet is the applet which appears in the system tray. One can right-click the applet to manage and activate/deactivate your network connections

== Configuration ==

a.  Now  the new Network Manager auto creates connections on a best effort base, but if those connections do not match your need (e.g. no DHCP), then you need to use the connection editor to configure things

b. The nm-applet is there to manage your networking from the desktop

c. Specifically for Intrepid and later, if your interfaces are shown as "unmanaged" in network manager applet, please read the troubleshooting section about "TBD" or "To be defined"

== NM-applet Overview ==

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:networkappleticon.png]]</nowiki>
|}

The network-manager or the nm-applet is the one which is found in the systray. The icon of two computers, one below to the other on the left-side. 

Clicking on NM-applet will give you the types of connection/hardware you have available. 

{| class="wikitable"
|-
| <tablestyle="float:right" style="border:none"> <nowiki>[[File:nm-applet.png]]</nowiki>
|}

<<BR>>
<<BR>>
<<BR>>
For e.g. if you have a wired connection clicking on it will give you something like :-

Wired Network (D-Link System RTL-8139/8139C/8139C+ Auto eth1<<BR>>

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:nmapplet-dlink.png]]</nowiki>
|}

Now let's break down what such a notification would mean. 

a. Wired/Wireless/Mobile Broadband/VPN/DSL - the interface/hardware you have. 

b. (D-Link System RTL-8139/8139C/8139C+ :- the chipset which enables the connection to be made. 

c. Auto/Manual eth1 :- If the connection is has been made automatically or generated through the system settings or/and done manually. Any one connection can only have only of the states not both. The eth1 is just a name to make it easier for the user to know which way he's connected through to the network/Internet. 

=== Right-click Options ===

{| class="wikitable"
|-
| <tablestyle="float:right" style="border:none"> <nowiki>[[File:rightclick-preferences.png]]</nowiki>
|}

Right-clicking on the applet will give you the following options

a. A checkbox saying Enable Networking or not. <<BR>>

b. Connection Information :- Giving info. on the same below.  <<BR>>

c. Edit Connections :-  This is the NM-connections editor which we will talk about a little later. <<BR>>

d. About :-  Which gives the status of current version of network-manager installed and a link to the upstream network-manager site. 
<<BR>>
<<BR>>

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:connection-information-snall.png]]</nowiki>
|}

=== Connection Information ===

 This figure is shown right-clicking on the nm-applet and then clicking on the blue (i) Connection information option in the drop-down menu of nm-applet. It gives information about the interface being used, the MAC or Hardware Address of the device, what driver is being used to do the networking, at what speed is the network card capable of communicating, any security protocols used. 

Then there is some distance and information regarding how the actual connection is set up in terms of the IP Address taken/given, the IP Address at which its broadcasting its presence to others , the Subnet Mask used and lastly the DNS address 
<<BR>>
<<BR>>

== NM-connections editor ==
{| class="wikitable"
|-
| <tablestyle="float:right" style="border:none"> <nowiki>[[File:nm-appletconfig.png]]</nowiki>
|}

The NM-connections editor is where the user can edit and create the various connection types. To invoke the nm-connections editor you need to right-click on the nm-applet and then click on Edit Connections. Clicking on that option would result in a tabbed window called network connections having different ways to connect to the network/Internet. 

<<BR>>
<<BR>>

=== Connection Types ===

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:network-connections.png]]</nowiki>
|}

==== Wired connections ====

This type of connection is one where you are connecting to the Internet through an Ethernet connection to some router/modem

<<BR>>

==== Wireless ====

This type of connection is one where one is connected to the Internet through a wireless card & base-station combo.

<<BR>>
<<BR>>

==== Mobile Broadband ====

This type of connection is similar to wireless, the only difference would be the hardware. Its normally based on a high-speed portable wireless card which may follow GPRS, 3G, WiMAX, UMTS/HSPA or/and EV-DO standards.

==== VPN ====

This type of connection is usually used by corporates to connect to their workplace via the internet or by universities to make special services available to their students and staff.
Currently no more than one VPN connection at a time is supported (see <nowiki>[[https://bugzilla.gnome.org/show_bug.cgi?id=504763|here]]</nowiki>). The VPN packages are not installed by default. See <nowiki>[[VPN]]</nowiki> for how to do that.

==== DSL ====

This type of connection is when one is transferring data over the public telephone network (also known as POTS). Need some type of XDSL modem. (ADSL is common type of connection)

== Creating/Modifying a User connection ==

~+'''Hint:''' Making any change to an existing wired connection will '''only''' be applied after you finish editing and then left-click the connection name (left-click the Network Manager icon to access the list of connections) or by rebooting your system. Changes will also be automatically applied if your change the ''Connection name'' of a connection.+~

{| class="wikitable"
|-
| <tablestyle="float:right" style="border:none"> <nowiki>[[File:adding-connection.png]]</nowiki>
|}

So how do we add/modify a user connection. Let's start by adding a user connection. So we do the following steps. 

a. Invoke nm-connection-editor by right-clicking on network-manager icon, clicking on Edit Connections which brings up the network-connections having various options to connect to the local network or/and the Internet. 

b. Choose one of the options depending on the hardware and the way the connection is set up. We would be looking at all the 5 options in the network connections one by one as to what information needs to be filled up. 

=== Adding Wired connections ===

==== Wired Tab ====

For this one needs to click on the Add button after selecting the Wired tab in Network Connections as shown above.  

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:new-wired-connection-wiredtab.png]]</nowiki>
|}

Clicking on that tab would bring you to another box having three tabs, i.e. Wired, 802.1x and lastly IPv4 settings. 

At the top one needs to give some name to the connection, by default it is showing as '''Wired Connection 1'''. You can either use that or make it something which is recognizable and easily remembered by you. 

A little distance below there are two options with check-boxes just next to them. The first option asks whether you want network-manager to connect automatically or not. Clicking on that would make network-manager automatically try to resolve or making that connection happen for you. 

The second one says System Settings. Systems settings are an option so one can configure connections system-wide, so they get enabled without you being logged in. This was not possible to do before 0.7.

Just below that is the wired tab. The Wired tab has a field called "MAC address". The MAC (Media Access Control) address is a unique identifier for the Ethernet card/Network Interface card.  The MAC address is written in the form of a set of 6 grouped hexadecimal digits, e.g. 01:23:45:67:89:AB.

To find out your MAC address you can run
<pre>
sudo ip addr
</pre>

You will get something like this 

Example output:
<pre>
2: eth0: <BROADCAST,MULTICAST,UP,LOWER_UP> mtu 1500 qdisc pfifo_fast state UP qlen 1000
    link/ether '''00:08:c7:1b:8c:02''' brd ff:ff:ff:ff:ff:ff
</pre>

==== 802.1x security ====

{| class="wikitable"
|-
| <tablestyle="float:right" style="border:none"> <nowiki>[[File:802.1x_wired.png]]</nowiki>
|}

This tab is for secure communications where one wants to have port-based authentication using some authentication server. After checking the box to use 802.1x security for the connection you have to choose which authenticated protocol to use from TLS, Tunneled TLS or Protected EAP. Would also need to give some identity as well as choose a user or/and some certifying authority's certificate. You would also need to give your private key particulars as well as a Private Key password. You may choose or not to show the password.     
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>

==== IPv4 Settings ====

{| class="wikitable"
|-
| <tablestyle="float:left" style="border:none"> <nowiki>[[File:ipv4_wired.png]]</nowiki>
|}

This is the last but perhaps the most interesting tab in the Wired Networking tab. where one has various options of connecting

a. Automatic (DHCP) <<BR>>
b. Automatic (DHCP Addresses only) <<BR>>
c. Manual <<BR>>
d. Link-local only and lastly <<BR>>
e. Shared to other computers 

<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
<<BR>>
 

== User Settings and System Settings ==

The user settings will be stored here. 

<pre>
~/.gconf/system/networking/connections
</pre>

http://www.arachnoid.com/linux/NetworkManager/

The System settings will be stored here. 

<pre>
/etc/NetworkManager
/etc/NetworkManager/system-connections
</pre>

== FAQ/Common issues/Pitfalls ==
a. ''' Updating connection failed: nm-ifupdown-connection.c.82 - connection update not supported (read-only). '''

thats a read-only connection (its auto). You can only edit it when you rename the connection otherwise the above error will show. 

b. '''How can I add domains to the DNS search path when I use an automatic connection with DHCP?'''

There is an easy way to do this using the '''Edit Connections''' link from the nm-applet.  Do the following:
# Edit the connection you wish to add the DNS search path to
# Choose the '''IPv4 Settings''' tab
# From the '''Method''' drop-down, choose '''Automatic (DHCP) addresses only'''
# Open a Terminal (Applications - Accessories - Terminal) and find your existing nameservers with the command 'grep nameserver /etc/resolv.conf'.
# There will be at least one line returned.  Put every IP address from each line into the '''DNS Servers''' box as a comma-separated list.
## For example, your entry to '''DNS Servers''' might look like this: 131.202.3.4, 131.202.1.3, 142.166.145.137, 142.177.2.130, 208.67.222.222, 208.67.220.220
# In the '''Search Domains''' box, put in the domain names you wish to automatically search as a comma-separated list
## For example, your entry to '''Search Domains''' might look like this: domain1.com, domain2.org, domain3.edu
# Click '''OK''' to close the window and save your changes, then click '''Close''' to close the Network Connections window.

c. '''What if I connect to several different networks and would like to use the DNS servers offered via DHCP, but still want to augment my DNS search path with a static set of domains?'''

There is no easy way to do this using the '''Edit Connections''' link from the nm-applet. Instead, do the following:

1. From the '''Wired''' tab of the Network Connections window (opened from the <code>nm-applet->Edit Connections...</code> menu item) click on the existing "Auto xxx" entry and then Edit it.<<BR>>
2. Uncheck the '''Connect Automatically''' checkbox then click '''OK'''.<<BR>>
3. Click on the '''Add''' button.<<BR>>
4. Check the '''Connect Automatically''' and '''System setting''' checkboxes and choose a name for the connection (e.g., ''myEth0'').<<BR>>
5. Select the '''IPv4 Settings''' tab.<<BR>>
6. Verify that the '''Method''' item is set to '''Automatic (DHCP) addresses only'''.<<BR>>
7. Click '''OK'''.<<BR>>
8. Using vi or your text editor of choice, edit the configuration file for your newly created connection which will be found at /etc/NetworkManager/system-connections/myEth0 (assuming you named your connection ''myEth0'').<<BR>>
9. Modify the `[IPv4]` section of this file to appear as follows:<<BR>>

<pre>
[ipv4]
method=auto
dns-search=domain1.com;domain2.org;domain3.edu;
ignore-auto-routes=false
ignore-auto-dns=false
</pre>

where your domains of choice are listed on the dns-search line separated by semi-colons. When you set the Method to '''Automatic (DHCP) addresses only''', the ''ignore-auto-dns='' value will be true - you must change this to false to both get your domains added to the search path and use the DHCP-supplied DNS servers.

10. Left click on the nm-applet and choose your ''myEth0'' network connection. You should now see both a `search` line and one or more `nameserver` lines in /etc/resolv.conf.

d. '''Why won't Network Manager manage my Networks?'''

If your network connection is listed in /etc/network/interfaces, it is unavailable to NetworkManager with its default setup (read this to see how to change it to manage these connections: http://wiki.debian.org/NetworkManager ).  The best option for a standard setup is to open the file using  
<pre>
sudo gedit /etc/network/interfaces 
</pre> 
and comment out (ie put a # in front of) or delete every line in the /etc/network/interfaces file ''except'' the two with lo in them- they read 
<pre>
auto lo
iface lo inet loopback
</pre>  

e. '''NM-applet does not support multiple logged in users'''

The first user who logs into Ubuntu will see the NM-applet icon in the top panel. If more than one user is logged into Ubuntu, they will not see the icon (and will not be able to use the applet functionality). This issue is fixed in version 0.9 of NetworkManager. 

f. ''No WiMax user interface is present to support WiMax connections''

Contingent upon WiMax Supplemental Drivers, this is pending completion.

== See Also ==
* <nowiki>[[WICD]]</nowiki> - An alternative network management applet.
----

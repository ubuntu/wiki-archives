{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__

<nowiki>[[EOLUpgrades| << Main]]</nowiki>
<nowiki>[[EOLUpgrades-Hoary| Hoary >>]]</nowiki>

== 4.10 to 5.04 (Warty to Hoary) ==

=== Before you start ===

Please make sure you've read and understood the <nowiki>[[EOLUpgrades| main EOLUpgrade page]]</nowiki>.

I would recommend using <nowiki>[[http://www.clonezilla.org| clonezilla]]</nowiki> for backing up your current installation. It is very easy to backup and restore your partitions with clonezilla. It takes less then 30 minutes to backup/restore a 20Gb root filesystem which has 4-5 Gb used space.

From version 4.10 to 5.04 I did not have a graphical interface to work with only the command line. I didn't figure out why, because the graphical interface is/was not needed to perform the upgrade. Ubuntu used the xfree86 binaries in the 4.10 release and since 5.04 they used the xorg binaries. For more information about this please have a read <nowiki>[[http://en.wikipedia.org/wiki/X11| here]]</nowiki> and <nowiki>[[ http:--ubuntuforums.org-showthread.php?t=80156| here]]</nowiki>. The guide will explain how to convert from xfree to xorg.

=== The upgrade ===

* Make sure your sources.list is correct

For the upgrade you only need this list, comment your original sources or remove them.

<pre>
deb http://old-releases.ubuntu.com/ubuntu/ warty main restricted universe multiverse
deb http://old-releases.ubuntu.com/ubuntu/ warty-updates main restricted universe multiverse
deb http://old-releases.ubuntu.com/ubuntu/ warty-security main restricted universe multiverse

</pre>

You can make use of -backports, -proposed repositories if you want.
For more information about repositories see <nowiki>[[Repositories-Ubuntu]]</nowiki>.

* Update the package list and upgrade all installed packages
<pre>
sudo aptitude update && sudo aptitude upgrade
</pre>

If packages were held back you may want to run:

<pre>
sudo aptitude dist-upgrade
</pre>

* If you run a -desktop version of ubuntu, please reinstall this package:
<pre>
sudo aptitude reinstall ubuntu-desktop # or kubuntu, xubuntu, edubuntu, etc
</pre>

NOTE: It could be that you just upgraded your kernel, if this is the case, please reboot!

* Change your repositories
<pre>
$ sudo perl -p -i.410 -e 's/warty/hoary/' /etc/apt/sources.list
</pre>

* Update the package list and perform a dist-upgrade

<pre>
sudo aptitude update && sudo aptitude dist-upgrade
</pre>

* Remove obsolete packages
<pre>
sudo aptitude
</pre>

Now you will enter aptitude in interactive mode, select Obsolete and locally installed packages menu and press '_', then press 'g'. It could be that you will get messages that aptitude wants to remove your current kernel, do NOT remove it, leave it, we can remove it later on.

* Get a GUI
This step is optional, you only need to do this when you have xfree86 packages installed. You can find out by running

<pre>
dpkg -l | grep xfree
</pre>

If you get output, then you can assume you will need to execute this step.

In order to get a GUI on 5.04 I will install the x-window-system-core package. This will remove the xfree86 packages and install the xorg packages for you. The x-window-system-core package is a meta package which will make sure all correct packages are installed. It is a dependency for ubuntu-desktop, kubuntu-desktop, xubuntu-desktop. If you want a different GUI, make sure you have a terminal emulator installed (eg xterm) and a windowmanager (eg WindowMaker or FVWM).

I also had to (re)install gdm because it was not properly installed.

<pre>
sudo aptitude install x-window-system-core gdm
</pre>

* Check your new version
Reboot your machine and you can now run `lsb_release -a` to check the new version of Ubuntu.

<nowiki>[[EOLUpgrades| << Main]]</nowiki>
<nowiki>[[EOLUpgrades-Hoary| Hoary >>]]</nowiki>
----
CategoryUpgrade

{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

<nowiki>[[EOLUpgrades| <<]]</nowiki> <nowiki>[[EOLUpgrades-Dapper| < Dapper]]</nowiki>
<nowiki>[[EOLUpgrades-Feisty| Feisty >>]]</nowiki>

== 6.10 to 7.04 (Edgy to Feisty) ==

=== Before you start ===

Please make sure you've read and understood the <nowiki>[[EOLUpgrades| main EOLUpgrade page]]</nowiki>.

I would recommend using <nowiki>[[http://www.clonezilla.org| clonezilla]]</nowiki> for backing up your current installation. It is very easy to backup and restore your partitions with clonezilla. It takes less then 30 minutes to backup/restore a 20Gb root filesystem which has 4-5 Gb used space.

=== Requirements ===

* /etc/apt/sources.list

Please make sure you have the following sources.list.

<pre>
deb http://old-releases.ubuntu.com/ubuntu/ edgy main restricted universe multiverse
deb http://old-releases.ubuntu.com/ubuntu/ edgy-updates main restricted universe multiverse
deb http://old-releases.ubuntu.com/ubuntu/ edgy-security main restricted universe multiverse

</pre>

You can make use of -backports, -proposed repositories if you want.
For more information about repositories see <nowiki>[[Repositories-Ubuntu]]</nowiki>.

=== The upgrade ===

* Make sure your sources.list is correct (see requirements)
* Update the package list and get fully upgrade all packages
<pre>
sudo aptitude update && sudo aptitude upgrade
</pre>

NOTE: It could be that you just upgraded your kernel, if this is the case, please reboot!

* Upgrade your complete system

You need to run do-release-upgrade once, it will fail, but that doesn't matter. We will trigger the upgrade process from a different executable once we ran do-release-upgrade.

<pre>
sudo do-release-upgrade
</pre>

You will now see the following messages on your screen, directly after executing the command:

<pre>
$ sudo do-release-upgrade
Checking for a new ubuntu release
Done Upgrade tool signature
Done Upgrade tool
Done downloading
extracting '/tmp/tmpH9WhkH/feisty.tar.gz'
authenticate '/tmp/tmpH9WhkH/feisty.tar.gz' against '/tmp/tmpH9WhkH/feisty.tar.gz.gpg'
</pre>

And many more error messages, you can ignore them for now. Remember the directory as seen in the sniplet above (/tmp/tmpH9WhkH/). The upgrade process changes old-releases.ubuntu.com links to archive.ubuntu.com, because we upgrade to another EOL release the archive link will not work. To prevent this from happening we are going to fix the upgrade controler script.

* Patching DistUpgradeControler.py

I use vi as an editor, you can use your editor of choice, nano, gedit, etc.

<pre>
vi $HOME/DistUpgradeControler.py.patch
</pre>

Contents of the patch file:
<pre>
--- DistUpgradeControler.py.ORIG        2009-01-29 18:51:43.000000000 +0100
+++ DistUpgradeControler.py     2009-01-29 18:52:44.000000000 +0100
@@ -352,11 +352,11 @@
####### them back to archive.ubuntu.com - now this is a problem
####### of course for people upgrading from EOL release to a
####### EOL release
-            if (not entry.disabled and
-                entry.uri.startswith("http://old-releases.ubuntu.com/ubuntu")):
-                entry.uri = "http://archive.ubuntu.com/ubuntu"
-                logging.debug("transitioning old-releases.ubuntu.com to '%s' " % entry)
-                continue
+            #if (not entry.disabled and
+            #    entry.uri.startswith("http://old-releases.ubuntu.com/ubuntu")):
+            #    entry.uri = "http://archive.ubuntu.com/ubuntu"
+            #    logging.debug("transitioning old-releases.ubuntu.com to '%s' " % entry)
+            #    continue

             logging.debug("examining: '%s'" % entry)
####### check if it's a mirror (or offical site)
</pre>

If you do not have patch installed, please install it `sudo aptitude install patch`, or make these changes manually. You will need root privileges to edit the file.

<pre>
cd /tmp/tmpH9WhkH/
sudo patch < $HOME/DistUpgradeControler.py.patch
</pre>

When you have applied the patch execute the following command:
<pre>
cd /tmp/tmpH9WhkH/
sudo ./feisty --frontend DistUpgradeViewText --mode=server
</pre>

* Check your new version
Reboot your machine and you can now run `lsb_release -a` to check the new version of Ubuntu.

<nowiki>[[EOLUpgrades| <<]]</nowiki> <nowiki>[[EOLUpgrades-Dapper| < Dapper]]</nowiki>
<nowiki>[[EOLUpgrades-Feisty| Feisty >>]]</nowiki>
----
CategoryUpgrade

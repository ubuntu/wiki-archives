{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work.
* A '''full compressed version''' of the wiki is available on archive.org
|}

__TOC__

=== Evdo Networking in Ubuntu ===
I've started this page to document how I got Sprint Evdo up and running on Ubuntu 6.10 (Edgy Eft).  There are several sites scattered around the web that indicate that it's possible to get evdo running on linux, but I was worried that none of these sites would apply to my card.

Most of these steps probably apply to many cards.  I've read that it is common for many cards to have a USB interface regardless of whether they are mini-PCIe or PCMCIAor ExpressCard.  This was tested on a Dell Lattitude D820 with the "Dell Wireless 5700 Sprint Mobile Broadband Mini-Card".  

Most of this probably applies to Verizon as well, but Verizon has a very restrictive Terms-of-Service which prevents you from actually using your networking connection, so I went with Sprint.

Step 1.  Activate your card using Windows.  There's likely a way to do it in Linux, I just don't know how.  (If you do, please edit this page!)

Step 2.  Figure out what kind of network card you have by looking through your device list for an Evdo card.  Anything that says CDMA is a good bet. 
<pre>
$ less /proc/bus/usb/devices

8 Spd=12  MxCh= 0
D:  Ver= 1.10 Cls=00(>ifc ) Sub=00 Prot=00 MxPS=64 #Cfgs=  1
P:  Vendor=413c ProdID=8128 Rev= 0.00
S:  Manufacturer=Novatel Wireless Inc.
S:  Product=Novatel Wireless EXPD CDMA
C:* #Ifs= 2 Cfg#= 1 Atr=a0 MxPwr=100mA
</pre> 

Step 3.  Try to load usbserial, using the Vendor & ProdID strings from step #2.
<pre>
$ sudo modprobe vendor=0x413c product=0x8128
</pre> 

Step 4.  If that worked as expected, go ahead and add usbserial to /etc/modules.
<pre>
$ sudo nano /etc/modules
</pre> 
and add the line:
<pre>
usbserial vendor=0x413c product=0x8128
</pre> 

Step 5.  Save the following file as /etc/ppp/peers/sprint:
<pre>
ttyUSB0
user your10digitphonenumber@sprintpcs.com
230400 # speed
defaultroute # use the cellular network for the default route
usepeerdns # use the DNS servers from the remote network
crtscts # hardware flow control
lock # lock the serial port
passive # transmit the echo but don't fail if there is no response
noauth # don't expect the modem to authenticate itself

lcp-echo-interval 0 

persist
maxfail 0

connect "/usr/sbin/chat -v -f /etc/ppp/peers/sprint-connect"
disconnect "/usr/sbin/chat -v -f /etc/ppp/peers/sprint-disconnect" 
</pre> 
(This script is a modified version of the one at http://www.cs.drexel.edu/~kfu22/evdo/.)  If you'd like to tweak it, look at the options in 'man pppd'.  One thing I've discovered is that I don't believe the speed setting actually affects speed -- you can set it to 230400 or 115200 and it makes no difference.

Step 6.  Save the following file as /etc/ppp/peers/sprint-connect:
<pre>
SAY 'Starting Sprint\n'
TIMEOUT 120
ABORT 'BUSY'
ABORT 'NO ANSWER'
ABORT 'NO CARRIER'
'' 'ATZ'
'OK' 'AT&F0'
'OK' 'ATE0v1'
'' 'AT+CSQ'
'OK' 'ATDT#777'
'CONNECT' 
</pre> 
(This script is a modified version of the one at http://www.cs.drexel.edu/~kfu22/evdo/.)

Step 7.  Save the following file as /etc/ppp/peers/sprint-disconnect:
<pre>
"" "\K"
"" "+++ATH0"
SAY "Disconnected from Sprint." 
</pre> 
(This script is a modified version of the one at http://www.cs.drexel.edu/~kfu22/evdo/.)

Step 8.  Add the following stanza to /etc/network/interfaces so that your evdo connection will come up at boot-time:
<pre>
auto ppp0
iface ppp0 inet ppp
provider sprint
</pre> 

Step 9.  Restart your networking:
<pre>
$ sudo /etc/init.d/networking restart
</pre> 

Congratulations!  You're done!

Were your experiences different?  Were you able to get a different card working under Ubuntu, or a different provider?  Please edit this page and help those who will follow in your footsteps!

==== Useful Links ====
http://kenkinder.com/evdo-pc5740/
http://www.evdoforums.com/viewtopic.php?p=6180#6180
http://www.cs.drexel.edu/~kfu22/evdo/

{|
  | '''Warning'''
  * This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
  * '''Images''' and '''attachments''' have been removed to conserve space.
  * '''Links''' may not work and there may be formatting issues.
  * A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__


== Firefox Mandatory Preferences ==
1. Important links
** http://kb.mozillazine.org/Locking_preferences
** http://kb.mozillazine.org/About:config_entries
** http://kb.mozillazine.org/Installation_directory
** http://www.alain.knaff.lu/%7Eaknaff/howto/MozillaCustomization/cgi/byteshf.cgi
** obscure-tool is in the firefox-dev package    "sudo apt-get install firefox-dev"

== Overall Process ==
# We want to create mandatory preferences for Firefox
# As an example we are setting
## The Firefox homepage to: `https://help.ubuntu.com/community/FirefoxMandatoryPreferences`
## The proxy settings to: `Auto-detect proxy settings for this network`
# More settings can be found <nowiki>[[http://kb.mozillazine.org/About:config_entries|About:config description]]</nowiki> of the Mozilla 

Knowledgebase

=== Determine settings ===
* open Firefox
* go to "about:config"
* search for "general.config"
** You will be presented with the default values (these could be changed in `/usr/lib/firefox/greprefs/all.js`)
{| class="wikitable"
|-
| general.config.obscure_value
| 13
|-
| general.config.filename
| firefox.cfg
|}

* We now know that the file to create is `firefox.cfg`. The location for this is the Firefox <nowiki>[[http://kb.mozillazine.org/Installation_directory|Application folder]]</nowiki>.
* Create a file `firefox.txt`. It's content will be:
<pre>
//
lockPref("network.proxy.type", 4);
lockPref("browser.startup.homepage", "https://help.ubuntu.com/community/FirefoxMandatoryPreferences");
</pre>
'''NOTE:''' The two slashes at the first line of the file are important otherwise Firefox won't understand your config file and refuse to start up

* OPTIONAL: Ubuntu ships with a default `firefox.cfg` file `/usr/lib/firefox/firefox.cfg` make a backup of that file
** `sudo cp /usr/lib/firefox/firefox.cfg /usr/lib/firefox/firefox.cfg.dist`
* sudo /usr/lib/firefox/obscure-tool firefox.txt /usr/lib/firefox/firefox.cfg

* Restart Firefox 
** Go to `Edit` -> `Preferences` -> `Advanced` -> `Network` -> `Settings`
** All values should be greyed out and the selected Value should be `Auto-detect proxy settings for this network`
** Go to `Edit` -> `Preferences` -> `Main`
** The value of the homepage should show `https://help.ubuntu.com/community/FirefoxMandatoryPreferences` - changing that value shouldn't be possible as the field is greyed out.
** '''NOTE''': The button above is not disabled in this config. A user may very well show a blank page on startup instead of the homepage. But hitting the `Home` button will take her to the homepage we set.

----
CategoryInternet

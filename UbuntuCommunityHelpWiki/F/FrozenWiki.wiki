{|
| '''Warning'''
* This is a '''readonly''' and '''text-based''' archive of a deprecated wiki.
* '''Images''' and '''attachments''' have been removed to conserve space.
* '''Links''' may not work and there may be formatting issues.
* A '''compressed''' version with images and the original syntax is in the repo '''Releases'''.
|}

__TOC__



* Created:  by JaneWeideman
* Priority: NeedsPriority
* People: NeedsLead, NeedsSecond
* Contributors: JaneWeideman
* Interested:
* Status: BrainDump 
* Branch: UbuntuTrack
* Malone bug: 
* Packages affected: 
* Depends: 
* Dependents:
 <<FullSearch>>
* BoF sessions: none yet 

=== Summary ===

For the <nowiki>[[http://www.ubuntuusers.de|German LoCoTeam]]</nowiki> i've written a MoinMoin exporter script.

You can try out the exporter function by via rsync:
<pre>
rsync -rv rsync://ubuntuusers.de/ubuntu-de-wiki destination_directory
</pre>
The online wiki version (for comparison) is located at <nowiki>[[http://wiki.ubuntuusers.de|wiki.ubuntuusers.de]]</nowiki>.

<nowiki>[[StephanHermann| \sh]]</nowiki> contacted me with the whish to extend this script for all locoteam MoinMoin installations out there.

== Implementation Problems ==
Currently the exporter script requires some special macros only available on the German and Italian MoinMoin installation. This macro implements a simple thumbnailer and caching tool. It uses the common attachment system but the current exporter only converts attachments included by this tag.

The next problem on the list is a better searchindex. The current version implements a local searchengine using AJAX and a searchindex. But the indexer don't know stopwords and only scans german text with umlauts.

The german locoteam also disabled Camel``Case Links and has created all System-Pages from scratch. So RecentChanges has moved To Wiki/Letzte_Ã„nderungen and so on.

Some pages like RecentChanges are senseless in a local version. This should get replaced by static html pages, fetching the RSS Recent Changes Feed over AJAX. Pages like FindPage should get replaced by a static html Java``Script Seach page...

Pages where the default user (user All) has no access the parser quits this with "You don't have access to this page". I'm working on parsing the ACL rules for finding out if the parser has to convert this page.

== Current Implementation ==
* '''Parser'''
  a. fetches pagelist
  a. scans for attachments
  a. parsed pages
  a. sourround parsed pages with a template
  a. converts links to local pages
  a. copies linked attachments into a attachment folder
  a. adjust attachment links and references
  a. adjust links to template content
* '''Overwrite Script'''
  a. scans the ''raw_content'' directory and copies all files over the parsed files. This ensures that Pages Like "FindPage" get replace by static html file containing the search functions
  a. copy template related images and so on into a local img folder

== Distributing ==
A good way would be a small GTK/Qt Application which helps the user to fetch the documentation and keeps it up to date. The german team does this with rsync and a documenation debian repository.

If this project gets approved it would be cool to distribute the Wiki Snapshots over a official Server. All the LoCoTeams have to do is to convert there pages with the exporter script and sync them with the official server via rsync.

== Contact ==
For question and answers contact <nowiki>[[ArminRonacher| me]]</nowiki> via email or on freenode.

=== Rationale ===

=== Use cases ===

=== Scope ===

=== Design ===

=== Implementation ===

==== Code ====

==== Data preservation and migration ====

=== Outstanding issues ===

=== BoF agenda and discussion ===
